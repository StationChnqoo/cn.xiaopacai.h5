<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
    <script type="module" crossorigin>var iq=Object.defineProperty;var H5=t=>{throw TypeError(t)};var oq=(t,e,n)=>e in t?iq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>oq(t,typeof e!="symbol"?e+"":e,n),cw=(t,e,n)=>e.has(t)||H5("Cannot "+n);var vt=(t,e,n)=>(cw(t,e,"read from private field"),n?n.call(t):e.get(t)),gr=(t,e,n)=>e.has(t)?H5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Wn=(t,e,n,r)=>(cw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ro=(t,e,n)=>(cw(t,e,"access private method"),n);var bv=(t,e,n,r)=>({set _(i){Wn(t,e,i,n)},get _(){return vt(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function uk(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Xr={},wf=[],bl=()=>{},KI=()=>!1,$1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dk=t=>t.startsWith("onUpdate:"),Yi=Object.assign,hk=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},aq=Object.prototype.hasOwnProperty,Or=(t,e)=>aq.call(t,e),Nn=Array.isArray,k0=t=>Pg(t)==="[object Map]",sq=t=>Pg(t)==="[object Set]",U5=t=>Pg(t)==="[object Date]",Jn=t=>typeof t=="function",Vi=t=>typeof t=="string",fc=t=>typeof t=="symbol",Ur=t=>t!==null&&typeof t=="object",GI=t=>(Ur(t)||Jn(t))&&Jn(t.then)&&Jn(t.catch),lq=Object.prototype.toString,Pg=t=>lq.call(t),cq=t=>Pg(t).slice(8,-1),uq=t=>Pg(t)==="[object Object]",B1=t=>Vi(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,E0=uk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dq=/-\w/g,Tu=N1(t=>t.replace(dq,e=>e.slice(1).toUpperCase())),hq=/\B([A-Z])/g,Yu=N1(t=>t.replace(hq,"-$1").toLowerCase()),YI=N1(t=>t.charAt(0).toUpperCase()+t.slice(1)),uw=N1(t=>t?`on${YI(t)}`:""),wu=(t,e)=>!Object.is(t,e),dw=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},XI=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},fq=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pq=t=>{const e=Vi(t)?Number(t):NaN;return isNaN(e)?t:e};let j5;const z1=()=>j5||(j5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ig(t){if(Nn(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Vi(r)?yq(r):Ig(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Vi(t)||Ur(t))return t}const mq=/;(?![^(]*\))/g,gq=/:([^]+)/,vq=/\/\*[^]*?\*\//g;function yq(t){const e={};return t.replace(vq,"").split(mq).forEach(n=>{if(n){const r=n.split(gq);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Hf(t){let e="";if(Vi(t))e=t;else if(Nn(t))for(let n=0;n<t.length;n++){const r=Hf(t[n]);r&&(e+=r+" ")}else if(Ur(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const bq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xq=uk(bq);function QI(t){return!!t||t===""}function wq(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=fk(t[r],e[r]);return n}function fk(t,e){if(t===e)return!0;let n=U5(t),r=U5(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=fc(t),r=fc(e),n||r)return t===e;if(n=Nn(t),r=Nn(e),n||r)return n&&r?wq(t,e):!1;if(n=Ur(t),r=Ur(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const s=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!fk(t[a],e[a]))return!1}}return String(t)===String(e)}/**
* @vue/reactivity v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ca;class ZI{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=ca,!e&&ca&&(this.index=(ca.scopes||(ca.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ca;try{return ca=this,e()}finally{ca=n}}}on(){++this._on===1&&(this.prevScope=ca,ca=this)}off(){this._on>0&&--this._on===0&&(ca=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Cq(t){return new ZI(t)}function Aq(){return ca}let ti;const hw=new WeakSet;class JI{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ca&&ca.active&&ca.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hw.has(this)&&(hw.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||t7(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,V5(this),n7(this);const e=ti,n=Rs;ti=this,Rs=!0;try{return this.fn()}finally{r7(this),ti=e,Rs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gk(e);this.deps=this.depsTail=void 0,V5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hw.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){DC(this)&&this.run()}get dirty(){return DC(this)}}let e7=0,T0,R0;function t7(t,e=!1){if(t.flags|=8,e){t.next=R0,R0=t;return}t.next=T0,T0=t}function pk(){e7++}function mk(){if(--e7>0)return;if(R0){let e=R0;for(R0=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;T0;){let e=T0;for(T0=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function n7(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function r7(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),gk(r),Sq(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function DC(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(i7(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function i7(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Um)||(t.globalVersion=Um,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!DC(t))))return;t.flags|=2;const e=t.dep,n=ti,r=Rs;ti=t,Rs=!0;try{n7(t);const i=t.fn(t._value);(e.version===0||wu(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ti=n,Rs=r,r7(t),t.flags&=-3}}function gk(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)gk(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Sq(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Rs=!0;const o7=[];function pc(){o7.push(Rs),Rs=!1}function mc(){const t=o7.pop();Rs=t===void 0?!0:t}function V5(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ti;ti=void 0;try{e()}finally{ti=n}}}let Um=0,kq=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class vk{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ti||!Rs||ti===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ti)n=this.activeLink=new kq(ti,this),ti.deps?(n.prevDep=ti.depsTail,ti.depsTail.nextDep=n,ti.depsTail=n):ti.deps=ti.depsTail=n,a7(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ti.depsTail,n.nextDep=void 0,ti.depsTail.nextDep=n,ti.depsTail=n,ti.deps===n&&(ti.deps=r)}return n}trigger(e){this.version++,Um++,this.notify(e)}notify(e){pk();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mk()}}}function a7(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)a7(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vb=new WeakMap,Vd=Symbol(""),FC=Symbol(""),jm=Symbol("");function Oo(t,e,n){if(Rs&&ti){let r=vb.get(t);r||vb.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new vk),i.map=r,i.key=n),i.track()}}function tc(t,e,n,r,i,o){const a=vb.get(t);if(!a){Um++;return}const s=l=>{l&&l.trigger()};if(pk(),e==="clear")a.forEach(s);else{const l=Nn(t),c=l&&B1(n);if(l&&n==="length"){const u=Number(r);a.forEach((d,h)=>{(h==="length"||h===jm||!fc(h)&&h>=u)&&s(d)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),c&&s(a.get(jm)),e){case"add":l?c&&s(a.get("length")):(s(a.get(Vd)),k0(t)&&s(a.get(FC)));break;case"delete":l||(s(a.get(Vd)),k0(t)&&s(a.get(FC)));break;case"set":k0(t)&&s(a.get(Vd));break}}mk()}function Eq(t,e){const n=vb.get(t);return n&&n.get(e)}function Fh(t){const e=ur(t);return e===t?e:(Oo(e,"iterate",jm),Da(t)?e:e.map(Ls))}function H1(t){return Oo(t=ur(t),"iterate",jm),t}function nu(t,e){return gc(t)?Uf(Cu(t)?Ls(e):e):Ls(e)}const Tq={__proto__:null,[Symbol.iterator](){return fw(this,Symbol.iterator,t=>nu(this,t))},concat(...t){return Fh(this).concat(...t.map(e=>Nn(e)?Fh(e):e))},entries(){return fw(this,"entries",t=>(t[1]=nu(this,t[1]),t))},every(t,e){return Bl(this,"every",t,e,void 0,arguments)},filter(t,e){return Bl(this,"filter",t,e,n=>n.map(r=>nu(this,r)),arguments)},find(t,e){return Bl(this,"find",t,e,n=>nu(this,n),arguments)},findIndex(t,e){return Bl(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Bl(this,"findLast",t,e,n=>nu(this,n),arguments)},findLastIndex(t,e){return Bl(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Bl(this,"forEach",t,e,void 0,arguments)},includes(...t){return pw(this,"includes",t)},indexOf(...t){return pw(this,"indexOf",t)},join(t){return Fh(this).join(t)},lastIndexOf(...t){return pw(this,"lastIndexOf",t)},map(t,e){return Bl(this,"map",t,e,void 0,arguments)},pop(){return Wp(this,"pop")},push(...t){return Wp(this,"push",t)},reduce(t,...e){return W5(this,"reduce",t,e)},reduceRight(t,...e){return W5(this,"reduceRight",t,e)},shift(){return Wp(this,"shift")},some(t,e){return Bl(this,"some",t,e,void 0,arguments)},splice(...t){return Wp(this,"splice",t)},toReversed(){return Fh(this).toReversed()},toSorted(t){return Fh(this).toSorted(t)},toSpliced(...t){return Fh(this).toSpliced(...t)},unshift(...t){return Wp(this,"unshift",t)},values(){return fw(this,"values",t=>nu(this,t))}};function fw(t,e,n){const r=H1(t),i=r[e]();return r!==t&&!Da(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=n(o.value)),o}),i}const Rq=Array.prototype;function Bl(t,e,n,r,i,o){const a=H1(t),s=a!==t&&!Da(t),l=a[e];if(l!==Rq[e]){const d=l.apply(t,o);return s?Ls(d):d}let c=n;a!==t&&(s?c=function(d,h){return n.call(this,nu(t,d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(a,c,r);return s&&i?i(u):u}function W5(t,e,n,r){const i=H1(t);let o=n;return i!==t&&(Da(t)?n.length>3&&(o=function(a,s,l){return n.call(this,a,s,l,t)}):o=function(a,s,l){return n.call(this,a,nu(t,s),l,t)}),i[e](o,...r)}function pw(t,e,n){const r=ur(t);Oo(r,"iterate",jm);const i=r[e](...n);return(i===-1||i===!1)&&Au(n[0])?(n[0]=ur(n[0]),r[e](...n)):i}function Wp(t,e,n=[]){pc(),pk();const r=ur(t)[e].apply(t,n);return mk(),mc(),r}const _q=uk("__proto__,__v_isRef,__isVue"),s7=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fc));function Pq(t){fc(t)||(t=String(t));const e=ur(this);return Oo(e,"has",t),e.hasOwnProperty(t)}class l7{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?zq:h7:o?d7:u7).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=Nn(e);if(!i){let l;if(a&&(l=Tq[n]))return l;if(n==="hasOwnProperty")return Pq}const s=Reflect.get(e,n,ji(e)?e:r);if((fc(n)?s7.has(n):_q(n))||(i||Oo(e,"get",n),o))return s;if(ji(s)){const l=a&&B1(n)?s:s.value;return i&&Ur(l)?Is(l):l}return Ur(s)?i?Is(s):Tl(s):s}}class c7 extends l7{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];const a=Nn(e)&&B1(n);if(!this._isShallow){const c=gc(o);if(!Da(r)&&!gc(r)&&(o=ur(o),r=ur(r)),!a&&ji(o)&&!ji(r))return c||(o.value=r),!0}const s=a?Number(n)<e.length:Or(e,n),l=Reflect.set(e,n,r,ji(e)?e:i);return e===ur(i)&&(s?wu(r,o)&&tc(e,"set",n,r):tc(e,"add",n,r)),l}deleteProperty(e,n){const r=Or(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&tc(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!fc(n)||!s7.has(n))&&Oo(e,"has",n),r}ownKeys(e){return Oo(e,"iterate",Nn(e)?"length":Vd),Reflect.ownKeys(e)}}class Iq extends l7{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Lq=new c7,Mq=new Iq,Oq=new c7(!0);const $C=t=>t,xv=t=>Reflect.getPrototypeOf(t);function Dq(t,e,n){return function(...r){const i=this.__v_raw,o=ur(i),a=k0(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),u=n?$C:e?Uf:Ls;return!e&&Oo(o,"iterate",l?FC:Vd),Yi(Object.create(c),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:s?[u(d[0]),u(d[1])]:u(d),done:h}}})}}function wv(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Fq(t,e){const n={get(i){const o=this.__v_raw,a=ur(o),s=ur(i);t||(wu(i,s)&&Oo(a,"get",i),Oo(a,"get",s));const{has:l}=xv(a),c=e?$C:t?Uf:Ls;if(l.call(a,i))return c(o.get(i));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!t&&Oo(ur(i),"iterate",Vd),i.size},has(i){const o=this.__v_raw,a=ur(o),s=ur(i);return t||(wu(i,s)&&Oo(a,"has",i),Oo(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=ur(s),c=e?$C:t?Uf:Ls;return!t&&Oo(l,"iterate",Vd),s.forEach((u,d)=>i.call(o,c(u),c(d),a))}};return Yi(n,t?{add:wv("add"),set:wv("set"),delete:wv("delete"),clear:wv("clear")}:{add(i){!e&&!Da(i)&&!gc(i)&&(i=ur(i));const o=ur(this);return xv(o).has.call(o,i)||(o.add(i),tc(o,"add",i,i)),this},set(i,o){!e&&!Da(o)&&!gc(o)&&(o=ur(o));const a=ur(this),{has:s,get:l}=xv(a);let c=s.call(a,i);c||(i=ur(i),c=s.call(a,i));const u=l.call(a,i);return a.set(i,o),c?wu(o,u)&&tc(a,"set",i,o):tc(a,"add",i,o),this},delete(i){const o=ur(this),{has:a,get:s}=xv(o);let l=a.call(o,i);l||(i=ur(i),l=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return l&&tc(o,"delete",i,void 0),c},clear(){const i=ur(this),o=i.size!==0,a=i.clear();return o&&tc(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Dq(i,t,e)}),n}function yk(t,e){const n=Fq(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Or(n,i)&&i in r?n:r,i,o)}const $q={get:yk(!1,!1)},Bq={get:yk(!1,!0)},Nq={get:yk(!0,!1)};const u7=new WeakMap,d7=new WeakMap,h7=new WeakMap,zq=new WeakMap;function Hq(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uq(t){return t.__v_skip||!Object.isExtensible(t)?0:Hq(cq(t))}function Tl(t){return gc(t)?t:bk(t,!1,Lq,$q,u7)}function f7(t){return bk(t,!1,Oq,Bq,d7)}function Is(t){return bk(t,!0,Mq,Nq,h7)}function bk(t,e,n,r,i){if(!Ur(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Uq(t);if(o===0)return t;const a=i.get(t);if(a)return a;const s=new Proxy(t,o===2?r:n);return i.set(t,s),s}function Cu(t){return gc(t)?Cu(t.__v_raw):!!(t&&t.__v_isReactive)}function gc(t){return!!(t&&t.__v_isReadonly)}function Da(t){return!!(t&&t.__v_isShallow)}function Au(t){return t?!!t.__v_raw:!1}function ur(t){const e=t&&t.__v_raw;return e?ur(e):t}function yb(t){return!Or(t,"__v_skip")&&Object.isExtensible(t)&&XI(t,"__v_skip",!0),t}const Ls=t=>Ur(t)?Tl(t):t,Uf=t=>Ur(t)?Is(t):t;function ji(t){return t?t.__v_isRef===!0:!1}function V(t){return p7(t,!1)}function xk(t){return p7(t,!0)}function p7(t,e){return ji(t)?t:new jq(t,e)}class jq{constructor(e,n){this.dep=new vk,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ur(e),this._value=n?e:Ls(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Da(e)||gc(e);e=r?e:ur(e),wu(e,n)&&(this._rawValue=e,this._value=r?e:Ls(e),this.dep.trigger())}}function Di(t){return ji(t)?t.value:t}const Vq={get:(t,e,n)=>e==="__v_raw"?t:Di(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ji(i)&&!ji(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function m7(t){return Cu(t)?t:new Proxy(t,Vq)}function Wq(t){const e=Nn(t)?new Array(t.length):{};for(const n in t)e[n]=g7(t,n);return e}class qq{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=ur(e);let i=!0,o=e;if(!Nn(e)||!B1(String(n)))do i=!Au(o)||Da(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=Di(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ji(this._raw[this._key])){const n=this._object[this._key];if(ji(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Eq(this._raw,this._key)}}class Kq{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $e(t,e,n){return ji(t)?t:Jn(t)?new Kq(t):Ur(t)&&arguments.length>1?g7(t,e,n):V(t)}function g7(t,e,n){return new qq(t,e,n)}class Gq{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new vk(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Um-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ti!==this)return t7(this,!0),!0}get value(){const e=this.dep.track();return i7(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Yq(t,e,n=!1){let r,i;return Jn(t)?r=t:(r=t.get,i=t.set),new Gq(r,i,n)}const Cv={},bb=new WeakMap;let Sd;function Xq(t,e=!1,n=Sd){if(n){let r=bb.get(n);r||bb.set(n,r=[]),r.push(t)}}function Qq(t,e,n=Xr){const{immediate:r,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=n,c=w=>i?w:Da(w)||i===!1||i===0?nc(w,1):nc(w);let u,d,h,f,p=!1,g=!1;if(ji(t)?(d=()=>t.value,p=Da(t)):Cu(t)?(d=()=>c(t),p=!0):Nn(t)?(g=!0,p=t.some(w=>Cu(w)||Da(w)),d=()=>t.map(w=>{if(ji(w))return w.value;if(Cu(w))return c(w);if(Jn(w))return l?l(w,2):w()})):Jn(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){pc();try{h()}finally{mc()}}const w=Sd;Sd=u;try{return l?l(t,3,[f]):t(f)}finally{Sd=w}}:d=bl,e&&i){const w=d,C=i===!0?1/0:i;d=()=>nc(w(),C)}const m=Aq(),y=()=>{u.stop(),m&&m.active&&hk(m.effects,u)};if(o&&e){const w=e;e=(...C)=>{w(...C),y()}}let b=g?new Array(t.length).fill(Cv):Cv;const x=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const C=u.run();if(i||p||(g?C.some((S,A)=>wu(S,b[A])):wu(C,b))){h&&h();const S=Sd;Sd=u;try{const A=[C,b===Cv?void 0:g&&b[0]===Cv?[]:b,f];b=C,l?l(e,3,A):e(...A)}finally{Sd=S}}}else u.run()};return s&&s(x),u=new JI(d),u.scheduler=a?()=>a(x,!1):x,f=w=>Xq(w,!1,u),h=u.onStop=()=>{const w=bb.get(u);if(w){if(l)l(w,4);else for(const C of w)C();bb.delete(u)}},e?r?x(!0):b=u.run():a?a(x.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function nc(t,e=1/0,n){if(e<=0||!Ur(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ji(t))nc(t.value,e,n);else if(Nn(t))for(let r=0;r<t.length;r++)nc(t[r],e,n);else if(sq(t)||k0(t))t.forEach(r=>{nc(r,e,n)});else if(uq(t)){for(const r in t)nc(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&nc(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lg(t,e,n,r){try{return r?t(...r):t()}catch(i){U1(i,e,n)}}function Ms(t,e,n,r){if(Jn(t)){const i=Lg(t,e,n,r);return i&&GI(i)&&i.catch(o=>{U1(o,e,n)}),i}if(Nn(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Ms(t[o],e,n,r));return i}}function U1(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Xr;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}s=s.parent}if(o){pc(),Lg(o,null,10,[t,l,c]),mc();return}}Zq(t,n,i,r,a)}function Zq(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const jo=[];let Qs=-1;const Cf=[];let ru=null,uf=0;const v7=Promise.resolve();let xb=null;function vn(t){const e=xb||v7;return t?e.then(this?t.bind(this):t):e}function Jq(t){let e=Qs+1,n=jo.length;for(;e<n;){const r=e+n>>>1,i=jo[r],o=Vm(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function wk(t){if(!(t.flags&1)){const e=Vm(t),n=jo[jo.length-1];!n||!(t.flags&2)&&e>=Vm(n)?jo.push(t):jo.splice(Jq(e),0,t),t.flags|=1,y7()}}function y7(){xb||(xb=v7.then(x7))}function eK(t){Nn(t)?Cf.push(...t):ru&&t.id===-1?ru.splice(uf+1,0,t):t.flags&1||(Cf.push(t),t.flags|=1),y7()}function q5(t,e,n=Qs+1){for(;n<jo.length;n++){const r=jo[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;jo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function b7(t){if(Cf.length){const e=[...new Set(Cf)].sort((n,r)=>Vm(n)-Vm(r));if(Cf.length=0,ru){ru.push(...e);return}for(ru=e,uf=0;uf<ru.length;uf++){const n=ru[uf];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ru=null,uf=0}}const Vm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function x7(t){try{for(Qs=0;Qs<jo.length;Qs++){const e=jo[Qs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Lg(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qs<jo.length;Qs++){const e=jo[Qs];e&&(e.flags&=-2)}Qs=-1,jo.length=0,b7(),xb=null,(jo.length||Cf.length)&&x7()}}let Fo=null,w7=null;function wb(t){const e=Fo;return Fo=t,w7=t&&t.type.__scopeId||null,e}function iu(t,e=Fo,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Sb(-1);const o=wb(e);let a;try{a=t(...i)}finally{wb(o),r._d&&Sb(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function ii(t,e){if(Fo===null)return t;const n=Y1(Fo),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=Xr]=e[i];o&&(Jn(o)&&(o={mounted:o,updated:o}),o.deep&&nc(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return t}function ud(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&(pc(),Ms(l,n,8,[t.el,s,t,e]),mc())}}function zt(t,e){if(qo){let n=qo.provides;const r=qo.parent&&qo.parent.provides;r===n&&(n=qo.provides=Object.create(r)),n[t]=e}}function ut(t,e,n=!1){const r=Fs();if(r||Sf){let i=Sf?Sf._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Jn(e)?e.call(r&&r.proxy):e}}const tK=Symbol.for("v-scx"),nK=()=>ut(tK);function er(t,e){return Ck(t,null,e)}function qt(t,e,n){return Ck(t,e,n)}function Ck(t,e,n=Xr){const{immediate:r,deep:i,flush:o,once:a}=n,s=Yi({},n),l=e&&r||!e&&o!=="post";let c;if(Km){if(o==="sync"){const f=nK();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=bl,f.resume=bl,f.pause=bl,f}}const u=qo;s.call=(f,p,g)=>Ms(f,u,p,g);let d=!1;o==="post"?s.scheduler=f=>{Mo(f,u&&u.suspense)}:o!=="sync"&&(d=!0,s.scheduler=(f,p)=>{p?f():wk(f)}),s.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Qq(t,e,s);return Km&&(c?c.push(h):l&&h()),h}function rK(t,e,n){const r=this.proxy,i=Vi(t)?t.includes(".")?C7(r,t):()=>r[t]:t.bind(r,r);let o;Jn(e)?o=e:(o=e.handler,n=e);const a=Og(this),s=Ck(i,o.bind(r),n);return a(),s}function C7(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const A7=Symbol("_vte"),S7=t=>t.__isTeleport,_0=t=>t&&(t.disabled||t.disabled===""),K5=t=>t&&(t.defer||t.defer===""),G5=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Y5=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,BC=(t,e)=>{const n=t&&t.to;return Vi(n)?e?e(n):null:n},k7={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,a,s,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,y=_0(e.props);let{shapeFlag:b,children:x,dynamicChildren:w}=e;if(t==null){const C=e.el=g(""),S=e.anchor=g("");f(C,n,r),f(S,n,r);const A=(k,E)=>{b&16&&u(x,k,E,i,o,a,s,l)},T=()=>{const k=e.target=BC(e.props,p),E=NC(k,e,g,f);k&&(a!=="svg"&&G5(k)?a="svg":a!=="mathml"&&Y5(k)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(k),y||(A(k,E),$y(e,!1)))};y&&(A(n,S),$y(e,!0)),K5(e.props)?(e.el.__isMounted=!1,Mo(()=>{T(),delete e.el.__isMounted},o)):T()}else{if(K5(e.props)&&t.el.__isMounted===!1){Mo(()=>{k7.process(t,e,n,r,i,o,a,s,l,c)},o);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,S=e.target=t.target,A=e.targetAnchor=t.targetAnchor,T=_0(t.props),k=T?n:S,E=T?C:A;if(a==="svg"||G5(S)?a="svg":(a==="mathml"||Y5(S))&&(a="mathml"),w?(h(t.dynamicChildren,w,k,i,o,a,s),Tk(t,e,!0)):l||d(t,e,k,E,i,o,a,s,!1),y)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Av(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=BC(e.props,p);P&&Av(e,P,null,c,0)}else T&&Av(e,S,A,c,1);$y(e,y)}},remove(t,e,n,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),o&&i(l),a&16){const f=o||!_0(h);for(let p=0;p<s.length;p++){const g=s[p];r(g,e,n,f,!!g.dynamicChildren)}}},move:Av,hydrate:iK};function Av(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=t,d=o===2;if(d&&r(a,e,n),(!d||_0(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(s,e,n)}function iK(t,e,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:c,createText:u}},d){function h(m,y){let b=y;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,m._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}}function f(m,y){y.anchor=d(a(m),y,s(m),n,r,i,o)}const p=e.target=BC(e.props,l),g=_0(e.props);if(p){const m=p._lpa||p.firstChild;e.shapeFlag&16&&(g?(f(t,e),h(p,m),e.targetAnchor||NC(p,e,u,c,s(t)===p?t:null)):(e.anchor=a(t),h(p,m),e.targetAnchor||NC(p,e,u,c),d(m&&a(m),e,p,n,r,i,o))),$y(e,g)}else g&&e.shapeFlag&16&&(f(t,e),e.targetStart=t,e.targetAnchor=a(t));return e.anchor&&a(e.anchor)}const fh=k7;function $y(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function NC(t,e,n,r,i=null){const o=e.targetStart=n(""),a=e.targetAnchor=n("");return o[A7]=a,t&&(r(o,t,i),r(a,t,i)),a}const el=Symbol("_leaveCb"),qp=Symbol("_enterCb");function E7(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jn(()=>{t.isMounted=!0}),ir(()=>{t.isUnmounting=!0}),t}const Ga=[Function,Array],T7={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ga,onEnter:Ga,onAfterEnter:Ga,onEnterCancelled:Ga,onBeforeLeave:Ga,onLeave:Ga,onAfterLeave:Ga,onLeaveCancelled:Ga,onBeforeAppear:Ga,onAppear:Ga,onAfterAppear:Ga,onAppearCancelled:Ga},R7=t=>{const e=t.subTree;return e.component?R7(e.component):e},oK={name:"BaseTransition",props:T7,setup(t,{slots:e}){const n=Fs(),r=E7();return()=>{const i=e.default&&Ak(e.default(),!0);if(!i||!i.length)return;const o=_7(i),a=ur(t),{mode:s}=a;if(r.isLeaving)return mw(o);const l=X5(o);if(!l)return mw(o);let c=Wm(l,a,r,n,d=>c=d);l.type!==Ki&&eh(l,c);let u=n.subTree&&X5(n.subTree);if(u&&u.type!==Ki&&!Rd(u,l)&&R7(n).type!==Ki){let d=Wm(u,a,r,n);if(eh(u,d),s==="out-in"&&l.type!==Ki)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},mw(o);s==="in-out"&&l.type!==Ki?d.delayLeave=(h,f,p)=>{const g=P7(r,u);g[String(u.key)]=u,h[el]=()=>{f(),h[el]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function _7(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ki){e=n;break}}return e}const aK=oK;function P7(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Wm(t,e,n,r,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=e,w=String(t.key),C=P7(n,t),S=(k,E)=>{k&&Ms(k,r,9,E)},A=(k,E)=>{const P=E[1];S(k,E),Nn(k)?k.every(_=>_.length<=1)&&P():k.length<=1&&P()},T={mode:a,persisted:s,beforeEnter(k){let E=l;if(!n.isMounted)if(o)E=m||l;else return;k[el]&&k[el](!0);const P=C[w];P&&Rd(t,P)&&P.el[el]&&P.el[el](),S(E,[k])},enter(k){let E=c,P=u,_=d;if(!n.isMounted)if(o)E=y||c,P=b||u,_=x||d;else return;let F=!1;k[qp]=W=>{F||(F=!0,W?S(_,[k]):S(P,[k]),T.delayedLeave&&T.delayedLeave(),k[qp]=void 0)};const N=k[qp].bind(null,!1);E?A(E,[k,N]):N()},leave(k,E){const P=String(t.key);if(k[qp]&&k[qp](!0),n.isUnmounting)return E();S(h,[k]);let _=!1;k[el]=N=>{_||(_=!0,E(),N?S(g,[k]):S(p,[k]),k[el]=void 0,C[P]===t&&delete C[P])};const F=k[el].bind(null,!1);C[P]=t,f?A(f,[k,F]):F()},clone(k){const E=Wm(k,e,n,r,i);return i&&i(E),E}};return T}function mw(t){if(j1(t))return t=Qo(t),t.children=null,t}function X5(t){if(!j1(t))return S7(t.type)&&t.children?_7(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Jn(n.default))return n.default()}}function eh(t,e){t.shapeFlag&6&&t.component?(t.transition=e,eh(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ak(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===qn?(a.patchFlag&128&&i++,r=r.concat(Ak(a.children,e,s))):(e||a.type!==Ki)&&r.push(s!=null?Qo(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function le(t,e){return Jn(t)?Yi({name:t.name},e,{setup:t}):t}function I7(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Q5(t,e){let n;return!!((n=Object.getOwnPropertyDescriptor(t,e))&&!n.configurable)}const Cb=new WeakMap;function P0(t,e,n,r,i=!1){if(Nn(t)){t.forEach((g,m)=>P0(g,e&&(Nn(e)?e[m]:e),n,r,i));return}if(Af(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&P0(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Y1(r.component):r.el,a=i?null:o,{i:s,r:l}=t,c=e&&e.r,u=s.refs===Xr?s.refs={}:s.refs,d=s.setupState,h=ur(d),f=d===Xr?KI:g=>Q5(u,g)?!1:Or(h,g),p=(g,m)=>!(m&&Q5(u,m));if(c!=null&&c!==l){if(Z5(e),Vi(c))u[c]=null,f(c)&&(d[c]=null);else if(ji(c)){const g=e;p(c,g.k)&&(c.value=null),g.k&&(u[g.k]=null)}}if(Jn(l))Lg(l,s,12,[a,u]);else{const g=Vi(l),m=ji(l);if(g||m){const y=()=>{if(t.f){const b=g?f(l)?d[l]:u[l]:p()||!t.k?l.value:u[t.k];if(i)Nn(b)&&hk(b,o);else if(Nn(b))b.includes(o)||b.push(o);else if(g)u[l]=[o],f(l)&&(d[l]=u[l]);else{const x=[o];p(l,t.k)&&(l.value=x),t.k&&(u[t.k]=x)}}else g?(u[l]=a,f(l)&&(d[l]=a)):m&&(p(l,t.k)&&(l.value=a),t.k&&(u[t.k]=a))};if(a){const b=()=>{y(),Cb.delete(t)};b.id=-1,Cb.set(t,b),Mo(b,n)}else Z5(t),y()}}}function Z5(t){const e=Cb.get(t);e&&(e.flags|=8,Cb.delete(t))}z1().requestIdleCallback;z1().cancelIdleCallback;const Af=t=>!!t.type.__asyncLoader,j1=t=>t.type.__isKeepAlive;function Sk(t,e){L7(t,"a",e)}function V1(t,e){L7(t,"da",e)}function L7(t,e,n=qo){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(W1(e,r,n),n){let i=n.parent;for(;i&&i.parent;)j1(i.parent.vnode)&&sK(r,e,n,i),i=i.parent}}function sK(t,e,n,r){const i=W1(e,t,r,!0);Rl(()=>{hk(r[e],i)},n)}function W1(t,e,n=qo,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{pc();const s=Og(n),l=Ms(e,n,t,a);return s(),mc(),l});return r?i.unshift(o):i.push(o),o}}const kc=t=>(e,n=qo)=>{(!Km||t==="sp")&&W1(t,(...r)=>e(...r),n)},Ec=kc("bm"),jn=kc("m"),q1=kc("bu"),K1=kc("u"),ir=kc("bum"),Rl=kc("um"),lK=kc("sp"),cK=kc("rtg"),uK=kc("rtc");function dK(t,e=qo){W1("ec",t,e)}const hK=Symbol.for("v-ndc");function fK(t,e,n,r){let i;const o=n,a=Nn(t);if(a||Vi(t)){const s=a&&Cu(t);let l=!1,c=!1;s&&(l=!Da(t),c=gc(t),t=H1(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?Uf(Ls(t[u])):Ls(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(Ur(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[l]=e(t[u],u,l,o)}}else i=[];return i}function ph(t,e,n={},r,i){if(Fo.ce||Fo.parent&&Af(Fo.parent)&&Fo.parent.ce){const c=Object.keys(n).length>0;return gn(),jf(qn,null,[ci("slot",n,r)],c?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),gn();const a=o&&M7(o(n)),s=n.key||a&&a.key,l=jf(qn,{key:(s&&!fc(s)?s:`_${e}`)+(!a&&r?"_fb":"")},a||[],a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function M7(t){return t.some(e=>Vf(e)?!(e.type===Ki||e.type===qn&&!M7(e.children)):!0)?t:null}const zC=t=>t?J7(t)?Y1(t):zC(t.parent):null,I0=Yi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zC(t.parent),$root:t=>zC(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>F7(t),$forceUpdate:t=>t.f||(t.f=()=>{wk(t.update)}),$nextTick:t=>t.n||(t.n=vn.bind(t.proxy)),$watch:t=>rK.bind(t)}),gw=(t,e)=>t!==Xr&&!t.__isScriptSetup&&Or(t,e),pK={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:l}=t;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(gw(r,e))return a[e]=1,r[e];if(i!==Xr&&Or(i,e))return a[e]=2,i[e];if(Or(o,e))return a[e]=3,o[e];if(n!==Xr&&Or(n,e))return a[e]=4,n[e];HC&&(a[e]=0)}}const c=I0[e];let u,d;if(c)return e==="$attrs"&&Oo(t.attrs,"get",""),c(t);if((u=s.__cssModules)&&(u=u[e]))return u;if(n!==Xr&&Or(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Or(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return gw(i,e)?(i[e]=n,!0):r!==Xr&&Or(r,e)?(r[e]=n,!0):Or(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:o,type:a}},s){let l;return!!(n[s]||t!==Xr&&s[0]!=="$"&&Or(t,s)||gw(e,s)||Or(o,s)||Or(r,s)||Or(I0,s)||Or(i.config.globalProperties,s)||(l=a.__cssModules)&&l[s])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Or(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function mK(){return O7().slots}function lp(){return O7().attrs}function O7(t){const e=Fs();return e.setupContext||(e.setupContext=tL(e))}function J5(t){return Nn(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let HC=!0;function gK(t){const e=F7(t),n=t.proxy,r=t.ctx;HC=!1,e.beforeCreate&&eE(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:w,render:C,renderTracked:S,renderTriggered:A,errorCaptured:T,serverPrefetch:k,expose:E,inheritAttrs:P,components:_,directives:F,filters:N}=e;if(c&&vK(c,r,null),a)for(const Z in a){const ie=a[Z];Jn(ie)&&(r[Z]=ie.bind(n))}if(i){const Z=i.call(n,n);Ur(Z)&&(t.data=Tl(Z))}if(HC=!0,o)for(const Z in o){const ie=o[Z],he=Jn(ie)?ie.bind(n,n):Jn(ie.get)?ie.get.bind(n,n):bl,xe=!Jn(ie)&&Jn(ie.set)?ie.set.bind(n):bl,Q=L({get:he,set:xe});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Q.value,set:X=>Q.value=X})}if(s)for(const Z in s)D7(s[Z],r,n,Z);if(l){const Z=Jn(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(ie=>{zt(ie,Z[ie])})}u&&eE(u,t,"c");function G(Z,ie){Nn(ie)?ie.forEach(he=>Z(he.bind(n))):ie&&Z(ie.bind(n))}if(G(Ec,d),G(jn,h),G(q1,f),G(K1,p),G(Sk,g),G(V1,m),G(dK,T),G(uK,S),G(cK,A),G(ir,b),G(Rl,w),G(lK,k),Nn(E))if(E.length){const Z=t.exposed||(t.exposed={});E.forEach(ie=>{Object.defineProperty(Z,ie,{get:()=>n[ie],set:he=>n[ie]=he,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===bl&&(t.render=C),P!=null&&(t.inheritAttrs=P),_&&(t.components=_),F&&(t.directives=F),k&&I7(t)}function vK(t,e,n=bl){Nn(t)&&(t=UC(t));for(const r in t){const i=t[r];let o;Ur(i)?"default"in i?o=ut(i.from||r,i.default,!0):o=ut(i.from||r):o=ut(i),ji(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function eE(t,e,n){Ms(Nn(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function D7(t,e,n,r){let i=r.includes(".")?C7(n,r):()=>n[r];if(Vi(t)){const o=e[t];Jn(o)&&qt(i,o)}else if(Jn(t))qt(i,t.bind(n));else if(Ur(t))if(Nn(t))t.forEach(o=>D7(o,e,n,r));else{const o=Jn(t.handler)?t.handler.bind(n):e[t.handler];Jn(o)&&qt(i,o,t)}}function F7(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Ab(l,c,a,!0)),Ab(l,e,a)),Ur(e)&&o.set(e,l),l}function Ab(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Ab(t,o,n,!0),i&&i.forEach(a=>Ab(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=yK[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const yK={data:tE,props:nE,emits:nE,methods:g0,computed:g0,beforeCreate:Ho,created:Ho,beforeMount:Ho,mounted:Ho,beforeUpdate:Ho,updated:Ho,beforeDestroy:Ho,beforeUnmount:Ho,destroyed:Ho,unmounted:Ho,activated:Ho,deactivated:Ho,errorCaptured:Ho,serverPrefetch:Ho,components:g0,directives:g0,watch:xK,provide:tE,inject:bK};function tE(t,e){return e?t?function(){return Yi(Jn(t)?t.call(this,this):t,Jn(e)?e.call(this,this):e)}:e:t}function bK(t,e){return g0(UC(t),UC(e))}function UC(t){if(Nn(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ho(t,e){return t?[...new Set([].concat(t,e))]:e}function g0(t,e){return t?Yi(Object.create(null),t,e):e}function nE(t,e){return t?Nn(t)&&Nn(e)?[...new Set([...t,...e])]:Yi(Object.create(null),J5(t),J5(e??{})):e}function xK(t,e){if(!t)return e;if(!e)return t;const n=Yi(Object.create(null),t);for(const r in e)n[r]=Ho(t[r],e[r]);return n}function $7(){return{app:null,config:{isNativeTag:KI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wK=0;function CK(t,e){return function(r,i=null){Jn(r)||(r=Yi({},r)),i!=null&&!Ur(i)&&(i=null);const o=$7(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:wK++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:QK,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&Jn(u.install)?(a.add(u),u.install(c,...d)):Jn(u)&&(a.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ci(r,i);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Y1(f.component)}},onUnmount(u){s.push(u)},unmount(){l&&(Ms(s,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Sf;Sf=c;try{return u()}finally{Sf=d}}};return c}}let Sf=null;const AK=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Tu(e)}Modifiers`]||t[`${Yu(e)}Modifiers`];function SK(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Xr;let i=n;const o=e.startsWith("update:"),a=o&&AK(r,e.slice(7));a&&(a.trim&&(i=n.map(u=>Vi(u)?u.trim():u)),a.number&&(i=n.map(fq)));let s,l=r[s=uw(e)]||r[s=uw(Tu(e))];!l&&o&&(l=r[s=uw(Yu(e))]),l&&Ms(l,t,6,i);const c=r[s+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Ms(c,t,6,i)}}const kK=new WeakMap;function B7(t,e,n=!1){const r=n?kK:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},s=!1;if(!Jn(t)){const l=c=>{const u=B7(c,e,!0);u&&(s=!0,Yi(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(Ur(t)&&r.set(t,null),null):(Nn(o)?o.forEach(l=>a[l]=null):Yi(a,o),Ur(t)&&r.set(t,a),a)}function G1(t,e){return!t||!$1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Or(t,e[0].toLowerCase()+e.slice(1))||Or(t,Yu(e))||Or(t,e))}function rE(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,m=wb(t);let y,b;try{if(n.shapeFlag&4){const w=i||r,C=w;y=al(c.call(C,w,u,d,f,h,p)),b=s}else{const w=e;y=al(w.length>1?w(d,{attrs:s,slots:a,emit:l}):w(d,null)),b=e.props?s:EK(s)}}catch(w){L0.length=0,U1(w,t,1),y=ci(Ki)}let x=y;if(b&&g!==!1){const w=Object.keys(b),{shapeFlag:C}=x;w.length&&C&7&&(o&&w.some(dk)&&(b=TK(b,o)),x=Qo(x,b,!1,!0))}return n.dirs&&(x=Qo(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&eh(x,n.transition),y=x,wb(m),y}const EK=t=>{let e;for(const n in t)(n==="class"||n==="style"||$1(n))&&((e||(e={}))[n]=t[n]);return e},TK=(t,e)=>{const n={};for(const r in t)(!dk(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function RK(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?iE(r,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(N7(a,r,h)&&!G1(c,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?iE(r,a,c):!0:!!a;return!1}function iE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(N7(e,t,o)&&!G1(n,o))return!0}return!1}function N7(t,e,n){const r=t[n],i=e[n];return n==="style"&&Ur(r)&&Ur(i)?!fk(r,i):r!==i}function _K({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const z7={},H7=()=>Object.create(z7),U7=t=>Object.getPrototypeOf(t)===z7;function PK(t,e,n,r=!1){const i={},o=H7();t.propsDefaults=Object.create(null),j7(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:f7(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function IK(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=ur(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(G1(t.emitsOptions,h))continue;const f=e[h];if(l)if(Or(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=Tu(h);i[p]=jC(l,s,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{j7(t,e,i,o)&&(c=!0);let u;for(const d in s)(!e||!Or(e,d)&&((u=Yu(d))===d||!Or(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=jC(l,s,d,void 0,t,!0)):delete i[d]);if(o!==s)for(const d in o)(!e||!Or(e,d))&&(delete o[d],c=!0)}c&&tc(t.attrs,"set","")}function j7(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(E0(l))continue;const c=e[l];let u;i&&Or(i,u=Tu(l))?!o||!o.includes(u)?n[u]=c:(s||(s={}))[u]=c:G1(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(o){const l=ur(n),c=s||Xr;for(let u=0;u<o.length;u++){const d=o[u];n[d]=jC(i,l,d,c[d],t,!Or(c,d))}}return a}function jC(t,e,n,r,i,o){const a=t[n];if(a!=null){const s=Or(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Jn(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=Og(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===Yu(n))&&(r=!0))}return r}const LK=new WeakMap;function V7(t,e,n=!1){const r=n?LK:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},s=[];let l=!1;if(!Jn(t)){const u=d=>{l=!0;const[h,f]=V7(d,e,!0);Yi(a,h),f&&s.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Ur(t)&&r.set(t,wf),wf;if(Nn(o))for(let u=0;u<o.length;u++){const d=Tu(o[u]);oE(d)&&(a[d]=Xr)}else if(o)for(const u in o){const d=Tu(u);if(oE(d)){const h=o[u],f=a[d]=Nn(h)||Jn(h)?{type:h}:Yi({},h),p=f.type;let g=!1,m=!0;if(Nn(p))for(let y=0;y<p.length;++y){const b=p[y],x=Jn(b)&&b.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(m=!1)}else g=Jn(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||Or(f,"default"))&&s.push(d)}}const c=[a,s];return Ur(t)&&r.set(t,c),c}function oE(t){return t[0]!=="$"&&!E0(t)}const kk=t=>t==="_"||t==="_ctx"||t==="$stable",Ek=t=>Nn(t)?t.map(al):[al(t)],MK=(t,e,n)=>{if(e._n)return e;const r=iu((...i)=>Ek(e(...i)),n);return r._c=!1,r},W7=(t,e,n)=>{const r=t._ctx;for(const i in t){if(kk(i))continue;const o=t[i];if(Jn(o))e[i]=MK(i,o,r);else if(o!=null){const a=Ek(o);e[i]=()=>a}}},q7=(t,e)=>{const n=Ek(e);t.slots.default=()=>n},K7=(t,e,n)=>{for(const r in e)(n||!kk(r))&&(t[r]=e[r])},OK=(t,e,n)=>{const r=t.slots=H7();if(t.vnode.shapeFlag&32){const i=e._;i?(K7(r,e,n),n&&XI(r,"_",i,!0)):W7(e,r)}else e&&q7(t,e)},DK=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=Xr;if(r.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:K7(i,e,n):(o=!e.$stable,W7(e,i)),a=e}else e&&(q7(t,e),a={default:1});if(o)for(const s in i)!kk(s)&&a[s]==null&&delete i[s]},Mo=zK;function FK(t){return $K(t)}function $K(t,e){const n=z1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=bl,insertStaticContent:p}=t,g=(ae,fe,ke,Ke=null,Ne=null,Ae=null,se=void 0,be=null,re=!!fe.dynamicChildren)=>{if(ae===fe)return;ae&&!Rd(ae,fe)&&(Ke=ye(ae),X(ae,Ne,Ae,!0),ae=null),fe.patchFlag===-2&&(re=!1,fe.dynamicChildren=null);const{type:me,ref:De,shapeFlag:ge}=fe;switch(me){case Mg:m(ae,fe,ke,Ke);break;case Ki:y(ae,fe,ke,Ke);break;case yw:ae==null&&b(fe,ke,Ke,se);break;case qn:_(ae,fe,ke,Ke,Ne,Ae,se,be,re);break;default:ge&1?C(ae,fe,ke,Ke,Ne,Ae,se,be,re):ge&6?F(ae,fe,ke,Ke,Ne,Ae,se,be,re):(ge&64||ge&128)&&me.process(ae,fe,ke,Ke,Ne,Ae,se,be,re,Ue)}De!=null&&Ne?P0(De,ae&&ae.ref,Ae,fe||ae,!fe):De==null&&ae&&ae.ref!=null&&P0(ae.ref,null,Ae,ae,!0)},m=(ae,fe,ke,Ke)=>{if(ae==null)r(fe.el=s(fe.children),ke,Ke);else{const Ne=fe.el=ae.el;fe.children!==ae.children&&c(Ne,fe.children)}},y=(ae,fe,ke,Ke)=>{ae==null?r(fe.el=l(fe.children||""),ke,Ke):fe.el=ae.el},b=(ae,fe,ke,Ke)=>{[ae.el,ae.anchor]=p(ae.children,fe,ke,Ke,ae.el,ae.anchor)},x=({el:ae,anchor:fe},ke,Ke)=>{let Ne;for(;ae&&ae!==fe;)Ne=h(ae),r(ae,ke,Ke),ae=Ne;r(fe,ke,Ke)},w=({el:ae,anchor:fe})=>{let ke;for(;ae&&ae!==fe;)ke=h(ae),i(ae),ae=ke;i(fe)},C=(ae,fe,ke,Ke,Ne,Ae,se,be,re)=>{if(fe.type==="svg"?se="svg":fe.type==="math"&&(se="mathml"),ae==null)S(fe,ke,Ke,Ne,Ae,se,be,re);else{const me=ae.el&&ae.el._isVueCE?ae.el:null;try{me&&me._beginPatch(),k(ae,fe,Ne,Ae,se,be,re)}finally{me&&me._endPatch()}}},S=(ae,fe,ke,Ke,Ne,Ae,se,be)=>{let re,me;const{props:De,shapeFlag:ge,transition:pe,dirs:Te}=ae;if(re=ae.el=a(ae.type,Ae,De&&De.is,De),ge&8?u(re,ae.children):ge&16&&T(ae.children,re,null,Ke,Ne,vw(ae,Ae),se,be),Te&&ud(ae,null,Ke,"created"),A(re,ae,ae.scopeId,se,Ke),De){for(const Oe in De)Oe!=="value"&&!E0(Oe)&&o(re,Oe,null,De[Oe],Ae,Ke);"value"in De&&o(re,"value",null,De.value,Ae),(me=De.onVnodeBeforeMount)&&Us(me,Ke,ae)}Te&&ud(ae,null,Ke,"beforeMount");const Xe=BK(Ne,pe);Xe&&pe.beforeEnter(re),r(re,fe,ke),((me=De&&De.onVnodeMounted)||Xe||Te)&&Mo(()=>{me&&Us(me,Ke,ae),Xe&&pe.enter(re),Te&&ud(ae,null,Ke,"mounted")},Ne)},A=(ae,fe,ke,Ke,Ne)=>{if(ke&&f(ae,ke),Ke)for(let Ae=0;Ae<Ke.length;Ae++)f(ae,Ke[Ae]);if(Ne){let Ae=Ne.subTree;if(fe===Ae||X7(Ae.type)&&(Ae.ssContent===fe||Ae.ssFallback===fe)){const se=Ne.vnode;A(ae,se,se.scopeId,se.slotScopeIds,Ne.parent)}}},T=(ae,fe,ke,Ke,Ne,Ae,se,be,re=0)=>{for(let me=re;me<ae.length;me++){const De=ae[me]=be?Ql(ae[me]):al(ae[me]);g(null,De,fe,ke,Ke,Ne,Ae,se,be)}},k=(ae,fe,ke,Ke,Ne,Ae,se)=>{const be=fe.el=ae.el;let{patchFlag:re,dynamicChildren:me,dirs:De}=fe;re|=ae.patchFlag&16;const ge=ae.props||Xr,pe=fe.props||Xr;let Te;if(ke&&dd(ke,!1),(Te=pe.onVnodeBeforeUpdate)&&Us(Te,ke,fe,ae),De&&ud(fe,ae,ke,"beforeUpdate"),ke&&dd(ke,!0),(ge.innerHTML&&pe.innerHTML==null||ge.textContent&&pe.textContent==null)&&u(be,""),me?E(ae.dynamicChildren,me,be,ke,Ke,vw(fe,Ne),Ae):se||ie(ae,fe,be,null,ke,Ke,vw(fe,Ne),Ae,!1),re>0){if(re&16)P(be,ge,pe,ke,Ne);else if(re&2&&ge.class!==pe.class&&o(be,"class",null,pe.class,Ne),re&4&&o(be,"style",ge.style,pe.style,Ne),re&8){const Xe=fe.dynamicProps;for(let Oe=0;Oe<Xe.length;Oe++){const ft=Xe[Oe],Lt=ge[ft],Kt=pe[ft];(Kt!==Lt||ft==="value")&&o(be,ft,Lt,Kt,Ne,ke)}}re&1&&ae.children!==fe.children&&u(be,fe.children)}else!se&&me==null&&P(be,ge,pe,ke,Ne);((Te=pe.onVnodeUpdated)||De)&&Mo(()=>{Te&&Us(Te,ke,fe,ae),De&&ud(fe,ae,ke,"updated")},Ke)},E=(ae,fe,ke,Ke,Ne,Ae,se)=>{for(let be=0;be<fe.length;be++){const re=ae[be],me=fe[be],De=re.el&&(re.type===qn||!Rd(re,me)||re.shapeFlag&198)?d(re.el):ke;g(re,me,De,null,Ke,Ne,Ae,se,!0)}},P=(ae,fe,ke,Ke,Ne)=>{if(fe!==ke){if(fe!==Xr)for(const Ae in fe)!E0(Ae)&&!(Ae in ke)&&o(ae,Ae,fe[Ae],null,Ne,Ke);for(const Ae in ke){if(E0(Ae))continue;const se=ke[Ae],be=fe[Ae];se!==be&&Ae!=="value"&&o(ae,Ae,be,se,Ne,Ke)}"value"in ke&&o(ae,"value",fe.value,ke.value,Ne)}},_=(ae,fe,ke,Ke,Ne,Ae,se,be,re)=>{const me=fe.el=ae?ae.el:s(""),De=fe.anchor=ae?ae.anchor:s("");let{patchFlag:ge,dynamicChildren:pe,slotScopeIds:Te}=fe;Te&&(be=be?be.concat(Te):Te),ae==null?(r(me,ke,Ke),r(De,ke,Ke),T(fe.children||[],ke,De,Ne,Ae,se,be,re)):ge>0&&ge&64&&pe&&ae.dynamicChildren&&ae.dynamicChildren.length===pe.length?(E(ae.dynamicChildren,pe,ke,Ne,Ae,se,be),(fe.key!=null||Ne&&fe===Ne.subTree)&&Tk(ae,fe,!0)):ie(ae,fe,ke,De,Ne,Ae,se,be,re)},F=(ae,fe,ke,Ke,Ne,Ae,se,be,re)=>{fe.slotScopeIds=be,ae==null?fe.shapeFlag&512?Ne.ctx.activate(fe,ke,Ke,se,re):N(fe,ke,Ke,Ne,Ae,se,re):W(ae,fe,re)},N=(ae,fe,ke,Ke,Ne,Ae,se)=>{const be=ae.component=qK(ae,Ke,Ne);if(j1(ae)&&(be.ctx.renderer=Ue),KK(be,!1,se),be.asyncDep){if(Ne&&Ne.registerDep(be,G,se),!ae.el){const re=be.subTree=ci(Ki);y(null,re,fe,ke),ae.placeholder=re.el}}else G(be,ae,fe,ke,Ne,Ae,se)},W=(ae,fe,ke)=>{const Ke=fe.component=ae.component;if(RK(ae,fe,ke))if(Ke.asyncDep&&!Ke.asyncResolved){Z(Ke,fe,ke);return}else Ke.next=fe,Ke.update();else fe.el=ae.el,Ke.vnode=fe},G=(ae,fe,ke,Ke,Ne,Ae,se)=>{const be=()=>{if(ae.isMounted){let{next:ge,bu:pe,u:Te,parent:Xe,vnode:Oe}=ae;{const Ge=G7(ae);if(Ge){ge&&(ge.el=Oe.el,Z(ae,ge,se)),Ge.asyncDep.then(()=>{Mo(()=>{ae.isUnmounted||me()},Ne)});return}}let ft=ge,Lt;dd(ae,!1),ge?(ge.el=Oe.el,Z(ae,ge,se)):ge=Oe,pe&&dw(pe),(Lt=ge.props&&ge.props.onVnodeBeforeUpdate)&&Us(Lt,Xe,ge,Oe),dd(ae,!0);const Kt=rE(ae),Dt=ae.subTree;ae.subTree=Kt,g(Dt,Kt,d(Dt.el),ye(Dt),ae,Ne,Ae),ge.el=Kt.el,ft===null&&_K(ae,Kt.el),Te&&Mo(Te,Ne),(Lt=ge.props&&ge.props.onVnodeUpdated)&&Mo(()=>Us(Lt,Xe,ge,Oe),Ne)}else{let ge;const{el:pe,props:Te}=fe,{bm:Xe,m:Oe,parent:ft,root:Lt,type:Kt}=ae,Dt=Af(fe);dd(ae,!1),Xe&&dw(Xe),!Dt&&(ge=Te&&Te.onVnodeBeforeMount)&&Us(ge,ft,fe),dd(ae,!0);{Lt.ce&&Lt.ce._hasShadowRoot()&&Lt.ce._injectChildStyle(Kt);const Ge=ae.subTree=rE(ae);g(null,Ge,ke,Ke,ae,Ne,Ae),fe.el=Ge.el}if(Oe&&Mo(Oe,Ne),!Dt&&(ge=Te&&Te.onVnodeMounted)){const Ge=fe;Mo(()=>Us(ge,ft,Ge),Ne)}(fe.shapeFlag&256||ft&&Af(ft.vnode)&&ft.vnode.shapeFlag&256)&&ae.a&&Mo(ae.a,Ne),ae.isMounted=!0,fe=ke=Ke=null}};ae.scope.on();const re=ae.effect=new JI(be);ae.scope.off();const me=ae.update=re.run.bind(re),De=ae.job=re.runIfDirty.bind(re);De.i=ae,De.id=ae.uid,re.scheduler=()=>wk(De),dd(ae,!0),me()},Z=(ae,fe,ke)=>{fe.component=ae;const Ke=ae.vnode.props;ae.vnode=fe,ae.next=null,IK(ae,fe.props,Ke,ke),DK(ae,fe.children,ke),pc(),q5(ae),mc()},ie=(ae,fe,ke,Ke,Ne,Ae,se,be,re=!1)=>{const me=ae&&ae.children,De=ae?ae.shapeFlag:0,ge=fe.children,{patchFlag:pe,shapeFlag:Te}=fe;if(pe>0){if(pe&128){xe(me,ge,ke,Ke,Ne,Ae,se,be,re);return}else if(pe&256){he(me,ge,ke,Ke,Ne,Ae,se,be,re);return}}Te&8?(De&16&&Se(me,Ne,Ae),ge!==me&&u(ke,ge)):De&16?Te&16?xe(me,ge,ke,Ke,Ne,Ae,se,be,re):Se(me,Ne,Ae,!0):(De&8&&u(ke,""),Te&16&&T(ge,ke,Ke,Ne,Ae,se,be,re))},he=(ae,fe,ke,Ke,Ne,Ae,se,be,re)=>{ae=ae||wf,fe=fe||wf;const me=ae.length,De=fe.length,ge=Math.min(me,De);let pe;for(pe=0;pe<ge;pe++){const Te=fe[pe]=re?Ql(fe[pe]):al(fe[pe]);g(ae[pe],Te,ke,null,Ne,Ae,se,be,re)}me>De?Se(ae,Ne,Ae,!0,!1,ge):T(fe,ke,Ke,Ne,Ae,se,be,re,ge)},xe=(ae,fe,ke,Ke,Ne,Ae,se,be,re)=>{let me=0;const De=fe.length;let ge=ae.length-1,pe=De-1;for(;me<=ge&&me<=pe;){const Te=ae[me],Xe=fe[me]=re?Ql(fe[me]):al(fe[me]);if(Rd(Te,Xe))g(Te,Xe,ke,null,Ne,Ae,se,be,re);else break;me++}for(;me<=ge&&me<=pe;){const Te=ae[ge],Xe=fe[pe]=re?Ql(fe[pe]):al(fe[pe]);if(Rd(Te,Xe))g(Te,Xe,ke,null,Ne,Ae,se,be,re);else break;ge--,pe--}if(me>ge){if(me<=pe){const Te=pe+1,Xe=Te<De?fe[Te].el:Ke;for(;me<=pe;)g(null,fe[me]=re?Ql(fe[me]):al(fe[me]),ke,Xe,Ne,Ae,se,be,re),me++}}else if(me>pe)for(;me<=ge;)X(ae[me],Ne,Ae,!0),me++;else{const Te=me,Xe=me,Oe=new Map;for(me=Xe;me<=pe;me++){const _t=fe[me]=re?Ql(fe[me]):al(fe[me]);_t.key!=null&&Oe.set(_t.key,me)}let ft,Lt=0;const Kt=pe-Xe+1;let Dt=!1,Ge=0;const en=new Array(Kt);for(me=0;me<Kt;me++)en[me]=0;for(me=Te;me<=ge;me++){const _t=ae[me];if(Lt>=Kt){X(_t,Ne,Ae,!0);continue}let ce;if(_t.key!=null)ce=Oe.get(_t.key);else for(ft=Xe;ft<=pe;ft++)if(en[ft-Xe]===0&&Rd(_t,fe[ft])){ce=ft;break}ce===void 0?X(_t,Ne,Ae,!0):(en[ce-Xe]=me+1,ce>=Ge?Ge=ce:Dt=!0,g(_t,fe[ce],ke,null,Ne,Ae,se,be,re),Lt++)}const wt=Dt?NK(en):wf;for(ft=wt.length-1,me=Kt-1;me>=0;me--){const _t=Xe+me,ce=fe[_t],ue=fe[_t+1],je=_t+1<De?ue.el||Y7(ue):Ke;en[me]===0?g(null,ce,ke,je,Ne,Ae,se,be,re):Dt&&(ft<0||me!==wt[ft]?Q(ce,ke,je,2):ft--)}}},Q=(ae,fe,ke,Ke,Ne=null)=>{const{el:Ae,type:se,transition:be,children:re,shapeFlag:me}=ae;if(me&6){Q(ae.component.subTree,fe,ke,Ke);return}if(me&128){ae.suspense.move(fe,ke,Ke);return}if(me&64){se.move(ae,fe,ke,Ue);return}if(se===qn){r(Ae,fe,ke);for(let ge=0;ge<re.length;ge++)Q(re[ge],fe,ke,Ke);r(ae.anchor,fe,ke);return}if(se===yw){x(ae,fe,ke);return}if(Ke!==2&&me&1&&be)if(Ke===0)be.beforeEnter(Ae),r(Ae,fe,ke),Mo(()=>be.enter(Ae),Ne);else{const{leave:ge,delayLeave:pe,afterLeave:Te}=be,Xe=()=>{ae.ctx.isUnmounted?i(Ae):r(Ae,fe,ke)},Oe=()=>{Ae._isLeaving&&Ae[el](!0),ge(Ae,()=>{Xe(),Te&&Te()})};pe?pe(Ae,Xe,Oe):Oe()}else r(Ae,fe,ke)},X=(ae,fe,ke,Ke=!1,Ne=!1)=>{const{type:Ae,props:se,ref:be,children:re,dynamicChildren:me,shapeFlag:De,patchFlag:ge,dirs:pe,cacheIndex:Te}=ae;if(ge===-2&&(Ne=!1),be!=null&&(pc(),P0(be,null,ke,ae,!0),mc()),Te!=null&&(fe.renderCache[Te]=void 0),De&256){fe.ctx.deactivate(ae);return}const Xe=De&1&&pe,Oe=!Af(ae);let ft;if(Oe&&(ft=se&&se.onVnodeBeforeUnmount)&&Us(ft,fe,ae),De&6)ve(ae.component,ke,Ke);else{if(De&128){ae.suspense.unmount(ke,Ke);return}Xe&&ud(ae,null,fe,"beforeUnmount"),De&64?ae.type.remove(ae,fe,ke,Ue,Ke):me&&!me.hasOnce&&(Ae!==qn||ge>0&&ge&64)?Se(me,fe,ke,!1,!0):(Ae===qn&&ge&384||!Ne&&De&16)&&Se(re,fe,ke),Ke&&K(ae)}(Oe&&(ft=se&&se.onVnodeUnmounted)||Xe)&&Mo(()=>{ft&&Us(ft,fe,ae),Xe&&ud(ae,null,fe,"unmounted")},ke)},K=ae=>{const{type:fe,el:ke,anchor:Ke,transition:Ne}=ae;if(fe===qn){ne(ke,Ke);return}if(fe===yw){w(ae);return}const Ae=()=>{i(ke),Ne&&!Ne.persisted&&Ne.afterLeave&&Ne.afterLeave()};if(ae.shapeFlag&1&&Ne&&!Ne.persisted){const{leave:se,delayLeave:be}=Ne,re=()=>se(ke,Ae);be?be(ae.el,Ae,re):re()}else Ae()},ne=(ae,fe)=>{let ke;for(;ae!==fe;)ke=h(ae),i(ae),ae=ke;i(fe)},ve=(ae,fe,ke)=>{const{bum:Ke,scope:Ne,job:Ae,subTree:se,um:be,m:re,a:me}=ae;aE(re),aE(me),Ke&&dw(Ke),Ne.stop(),Ae&&(Ae.flags|=8,X(se,ae,fe,ke)),be&&Mo(be,fe),Mo(()=>{ae.isUnmounted=!0},fe)},Se=(ae,fe,ke,Ke=!1,Ne=!1,Ae=0)=>{for(let se=Ae;se<ae.length;se++)X(ae[se],fe,ke,Ke,Ne)},ye=ae=>{if(ae.shapeFlag&6)return ye(ae.component.subTree);if(ae.shapeFlag&128)return ae.suspense.next();const fe=h(ae.anchor||ae.el),ke=fe&&fe[A7];return ke?h(ke):fe};let Be=!1;const J=(ae,fe,ke)=>{let Ke;ae==null?fe._vnode&&(X(fe._vnode,null,null,!0),Ke=fe._vnode.component):g(fe._vnode||null,ae,fe,null,null,null,ke),fe._vnode=ae,Be||(Be=!0,q5(Ke),b7(),Be=!1)},Ue={p:g,um:X,m:Q,r:K,mt:N,mc:T,pc:ie,pbc:E,n:ye,o:t};return{render:J,hydrate:void 0,createApp:CK(J)}}function vw({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function dd({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function BK(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tk(t,e,n=!1){const r=t.children,i=e.children;if(Nn(r)&&Nn(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Ql(i[o]),s.el=a.el),!n&&s.patchFlag!==-2&&Tk(a,s)),s.type===Mg&&(s.patchFlag===-1&&(s=i[o]=Ql(s)),s.el=a.el),s.type===Ki&&!s.el&&(s.el=a.el)}}function NK(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<c?o=s+1:a=s;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}function G7(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:G7(e)}function aE(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Y7(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Y7(e.subTree):null}const X7=t=>t.__isSuspense;function zK(t,e){e&&e.pendingBranch?Nn(t)?e.effects.push(...t):e.effects.push(t):eK(t)}const qn=Symbol.for("v-fgt"),Mg=Symbol.for("v-txt"),Ki=Symbol.for("v-cmt"),yw=Symbol.for("v-stc"),L0=[];let La=null;function gn(t=!1){L0.push(La=t?null:[])}function HK(){L0.pop(),La=L0[L0.length-1]||null}let qm=1;function Sb(t,e=!1){qm+=t,t<0&&La&&e&&(La.hasOnce=!0)}function Q7(t){return t.dynamicChildren=qm>0?La||wf:null,HK(),qm>0&&La&&La.push(t),t}function Pn(t,e,n,r,i,o){return Q7(Wf(t,e,n,r,i,o,!0))}function jf(t,e,n,r,i){return Q7(ci(t,e,n,r,i,!0))}function Vf(t){return t?t.__v_isVNode===!0:!1}function Rd(t,e){return t.type===e.type&&t.key===e.key}const Z7=({key:t})=>t??null,By=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Vi(t)||ji(t)||Jn(t)?{i:Fo,r:t,k:e,f:!!n}:t:null);function Wf(t,e=null,n=null,r=0,i=null,o=t===qn?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Z7(e),ref:e&&By(e),scopeId:w7,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fo};return s?(_k(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Vi(n)?8:16),qm>0&&!a&&La&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&La.push(l),l}const ci=UK;function UK(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===hK)&&(t=Ki),Vf(t)){const s=Qo(t,e,!0);return n&&_k(s,n),qm>0&&!o&&La&&(s.shapeFlag&6?La[La.indexOf(t)]=s:La.push(s)),s.patchFlag=-2,s}if(XK(t)&&(t=t.__vccOpts),e){e=jK(e);let{class:s,style:l}=e;s&&!Vi(s)&&(e.class=Hf(s)),Ur(l)&&(Au(l)&&!Nn(l)&&(l=Yi({},l)),e.style=Ig(l))}const a=Vi(t)?1:X7(t)?128:S7(t)?64:Ur(t)?4:Jn(t)?2:0;return Wf(t,e,n,r,i,a,o,!0)}function jK(t){return t?Au(t)||U7(t)?Yi({},t):t:null}function Qo(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=t,c=e?Xi(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Z7(c),ref:e&&e.ref?n&&o?Nn(o)?o.concat(By(e)):[o,By(e)]:By(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qo(t.ssContent),ssFallback:t.ssFallback&&Qo(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&eh(u,l.clone(u)),u}function Ru(t=" ",e=0){return ci(Mg,null,t,e)}function Rk(t="",e=!1){return e?(gn(),jf(Ki,null,t)):ci(Ki,null,t)}function al(t){return t==null||typeof t=="boolean"?ci(Ki):Nn(t)?ci(qn,null,t.slice()):Vf(t)?Ql(t):ci(Mg,null,String(t))}function Ql(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qo(t)}function _k(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Nn(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),_k(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!U7(e)?e._ctx=Fo:i===3&&Fo&&(Fo.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Jn(e)?(e={default:e,_ctx:Fo},n=32):(e=String(e),r&64?(n=16,e=[Ru(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Hf([e.class,r.class]));else if(i==="style")e.style=Ig([e.style,r.style]);else if($1(i)){const o=e[i],a=r[i];a&&o!==a&&!(Nn(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function Us(t,e,n,r=null){Ms(t,e,7,[n,r])}const VK=$7();let WK=0;function qK(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||VK,o={uid:WK++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ZI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:V7(r,i),emitsOptions:B7(r,i),emit:null,emitted:null,propsDefaults:Xr,inheritAttrs:r.inheritAttrs,ctx:Xr,data:Xr,props:Xr,attrs:Xr,slots:Xr,refs:Xr,setupState:Xr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=SK.bind(null,o),t.ce&&t.ce(o),o}let qo=null;const Fs=()=>qo||Fo;let kb,VC;{const t=z1(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};kb=e("__VUE_INSTANCE_SETTERS__",n=>qo=n),VC=e("__VUE_SSR_SETTERS__",n=>Km=n)}const Og=t=>{const e=qo;return kb(t),t.scope.on(),()=>{t.scope.off(),kb(e)}},sE=()=>{qo&&qo.scope.off(),kb(null)};function J7(t){return t.vnode.shapeFlag&4}let Km=!1;function KK(t,e=!1,n=!1){e&&VC(e);const{props:r,children:i}=t.vnode,o=J7(t);PK(t,r,o,e),OK(t,i,n||e);const a=o?GK(t,e):void 0;return e&&VC(!1),a}function GK(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,pK);const{setup:r}=n;if(r){pc();const i=t.setupContext=r.length>1?tL(t):null,o=Og(t),a=Lg(r,t,0,[t.props,i]),s=GI(a);if(mc(),o(),(s||t.sp)&&!Af(t)&&I7(t),s){if(a.then(sE,sE),e)return a.then(l=>{lE(t,l)}).catch(l=>{U1(l,t,0)});t.asyncDep=a}else lE(t,a)}else eL(t)}function lE(t,e,n){Jn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ur(e)&&(t.setupState=m7(e)),eL(t)}function eL(t,e,n){const r=t.type;t.render||(t.render=r.render||bl);{const i=Og(t);pc();try{gK(t)}finally{mc(),i()}}}const YK={get(t,e){return Oo(t,"get",""),t[e]}};function tL(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,YK),slots:t.slots,emit:t.emit,expose:e}}function Y1(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(m7(yb(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in I0)return I0[n](t)},has(e,n){return n in e||n in I0}})):t.proxy}function XK(t){return Jn(t)&&"__vccOpts"in t}const L=(t,e)=>Yq(t,e,Km);function v(t,e,n){try{Sb(-1);const r=arguments.length;return r===2?Ur(e)&&!Nn(e)?Vf(e)?ci(t,null,[e]):ci(t,e):ci(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vf(n)&&(n=[n]),ci(t,e,n))}finally{Sb(1)}}const QK="3.5.28";/**
* @vue/runtime-dom v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let WC;const cE=typeof window<"u"&&window.trustedTypes;if(cE)try{WC=cE.createPolicy("vue",{createHTML:t=>t})}catch{}const nL=WC?t=>WC.createHTML(t):t=>t,ZK="http://www.w3.org/2000/svg",JK="http://www.w3.org/1998/Math/MathML",Kl=typeof document<"u"?document:null,uE=Kl&&Kl.createElement("template"),eG={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Kl.createElementNS(ZK,t):e==="mathml"?Kl.createElementNS(JK,t):n?Kl.createElement(t,{is:n}):Kl.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Kl.createTextNode(t),createComment:t=>Kl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{uE.innerHTML=nL(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const s=uE.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zc="transition",Kp="animation",qf=Symbol("_vtc"),rL={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iL=Yi({},T7,rL),tG=t=>(t.displayName="Transition",t.props=iL,t),hr=tG((t,{slots:e})=>v(aK,oL(t),e)),hd=(t,e=[])=>{Nn(t)?t.forEach(n=>n(...e)):t&&t(...e)},dE=t=>t?Nn(t)?t.some(e=>e.length>1):t.length>1:!1;function oL(t){const e={};for(const _ in t)_ in rL||(e[_]=t[_]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:u=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=nG(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:C,onBeforeAppear:S=y,onAppear:A=b,onAppearCancelled:T=x}=e,k=(_,F,N,W)=>{_._enterCancelled=W,Zc(_,F?u:s),Zc(_,F?c:a),N&&N()},E=(_,F)=>{_._isLeaving=!1,Zc(_,d),Zc(_,f),Zc(_,h),F&&F()},P=_=>(F,N)=>{const W=_?A:b,G=()=>k(F,_,N);hd(W,[F,G]),hE(()=>{Zc(F,_?l:o),Ks(F,_?u:s),dE(W)||fE(F,r,g,G)})};return Yi(e,{onBeforeEnter(_){hd(y,[_]),Ks(_,o),Ks(_,a)},onBeforeAppear(_){hd(S,[_]),Ks(_,l),Ks(_,c)},onEnter:P(!1),onAppear:P(!0),onLeave(_,F){_._isLeaving=!0;const N=()=>E(_,F);Ks(_,d),_._enterCancelled?(Ks(_,h),qC(_)):(qC(_),Ks(_,h)),hE(()=>{_._isLeaving&&(Zc(_,d),Ks(_,f),dE(w)||fE(_,r,m,N))}),hd(w,[_,N])},onEnterCancelled(_){k(_,!1,void 0,!0),hd(x,[_])},onAppearCancelled(_){k(_,!0,void 0,!0),hd(T,[_])},onLeaveCancelled(_){E(_),hd(C,[_])}})}function nG(t){if(t==null)return null;if(Ur(t))return[bw(t.enter),bw(t.leave)];{const e=bw(t);return[e,e]}}function bw(t){return pq(t)}function Ks(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[qf]||(t[qf]=new Set)).add(e)}function Zc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[qf];n&&(n.delete(e),n.size||(t[qf]=void 0))}function hE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rG=0;function fE(t,e,n,r){const i=t._endId=++rG,o=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=aL(t,e);if(!a)return r();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},s+1),t.addEventListener(c,h)}function aL(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${zc}Delay`),o=r(`${zc}Duration`),a=pE(i,o),s=r(`${Kp}Delay`),l=r(`${Kp}Duration`),c=pE(s,l);let u=null,d=0,h=0;e===zc?a>0&&(u=zc,d=a,h=o.length):e===Kp?c>0&&(u=Kp,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?zc:Kp:null,h=u?u===zc?o.length:l.length:0);const f=u===zc&&/\b(?:transform|all)(?:,|$)/.test(r(`${zc}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function pE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>mE(n)+mE(t[r])))}function mE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function qC(t){return(t?t.ownerDocument:document).body.offsetHeight}function iG(t,e,n){const r=t[qf];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Eb=Symbol("_vod"),sL=Symbol("_vsh"),ya={name:"show",beforeMount(t,{value:e},{transition:n}){t[Eb]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Gp(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Gp(t,!0),r.enter(t)):r.leave(t,()=>{Gp(t,!1)}):Gp(t,e))},beforeUnmount(t,{value:e}){Gp(t,e)}};function Gp(t,e){t.style.display=e?t[Eb]:"none",t[sL]=!e}const oG=Symbol(""),aG=/(?:^|;)\s*display\s*:/;function sG(t,e,n){const r=t.style,i=Vi(n);let o=!1;if(n&&!i){if(e)if(Vi(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&Ny(r,s,"")}else for(const a in e)n[a]==null&&Ny(r,a,"");for(const a in n)a==="display"&&(o=!0),Ny(r,a,n[a])}else if(i){if(e!==n){const a=r[oG];a&&(n+=";"+a),r.cssText=n,o=aG.test(n)}}else e&&t.removeAttribute("style");Eb in t&&(t[Eb]=o?r.display:"",t[sL]&&(r.display="none"))}const gE=/\s*!important$/;function Ny(t,e,n){if(Nn(n))n.forEach(r=>Ny(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=lG(t,e);gE.test(n)?t.setProperty(Yu(r),n.replace(gE,""),"important"):t[r]=n}}const vE=["Webkit","Moz","ms"],xw={};function lG(t,e){const n=xw[e];if(n)return n;let r=Tu(e);if(r!=="filter"&&r in t)return xw[e]=r;r=YI(r);for(let i=0;i<vE.length;i++){const o=vE[i]+r;if(o in t)return xw[e]=o}return e}const yE="http://www.w3.org/1999/xlink";function bE(t,e,n,r,i,o=xq(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yE,e.slice(6,e.length)):t.setAttributeNS(yE,e,n):n==null||o&&!QI(n)?t.removeAttribute(e):t.setAttribute(e,o?"":fc(n)?String(n):n)}function xE(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nL(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=QI(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function cG(t,e,n,r){t.addEventListener(e,n,r)}function uG(t,e,n,r){t.removeEventListener(e,n,r)}const wE=Symbol("_vei");function dG(t,e,n,r,i=null){const o=t[wE]||(t[wE]={}),a=o[e];if(r&&a)a.value=r;else{const[s,l]=hG(e);if(r){const c=o[e]=mG(r,i);cG(t,s,c,l)}else a&&(uG(t,s,a,l),o[e]=void 0)}}const CE=/(?:Once|Passive|Capture)$/;function hG(t){let e;if(CE.test(t)){e={};let r;for(;r=t.match(CE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yu(t.slice(2)),e]}let ww=0;const fG=Promise.resolve(),pG=()=>ww||(fG.then(()=>ww=0),ww=Date.now());function mG(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ms(gG(r,n.value),e,5,[r])};return n.value=t,n.attached=pG(),n}function gG(t,e){if(Nn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const AE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vG=(t,e,n,r,i,o)=>{const a=i==="svg";e==="class"?iG(t,r,a):e==="style"?sG(t,n,r):$1(e)?dk(e)||dG(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yG(t,e,r,a))?(xE(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bE(t,e,r,a,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Vi(r))?xE(t,Tu(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),bE(t,e,r,a))};function yG(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&AE(e)&&Jn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return AE(e)&&Vi(n)?!1:e in t}const lL=new WeakMap,cL=new WeakMap,Tb=Symbol("_moveCb"),SE=Symbol("_enterCb"),bG=t=>(delete t.props.mode,t),xG=bG({name:"TransitionGroup",props:Yi({},iL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Fs(),r=E7();let i,o;return K1(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!SG(i[0].el,n.vnode.el,a)){i=[];return}i.forEach(wG),i.forEach(CG);const s=i.filter(AG);qC(n.vnode.el),s.forEach(l=>{const c=l.el,u=c.style;Ks(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Tb]=h=>{h&&h.target!==c||(!h||h.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",d),c[Tb]=null,Zc(c,a))};c.addEventListener("transitionend",d)}),i=[]}),()=>{const a=ur(t),s=oL(a);let l=a.tag||qn;if(i=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(i.push(u),eh(u,Wm(u,s,r,n)),lL.set(u,uL(u.el)))}o=e.default?Ak(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&eh(u,Wm(u,s,r,n))}return ci(l,null,o)}}}),X1=xG;function wG(t){const e=t.el;e[Tb]&&e[Tb](),e[SE]&&e[SE]()}function CG(t){cL.set(t,uL(t.el))}function AG(t){const e=lL.get(t),n=cL.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el,a=o.style,s=o.getBoundingClientRect();let l=1,c=1;return o.offsetWidth&&(l=s.width/o.offsetWidth),o.offsetHeight&&(c=s.height/o.offsetHeight),(!Number.isFinite(l)||l===0)&&(l=1),(!Number.isFinite(c)||c===0)&&(c=1),Math.abs(l-1)<.01&&(l=1),Math.abs(c-1)<.01&&(c=1),a.transform=a.webkitTransform=`translate(${r/l}px,${i/c}px)`,a.transitionDuration="0s",t}}function uL(t){const e=t.getBoundingClientRect();return{left:e.left,top:e.top}}function SG(t,e,n){const r=t.cloneNode(),i=t[qf];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:a}=aL(r);return o.removeChild(r),a}const kG={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kE=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=Yu(i.key);if(e.some(a=>a===o||kG[a]===o))return t(i)})},EG=Yi({patchProp:vG},eG);let EE;function TG(){return EE||(EE=FK(EG))}const dL=(...t)=>{const e=TG().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=_G(r);if(!i)return;const o=e._component;!Jn(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,RG(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function RG(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _G(t){return Vi(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const PG=Symbol();var TE;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(TE||(TE={}));function IG(){const t=Cq(!0),e=t.run(()=>V({}));let n=[],r=[];const i=yb({install(o){i._a=o,o.provide(PG,i),o.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}function LG(t){let e=".",n="__",r="--",i;if(t){let p=t.blockPrefix;p&&(e=p),p=t.elementPrefix,p&&(n=p),p=t.modifierPrefix,p&&(r=p)}const o={install(p){i=p.c;const g=p.context;g.bem={},g.bem.b=null,g.bem.els=null}};function a(p){let g,m;return{before(y){g=y.bem.b,m=y.bem.els,y.bem.els=null},after(y){y.bem.b=g,y.bem.els=m},$({context:y,props:b}){return p=typeof p=="string"?p:p({context:y,props:b}),y.bem.b=p,`${(b==null?void 0:b.bPrefix)||e}${y.bem.b}`}}}function s(p){let g;return{before(m){g=m.bem.els},after(m){m.bem.els=g},$({context:m,props:y}){return p=typeof p=="string"?p:p({context:m,props:y}),m.bem.els=p.split(",").map(b=>b.trim()),m.bem.els.map(b=>`${(y==null?void 0:y.bPrefix)||e}${m.bem.b}${n}${b}`).join(", ")}}}function l(p){return{$({context:g,props:m}){p=typeof p=="string"?p:p({context:g,props:m});const y=p.split(",").map(w=>w.trim());function b(w){return y.map(C=>`&${(m==null?void 0:m.bPrefix)||e}${g.bem.b}${w!==void 0?`${n}${w}`:""}${r}${C}`).join(", ")}const x=g.bem.els;return x!==null?b(x[0]):b()}}}function c(p){return{$({context:g,props:m}){p=typeof p=="string"?p:p({context:g,props:m});const y=g.bem.els;return`&:not(${(m==null?void 0:m.bPrefix)||e}${g.bem.b}${y!==null&&y.length>0?`${n}${y[0]}`:""}${r}${p})`}}}return Object.assign(o,{cB:(...p)=>i(a(p[0]),p[1],p[2]),cE:(...p)=>i(s(p[0]),p[1],p[2]),cM:(...p)=>i(l(p[0]),p[1],p[2]),cNotM:(...p)=>i(c(p[0]),p[1],p[2])}),o}function MG(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const hL=/\s*,(?![^(]*\))\s*/g,OG=/\s+/g;function DG(t,e){const n=[];return e.split(hL).forEach(r=>{let i=MG(r);if(i){if(i===1){t.forEach(a=>{n.push(r.replace("&",a))});return}}else{t.forEach(a=>{n.push((a&&a+" ")+r)});return}let o=[r];for(;i--;){const a=[];o.forEach(s=>{t.forEach(l=>{a.push(s.replace("&",l))})}),o=a}o.forEach(a=>n.push(a))}),n}function FG(t,e){const n=[];return e.split(hL).forEach(r=>{t.forEach(i=>{n.push((i&&i+" ")+r)})}),n}function $G(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=DG(e,n):e=FG(e,n))}),e.join(", ").replace(OG," ")}function RE(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function Q1(t,e){return(e??document.head).querySelector(`style[cssr-id="${t}"]`)}function BG(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Sv(t){return t?/^\s*@(s|m)/.test(t):!1}const NG=/[A-Z]/g;function fL(t){return t.replace(NG,e=>"-"+e.toLowerCase())}function zG(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${fL(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function HG(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function _E(t,e,n,r){if(!e)return"";const i=HG(e,n,r);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const o=Object.keys(i);if(o.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const a=t?[t+" {"]:[];return o.forEach(s=>{const l=i[s];if(s==="raw"){a.push(`
`+l+`
`);return}s=fL(s),l!=null&&a.push(`  ${s}${zG(l)}`)}),t&&a.push("}"),a.join(`
`)}function KC(t,e,n){t&&t.forEach(r=>{if(Array.isArray(r))KC(r,e,n);else if(typeof r=="function"){const i=r(e);Array.isArray(i)?KC(i,e,n):i&&n(i)}else r&&n(r)})}function pL(t,e,n,r,i){const o=t.$;let a="";if(!o||typeof o=="string")Sv(o)?a=o:e.push(o);else if(typeof o=="function"){const c=o({context:r.context,props:i});Sv(c)?a=c:e.push(c)}else if(o.before&&o.before(r.context),!o.$||typeof o.$=="string")Sv(o.$)?a=o.$:e.push(o.$);else if(o.$){const c=o.$({context:r.context,props:i});Sv(c)?a=c:e.push(c)}const s=$G(e),l=_E(s,t.props,r,i);a?n.push(`${a} {`):l.length&&n.push(l),t.children&&KC(t.children,{context:r.context,props:i},c=>{if(typeof c=="string"){const u=_E(s,{raw:c},r,i);n.push(u)}else pL(c,e,n,r,i)}),e.pop(),a&&n.push("}"),o&&o.after&&o.after(r.context)}function UG(t,e,n){const r=[];return pL(t,[],r,e,n),r.join(`

`)}function _u(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function jG(t,e,n,r){const{els:i}=e;if(n===void 0)i.forEach(RE),e.els=[];else{const o=Q1(n,r);o&&i.includes(o)&&(RE(o),e.els=i.filter(a=>a!==o))}}function PE(t,e){t.push(e)}function VG(t,e,n,r,i,o,a,s,l){let c;if(n===void 0&&(c=e.render(r),n=_u(c)),l){l.adapter(n,c??e.render(r));return}s===void 0&&(s=document.head);const u=Q1(n,s);if(u!==null&&!o)return u;const d=u??BG(n);if(c===void 0&&(c=e.render(r)),d.textContent=c,u!==null)return u;if(a){const h=s.querySelector(`meta[name="${a}"]`);if(h)return s.insertBefore(d,h),PE(e.els,d),d}return i?s.insertBefore(d,s.querySelector("style, link")):s.appendChild(d),PE(e.els,d),d}function WG(t){return UG(this,this.instance,t)}function qG(t={}){const{id:e,ssr:n,props:r,head:i=!1,force:o=!1,anchorMetaName:a,parent:s}=t;return VG(this.instance,this,e,r,i,o,a,s,n)}function KG(t={}){const{id:e,parent:n}=t;jG(this.instance,this,e,n)}const kv=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:WG,mount:qG,unmount:KG}},GG=function(t,e,n,r){return Array.isArray(e)?kv(t,{$:null},null,e):Array.isArray(n)?kv(t,e,null,n):Array.isArray(r)?kv(t,e,n,r):kv(t,e,n,null)};function mL(t={}){const e={c:(...n)=>GG(e,...n),use:(n,...r)=>n.install(e,...r),find:Q1,context:{},config:t};return e}function YG(t,e){if(t===void 0)return!1;if(e){const{context:{ids:n}}=e;return n.has(t)}return Q1(t)!==null}const XG="n",Gm=`.${XG}-`,QG="__",ZG="--",gL=mL(),vL=LG({blockPrefix:Gm,elementPrefix:QG,modifierPrefix:ZG});gL.use(vL);const{c:B,find:pMe}=gL,{cB:R,cE:H,cM:U,cNotM:an}=vL;function _l(t){return B(({props:{bPrefix:e}})=>`${e||Gm}modal, ${e||Gm}drawer`,[t])}function Tc(t){return B(({props:{bPrefix:e}})=>`${e||Gm}popover`,[t])}function yL(t){return B(({props:{bPrefix:e}})=>`&${e||Gm}modal`,t)}const JG=(...t)=>B(">",[R(...t)]);function We(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,n=>n.toUpperCase()))}let Rb=[];const bL=new WeakMap;function eY(){Rb.forEach(t=>t(...bL.get(t))),Rb=[]}function th(t,...e){bL.set(t,e),!Rb.includes(t)&&Rb.push(t)===1&&requestAnimationFrame(eY)}function tY(t){return t.nodeType===9?null:t.parentNode}function xL(t){if(t===null)return null;const e=tY(t);if(e===null)return null;if(e.nodeType===9)return document.documentElement;if(e.nodeType===1){const{overflow:n,overflowX:r,overflowY:i}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(n+i+r))return e}return xL(e)}function Pk(t){return typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t}function Zr(t,e){let{target:n}=t;for(;n;){if(n.dataset&&n.dataset[e]!==void 0)return!0;n=n.parentElement}return!1}function ba(t){return t.composedPath()[0]||null}function nY(t){if(typeof t=="number")return{"":t.toString()};const e={};return t.split(/ +/).forEach(n=>{if(n==="")return;const[r,i]=n.split(":");i===void 0?e[""]=r:e[r]=i}),e}function $h(t,e){var n;if(t==null)return;const r=nY(t);if(e===void 0)return r[""];if(typeof e=="string")return(n=r[e])!==null&&n!==void 0?n:r[""];if(Array.isArray(e)){for(let i=e.length-1;i>=0;--i){const o=e[i];if(o in r)return r[o]}return r[""]}else{let i,o=-1;return Object.keys(r).forEach(a=>{const s=Number(a);!Number.isNaN(s)&&e>=s&&s>=o&&(o=s,i=r[a])}),i}}function pr(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function br(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}function wi(t,e){const n=t.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?r:r[e]}function wL(t,e){const[n,r]=t.split(" ");return{row:n,col:r||n}}const IE={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function CL(t,e,n){e/=100,n/=100;const r=e*Math.min(n,1-n)+n;return[t,r?(2-2*n/r)*100:0,r*100]}function zy(t,e,n){e/=100,n/=100;const r=n-n*e/2,i=Math.min(r,1-r);return[t,i?(n-r)/i*100:0,r*100]}function rc(t,e,n){e/=100,n/=100;let r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5)*255,r(3)*255,r(1)*255]}function GC(t,e,n){t/=255,e/=255,n/=255;let r=Math.max(t,e,n),i=r-Math.min(t,e,n),o=i&&(r==t?(e-n)/i:r==e?2+(n-t)/i:4+(t-e)/i);return[60*(o<0?o+6:o),r&&i/r*100,r*100]}function YC(t,e,n){t/=255,e/=255,n/=255;let r=Math.max(t,e,n),i=r-Math.min(t,e,n),o=1-Math.abs(r+r-i-1),a=i&&(r==t?(e-n)/i:r==e?2+(n-t)/i:4+(t-e)/i);return[60*(a<0?a+6:a),o?i/o*100:0,(r+r-i)*50]}function _b(t,e,n){e/=100,n/=100;let r=e*Math.min(n,1-n),i=(o,a=(o+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0)*255,i(8)*255,i(4)*255]}const Pl="^\\s*",Il="\\s*$",Pu="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",Ma="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Id="([0-9A-Fa-f])",Ld="([0-9A-Fa-f]{2})",AL=new RegExp(`${Pl}hsl\\s*\\(${Ma},${Pu},${Pu}\\)${Il}`),SL=new RegExp(`${Pl}hsv\\s*\\(${Ma},${Pu},${Pu}\\)${Il}`),kL=new RegExp(`${Pl}hsla\\s*\\(${Ma},${Pu},${Pu},${Ma}\\)${Il}`),EL=new RegExp(`${Pl}hsva\\s*\\(${Ma},${Pu},${Pu},${Ma}\\)${Il}`),rY=new RegExp(`${Pl}rgb\\s*\\(${Ma},${Ma},${Ma}\\)${Il}`),iY=new RegExp(`${Pl}rgba\\s*\\(${Ma},${Ma},${Ma},${Ma}\\)${Il}`),Ik=new RegExp(`${Pl}#${Id}${Id}${Id}${Il}`),Lk=new RegExp(`${Pl}#${Ld}${Ld}${Ld}${Il}`),Mk=new RegExp(`${Pl}#${Id}${Id}${Id}${Id}${Il}`),Ok=new RegExp(`${Pl}#${Ld}${Ld}${Ld}${Ld}${Il}`);function oa(t){return parseInt(t,16)}function Wd(t){try{let e;if(e=kL.exec(t))return[Al(e[1]),Gi(e[5]),Gi(e[9]),sc(e[13])];if(e=AL.exec(t))return[Al(e[1]),Gi(e[5]),Gi(e[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${t}.`)}catch(e){throw e}}function Su(t){try{let e;if(e=EL.exec(t))return[Al(e[1]),Gi(e[5]),Gi(e[9]),sc(e[13])];if(e=SL.exec(t))return[Al(e[1]),Gi(e[5]),Gi(e[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${t}.`)}catch(e){throw e}}function $i(t){try{let e;if(e=Lk.exec(t))return[oa(e[1]),oa(e[2]),oa(e[3]),1];if(e=rY.exec(t))return[Ti(e[1]),Ti(e[5]),Ti(e[9]),1];if(e=iY.exec(t))return[Ti(e[1]),Ti(e[5]),Ti(e[9]),sc(e[13])];if(e=Ik.exec(t))return[oa(e[1]+e[1]),oa(e[2]+e[2]),oa(e[3]+e[3]),1];if(e=Ok.exec(t))return[oa(e[1]),oa(e[2]),oa(e[3]),sc(oa(e[4])/255)];if(e=Mk.exec(t))return[oa(e[1]+e[1]),oa(e[2]+e[2]),oa(e[3]+e[3]),sc(oa(e[4]+e[4])/255)];if(t in IE)return $i(IE[t]);if(AL.test(t)||kL.test(t)){const[n,r,i,o]=Wd(t);return[..._b(n,r,i),o]}else if(SL.test(t)||EL.test(t)){const[n,r,i,o]=Su(t);return[...rc(n,r,i),o]}throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function oY(t){return t>1?1:t<0?0:t}function aY(t,e,n){return`rgb(${Ti(t)}, ${Ti(e)}, ${Ti(n)})`}function XC(t,e,n,r){return`rgba(${Ti(t)}, ${Ti(e)}, ${Ti(n)}, ${oY(r)})`}function Cw(t,e,n,r,i){return Ti((t*e*(1-r)+n*r)/i)}function rn(t,e){Array.isArray(t)||(t=$i(t)),Array.isArray(e)||(e=$i(e));const n=t[3],r=e[3],i=sc(n+r-n*r);return XC(Cw(t[0],n,e[0],r,i),Cw(t[1],n,e[1],r,i),Cw(t[2],n,e[2],r,i),i)}function dn(t,e){const[n,r,i,o=1]=Array.isArray(t)?t:$i(t);return typeof e.alpha=="number"?XC(n,r,i,e.alpha):XC(n,r,i,o)}function gf(t,e){const[n,r,i,o=1]=Array.isArray(t)?t:$i(t),{lightness:a=1,alpha:s=1}=e;return xl([n*a,r*a,i*a,o*s])}function sc(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Al(t){const e=Math.round(Number(t));return e>=360||e<0?0:e}function Ti(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function Gi(t){const e=Math.round(Number(t));return e>100?100:e<0?0:e}function QC(t){const[e,n,r]=Array.isArray(t)?t:$i(t);return aY(e,n,r)}function xl(t){const[e,n,r]=t;return 3 in t?`rgba(${Ti(e)}, ${Ti(n)}, ${Ti(r)}, ${sc(t[3])})`:`rgba(${Ti(e)}, ${Ti(n)}, ${Ti(r)}, 1)`}function ZC(t){return`hsv(${Al(t[0])}, ${Gi(t[1])}%, ${Gi(t[2])}%)`}function qd(t){const[e,n,r]=t;return 3 in t?`hsva(${Al(e)}, ${Gi(n)}%, ${Gi(r)}%, ${sc(t[3])})`:`hsva(${Al(e)}, ${Gi(n)}%, ${Gi(r)}%, 1)`}function JC(t){return`hsl(${Al(t[0])}, ${Gi(t[1])}%, ${Gi(t[2])}%)`}function lc(t){const[e,n,r]=t;return 3 in t?`hsla(${Al(e)}, ${Gi(n)}%, ${Gi(r)}%, ${sc(t[3])})`:`hsla(${Al(e)}, ${Gi(n)}%, ${Gi(r)}%, 1)`}function ku(t){if(typeof t=="string"){let r;if(r=Lk.exec(t))return`${r[0]}FF`;if(r=Ok.exec(t))return r[0];if(r=Ik.exec(t))return`#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}FF`;if(r=Mk.exec(t))return`#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}${r[4]}${r[4]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${t}.`)}const e=`#${t.slice(0,3).map(r=>Ti(r).toString(16).toUpperCase().padStart(2,"0")).join("")}`,n=t.length===3?"FF":Ti(t[3]*255).toString(16).padStart(2,"0").toUpperCase();return e+n}function M0(t){if(typeof t=="string"){let e;if(e=Lk.exec(t))return e[0];if(e=Ok.exec(t))return e[0].slice(0,7);if(e=Ik.exec(t)||Mk.exec(t))return`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${t}.`)}return`#${t.slice(0,3).map(e=>Ti(e).toString(16).toUpperCase().padStart(2,"0")).join("")}`}function Zo(t=8){return Math.random().toString(16).slice(2,2+t)}function Iu(t,e){const n=[];for(let r=0;r<t;++r)n.push(e);return n}function sY(t,e){const n=[];if(!e){for(let r=0;r<t;++r)n.push(r);return n}for(let r=0;r<t;++r)n.push(e(r));return n}function Hy(t){return t.composedPath()[0]}const lY={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function cY(t,e,n){if(t==="mousemoveoutside"){const r=i=>{e.contains(Hy(i))||n(i)};return{mousemove:r,touchstart:r}}else if(t==="clickoutside"){let r=!1;const i=a=>{r=!e.contains(Hy(a))},o=a=>{r&&(e.contains(Hy(a))||n(a))};return{mousedown:i,mouseup:o,touchstart:i,touchend:o}}return console.error(`[evtd/create-trap-handler]: name \`${t}\` is invalid. This could be a bug of evtd.`),{}}function TL(t,e,n){const r=lY[t];let i=r.get(e);i===void 0&&r.set(e,i=new WeakMap);let o=i.get(n);return o===void 0&&i.set(n,o=cY(t,e,n)),o}function uY(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=TL(t,e,n);return Object.keys(i).forEach(o=>{wn(o,document,i[o],r)}),!0}return!1}function dY(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=TL(t,e,n);return Object.keys(i).forEach(o=>{xn(o,document,i[o],r)}),!0}return!1}function hY(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const t=new WeakMap,e=new WeakMap;function n(){t.set(this,!0)}function r(){t.set(this,!0),e.set(this,!0)}function i(A,T,k){const E=A[T];return A[T]=function(){return k.apply(A,arguments),E.apply(A,arguments)},A}function o(A,T){A[T]=Event.prototype[T]}const a=new WeakMap,s=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var A;return(A=a.get(this))!==null&&A!==void 0?A:null}function c(A,T){s!==void 0&&Object.defineProperty(A,"currentTarget",{configurable:!0,enumerable:!0,get:T??s.get})}const u={bubble:{},capture:{}},d={};function h(){const A=function(T){const{type:k,eventPhase:E,bubbles:P}=T,_=Hy(T);if(E===2)return;const F=E===1?"capture":"bubble";let N=_;const W=[];for(;N===null&&(N=window),W.push(N),N!==window;)N=N.parentNode||null;const G=u.capture[k],Z=u.bubble[k];if(i(T,"stopPropagation",n),i(T,"stopImmediatePropagation",r),c(T,l),F==="capture"){if(G===void 0)return;for(let ie=W.length-1;ie>=0&&!t.has(T);--ie){const he=W[ie],xe=G.get(he);if(xe!==void 0){a.set(T,he);for(const Q of xe){if(e.has(T))break;Q(T)}}if(ie===0&&!P&&Z!==void 0){const Q=Z.get(he);if(Q!==void 0)for(const X of Q){if(e.has(T))break;X(T)}}}}else if(F==="bubble"){if(Z===void 0)return;for(let ie=0;ie<W.length&&!t.has(T);++ie){const he=W[ie],xe=Z.get(he);if(xe!==void 0){a.set(T,he);for(const Q of xe){if(e.has(T))break;Q(T)}}}}o(T,"stopPropagation"),o(T,"stopImmediatePropagation"),c(T)};return A.displayName="evtdUnifiedHandler",A}function f(){const A=function(T){const{type:k,eventPhase:E}=T;if(E!==2)return;const P=d[k];P!==void 0&&P.forEach(_=>_(T))};return A.displayName="evtdUnifiedWindowEventHandler",A}const p=h(),g=f();function m(A,T){const k=u[A];return k[T]===void 0&&(k[T]=new Map,window.addEventListener(T,p,A==="capture")),k[T]}function y(A){return d[A]===void 0&&(d[A]=new Set,window.addEventListener(A,g)),d[A]}function b(A,T){let k=A.get(T);return k===void 0&&A.set(T,k=new Set),k}function x(A,T,k,E){const P=u[T][k];if(P!==void 0){const _=P.get(A);if(_!==void 0&&_.has(E))return!0}return!1}function w(A,T){const k=d[A];return!!(k!==void 0&&k.has(T))}function C(A,T,k,E){let P;if(typeof E=="object"&&E.once===!0?P=G=>{S(A,T,P,E),k(G)}:P=k,uY(A,T,P,E))return;const F=E===!0||typeof E=="object"&&E.capture===!0?"capture":"bubble",N=m(F,A),W=b(N,T);if(W.has(P)||W.add(P),T===window){const G=y(A);G.has(P)||G.add(P)}}function S(A,T,k,E){if(dY(A,T,k,E))return;const _=E===!0||typeof E=="object"&&E.capture===!0,F=_?"capture":"bubble",N=m(F,A),W=b(N,T);if(T===window&&!x(T,_?"bubble":"capture",A,k)&&w(A,k)){const Z=d[A];Z.delete(k),Z.size===0&&(window.removeEventListener(A,g),d[A]=void 0)}W.has(k)&&W.delete(k),W.size===0&&N.delete(T),N.size===0&&(window.removeEventListener(A,p,F==="capture"),u[F][A]=void 0)}return{on:C,off:S}}const{on:wn,off:xn}=hY();function RL(t){const e=V(!!t.value);if(e.value)return Is(e);const n=qt(t,r=>{r&&(e.value=!0,n())});return Is(e)}function Yt(t){const e=L(t),n=V(e.value);return qt(e,r=>{n.value=r}),typeof t=="function"?n:{__v_isRef:!0,get value(){return n.value},set value(r){t.set(r)}}}function Dk(){return Fs()!==null}const Z1=typeof window<"u";let kf,O0;const fY=()=>{var t,e;kf=Z1?(e=(t=document)===null||t===void 0?void 0:t.fonts)===null||e===void 0?void 0:e.ready:void 0,O0=!1,kf!==void 0?kf.then(()=>{O0=!0}):O0=!0};fY();function J1(t){if(O0)return;let e=!1;jn(()=>{O0||kf==null||kf.then(()=>{e||t()})}),ir(()=>{e=!0})}const v0=V(null);function LE(t){if(t.clientX>0||t.clientY>0)v0.value={x:t.clientX,y:t.clientY};else{const{target:e}=t;if(e instanceof Element){const{left:n,top:r,width:i,height:o}=e.getBoundingClientRect();n>0||r>0?v0.value={x:n+i/2,y:r+o/2}:v0.value={x:0,y:0}}else v0.value=null}}let Ev=0,ME=!0;function Fk(){if(!Z1)return Is(V(null));Ev===0&&wn("click",document,LE,!0);const t=()=>{Ev+=1};return ME&&(ME=Dk())?(Ec(t),ir(()=>{Ev-=1,Ev===0&&xn("click",document,LE,!0)})):t(),Is(v0)}const pY=V(void 0);let Tv=0;function OE(){pY.value=Date.now()}let DE=!0;function $k(t){if(!Z1)return Is(V(!1));const e=V(!1);let n=null;function r(){n!==null&&window.clearTimeout(n)}function i(){r(),e.value=!0,n=window.setTimeout(()=>{e.value=!1},t)}Tv===0&&wn("click",window,OE,!0);const o=()=>{Tv+=1,wn("click",window,i,!0)};return DE&&(DE=Dk())?(Ec(o),ir(()=>{Tv-=1,Tv===0&&xn("click",window,OE,!0),xn("click",window,i,!0),r()})):o(),Is(e)}function Cn(t,e){return qt(t,n=>{n!==void 0&&(e.value=n)}),L(()=>t.value===void 0?e.value:t.value)}function co(){const t=V(!1);return jn(()=>{t.value=!0}),Is(t)}function Lu(t,e){return L(()=>{for(const n of e)if(t[n]!==void 0)return t[n];return t[e[e.length-1]]})}const mY=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function gY(){return mY}const vY={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function yY(t){return`(min-width: ${t}px)`}const Yp={};function bY(t=vY){if(!Z1)return L(()=>[]);if(typeof window.matchMedia!="function")return L(()=>[]);const e=V({}),n=Object.keys(t),r=(i,o)=>{i.matches?e.value[o]=!0:e.value[o]=!1};return n.forEach(i=>{const o=t[i];let a,s;Yp[o]===void 0?(a=window.matchMedia(yY(o)),a.addEventListener?a.addEventListener("change",l=>{s.forEach(c=>{c(l,i)})}):a.addListener&&a.addListener(l=>{s.forEach(c=>{c(l,i)})}),s=new Set,Yp[o]={mql:a,cbs:s}):(a=Yp[o].mql,s=Yp[o].cbs),s.add(r),a.matches&&s.forEach(l=>{l(a,i)})}),ir(()=>{n.forEach(i=>{const{cbs:o}=Yp[t[i]];o.has(r)&&o.delete(r)})}),L(()=>{const{value:i}=e;return n.filter(o=>i[o])})}function Bk(t={},e){const n=Tl({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:r,keyup:i}=t,o=l=>{switch(l.key){case"Control":n.ctrl=!0;break;case"Meta":n.command=!0,n.win=!0;break;case"Shift":n.shift=!0;break;case"Tab":n.tab=!0;break}r!==void 0&&Object.keys(r).forEach(c=>{if(c!==l.key)return;const u=r[c];if(typeof u=="function")u(l);else{const{stop:d=!1,prevent:h=!1}=u;d&&l.stopPropagation(),h&&l.preventDefault(),u.handler(l)}})},a=l=>{switch(l.key){case"Control":n.ctrl=!1;break;case"Meta":n.command=!1,n.win=!1;break;case"Shift":n.shift=!1;break;case"Tab":n.tab=!1;break}i!==void 0&&Object.keys(i).forEach(c=>{if(c!==l.key)return;const u=i[c];if(typeof u=="function")u(l);else{const{stop:d=!1,prevent:h=!1}=u;d&&l.stopPropagation(),h&&l.preventDefault(),u.handler(l)}})},s=()=>{(e===void 0||e.value)&&(wn("keydown",document,o),wn("keyup",document,a)),e!==void 0&&qt(e,l=>{l?(wn("keydown",document,o),wn("keyup",document,a)):(xn("keydown",document,o),xn("keyup",document,a))})};return Dk()?(Ec(s),ir(()=>{(e===void 0||e.value)&&(xn("keydown",document,o),xn("keyup",document,a))})):s(),Is(n)}const Nk="n-internal-select-menu",_L="n-internal-select-menu-body",Dg="n-drawer-body",zk="n-drawer",Fg="n-modal-body",xY="n-modal-provider",PL="n-modal",cp="n-popover-body",IL="__disabled__";function vr(t){const e=ut(Fg,null),n=ut(Dg,null),r=ut(cp,null),i=ut(_L,null),o=V();if(typeof document<"u"){o.value=document.fullscreenElement;const a=()=>{o.value=document.fullscreenElement};jn(()=>{wn("fullscreenchange",document,a)}),ir(()=>{xn("fullscreenchange",document,a)})}return Yt(()=>{var a;const{to:s}=t;return s!==void 0?s===!1?IL:s===!0?o.value||"body":s:e!=null&&e.value?(a=e.value.$el)!==null&&a!==void 0?a:e.value:n!=null&&n.value?n.value:r!=null&&r.value?r.value:i!=null&&i.value?i.value:s??(o.value||"body")})}vr.tdkey=IL;vr.propTo={type:[String,Object,Boolean],default:void 0};function wY(t,e,n){var r;const i=ut(t,null);if(i===null)return;const o=(r=Fs())===null||r===void 0?void 0:r.proxy;qt(n,a),a(n.value),ir(()=>{a(void 0,n.value)});function a(c,u){if(!i)return;const d=i[e];u!==void 0&&s(d,u),c!==void 0&&l(d,c)}function s(c,u){c[u]||(c[u]=[]),c[u].splice(c[u].findIndex(d=>d===o),1)}function l(c,u){c[u]||(c[u]=[]),~c[u].findIndex(d=>d===o)||c[u].push(o)}}function CY(t,e,n){const r=ut(t,null);r!==null&&(e in r||(r[e]=[]),r[e].push(n.value),qt(n,(i,o)=>{const a=r[e],s=a.findIndex(l=>l===o);~s&&a.splice(s,1),a.push(i)}),ir(()=>{const i=r[e],o=i.findIndex(a=>a===n.value);~o&&i.splice(o,1)}))}function AY(t,e,n){const r=ut(t,null);r!==null&&(e in r||(r[e]=[]),jn(()=>{const i=n();i&&r[e].push(i)}),ir(()=>{const i=r[e],o=n(),a=i.findIndex(s=>s===o);~a&&i.splice(a,1)}))}function SY(t,e,n){const r=V(t.value);let i=null;return qt(t,o=>{i!==null&&window.clearTimeout(i),o===!0?n&&!n.value?r.value=!0:i=window.setTimeout(()=>{r.value=!0},e):r.value=!1}),r}const na=typeof document<"u"&&typeof window<"u";let FE=!1;function Hk(){if(na&&window.CSS&&!FE&&(FE=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const Uk=V(!1);function $E(){Uk.value=!0}function BE(){Uk.value=!1}let Xp=0;function LL(){return na&&(Ec(()=>{Xp||(window.addEventListener("compositionstart",$E),window.addEventListener("compositionend",BE)),Xp++}),ir(()=>{Xp<=1?(window.removeEventListener("compositionstart",$E),window.removeEventListener("compositionend",BE),Xp=0):Xp--})),Uk}let Bh=0,NE="",zE="",HE="",UE="";const eA=V("0px");function ML(t){if(typeof document>"u")return;const e=document.documentElement;let n,r=!1;const i=()=>{e.style.marginRight=NE,e.style.overflow=zE,e.style.overflowX=HE,e.style.overflowY=UE,eA.value="0px"};jn(()=>{n=qt(t,o=>{if(o){if(!Bh){const a=window.innerWidth-e.offsetWidth;a>0&&(NE=e.style.marginRight,e.style.marginRight=`${a}px`,eA.value=`${a}px`),zE=e.style.overflow,HE=e.style.overflowX,UE=e.style.overflowY,e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden"}r=!0,Bh++}else Bh--,Bh||i(),r=!1},{immediate:!0})}),ir(()=>{n==null||n(),r&&(Bh--,Bh||i(),r=!1)})}function jk(t){const e={isDeactivated:!1};let n=!1;return Sk(()=>{if(e.isDeactivated=!1,!n){n=!0;return}t()}),V1(()=>{e.isDeactivated=!0,n||(n=!0)}),e}function tA(t,e,n="default"){const r=e[n];if(r===void 0)throw new Error(`[vueuc/${t}]: slot[${n}] is empty.`);return r()}function nA(t,e=!0,n=[]){return t.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(Ru(String(r)));return}if(Array.isArray(r)){nA(r,e,n);return}if(r.type===qn){if(r.children===null)return;Array.isArray(r.children)&&nA(r.children,e,n)}else r.type!==Ki&&n.push(r)}}),n}function jE(t,e,n="default"){const r=e[n];if(r===void 0)throw new Error(`[vueuc/${t}]: slot[${n}] is empty.`);const i=nA(r());if(i.length===1)return i[0];throw new Error(`[vueuc/${t}]: slot[${n}] should have exactly one child.`)}let Hc=null;function OL(){if(Hc===null&&(Hc=document.getElementById("v-binder-view-measurer"),Hc===null)){Hc=document.createElement("div"),Hc.id="v-binder-view-measurer";const{style:t}=Hc;t.position="fixed",t.left="0",t.right="0",t.top="0",t.bottom="0",t.pointerEvents="none",t.visibility="hidden",document.body.appendChild(Hc)}return Hc.getBoundingClientRect()}function kY(t,e){const n=OL();return{top:e,left:t,height:0,width:0,right:n.width-t,bottom:n.height-e}}function Aw(t){const e=t.getBoundingClientRect(),n=OL();return{left:e.left-n.left,top:e.top-n.top,bottom:n.height+n.top-e.bottom,right:n.width+n.left-e.right,width:e.width,height:e.height}}function EY(t){return t.nodeType===9?null:t.parentNode}function DL(t){if(t===null)return null;const e=EY(t);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:n,overflowX:r,overflowY:i}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(n+i+r))return e}return DL(e)}const us=le({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(t){var e;zt("VBinder",(e=Fs())===null||e===void 0?void 0:e.proxy);const n=ut("VBinder",null),r=V(null),i=y=>{r.value=y,n&&t.syncTargetWithParent&&n.setTargetRef(y)};let o=[];const a=()=>{let y=r.value;for(;y=DL(y),y!==null;)o.push(y);for(const b of o)wn("scroll",b,d,!0)},s=()=>{for(const y of o)xn("scroll",y,d,!0);o=[]},l=new Set,c=y=>{l.size===0&&a(),l.has(y)||l.add(y)},u=y=>{l.has(y)&&l.delete(y),l.size===0&&s()},d=()=>{th(h)},h=()=>{l.forEach(y=>y())},f=new Set,p=y=>{f.size===0&&wn("resize",window,m),f.has(y)||f.add(y)},g=y=>{f.has(y)&&f.delete(y),f.size===0&&xn("resize",window,m)},m=()=>{f.forEach(y=>y())};return ir(()=>{xn("resize",window,m),s()}),{targetRef:r,setTargetRef:i,addScrollListener:c,removeScrollListener:u,addResizeListener:p,removeResizeListener:g}},render(){return tA("binder",this.$slots)}}),ds=le({name:"Target",setup(){const{setTargetRef:t,syncTarget:e}=ut("VBinder");return{syncTarget:e,setTargetDirective:{mounted:t,updated:t}}},render(){const{syncTarget:t,setTargetDirective:e}=this;return t?ii(jE("follower",this.$slots),[[e]]):jE("follower",this.$slots)}}),Nh="@@mmoContext",TY={mounted(t,{value:e}){t[Nh]={handler:void 0},typeof e=="function"&&(t[Nh].handler=e,wn("mousemoveoutside",t,e))},updated(t,{value:e}){const n=t[Nh];typeof e=="function"?n.handler?n.handler!==e&&(xn("mousemoveoutside",t,n.handler),n.handler=e,wn("mousemoveoutside",t,e)):(t[Nh].handler=e,wn("mousemoveoutside",t,e)):n.handler&&(xn("mousemoveoutside",t,n.handler),n.handler=void 0)},unmounted(t){const{handler:e}=t[Nh];e&&xn("mousemoveoutside",t,e),t[Nh].handler=void 0}},zh="@@coContext",xa={mounted(t,{value:e,modifiers:n}){t[zh]={handler:void 0},typeof e=="function"&&(t[zh].handler=e,wn("clickoutside",t,e,{capture:n.capture}))},updated(t,{value:e,modifiers:n}){const r=t[zh];typeof e=="function"?r.handler?r.handler!==e&&(xn("clickoutside",t,r.handler,{capture:n.capture}),r.handler=e,wn("clickoutside",t,e,{capture:n.capture})):(t[zh].handler=e,wn("clickoutside",t,e,{capture:n.capture})):r.handler&&(xn("clickoutside",t,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(t,{modifiers:e}){const{handler:n}=t[zh];n&&xn("clickoutside",t,n,{capture:e.capture}),t[zh].handler=void 0}};function RY(t,e){console.error(`[vdirs/${t}]: ${e}`)}class _Y{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,n){const{elementZIndex:r}=this;if(n!==void 0){e.style.zIndex=`${n}`,r.delete(e);return}const{nextZIndex:i}=this;r.has(e)&&r.get(e)+1===this.nextZIndex||(e.style.zIndex=`${i}`,r.set(e,i),this.nextZIndex=i+1,this.squashState())}unregister(e,n){const{elementZIndex:r}=this;r.has(e)?r.delete(e):n===void 0&&RY("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((n,r)=>n[1]-r[1]),this.nextZIndex=2e3,e.forEach(n=>{const r=n[0],i=this.nextZIndex++;`${i}`!==r.style.zIndex&&(r.style.zIndex=`${i}`)})}}const Sw=new _Y,Hh="@@ziContext",$g={mounted(t,e){const{value:n={}}=e,{zIndex:r,enabled:i}=n;t[Hh]={enabled:!!i,initialized:!1},i&&(Sw.ensureZIndex(t,r),t[Hh].initialized=!0)},updated(t,e){const{value:n={}}=e,{zIndex:r,enabled:i}=n,o=t[Hh].enabled;i&&!o&&(Sw.ensureZIndex(t,r),t[Hh].initialized=!0),t[Hh].enabled=!!i},unmounted(t,e){if(!t[Hh].initialized)return;const{value:n={}}=e,{zIndex:r}=n;Sw.unregister(t,r)}},PY="@css-render/vue3-ssr";function IY(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function LY(t,e,n){const{styles:r,ids:i}=n;i.has(t)||r!==null&&(i.add(t),r.push(IY(t,e)))}const MY=typeof document<"u";function Rc(){if(MY)return;const t=ut(PY,null);if(t!==null)return{adapter:(e,n)=>LY(e,n,t),context:t}}function VE(t,e){console.error(`[vueuc/${t}]: ${e}`)}const{c:fl}=mL(),ex="vueuc-style";function WE(t){return t&-t}class FL{constructor(e,n){this.l=e,this.min=n;const r=new Array(e+1);for(let i=0;i<e+1;++i)r[i]=0;this.ft=r}add(e,n){if(n===0)return;const{l:r,ft:i}=this;for(e+=1;e<=r;)i[e]+=n,e+=WE(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(e===void 0&&(e=this.l),e<=0)return 0;const{ft:n,min:r,l:i}=this;if(e>i)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let o=e*r;for(;e>0;)o+=n[e],e-=WE(e);return o}getBound(e){let n=0,r=this.l;for(;r>n;){const i=Math.floor((n+r)/2),o=this.sum(i);if(o>e){r=i;continue}else if(o<e){if(n===i)return this.sum(n+1)<=e?n+1:i;n=i}else return i}return n}}function qE(t){return typeof t=="string"?document.querySelector(t):t()||null}const Bg=le({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(t){return{showTeleport:RL($e(t,"show")),mergedTo:L(()=>{const{to:e}=t;return e??"body"})}},render(){return this.showTeleport?this.disabled?tA("lazy-teleport",this.$slots):v(fh,{disabled:this.disabled,to:this.mergedTo},tA("lazy-teleport",this.$slots)):null}}),Rv={top:"bottom",bottom:"top",left:"right",right:"left"},KE={start:"end",center:"center",end:"start"},kw={top:"height",bottom:"height",left:"width",right:"width"},OY={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},DY={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},FY={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},GE={top:!0,bottom:!1,left:!0,right:!1},YE={top:"end",bottom:"start",left:"end",right:"start"};function $Y(t,e,n,r,i,o){if(!i||o)return{placement:t,top:0,left:0};const[a,s]=t.split("-");let l=s??"center",c={top:0,left:0};const u=(f,p,g)=>{let m=0,y=0;const b=n[f]-e[p]-e[f];return b>0&&r&&(g?y=GE[p]?b:-b:m=GE[p]?b:-b),{left:m,top:y}},d=a==="left"||a==="right";if(l!=="center"){const f=FY[t],p=Rv[f],g=kw[f];if(n[g]>e[g]){if(e[f]+e[g]<n[g]){const m=(n[g]-e[g])/2;e[f]<m||e[p]<m?e[f]<e[p]?(l=KE[s],c=u(g,p,d)):c=u(g,f,d):l="center"}}else n[g]<e[g]&&e[p]<0&&e[f]>e[p]&&(l=KE[s])}else{const f=a==="bottom"||a==="top"?"left":"top",p=Rv[f],g=kw[f],m=(n[g]-e[g])/2;(e[f]<m||e[p]<m)&&(e[f]>e[p]?(l=YE[f],c=u(g,f,d)):(l=YE[p],c=u(g,p,d)))}let h=a;return e[a]<n[kw[a]]&&e[a]<e[Rv[a]]&&(h=Rv[a]),{placement:l!=="center"?`${h}-${l}`:h,left:c.left,top:c.top}}function BY(t,e){return e?DY[t]:OY[t]}function NY(t,e,n,r,i,o){if(o)switch(t){case"bottom-start":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left)}px`,transform:""};case"top-end":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left)}px`,transform:""};case"left-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-e.top+n.height/2)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-e.top+n.height/2)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(t){case"bottom-start":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+i)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width+i)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+i)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width+i)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width+i)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+i)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width/2+i)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-e.top+n.height/2+r)}px`,left:`${Math.round(n.left-e.left+n.width+i)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-e.top+n.height/2+r)}px`,left:`${Math.round(n.left-e.left+i)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width/2+i)}px`,transform:"translateX(-50%)"}}}const zY=fl([fl(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),fl(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[fl("> *",{pointerEvents:"all"})])]),Na=le({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(t){const e=ut("VBinder"),n=Yt(()=>t.enabled!==void 0?t.enabled:t.show),r=V(null),i=V(null),o=()=>{const{syncTrigger:h}=t;h.includes("scroll")&&e.addScrollListener(l),h.includes("resize")&&e.addResizeListener(l)},a=()=>{e.removeScrollListener(l),e.removeResizeListener(l)};jn(()=>{n.value&&(l(),o())});const s=Rc();zY.mount({id:"vueuc/binder",head:!0,anchorMetaName:ex,ssr:s}),ir(()=>{a()}),J1(()=>{n.value&&l()});const l=()=>{if(!n.value)return;const h=r.value;if(h===null)return;const f=e.targetRef,{x:p,y:g,overlap:m}=t,y=p!==void 0&&g!==void 0?kY(p,g):Aw(f);h.style.setProperty("--v-target-width",`${Math.round(y.width)}px`),h.style.setProperty("--v-target-height",`${Math.round(y.height)}px`);const{width:b,minWidth:x,placement:w,internalShift:C,flip:S}=t;h.setAttribute("v-placement",w),m?h.setAttribute("v-overlap",""):h.removeAttribute("v-overlap");const{style:A}=h;b==="target"?A.width=`${y.width}px`:b!==void 0?A.width=b:A.width="",x==="target"?A.minWidth=`${y.width}px`:x!==void 0?A.minWidth=x:A.minWidth="";const T=Aw(h),k=Aw(i.value),{left:E,top:P,placement:_}=$Y(w,y,T,C,S,m),F=BY(_,m),{left:N,top:W,transform:G}=NY(_,k,y,P,E,m);h.setAttribute("v-placement",_),h.style.setProperty("--v-offset-left",`${Math.round(E)}px`),h.style.setProperty("--v-offset-top",`${Math.round(P)}px`),h.style.transform=`translateX(${N}) translateY(${W}) ${G}`,h.style.setProperty("--v-transform-origin",F),h.style.transformOrigin=F};qt(n,h=>{h?(o(),c()):a()});const c=()=>{vn().then(l).catch(h=>console.error(h))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(h=>{qt($e(t,h),l)}),["teleportDisabled"].forEach(h=>{qt($e(t,h),c)}),qt($e(t,"syncTrigger"),h=>{h.includes("resize")?e.addResizeListener(l):e.removeResizeListener(l),h.includes("scroll")?e.addScrollListener(l):e.removeScrollListener(l)});const u=co(),d=Yt(()=>{const{to:h}=t;if(h!==void 0)return h;u.value});return{VBinder:e,mergedEnabled:n,offsetContainerRef:i,followerRef:r,mergedTo:d,syncPosition:l}},render(){return v(Bg,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var t,e;const n=v("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[v("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))]);return this.zindexable?ii(n,[[$g,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});var Kd=[],HY=function(){return Kd.some(function(t){return t.activeTargets.length>0})},UY=function(){return Kd.some(function(t){return t.skippedTargets.length>0})},XE="ResizeObserver loop completed with undelivered notifications.",jY=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:XE}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=XE),window.dispatchEvent(t)},Ym;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ym||(Ym={}));var Gd=function(t){return Object.freeze(t)},VY=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Gd(this)}return t}(),$L=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Gd(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,o=e.right,a=e.bottom,s=e.left,l=e.width,c=e.height;return{x:n,y:r,top:i,right:o,bottom:a,left:s,width:l,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Vk=function(t){return t instanceof SVGElement&&"getBBox"in t},BL=function(t){if(Vk(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||t.getClientRects().length)},QE=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},WY=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},D0=typeof window<"u"?window:{},_v=new WeakMap,ZE=/auto|scroll/,qY=/^tb|vertical/,KY=/msie|trident/i.test(D0.navigator&&D0.navigator.userAgent),js=function(t){return parseFloat(t||"0")},Ef=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new VY((n?e:t)||0,(n?t:e)||0)},JE=Gd({devicePixelContentBoxSize:Ef(),borderBoxSize:Ef(),contentBoxSize:Ef(),contentRect:new $L(0,0,0,0)}),NL=function(t,e){if(e===void 0&&(e=!1),_v.has(t)&&!e)return _v.get(t);if(BL(t))return _v.set(t,JE),JE;var n=getComputedStyle(t),r=Vk(t)&&t.ownerSVGElement&&t.getBBox(),i=!KY&&n.boxSizing==="border-box",o=qY.test(n.writingMode||""),a=!r&&ZE.test(n.overflowY||""),s=!r&&ZE.test(n.overflowX||""),l=r?0:js(n.paddingTop),c=r?0:js(n.paddingRight),u=r?0:js(n.paddingBottom),d=r?0:js(n.paddingLeft),h=r?0:js(n.borderTopWidth),f=r?0:js(n.borderRightWidth),p=r?0:js(n.borderBottomWidth),g=r?0:js(n.borderLeftWidth),m=d+c,y=l+u,b=g+f,x=h+p,w=s?t.offsetHeight-x-t.clientHeight:0,C=a?t.offsetWidth-b-t.clientWidth:0,S=i?m+b:0,A=i?y+x:0,T=r?r.width:js(n.width)-S-C,k=r?r.height:js(n.height)-A-w,E=T+m+C+b,P=k+y+w+x,_=Gd({devicePixelContentBoxSize:Ef(Math.round(T*devicePixelRatio),Math.round(k*devicePixelRatio),o),borderBoxSize:Ef(E,P,o),contentBoxSize:Ef(T,k,o),contentRect:new $L(d,l,T,k)});return _v.set(t,_),_},zL=function(t,e,n){var r=NL(t,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(e){case Ym.DEVICE_PIXEL_CONTENT_BOX:return a;case Ym.BORDER_BOX:return i;default:return o}},GY=function(){function t(e){var n=NL(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Gd([n.borderBoxSize]),this.contentBoxSize=Gd([n.contentBoxSize]),this.devicePixelContentBoxSize=Gd([n.devicePixelContentBoxSize])}return t}(),HL=function(t){if(BL(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},YY=function(){var t=1/0,e=[];Kd.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(c){var u=new GY(c.target),d=HL(c.target);s.push(u),c.lastReportedSize=zL(c.target,c.observedBox),d<t&&(t=d)}),e.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},eT=function(t){Kd.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(HL(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},XY=function(){var t=0;for(eT(t);HY();)t=YY(),eT(t);return UY()&&jY(),t>0},Ew,UL=[],QY=function(){return UL.splice(0).forEach(function(t){return t()})},ZY=function(t){if(!Ew){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return QY()}).observe(n,r),Ew=function(){n.textContent="".concat(e?e--:e++)}}UL.push(t),Ew()},JY=function(t){ZY(function(){requestAnimationFrame(t)})},Uy=0,eX=function(){return!!Uy},tX=250,nX={attributes:!0,characterData:!0,childList:!0,subtree:!0},tT=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],nT=function(t){return t===void 0&&(t=0),Date.now()+t},Tw=!1,rX=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=tX),!Tw){Tw=!0;var r=nT(e);JY(function(){var i=!1;try{i=XY()}finally{if(Tw=!1,e=r-nT(),!eX())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,nX)};document.body?n():D0.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),tT.forEach(function(n){return D0.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),tT.forEach(function(n){return D0.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),rA=new rX,rT=function(t){!Uy&&t>0&&rA.start(),Uy+=t,!Uy&&rA.stop()},iX=function(t){return!Vk(t)&&!WY(t)&&getComputedStyle(t).display==="inline"},oX=function(){function t(e,n){this.target=e,this.observedBox=n||Ym.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=zL(this.target,this.observedBox,!0);return iX(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),aX=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Pv=new WeakMap,iT=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Iv=function(){function t(){}return t.connect=function(e,n){var r=new aX(e,n);Pv.set(e,r)},t.observe=function(e,n,r){var i=Pv.get(e),o=i.observationTargets.length===0;iT(i.observationTargets,n)<0&&(o&&Kd.push(i),i.observationTargets.push(new oX(n,r&&r.box)),rT(1),rA.schedule())},t.unobserve=function(e,n){var r=Pv.get(e),i=iT(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&Kd.splice(Kd.indexOf(r),1),r.observationTargets.splice(i,1),rT(-1))},t.disconnect=function(e){var n=this,r=Pv.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),sX=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Iv.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QE(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Iv.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QE(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Iv.unobserve(this,e)},t.prototype.disconnect=function(){Iv.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();class lX{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||sX)(this.handleResize),this.elHandlersMap=new Map}handleResize(e){for(const n of e){const r=this.elHandlersMap.get(n.target);r!==void 0&&r(n)}}registerHandler(e,n){this.elHandlersMap.set(e,n),this.observer.observe(e)}unregisterHandler(e){this.elHandlersMap.has(e)&&(this.elHandlersMap.delete(e),this.observer.unobserve(e))}}const F0=new lX,$o=le({name:"ResizeObserver",props:{onResize:Function},setup(t){let e=!1;const n=Fs().proxy;function r(i){const{onResize:o}=t;o!==void 0&&o(i)}jn(()=>{const i=n.$el;if(i===void 0){VE("resize-observer","$el does not exist.");return}if(i.nextElementSibling!==i.nextSibling&&i.nodeType===3&&i.nodeValue!==""){VE("resize-observer","$el can not be observed (it may be a text node).");return}i.nextElementSibling!==null&&(F0.registerHandler(i.nextElementSibling,r),e=!0)}),ir(()=>{e&&F0.unregisterHandler(n.$el.nextElementSibling)})},render(){return ph(this.$slots,"default")}});let Lv;function cX(){return typeof document>"u"?!1:(Lv===void 0&&("matchMedia"in window?Lv=window.matchMedia("(pointer:coarse)").matches:Lv=!1),Lv)}let Rw;function oT(){return typeof document>"u"?1:(Rw===void 0&&(Rw="chrome"in window?window.devicePixelRatio:1),Rw)}const jL="VVirtualListXScroll";function uX({columnsRef:t,renderColRef:e,renderItemWithColsRef:n}){const r=V(0),i=V(0),o=L(()=>{const c=t.value;if(c.length===0)return null;const u=new FL(c.length,0);return c.forEach((d,h)=>{u.add(h,d.width)}),u}),a=Yt(()=>{const c=o.value;return c!==null?Math.max(c.getBound(i.value)-1,0):0}),s=c=>{const u=o.value;return u!==null?u.sum(c):0},l=Yt(()=>{const c=o.value;return c!==null?Math.min(c.getBound(i.value+r.value)+1,t.value.length-1):0});return zt(jL,{startIndexRef:a,endIndexRef:l,columnsRef:t,renderColRef:e,renderItemWithColsRef:n,getLeft:s}),{listWidthRef:r,scrollLeftRef:i}}const aT=le({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:t,endIndexRef:e,columnsRef:n,getLeft:r,renderColRef:i,renderItemWithColsRef:o}=ut(jL);return{startIndex:t,endIndex:e,columns:n,renderCol:i,renderItemWithCols:o,getLeft:r}},render(){const{startIndex:t,endIndex:e,columns:n,renderCol:r,renderItemWithCols:i,getLeft:o,item:a}=this;if(i!=null)return i({itemIndex:this.index,startColIndex:t,endColIndex:e,allColumns:n,item:a,getLeft:o});if(r!=null){const s=[];for(let l=t;l<=e;++l){const c=n[l];s.push(r({column:c,left:o(l),item:a}))}return s}return null}}),dX=fl(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[fl("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[fl("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Os=le({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(t){const e=Rc();dX.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:ex,ssr:e}),jn(()=>{const{defaultScrollIndex:F,defaultScrollKey:N}=t;F!=null?m({index:F}):N!=null&&m({key:N})});let n=!1,r=!1;Sk(()=>{if(n=!1,!r){r=!0;return}m({top:f.value,left:a.value})}),V1(()=>{n=!0,r||(r=!0)});const i=Yt(()=>{if(t.renderCol==null&&t.renderItemWithCols==null||t.columns.length===0)return;let F=0;return t.columns.forEach(N=>{F+=N.width}),F}),o=L(()=>{const F=new Map,{keyField:N}=t;return t.items.forEach((W,G)=>{F.set(W[N],G)}),F}),{scrollLeftRef:a,listWidthRef:s}=uX({columnsRef:$e(t,"columns"),renderColRef:$e(t,"renderCol"),renderItemWithColsRef:$e(t,"renderItemWithCols")}),l=V(null),c=V(void 0),u=new Map,d=L(()=>{const{items:F,itemSize:N,keyField:W}=t,G=new FL(F.length,N);return F.forEach((Z,ie)=>{const he=Z[W],xe=u.get(he);xe!==void 0&&G.add(ie,xe)}),G}),h=V(0),f=V(0),p=Yt(()=>Math.max(d.value.getBound(f.value-pr(t.paddingTop))-1,0)),g=L(()=>{const{value:F}=c;if(F===void 0)return[];const{items:N,itemSize:W}=t,G=p.value,Z=Math.min(G+Math.ceil(F/W+1),N.length-1),ie=[];for(let he=G;he<=Z;++he)ie.push(N[he]);return ie}),m=(F,N)=>{if(typeof F=="number"){w(F,N,"auto");return}const{left:W,top:G,index:Z,key:ie,position:he,behavior:xe,debounce:Q=!0}=F;if(W!==void 0||G!==void 0)w(W,G,xe);else if(Z!==void 0)x(Z,xe,Q);else if(ie!==void 0){const X=o.value.get(ie);X!==void 0&&x(X,xe,Q)}else he==="bottom"?w(0,Number.MAX_SAFE_INTEGER,xe):he==="top"&&w(0,0,xe)};let y,b=null;function x(F,N,W){const{value:G}=d,Z=G.sum(F)+pr(t.paddingTop);if(!W)l.value.scrollTo({left:0,top:Z,behavior:N});else{y=F,b!==null&&window.clearTimeout(b),b=window.setTimeout(()=>{y=void 0,b=null},16);const{scrollTop:ie,offsetHeight:he}=l.value;if(Z>ie){const xe=G.get(F);Z+xe<=ie+he||l.value.scrollTo({left:0,top:Z+xe-he,behavior:N})}else l.value.scrollTo({left:0,top:Z,behavior:N})}}function w(F,N,W){l.value.scrollTo({left:F,top:N,behavior:W})}function C(F,N){var W,G,Z;if(n||t.ignoreItemResize||_(N.target))return;const{value:ie}=d,he=o.value.get(F),xe=ie.get(he),Q=(Z=(G=(W=N.borderBoxSize)===null||W===void 0?void 0:W[0])===null||G===void 0?void 0:G.blockSize)!==null&&Z!==void 0?Z:N.contentRect.height;if(Q===xe)return;Q-t.itemSize===0?u.delete(F):u.set(F,Q-t.itemSize);const K=Q-xe;if(K===0)return;ie.add(he,K);const ne=l.value;if(ne!=null){if(y===void 0){const ve=ie.sum(he);ne.scrollTop>ve&&ne.scrollBy(0,K)}else if(he<y)ne.scrollBy(0,K);else if(he===y){const ve=ie.sum(he);Q+ve>ne.scrollTop+ne.offsetHeight&&ne.scrollBy(0,K)}P()}h.value++}const S=!cX();let A=!1;function T(F){var N;(N=t.onScroll)===null||N===void 0||N.call(t,F),(!S||!A)&&P()}function k(F){var N;if((N=t.onWheel)===null||N===void 0||N.call(t,F),S){const W=l.value;if(W!=null){if(F.deltaX===0&&(W.scrollTop===0&&F.deltaY<=0||W.scrollTop+W.offsetHeight>=W.scrollHeight&&F.deltaY>=0))return;F.preventDefault(),W.scrollTop+=F.deltaY/oT(),W.scrollLeft+=F.deltaX/oT(),P(),A=!0,th(()=>{A=!1})}}}function E(F){if(n||_(F.target))return;if(t.renderCol==null&&t.renderItemWithCols==null){if(F.contentRect.height===c.value)return}else if(F.contentRect.height===c.value&&F.contentRect.width===s.value)return;c.value=F.contentRect.height,s.value=F.contentRect.width;const{onResize:N}=t;N!==void 0&&N(F)}function P(){const{value:F}=l;F!=null&&(f.value=F.scrollTop,a.value=F.scrollLeft)}function _(F){let N=F;for(;N!==null;){if(N.style.display==="none")return!0;N=N.parentElement}return!1}return{listHeight:c,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:L(()=>{const{itemResizable:F}=t,N=br(d.value.sum());return h.value,[t.itemsStyle,{boxSizing:"content-box",width:br(i.value),height:F?"":N,minHeight:F?N:"",paddingTop:br(t.paddingTop),paddingBottom:br(t.paddingBottom)}]}),visibleItemsStyle:L(()=>(h.value,{transform:`translateY(${br(d.value.sum(p.value))})`})),viewportItems:g,listElRef:l,itemsElRef:V(null),scrollTo:m,handleListResize:E,handleListScroll:T,handleListWheel:k,handleItemResize:C}},render(){const{itemResizable:t,keyField:e,keyToIndex:n,visibleItemsTag:r}=this;return v($o,{onResize:this.handleListResize},{default:()=>{var i,o;return v("div",Xi(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?v("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[v(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:a,renderItemWithCols:s}=this;return this.viewportItems.map(l=>{const c=l[e],u=n.get(c),d=a!=null?v(aT,{index:u,item:l}):void 0,h=s!=null?v(aT,{index:u,item:l}):void 0,f=this.$slots.default({item:l,renderedCols:d,renderedItemWithCols:h,index:u})[0];return t?v($o,{key:c,onResize:p=>this.handleItemResize(c,p)},{default:()=>f}):(f.key=c,f)})}})]):(o=(i=this.$slots).empty)===null||o===void 0?void 0:o.call(i)])}})}}),hX=fl(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[fl("&::-webkit-scrollbar",{width:0,height:0})]),fX=le({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const t=V(null);function e(i){!(i.currentTarget.offsetWidth<i.currentTarget.scrollWidth)||i.deltaY===0||(i.currentTarget.scrollLeft+=i.deltaY+i.deltaX,i.preventDefault())}const n=Rc();return hX.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:ex,ssr:n}),Object.assign({selfRef:t,handleWheel:e},{scrollTo(...i){var o;(o=t.value)===null||o===void 0||o.scrollTo(...i)}})},render(){return v("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),Nl="v-hidden",pX=fl("[v-hidden]",{display:"none!important"}),iA=le({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(t,{slots:e}){const n=V(null),r=V(null);function i(a){const{value:s}=n,{getCounter:l,getTail:c}=t;let u;if(l!==void 0?u=l():u=r.value,!s||!u)return;u.hasAttribute(Nl)&&u.removeAttribute(Nl);const{children:d}=s;if(a.showAllItemsBeforeCalculate)for(const x of d)x.hasAttribute(Nl)&&x.removeAttribute(Nl);const h=s.offsetWidth,f=[],p=e.tail?c==null?void 0:c():null;let g=p?p.offsetWidth:0,m=!1;const y=s.children.length-(e.tail?1:0);for(let x=0;x<y-1;++x){if(x<0)continue;const w=d[x];if(m){w.hasAttribute(Nl)||w.setAttribute(Nl,"");continue}else w.hasAttribute(Nl)&&w.removeAttribute(Nl);const C=w.offsetWidth;if(g+=C,f[x]=C,g>h){const{updateCounter:S}=t;for(let A=x;A>=0;--A){const T=y-1-A;S!==void 0?S(T):u.textContent=`${T}`;const k=u.offsetWidth;if(g-=f[A],g+k<=h||A===0){m=!0,x=A-1,p&&(x===-1?(p.style.maxWidth=`${h-k}px`,p.style.boxSizing="border-box"):p.style.maxWidth="");const{onUpdateCount:E}=t;E&&E(T);break}}}}const{onUpdateOverflow:b}=t;m?b!==void 0&&b(!0):(b!==void 0&&b(!1),u.setAttribute(Nl,""))}const o=Rc();return pX.mount({id:"vueuc/overflow",head:!0,anchorMetaName:ex,ssr:o}),jn(()=>i({showAllItemsBeforeCalculate:!1})),{selfRef:n,counterRef:r,sync:i}},render(){const{$slots:t}=this;return vn(()=>this.sync({showAllItemsBeforeCalculate:!1})),v("div",{class:"v-overflow",ref:"selfRef"},[ph(t,"default"),t.counter?t.counter():v("span",{style:{display:"inline-block"},ref:"counterRef"}),t.tail?t.tail():null])}});function VL(t){return t instanceof HTMLElement}function WL(t){for(let e=0;e<t.childNodes.length;e++){const n=t.childNodes[e];if(VL(n)&&(KL(n)||WL(n)))return!0}return!1}function qL(t){for(let e=t.childNodes.length-1;e>=0;e--){const n=t.childNodes[e];if(VL(n)&&(KL(n)||qL(n)))return!0}return!1}function KL(t){if(!mX(t))return!1;try{t.focus({preventScroll:!0})}catch{}return document.activeElement===t}function mX(t){if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.getAttribute("disabled"))return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return t.type!=="hidden"&&t.type!=="file";case"SELECT":case"TEXTAREA":return!0;default:return!1}}let Qp=[];const Wk=le({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:[String,Function],finalFocusTo:[String,Function],returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(t){const e=Zo(),n=V(null),r=V(null);let i=!1,o=!1;const a=typeof document>"u"?null:document.activeElement;function s(){return Qp[Qp.length-1]===e}function l(m){var y;m.code==="Escape"&&s()&&((y=t.onEsc)===null||y===void 0||y.call(t,m))}jn(()=>{qt(()=>t.active,m=>{m?(d(),wn("keydown",document,l)):(xn("keydown",document,l),i&&h())},{immediate:!0})}),ir(()=>{xn("keydown",document,l),i&&h()});function c(m){if(!o&&s()){const y=u();if(y===null||y.contains(ba(m)))return;f("first")}}function u(){const m=n.value;if(m===null)return null;let y=m;for(;y=y.nextSibling,!(y===null||y instanceof Element&&y.tagName==="DIV"););return y}function d(){var m;if(!t.disabled){if(Qp.push(e),t.autoFocus){const{initialFocusTo:y}=t;y===void 0?f("first"):(m=qE(y))===null||m===void 0||m.focus({preventScroll:!0})}i=!0,document.addEventListener("focus",c,!0)}}function h(){var m;if(t.disabled||(document.removeEventListener("focus",c,!0),Qp=Qp.filter(b=>b!==e),s()))return;const{finalFocusTo:y}=t;y!==void 0?(m=qE(y))===null||m===void 0||m.focus({preventScroll:!0}):t.returnFocusOnDeactivated&&a instanceof HTMLElement&&(o=!0,a.focus({preventScroll:!0}),o=!1)}function f(m){if(s()&&t.active){const y=n.value,b=r.value;if(y!==null&&b!==null){const x=u();if(x==null||x===b){o=!0,y.focus({preventScroll:!0}),o=!1;return}o=!0;const w=m==="first"?WL(x):qL(x);o=!1,w||(o=!0,y.focus({preventScroll:!0}),o=!1)}}}function p(m){if(o)return;const y=u();y!==null&&(m.relatedTarget!==null&&y.contains(m.relatedTarget)?f("last"):f("first"))}function g(m){o||(m.relatedTarget!==null&&m.relatedTarget===n.value?f("last"):f("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:p,handleEndFocus:g}},render(){const{default:t}=this.$slots;if(t===void 0)return null;if(this.disabled)return t();const{active:e,focusableStyle:n}=this;return v(qn,null,[v("div",{"aria-hidden":"true",tabindex:e?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),t(),v("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:e?"0":"-1",onFocus:this.handleEndFocus})])}});function tx(t,e){e&&(jn(()=>{const{value:n}=t;n&&F0.registerHandler(n,e)}),qt(t,(n,r)=>{r&&F0.unregisterHandler(r)},{deep:!1}),ir(()=>{const{value:n}=t;n&&F0.unregisterHandler(n)}))}function nh(t){return t.replace(/#|\(|\)|,|\s|\./g,"_")}const gX=/^(\d|\.)+$/,sT=/(\d|\.)+/;function Ln(t,{c:e=1,offset:n=0,attachPx:r=!0}={}){if(typeof t=="number"){const i=(t+n)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(gX.test(t)){const i=(Number(t)+n)*e;return r?i===0?"0":`${i}px`:`${i}`}else{const i=sT.exec(t);return i?t.replace(sT,String((Number(i[0])+n)*e)):t}return t}function lT(t){const{left:e,right:n,top:r,bottom:i}=wi(t);return`${r} ${e} ${i} ${n}`}function nx(t,e){if(!t)return;const n=document.createElement("a");n.href=t,e!==void 0&&(n.download=e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function vX(t,e){nx(t,e)}function cT(t){return t.nodeName==="#document"}let _w;function yX(){return _w===void 0&&(_w=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),_w}const GL=new WeakSet;function rh(t){GL.add(t)}function YL(t){return!GL.has(t)}function Kf(t){switch(typeof t){case"string":return t||void 0;case"number":return String(t);default:return}}const bX={tiny:"mini",small:"tiny",medium:"small",large:"medium",huge:"large"};function oA(t){const e=bX[t];if(e===void 0)throw new Error(`${t} has no smaller size.`);return e}function xX(t,e){if(t===null&&e===null)return!0;if(t===null||e===null)return!1;if(t.length===e.length){for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}return!1}const uT=new Set;function wX(t,e){const n=`[naive/${t}]: ${e}`;uT.has(n)||(uT.add(n),console.error(n))}function go(t,e){console.error(`[naive/${t}]: ${e}`)}function dT(t,e,n){console.error(`[naive/${t}]: ${e}`,n)}function Ii(t,e){throw new Error(`[naive/${t}]: ${e}`)}function Fe(t,...e){if(Array.isArray(t))t.forEach(n=>Fe(n,...e));else return t(...e)}function XL(t){return typeof t=="string"?`s-${t}`:`n-${t}`}function QL(t){return e=>{e?t.value=e.$el:t.value=null}}function pa(t,e=!0,n=[]){return t.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(Ru(String(r)));return}if(Array.isArray(r)){pa(r,e,n);return}if(r.type===qn){if(r.children===null)return;Array.isArray(r.children)&&pa(r.children,e,n)}else{if(r.type===Ki&&e)return;n.push(r)}}}),n}function CX(t,e="default",n=void 0){const r=t[e];if(!r)return go("getFirstSlotVNode",`slot[${e}] is empty`),null;const i=pa(r(n));return i.length===1?i[0]:(go("getFirstSlotVNode",`slot[${e}] should have exactly one child`),null)}function ZL(t,e,n){if(!e)return null;const r=pa(e(n));return r.length===1?r[0]:(go("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function up(t,e="default",n=[]){const i=t.$slots[e];return i===void 0?n:i()}function hT(t,e="default",n=[]){const{children:r}=t;if(r!==null&&typeof r=="object"&&!Array.isArray(r)){const i=r[e];if(typeof i=="function")return i()}return n}function AX(t){var e;const n=(e=t.dirs)===null||e===void 0?void 0:e.find(({dir:r})=>r===ya);return!!(n&&n.value===!1)}function Ri(t,e=[],n){const r={};return e.forEach(i=>{r[i]=t[i]}),Object.assign(r,n)}function vo(t){return Object.keys(t)}function $0(t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?e[0]:n=>{t.forEach(r=>{r&&r(n)})}}function Xu(t,e=[],n){const r={};return Object.getOwnPropertyNames(t).forEach(o=>{e.includes(o)||(r[o]=t[o])}),Object.assign(r,n)}function Sr(t,...e){return typeof t=="function"?t(...e):typeof t=="string"?Ru(t):typeof t=="number"?Ru(String(t)):null}function ts(t){return t.some(e=>Vf(e)?!(e.type===Ki||e.type===qn&&!ts(e.children)):!0)?t:null}function sn(t,e){return t&&ts(t())||e()}function ui(t,e,n){return t&&ts(t(e))||n(e)}function bn(t,e){const n=t&&ts(t());return e(n||null)}function SX(t,e,n){const r=t&&ts(t(e));return n(r||null)}function Yd(t){return!(t&&ts(t()))}const aA=le({render(){var t,e;return(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)}}),Jo="n-config-provider",Pb="n";function gt(t={},e={defaultBordered:!0}){const n=ut(Jo,null);return{inlineThemeDisabled:n==null?void 0:n.inlineThemeDisabled,mergedRtlRef:n==null?void 0:n.mergedRtlRef,mergedComponentPropsRef:n==null?void 0:n.mergedComponentPropsRef,mergedBreakpointsRef:n==null?void 0:n.mergedBreakpointsRef,mergedBorderedRef:L(()=>{var r,i;const{bordered:o}=t;return o!==void 0?o:(i=(r=n==null?void 0:n.mergedBorderedRef.value)!==null&&r!==void 0?r:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:n?n.mergedClsPrefixRef:xk(Pb),namespaceRef:L(()=>n==null?void 0:n.mergedNamespaceRef.value)}}function JL(){const t=ut(Jo,null);return t?t.mergedClsPrefixRef:xk(Pb)}function Ot(t,e,n,r){n||Ii("useThemeClass","cssVarsRef is not passed");const i=ut(Jo,null),o=i==null?void 0:i.mergedThemeHashRef,a=i==null?void 0:i.styleMountTarget,s=V(""),l=Rc();let c;const u=`__${t}`,d=()=>{let h=u;const f=e?e.value:void 0,p=o==null?void 0:o.value;p&&(h+=`-${p}`),f&&(h+=`-${f}`);const{themeOverrides:g,builtinThemeOverrides:m}=r;g&&(h+=`-${_u(JSON.stringify(g))}`),m&&(h+=`-${_u(JSON.stringify(m))}`),s.value=h,c=()=>{const y=n.value;let b="";for(const x in y)b+=`${x}: ${y[x]};`;B(`.${h}`,b).mount({id:h,ssr:l,parent:a}),c=void 0}};return er(()=>{d()}),{themeClass:s,onRender:()=>{c==null||c()}}}const Lb="n-form-item";function di(t,{defaultSize:e="medium",mergedSize:n,mergedDisabled:r}={}){const i=ut(Lb,null);zt(Lb,null);const o=L(n?()=>n(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:c}=i;if(c.value!==void 0)return c.value}return e}),a=L(r?()=>r(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),s=L(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return ir(()=>{i&&i.restoreValidation()}),{mergedSizeRef:o,mergedDisabledRef:a,mergedStatusRef:s,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}function eM(t,e){const n=ut(Jo,null);return L(()=>t.hljs||(n==null?void 0:n.mergedHljsRef.value))}const kX={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:t=>`Please load all ${t}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:t=>`Total ${t} items`,selected:t=>`${t} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture ()",tipNext:"Next picture ()",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"},Heatmap:{less:"less",more:"more",monthFormat:"MMM",weekdayFormat:"eee"}};function Pw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function Zp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}function Jp(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?TX(s,d=>d.test(a)):EX(s,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function EX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function TX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function RX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const tM=6048e5,_X=864e5,Xm=6e4,qk=36e5,PX=1e3,fT=525600,pT=43200,mT=1440,gT=Symbol.for("constructDateFrom");function oi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&gT in t?t[gT](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qu(t,...e){const n=oi.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}let IX={};function Zu(){return IX}function En(t,e){return oi(e||t,t)}function za(t,e){var s,l,c,u;const n=Zu(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=En(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function LX(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e);return+za(r,n)==+za(i,n)}const MX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OX=(t,e,n)=>{let r;const i=MX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},DX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FX=(t,e,n,r)=>DX[t],$X={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VX={ordinalNumber:jX,era:Zp({values:$X,defaultWidth:"wide"}),quarter:Zp({values:BX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zp({values:NX,defaultWidth:"wide"}),day:Zp({values:zX,defaultWidth:"wide"}),dayPeriod:Zp({values:HX,defaultWidth:"wide",formattingValues:UX,defaultFormattingWidth:"wide"})},WX=/^(\d+)(th|st|nd|rd)?/i,qX=/\d+/i,KX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GX={any:[/^b/i,/^(a|c)/i]},YX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XX={any:[/1/i,/2/i,/3/i,/4/i]},QX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rQ={ordinalNumber:RX({matchPattern:WX,parsePattern:qX,valueCallback:t=>parseInt(t,10)}),era:Jp({matchPatterns:KX,defaultMatchWidth:"wide",parsePatterns:GX,defaultParseWidth:"any"}),quarter:Jp({matchPatterns:YX,defaultMatchWidth:"wide",parsePatterns:XX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jp({matchPatterns:QX,defaultMatchWidth:"wide",parsePatterns:ZX,defaultParseWidth:"any"}),day:Jp({matchPatterns:JX,defaultMatchWidth:"wide",parsePatterns:eQ,defaultParseWidth:"any"}),dayPeriod:Jp({matchPatterns:tQ,defaultMatchWidth:"any",parsePatterns:nQ,defaultParseWidth:"any"})},iQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sQ={date:Pw({formats:iQ,defaultWidth:"full"}),time:Pw({formats:oQ,defaultWidth:"full"}),dateTime:Pw({formats:aQ,defaultWidth:"full"})},rx={code:"en-US",formatDistance:OX,formatLong:sQ,formatRelative:FX,localize:VX,match:rQ,options:{weekStartsOn:0,firstWeekContainsDate:1}},lQ={name:"en-US",locale:rx};var nM=typeof global=="object"&&global&&global.Object===Object&&global,cQ=typeof self=="object"&&self&&self.Object===Object&&self,hs=nM||cQ||Function("return this")(),Mu=hs.Symbol,rM=Object.prototype,uQ=rM.hasOwnProperty,dQ=rM.toString,e0=Mu?Mu.toStringTag:void 0;function hQ(t){var e=uQ.call(t,e0),n=t[e0];try{t[e0]=void 0;var r=!0}catch{}var i=dQ.call(t);return r&&(e?t[e0]=n:delete t[e0]),i}var fQ=Object.prototype,pQ=fQ.toString;function mQ(t){return pQ.call(t)}var gQ="[object Null]",vQ="[object Undefined]",vT=Mu?Mu.toStringTag:void 0;function mh(t){return t==null?t===void 0?vQ:gQ:vT&&vT in Object(t)?hQ(t):mQ(t)}function Ou(t){return t!=null&&typeof t=="object"}var yQ="[object Symbol]";function Ng(t){return typeof t=="symbol"||Ou(t)&&mh(t)==yQ}function iM(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ha=Array.isArray,yT=Mu?Mu.prototype:void 0,bT=yT?yT.toString:void 0;function oM(t){if(typeof t=="string")return t;if(Ha(t))return iM(t,oM)+"";if(Ng(t))return bT?bT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bQ=/\s/;function xQ(t){for(var e=t.length;e--&&bQ.test(t.charAt(e)););return e}var wQ=/^\s+/;function CQ(t){return t&&t.slice(0,xQ(t)+1).replace(wQ,"")}function os(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xT=NaN,AQ=/^[-+]0x[0-9a-f]+$/i,SQ=/^0b[01]+$/i,kQ=/^0o[0-7]+$/i,EQ=parseInt;function Mb(t){if(typeof t=="number")return t;if(Ng(t))return xT;if(os(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=os(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CQ(t);var n=SQ.test(t);return n||kQ.test(t)?EQ(t.slice(2),n?2:8):AQ.test(t)?xT:+t}var wT=1/0,TQ=17976931348623157e292;function RQ(t){if(!t)return t===0?t:0;if(t=Mb(t),t===wT||t===-wT){var e=t<0?-1:1;return e*TQ}return t===t?t:0}function _Q(t){var e=RQ(t),n=e%1;return e===e?n?e-n:e:0}function Kk(t){return t}var PQ="[object AsyncFunction]",IQ="[object Function]",LQ="[object GeneratorFunction]",MQ="[object Proxy]";function Gk(t){if(!os(t))return!1;var e=mh(t);return e==IQ||e==LQ||e==PQ||e==MQ}var Iw=hs["__core-js_shared__"],CT=function(){var t=/[^.]+$/.exec(Iw&&Iw.keys&&Iw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OQ(t){return!!CT&&CT in t}var DQ=Function.prototype,FQ=DQ.toString;function gh(t){if(t!=null){try{return FQ.call(t)}catch{}try{return t+""}catch{}}return""}var $Q=/[\\^$.*+?()[\]{}|]/g,BQ=/^\[object .+?Constructor\]$/,NQ=Function.prototype,zQ=Object.prototype,HQ=NQ.toString,UQ=zQ.hasOwnProperty,jQ=RegExp("^"+HQ.call(UQ).replace($Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VQ(t){if(!os(t)||OQ(t))return!1;var e=Gk(t)?jQ:BQ;return e.test(gh(t))}function WQ(t,e){return t==null?void 0:t[e]}function vh(t,e){var n=WQ(t,e);return VQ(n)?n:void 0}var sA=vh(hs,"WeakMap"),AT=Object.create,qQ=function(){function t(){}return function(e){if(!os(e))return{};if(AT)return AT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function KQ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function GQ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var YQ=800,XQ=16,QQ=Date.now;function ZQ(t){var e=0,n=0;return function(){var r=QQ(),i=XQ-(r-n);if(n=r,i>0){if(++e>=YQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function JQ(t){return function(){return t}}var Ob=function(){try{var t=vh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eZ=Ob?function(t,e){return Ob(t,"toString",{configurable:!0,enumerable:!1,value:JQ(e),writable:!0})}:Kk,tZ=ZQ(eZ),nZ=9007199254740991,rZ=/^(?:0|[1-9]\d*)$/;function Yk(t,e){var n=typeof t;return e=e??nZ,!!e&&(n=="number"||n!="symbol"&&rZ.test(t))&&t>-1&&t%1==0&&t<e}function zg(t,e,n){e=="__proto__"&&Ob?Ob(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Hg(t,e){return t===e||t!==t&&e!==e}var iZ=Object.prototype,oZ=iZ.hasOwnProperty;function aZ(t,e,n){var r=t[e];(!(oZ.call(t,e)&&Hg(r,n))||n===void 0&&!(e in t))&&zg(t,e,n)}function sZ(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?zg(n,s,l):aZ(n,s,l)}return n}var ST=Math.max;function lZ(t,e,n){return e=ST(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ST(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),KQ(t,this,s)}}function cZ(t,e){return tZ(lZ(t,e,Kk),t+"")}var uZ=9007199254740991;function Xk(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uZ}function dp(t){return t!=null&&Xk(t.length)&&!Gk(t)}function dZ(t,e,n){if(!os(n))return!1;var r=typeof e;return(r=="number"?dp(n)&&Yk(e,n.length):r=="string"&&e in n)?Hg(n[e],t):!1}function hZ(t){return cZ(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&dZ(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var fZ=Object.prototype;function Qk(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fZ;return t===n}function pZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mZ="[object Arguments]";function kT(t){return Ou(t)&&mh(t)==mZ}var aM=Object.prototype,gZ=aM.hasOwnProperty,vZ=aM.propertyIsEnumerable,Db=kT(function(){return arguments}())?kT:function(t){return Ou(t)&&gZ.call(t,"callee")&&!vZ.call(t,"callee")};function yZ(){return!1}var sM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ET=sM&&typeof module=="object"&&module&&!module.nodeType&&module,bZ=ET&&ET.exports===sM,TT=bZ?hs.Buffer:void 0,xZ=TT?TT.isBuffer:void 0,Fb=xZ||yZ,wZ="[object Arguments]",CZ="[object Array]",AZ="[object Boolean]",SZ="[object Date]",kZ="[object Error]",EZ="[object Function]",TZ="[object Map]",RZ="[object Number]",_Z="[object Object]",PZ="[object RegExp]",IZ="[object Set]",LZ="[object String]",MZ="[object WeakMap]",OZ="[object ArrayBuffer]",DZ="[object DataView]",FZ="[object Float32Array]",$Z="[object Float64Array]",BZ="[object Int8Array]",NZ="[object Int16Array]",zZ="[object Int32Array]",HZ="[object Uint8Array]",UZ="[object Uint8ClampedArray]",jZ="[object Uint16Array]",VZ="[object Uint32Array]",si={};si[FZ]=si[$Z]=si[BZ]=si[NZ]=si[zZ]=si[HZ]=si[UZ]=si[jZ]=si[VZ]=!0;si[wZ]=si[CZ]=si[OZ]=si[AZ]=si[DZ]=si[SZ]=si[kZ]=si[EZ]=si[TZ]=si[RZ]=si[_Z]=si[PZ]=si[IZ]=si[LZ]=si[MZ]=!1;function WZ(t){return Ou(t)&&Xk(t.length)&&!!si[mh(t)]}function qZ(t){return function(e){return t(e)}}var lM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,B0=lM&&typeof module=="object"&&module&&!module.nodeType&&module,KZ=B0&&B0.exports===lM,Lw=KZ&&nM.process,RT=function(){try{var t=B0&&B0.require&&B0.require("util").types;return t||Lw&&Lw.binding&&Lw.binding("util")}catch{}}(),_T=RT&&RT.isTypedArray,Zk=_T?qZ(_T):WZ,GZ=Object.prototype,YZ=GZ.hasOwnProperty;function cM(t,e){var n=Ha(t),r=!n&&Db(t),i=!n&&!r&&Fb(t),o=!n&&!r&&!i&&Zk(t),a=n||r||i||o,s=a?pZ(t.length,String):[],l=s.length;for(var c in t)(e||YZ.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Yk(c,l)))&&s.push(c);return s}function uM(t,e){return function(n){return t(e(n))}}var XZ=uM(Object.keys,Object),QZ=Object.prototype,ZZ=QZ.hasOwnProperty;function JZ(t){if(!Qk(t))return XZ(t);var e=[];for(var n in Object(t))ZZ.call(t,n)&&n!="constructor"&&e.push(n);return e}function Jk(t){return dp(t)?cM(t):JZ(t)}function eJ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tJ=Object.prototype,nJ=tJ.hasOwnProperty;function rJ(t){if(!os(t))return eJ(t);var e=Qk(t),n=[];for(var r in t)r=="constructor"&&(e||!nJ.call(t,r))||n.push(r);return n}function dM(t){return dp(t)?cM(t,!0):rJ(t)}var iJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oJ=/^\w*$/;function e4(t,e){if(Ha(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ng(t)?!0:oJ.test(t)||!iJ.test(t)||e!=null&&t in Object(e)}var Qm=vh(Object,"create");function aJ(){this.__data__=Qm?Qm(null):{},this.size=0}function sJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lJ="__lodash_hash_undefined__",cJ=Object.prototype,uJ=cJ.hasOwnProperty;function dJ(t){var e=this.__data__;if(Qm){var n=e[t];return n===lJ?void 0:n}return uJ.call(e,t)?e[t]:void 0}var hJ=Object.prototype,fJ=hJ.hasOwnProperty;function pJ(t){var e=this.__data__;return Qm?e[t]!==void 0:fJ.call(e,t)}var mJ="__lodash_hash_undefined__";function gJ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qm&&e===void 0?mJ:e,this}function ih(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ih.prototype.clear=aJ;ih.prototype.delete=sJ;ih.prototype.get=dJ;ih.prototype.has=pJ;ih.prototype.set=gJ;function vJ(){this.__data__=[],this.size=0}function ix(t,e){for(var n=t.length;n--;)if(Hg(t[n][0],e))return n;return-1}var yJ=Array.prototype,bJ=yJ.splice;function xJ(t){var e=this.__data__,n=ix(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bJ.call(e,n,1),--this.size,!0}function wJ(t){var e=this.__data__,n=ix(e,t);return n<0?void 0:e[n][1]}function CJ(t){return ix(this.__data__,t)>-1}function AJ(t,e){var n=this.__data__,r=ix(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function _c(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_c.prototype.clear=vJ;_c.prototype.delete=xJ;_c.prototype.get=wJ;_c.prototype.has=CJ;_c.prototype.set=AJ;var Zm=vh(hs,"Map");function SJ(){this.size=0,this.__data__={hash:new ih,map:new(Zm||_c),string:new ih}}function kJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ox(t,e){var n=t.__data__;return kJ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function EJ(t){var e=ox(this,t).delete(t);return this.size-=e?1:0,e}function TJ(t){return ox(this,t).get(t)}function RJ(t){return ox(this,t).has(t)}function _J(t,e){var n=ox(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Pc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pc.prototype.clear=SJ;Pc.prototype.delete=EJ;Pc.prototype.get=TJ;Pc.prototype.has=RJ;Pc.prototype.set=_J;var PJ="Expected a function";function t4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PJ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(t4.Cache||Pc),n}t4.Cache=Pc;var IJ=500;function LJ(t){var e=t4(t,function(r){return n.size===IJ&&n.clear(),r}),n=e.cache;return e}var MJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OJ=/\\(\\)?/g,DJ=LJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MJ,function(n,r,i,o){e.push(i?o.replace(OJ,"$1"):r||n)}),e});function oh(t){return t==null?"":oM(t)}function hM(t,e){return Ha(t)?t:e4(t,e)?[t]:DJ(oh(t))}function ax(t){if(typeof t=="string"||Ng(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function fM(t,e){e=hM(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ax(e[n++])];return n&&n==r?t:void 0}function Jm(t,e,n){var r=t==null?void 0:fM(t,e);return r===void 0?n:r}function FJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var pM=uM(Object.getPrototypeOf,Object),$J="[object Object]",BJ=Function.prototype,NJ=Object.prototype,mM=BJ.toString,zJ=NJ.hasOwnProperty,HJ=mM.call(Object);function UJ(t){if(!Ou(t)||mh(t)!=$J)return!1;var e=pM(t);if(e===null)return!0;var n=zJ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mM.call(n)==HJ}function jJ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function VJ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:jJ(t,e,n)}var WJ="\\ud800-\\udfff",qJ="\\u0300-\\u036f",KJ="\\ufe20-\\ufe2f",GJ="\\u20d0-\\u20ff",YJ=qJ+KJ+GJ,XJ="\\ufe0e\\ufe0f",QJ="\\u200d",ZJ=RegExp("["+QJ+WJ+YJ+XJ+"]");function gM(t){return ZJ.test(t)}function JJ(t){return t.split("")}var vM="\\ud800-\\udfff",eee="\\u0300-\\u036f",tee="\\ufe20-\\ufe2f",nee="\\u20d0-\\u20ff",ree=eee+tee+nee,iee="\\ufe0e\\ufe0f",oee="["+vM+"]",lA="["+ree+"]",cA="\\ud83c[\\udffb-\\udfff]",aee="(?:"+lA+"|"+cA+")",yM="[^"+vM+"]",bM="(?:\\ud83c[\\udde6-\\uddff]){2}",xM="[\\ud800-\\udbff][\\udc00-\\udfff]",see="\\u200d",wM=aee+"?",CM="["+iee+"]?",lee="(?:"+see+"(?:"+[yM,bM,xM].join("|")+")"+CM+wM+")*",cee=CM+wM+lee,uee="(?:"+[yM+lA+"?",lA,bM,xM,oee].join("|")+")",dee=RegExp(cA+"(?="+cA+")|"+uee+cee,"g");function hee(t){return t.match(dee)||[]}function fee(t){return gM(t)?hee(t):JJ(t)}function pee(t){return function(e){e=oh(e);var n=gM(e)?fee(e):void 0,r=n?n[0]:e.charAt(0),i=n?VJ(n,1).join(""):e.slice(1);return r[t]()+i}}var AM=pee("toUpperCase");function mee(t){return AM(oh(t).toLowerCase())}function gee(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)n=e(n,t[i],i,t);return n}function vee(t){return function(e){return t==null?void 0:t[e]}}var yee={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bee=vee(yee),xee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wee="\\u0300-\\u036f",Cee="\\ufe20-\\ufe2f",Aee="\\u20d0-\\u20ff",See=wee+Cee+Aee,kee="["+See+"]",Eee=RegExp(kee,"g");function Tee(t){return t=oh(t),t&&t.replace(xee,bee).replace(Eee,"")}var Ree=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function _ee(t){return t.match(Ree)||[]}var Pee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Iee(t){return Pee.test(t)}var SM="\\ud800-\\udfff",Lee="\\u0300-\\u036f",Mee="\\ufe20-\\ufe2f",Oee="\\u20d0-\\u20ff",Dee=Lee+Mee+Oee,kM="\\u2700-\\u27bf",EM="a-z\\xdf-\\xf6\\xf8-\\xff",Fee="\\xac\\xb1\\xd7\\xf7",$ee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bee="\\u2000-\\u206f",Nee=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",TM="A-Z\\xc0-\\xd6\\xd8-\\xde",zee="\\ufe0e\\ufe0f",RM=Fee+$ee+Bee+Nee,_M="[']",PT="["+RM+"]",Hee="["+Dee+"]",PM="\\d+",Uee="["+kM+"]",IM="["+EM+"]",LM="[^"+SM+RM+PM+kM+EM+TM+"]",jee="\\ud83c[\\udffb-\\udfff]",Vee="(?:"+Hee+"|"+jee+")",Wee="[^"+SM+"]",MM="(?:\\ud83c[\\udde6-\\uddff]){2}",OM="[\\ud800-\\udbff][\\udc00-\\udfff]",df="["+TM+"]",qee="\\u200d",IT="(?:"+IM+"|"+LM+")",Kee="(?:"+df+"|"+LM+")",LT="(?:"+_M+"(?:d|ll|m|re|s|t|ve))?",MT="(?:"+_M+"(?:D|LL|M|RE|S|T|VE))?",DM=Vee+"?",FM="["+zee+"]?",Gee="(?:"+qee+"(?:"+[Wee,MM,OM].join("|")+")"+FM+DM+")*",Yee="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xee="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qee=FM+DM+Gee,Zee="(?:"+[Uee,MM,OM].join("|")+")"+Qee,Jee=RegExp([df+"?"+IM+"+"+LT+"(?="+[PT,df,"$"].join("|")+")",Kee+"+"+MT+"(?="+[PT,df+IT,"$"].join("|")+")",df+"?"+IT+"+"+LT,df+"+"+MT,Xee,Yee,PM,Zee].join("|"),"g");function ete(t){return t.match(Jee)||[]}function tte(t,e,n){return t=oh(t),e=e,e===void 0?Iee(t)?ete(t):_ee(t):t.match(e)||[]}var nte="[']",rte=RegExp(nte,"g");function $M(t){return function(e){return gee(tte(Tee(e).replace(rte,"")),t,"")}}var OT=$M(function(t,e,n){return e=e.toLowerCase(),t+(n?mee(e):e)}),ite=hs.isFinite,ote=Math.min;function ate(t){var e=Math[t];return function(n,r){if(n=Mb(n),r=r==null?0:ote(_Q(r),292),r&&ite(n)){var i=(oh(n)+"e").split("e"),o=e(i[0]+"e"+(+i[1]+r));return i=(oh(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(n)}}function ste(){this.__data__=new _c,this.size=0}function lte(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function cte(t){return this.__data__.get(t)}function ute(t){return this.__data__.has(t)}var dte=200;function hte(t,e){var n=this.__data__;if(n instanceof _c){var r=n.__data__;if(!Zm||r.length<dte-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pc(r)}return n.set(t,e),this.size=n.size,this}function wl(t){var e=this.__data__=new _c(t);this.size=e.size}wl.prototype.clear=ste;wl.prototype.delete=lte;wl.prototype.get=cte;wl.prototype.has=ute;wl.prototype.set=hte;var BM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,DT=BM&&typeof module=="object"&&module&&!module.nodeType&&module,fte=DT&&DT.exports===BM,FT=fte?hs.Buffer:void 0;FT&&FT.allocUnsafe;function pte(t,e){return t.slice()}function mte(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function gte(){return[]}var vte=Object.prototype,yte=vte.propertyIsEnumerable,$T=Object.getOwnPropertySymbols,bte=$T?function(t){return t==null?[]:(t=Object(t),mte($T(t),function(e){return yte.call(t,e)}))}:gte;function xte(t,e,n){var r=e(t);return Ha(t)?r:FJ(r,n(t))}function BT(t){return xte(t,Jk,bte)}var uA=vh(hs,"DataView"),dA=vh(hs,"Promise"),hA=vh(hs,"Set"),NT="[object Map]",wte="[object Object]",zT="[object Promise]",HT="[object Set]",UT="[object WeakMap]",jT="[object DataView]",Cte=gh(uA),Ate=gh(Zm),Ste=gh(dA),kte=gh(hA),Ete=gh(sA),ou=mh;(uA&&ou(new uA(new ArrayBuffer(1)))!=jT||Zm&&ou(new Zm)!=NT||dA&&ou(dA.resolve())!=zT||hA&&ou(new hA)!=HT||sA&&ou(new sA)!=UT)&&(ou=function(t){var e=mh(t),n=e==wte?t.constructor:void 0,r=n?gh(n):"";if(r)switch(r){case Cte:return jT;case Ate:return NT;case Ste:return zT;case kte:return HT;case Ete:return UT}return e});var $b=hs.Uint8Array;function Tte(t){var e=new t.constructor(t.byteLength);return new $b(e).set(new $b(t)),e}function Rte(t,e){var n=Tte(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function _te(t){return typeof t.constructor=="function"&&!Qk(t)?qQ(pM(t)):{}}var Pte="__lodash_hash_undefined__";function Ite(t){return this.__data__.set(t,Pte),this}function Lte(t){return this.__data__.has(t)}function Bb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Pc;++e<n;)this.add(t[e])}Bb.prototype.add=Bb.prototype.push=Ite;Bb.prototype.has=Lte;function Mte(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ote(t,e){return t.has(e)}var Dte=1,Fte=2;function NM(t,e,n,r,i,o){var a=n&Dte,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&Fte?new Bb:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],g=e[d];if(r)var m=a?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!Mte(e,function(y,b){if(!Ote(f,b)&&(p===y||i(p,y,n,r,o)))return f.push(b)})){h=!1;break}}else if(!(p===g||i(p,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function $te(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Bte(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Nte=1,zte=2,Hte="[object Boolean]",Ute="[object Date]",jte="[object Error]",Vte="[object Map]",Wte="[object Number]",qte="[object RegExp]",Kte="[object Set]",Gte="[object String]",Yte="[object Symbol]",Xte="[object ArrayBuffer]",Qte="[object DataView]",VT=Mu?Mu.prototype:void 0,Mw=VT?VT.valueOf:void 0;function Zte(t,e,n,r,i,o,a){switch(n){case Qte:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xte:return!(t.byteLength!=e.byteLength||!o(new $b(t),new $b(e)));case Hte:case Ute:case Wte:return Hg(+t,+e);case jte:return t.name==e.name&&t.message==e.message;case qte:case Gte:return t==e+"";case Vte:var s=$te;case Kte:var l=r&Nte;if(s||(s=Bte),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=zte,a.set(t,e);var u=NM(s(t),s(e),r,i,o,a);return a.delete(t),u;case Yte:if(Mw)return Mw.call(t)==Mw.call(e)}return!1}var Jte=1,ene=Object.prototype,tne=ene.hasOwnProperty;function nne(t,e,n,r,i,o){var a=n&Jte,s=BT(t),l=s.length,c=BT(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:tne.call(e,h)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var m=a;++d<l;){h=s[d];var y=t[h],b=e[h];if(r)var x=a?r(b,y,h,e,t,o):r(y,b,h,t,e,o);if(!(x===void 0?y===b||i(y,b,n,r,o):x)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var w=t.constructor,C=e.constructor;w!=C&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(t),o.delete(e),g}var rne=1,WT="[object Arguments]",qT="[object Array]",Mv="[object Object]",ine=Object.prototype,KT=ine.hasOwnProperty;function one(t,e,n,r,i,o){var a=Ha(t),s=Ha(e),l=a?qT:ou(t),c=s?qT:ou(e);l=l==WT?Mv:l,c=c==WT?Mv:c;var u=l==Mv,d=c==Mv,h=l==c;if(h&&Fb(t)){if(!Fb(e))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new wl),a||Zk(t)?NM(t,e,n,r,i,o):Zte(t,e,l,n,r,i,o);if(!(n&rne)){var f=u&&KT.call(t,"__wrapped__"),p=d&&KT.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new wl),i(g,m,n,r,o)}}return h?(o||(o=new wl),nne(t,e,n,r,i,o)):!1}function n4(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ou(t)&&!Ou(e)?t!==t&&e!==e:one(t,e,n,r,n4,i)}var ane=1,sne=2;function lne(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var s=a[0],l=t[s],c=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var u=new wl,d;if(!(d===void 0?n4(c,l,ane|sne,r,u):d))return!1}}return!0}function zM(t){return t===t&&!os(t)}function cne(t){for(var e=Jk(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zM(i)]}return e}function HM(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function une(t){var e=cne(t);return e.length==1&&e[0][2]?HM(e[0][0],e[0][1]):function(n){return n===t||lne(n,t,e)}}function dne(t,e){return t!=null&&e in Object(t)}function hne(t,e,n){e=hM(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=ax(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Xk(i)&&Yk(a,i)&&(Ha(t)||Db(t)))}function fne(t,e){return t!=null&&hne(t,e,dne)}var pne=1,mne=2;function gne(t,e){return e4(t)&&zM(e)?HM(ax(t),e):function(n){var r=Jm(n,t);return r===void 0&&r===e?fne(n,t):n4(e,r,pne|mne)}}function vne(t){return function(e){return e==null?void 0:e[t]}}function yne(t){return function(e){return fM(e,t)}}function bne(t){return e4(t)?vne(ax(t)):yne(t)}function sx(t){return typeof t=="function"?t:t==null?Kk:typeof t=="object"?Ha(t)?gne(t[0],t[1]):une(t):bne(t)}function xne(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function wne(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var UM=wne();function jM(t,e){return t&&UM(t,e,Jk)}function Cne(t,e){return function(n,r){if(n==null)return n;if(!dp(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}}var VM=Cne(jM);function Ane(t,e,n,r){return VM(t,function(i,o,a){e(r,i,n(i),a)}),r}function Sne(t,e){return function(n,r){var i=Ha(n)?xne:Ane,o=e?e():{};return i(n,t,sx(r),o)}}var Ow=function(){return hs.Date.now()},kne="Expected a function",Ene=Math.max,Tne=Math.min;function Du(t,e,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(kne);e=Mb(e)||0,os(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Ene(Mb(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function f(S){var A=r,T=i;return r=i=void 0,c=S,a=t.apply(T,A),a}function p(S){return c=S,s=setTimeout(y,e),u?f(S):a}function g(S){var A=S-l,T=S-c,k=e-A;return d?Tne(k,o-T):k}function m(S){var A=S-l,T=S-c;return l===void 0||A>=e||A<0||d&&T>=o}function y(){var S=Ow();if(m(S))return b(S);s=setTimeout(y,g(S))}function b(S){return s=void 0,h&&r?f(S):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function w(){return s===void 0?a:b(Ow())}function C(){var S=Ow(),A=m(S);if(r=arguments,i=this,l=S,A){if(s===void 0)return p(l);if(d)return clearTimeout(s),s=setTimeout(y,e),f(l)}return s===void 0&&(s=setTimeout(y,e)),a}return C.cancel=x,C.flush=w,C}function fA(t,e,n){(n!==void 0&&!Hg(t[e],n)||n===void 0&&!(e in t))&&zg(t,e,n)}function Rne(t){return Ou(t)&&dp(t)}function pA(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function _ne(t){return sZ(t,dM(t))}function Pne(t,e,n,r,i,o,a){var s=pA(t,n),l=pA(e,n),c=a.get(l);if(c){fA(t,n,c);return}var u=o?o(s,l,n+"",t,e,a):void 0,d=u===void 0;if(d){var h=Ha(l),f=!h&&Fb(l),p=!h&&!f&&Zk(l);u=l,h||f||p?Ha(s)?u=s:Rne(s)?u=GQ(s):f?(d=!1,u=pte(l)):p?(d=!1,u=Rte(l)):u=[]:UJ(l)||Db(l)?(u=s,Db(s)?u=_ne(s):(!os(s)||Gk(s))&&(u=_te(l))):d=!1}d&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),fA(t,n,u)}function WM(t,e,n,r,i){t!==e&&UM(e,function(o,a){if(i||(i=new wl),os(o))Pne(t,e,a,n,WM,r,i);else{var s=r?r(pA(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),fA(t,a,s)}},dM)}function Ine(t,e){var n=-1,r=dp(t)?Array(t.length):[];return VM(t,function(i,o,a){r[++n]=e(i,o,a)}),r}function Lne(t,e){var n=Ha(t)?iM:Ine;return n(t,sx(e))}var Mne=Object.prototype,One=Mne.hasOwnProperty,qM=Sne(function(t,e,n){One.call(t,n)?t[n].push(e):zg(t,n,[e])});function Dne(t,e){return t>e}var KM=$M(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});function Fne(t,e){var n={};return e=sx(e),jM(t,function(r,i,o){zg(n,i,e(r,i,o))}),n}function $ne(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Ng(a):n(a,s)))var s=a,l=o}return l}function Bne(t,e){return t&&t.length?$ne(t,sx(e),Dne):void 0}var pl=hZ(function(t,e,n){WM(t,e,n)}),Nne=ate("round"),zne="Expected a function";function GM(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(zne);return os(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Du(t,e,{leading:r,maxWait:e,trailing:i})}function li(t){const{mergedLocaleRef:e,mergedDateLocaleRef:n}=ut(Jo,null)||{},r=L(()=>{var o,a;return(a=(o=e==null?void 0:e.value)===null||o===void 0?void 0:o[t])!==null&&a!==void 0?a:kX[t]});return{dateLocaleRef:L(()=>{var o;return(o=n==null?void 0:n.value)!==null&&o!==void 0?o:lQ}),localeRef:r}}const Gf="naive-ui-style";function or(t,e,n){if(!e)return;const r=Rc(),i=L(()=>{const{value:s}=e;if(!s)return;const l=s[t];if(l)return l}),o=ut(Jo,null),a=()=>{er(()=>{const{value:s}=n,l=`${s}${t}Rtl`;if(YG(l,r))return;const{value:c}=i;c&&c.style.mount({id:l,head:!0,anchorMetaName:Gf,props:{bPrefix:s?`.${s}-`:void 0},ssr:r,parent:o==null?void 0:o.styleMountTarget})})};return r?a():Ec(a),i}const wa={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:Hne,fontFamily:Une,lineHeight:jne}=wa,YM=B("body",`
 margin: 0;
 font-size: ${Hne};
 font-family: ${Une};
 line-height: ${jne};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[B("input",`
 font-family: inherit;
 font-size: inherit;
 `)]);function Wa(t,e,n){if(!e)return;const r=Rc(),i=ut(Jo,null),o=()=>{const a=n.value;e.mount({id:a===void 0?t:a+t,head:!0,anchorMetaName:Gf,props:{bPrefix:a?`.${a}-`:void 0},ssr:r,parent:i==null?void 0:i.styleMountTarget}),i!=null&&i.preflightStyleDisabled||YM.mount({id:"n-global",head:!0,anchorMetaName:Gf,ssr:r,parent:i==null?void 0:i.styleMountTarget})};r?o():Ec(o)}function Ve(t,e,n,r,i,o){const a=Rc(),s=ut(Jo,null);if(n){const c=()=>{const u=o==null?void 0:o.value;n.mount({id:u===void 0?e:u+e,head:!0,props:{bPrefix:u?`.${u}-`:void 0},anchorMetaName:Gf,ssr:a,parent:s==null?void 0:s.styleMountTarget}),s!=null&&s.preflightStyleDisabled||YM.mount({id:"n-global",head:!0,anchorMetaName:Gf,ssr:a,parent:s==null?void 0:s.styleMountTarget})};a?c():Ec(c)}return L(()=>{var c;const{theme:{common:u,self:d,peers:h={}}={},themeOverrides:f={},builtinThemeOverrides:p={}}=i,{common:g,peers:m}=f,{common:y=void 0,[t]:{common:b=void 0,self:x=void 0,peers:w={}}={}}=(s==null?void 0:s.mergedThemeRef.value)||{},{common:C=void 0,[t]:S={}}=(s==null?void 0:s.mergedThemeOverridesRef.value)||{},{common:A,peers:T={}}=S,k=pl({},u||b||y||r.common,C,A,g),E=pl((c=d||x||r.self)===null||c===void 0?void 0:c(k),p,S,f);return{common:k,self:E,peers:pl({},r.peers,w,h),peerOverrides:pl({},p.peers,T,m)}})}Ve.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const Vne=R("affix",[U("affixed",{position:"fixed"},[U("absolute-positioned",{position:"absolute"})])]);function Wne(t){return t instanceof HTMLElement?t.scrollTop:window.scrollY}function qne(t){return t instanceof HTMLElement?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}const lx={listenTo:[String,Object,Function],top:Number,bottom:Number,triggerTop:Number,triggerBottom:Number,position:{type:String,default:"fixed"},offsetTop:{type:Number,validator:()=>!0,default:void 0},offsetBottom:{type:Number,validator:()=>!0,default:void 0},target:{type:Function,validator:()=>!0,default:void 0}},Kne=vo(lx),XM=le({name:"Affix",props:lx,setup(t){const{mergedClsPrefixRef:e}=gt(t);Wa("-affix",Vne,e);let n=null;const r=V(!1),i=V(!1),o=V(null),a=V(null),s=L(()=>i.value||r.value),l=L(()=>{var m,y;return(y=(m=t.triggerTop)!==null&&m!==void 0?m:t.offsetTop)!==null&&y!==void 0?y:t.top}),c=L(()=>{var m,y;return(y=(m=t.top)!==null&&m!==void 0?m:t.triggerTop)!==null&&y!==void 0?y:t.offsetTop}),u=L(()=>{var m,y;return(y=(m=t.bottom)!==null&&m!==void 0?m:t.triggerBottom)!==null&&y!==void 0?y:t.offsetBottom}),d=L(()=>{var m,y;return(y=(m=t.triggerBottom)!==null&&m!==void 0?m:t.offsetBottom)!==null&&y!==void 0?y:t.bottom}),h=V(null),f=()=>{const{target:m,listenTo:y}=t;m?n=m():y?n=Pk(y):n=document,n&&(n.addEventListener("scroll",p),p())};function p(){th(g)}function g(){const{value:m}=h;if(!n||!m)return;const y=Wne(n);if(s.value){a.value!==null&&y<a.value&&(r.value=!1,a.value=null),o.value!==null&&y>o.value&&(i.value=!1,o.value=null);return}const b=qne(n),x=m.getBoundingClientRect(),w=x.top-b.top,C=b.bottom-x.bottom,S=l.value,A=d.value;S!==void 0&&w<=S?(r.value=!0,a.value=y-(S-w)):(r.value=!1,a.value=null),A!==void 0&&C<=A?(i.value=!0,o.value=y+A-C):(i.value=!1,o.value=null)}return jn(()=>{f()}),ir(()=>{n&&n.removeEventListener("scroll",p)}),{selfRef:h,affixed:s,mergedClsPrefix:e,mergedstyle:L(()=>{const m={};return r.value&&l.value!==void 0&&c.value!==void 0&&(m.top=`${c.value}px`),i.value&&d.value!==void 0&&u.value!==void 0&&(m.bottom=`${u.value}px`),m})}},render(){const{mergedClsPrefix:t}=this;return v("div",{ref:"selfRef",class:[`${t}-affix`,{[`${t}-affix--affixed`]:this.affixed,[`${t}-affix--absolute-positioned`]:this.position==="absolute"}],style:this.mergedstyle},this.$slots)}}),Gne=R("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[B("svg",`
 height: 1em;
 width: 1em;
 `)]),Jt=le({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(t){Wa("-base-icon",Gne,$e(t,"clsPrefix"))},render(){return v("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),Ll=le({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const n=co();return()=>v(hr,{name:"icon-switch-transition",appear:n.value},e)}}),Yf=le({name:"Add",render(){return v("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Yne=le({name:"ArrowBack",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"}))}}),QM=le({name:"ArrowDown",render(){return v("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),Xne=le({name:"ArrowUp",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},v("g",{fill:"none"},v("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}});function yo(t,e){const n=le({render(){return e()}});return le({name:AM(t),setup(){var r;const i=(r=ut(Jo,null))===null||r===void 0?void 0:r.mergedIconsRef;return()=>{var o;const a=(o=i==null?void 0:i.value)===null||o===void 0?void 0:o[t];return a?a():v(n,null)}}})}const Qne=yo("attach",()=>v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Fu=le({name:"Backward",render(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),Zne=yo("cancel",()=>v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),r4=le({name:"Checkmark",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},v("g",{fill:"none"},v("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),ZM=le({name:"ChevronDown",render(){return v("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),Jne=le({name:"ChevronDownFilled",render(){return v("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))}}),i4=le({name:"ChevronLeft",render(){return v("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}}),yh=le({name:"ChevronRight",render(){return v("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),ere=yo("clear",()=>v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),o4=yo("close",()=>v("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),GT=yo("date",()=>v("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),JM=yo("download",()=>v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),tre=le({name:"Empty",render(){return v("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),v("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),bh=yo("error",()=>v("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),eO=le({name:"Eye",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),v("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),nre=le({name:"EyeOff",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),v("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),v("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),v("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),v("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),$u=le({name:"FastBackward",render(){return v("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),Bu=le({name:"FastForward",render(){return v("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),rre=le({name:"Filter",render(){return v("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M17,19 C17.5522847,19 18,19.4477153 18,20 C18,20.5522847 17.5522847,21 17,21 L11,21 C10.4477153,21 10,20.5522847 10,20 C10,19.4477153 10.4477153,19 11,19 L17,19 Z M21,13 C21.5522847,13 22,13.4477153 22,14 C22,14.5522847 21.5522847,15 21,15 L7,15 C6.44771525,15 6,14.5522847 6,14 C6,13.4477153 6.44771525,13 7,13 L21,13 Z M24,7 C24.5522847,7 25,7.44771525 25,8 C25,8.55228475 24.5522847,9 24,9 L4,9 C3.44771525,9 3,8.55228475 3,8 C3,7.44771525 3.44771525,7 4,7 L24,7 Z"}))))}}),Nu=le({name:"Forward",render(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),zu=yo("info",()=>v("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),YT=le({name:"More",render(){return v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),tO=le({name:"Remove",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),ire=le({name:"ResizeSmall",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},v("g",{fill:"none"},v("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),ore=yo("retry",()=>v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),v("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),are=yo("rotateClockwise",()=>v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),v("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),sre=yo("rotateClockwise",()=>v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),v("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),nO=le({name:"Search",render(){return v("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:"enable-background: new 0 0 512 512"},v("path",{d:`M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153
  c36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z
   M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2
  c32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z`}))}}),xh=yo("success",()=>v("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),lre=le({name:"Switcher",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},v("path",{d:"M12 8l10 8l-10 8z"}))}}),cre=yo("time",()=>v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:`
        fill: none;
        stroke: currentColor;
        stroke-miterlimit: 10;
        stroke-width: 32px;
      `}),v("polyline",{points:"256 128 256 272 352 272",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))),ure=yo("to",()=>v("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),dre=yo("trash",()=>v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),v("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),v("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),v("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Ju=yo("warning",()=>v("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{"fill-rule":"nonzero"},v("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),hre=yo("zoomIn",()=>v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),v("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),fre=yo("zoomOut",()=>v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),v("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),{cubicBezierEaseInOut:pre}=wa;function mo({originalTransform:t="",left:e=0,top:n=0,transition:r=`all .3s ${pre} !important`}={}){return[B("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:`${t} scale(0.75)`,left:e,top:n,opacity:0}),B("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:n,opacity:1}),B("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:n,transition:r})]}const mre=R("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[B(">",[H("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[B("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),B("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),H("placeholder",`
 display: flex;
 `),H("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[mo({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),mA=le({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(t){return Wa("-base-clear",mre,$e(t,"clsPrefix")),{handleMouseDown(e){e.preventDefault()}}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-base-clear`},v(Ll,null,{default:()=>{var e,n;return this.show?v("div",{key:"dismiss",class:`${t}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},sn(this.$slots.icon,()=>[v(Jt,{clsPrefix:t},{default:()=>v(ere,null)})])):v("div",{key:"icon",class:`${t}-base-clear__placeholder`},(n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e))}}))}}),gre=R("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[U("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),B("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),an("disabled",[B("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),B("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),B("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),B("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),B("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),U("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),U("round",[B("&::before",`
 border-radius: 50%;
 `)])]),Ic=le({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(t){return Wa("-base-close",gre,$e(t,"clsPrefix")),()=>{const{clsPrefix:e,disabled:n,absolute:r,round:i,isButtonTag:o}=t;return v(o?"button":"div",{type:o?"button":void 0,tabindex:n||!t.focusable?-1:0,"aria-disabled":n,"aria-label":"close",role:o?void 0:"button",disabled:n,class:[`${e}-base-close`,r&&`${e}-base-close--absolute`,n&&`${e}-base-close--disabled`,i&&`${e}-base-close--round`],onMousedown:s=>{t.focusable||s.preventDefault()},onClick:t.onClick},v(Jt,{clsPrefix:e},{default:()=>v(o4,null)}))}}}),Ml=le({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(t,{slots:e}){function n(s){t.width?s.style.maxWidth=`${s.offsetWidth}px`:s.style.maxHeight=`${s.offsetHeight}px`,s.offsetWidth}function r(s){t.width?s.style.maxWidth="0":s.style.maxHeight="0",s.offsetWidth;const{onLeave:l}=t;l&&l()}function i(s){t.width?s.style.maxWidth="":s.style.maxHeight="";const{onAfterLeave:l}=t;l&&l()}function o(s){if(s.style.transition="none",t.width){const l=s.offsetWidth;s.style.maxWidth="0",s.offsetWidth,s.style.transition="",s.style.maxWidth=`${l}px`}else if(t.reverse)s.style.maxHeight=`${s.offsetHeight}px`,s.offsetHeight,s.style.transition="",s.style.maxHeight="0";else{const l=s.offsetHeight;s.style.maxHeight="0",s.offsetWidth,s.style.transition="",s.style.maxHeight=`${l}px`}s.offsetWidth}function a(s){var l;t.width?s.style.maxWidth="":t.reverse||(s.style.maxHeight=""),(l=t.onAfterEnter)===null||l===void 0||l.call(t)}return()=>{const{group:s,width:l,appear:c,mode:u}=t,d=s?X1:hr,h={name:l?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear:c,onEnter:o,onAfterEnter:a,onBeforeLeave:n,onLeave:r,onAfterLeave:i};return s||(h.mode=u),v(d,h,e)}}}),Ol=le({props:{onFocus:Function,onBlur:Function},setup(t){return()=>v("div",{style:"width: 0; height: 0",tabindex:0,onFocus:t.onFocus,onBlur:t.onBlur})}}),vre=B([B("@keyframes rotator",`
 0% {
 -webkit-transform: rotate(0deg);
 transform: rotate(0deg);
 }
 100% {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }`),R("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[H("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[mo()]),H("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[mo({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),H("container",`
 animation: rotator 3s linear infinite both;
 `,[H("icon",`
 height: 1em;
 width: 1em;
 `)])])]),Dw="1.6s",yre={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},$s=le({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},yre),setup(t){Wa("-base-loading",vre,$e(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:n,stroke:r,scale:i}=this,o=e/i;return v("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},v(Ll,null,{default:()=>this.show?v("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},v("div",{class:`${t}-base-loading__container`},v("svg",{class:`${t}-base-loading__icon`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:r}},v("g",null,v("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${o} ${o};270 ${o} ${o}`,begin:"0s",dur:Dw,fill:"freeze",repeatCount:"indefinite"}),v("circle",{class:`${t}-base-loading__icon`,fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:o,cy:o,r:e-n/2,"stroke-dasharray":5.67*e,"stroke-dashoffset":18.48*e},v("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${o} ${o};135 ${o} ${o};450 ${o} ${o}`,begin:"0s",dur:Dw,fill:"freeze",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-dashoffset",values:`${5.67*e};${1.42*e};${5.67*e}`,begin:"0s",dur:Dw,fill:"freeze",repeatCount:"indefinite"})))))):v("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),{cubicBezierEaseInOut:XT}=wa;function vc({name:t="fade-in",enterDuration:e="0.2s",leaveDuration:n="0.2s",enterCubicBezier:r=XT,leaveCubicBezier:i=XT}={}){return[B(`&.${t}-transition-enter-active`,{transition:`all ${e} ${r}!important`}),B(`&.${t}-transition-leave-active`,{transition:`all ${n} ${i}!important`}),B(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0}),B(`&.${t}-transition-leave-from, &.${t}-transition-enter-to`,{opacity:1})]}const bre=R("base-menu-mask",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 text-align: center;
 padding: 14px;
 overflow: hidden;
`,[vc()]),xre=le({name:"BaseMenuMask",props:{clsPrefix:{type:String,required:!0}},setup(t){Wa("-base-menu-mask",bre,$e(t,"clsPrefix"));const e=V(null);let n=null;const r=V(!1);return ir(()=>{n!==null&&window.clearTimeout(n)}),Object.assign({message:e,show:r},{showOnce(o,a=1500){n&&window.clearTimeout(n),r.value=!0,e.value=o,n=window.setTimeout(()=>{r.value=!1,e.value=null},a)}})},render(){return v(hr,{name:"fade-in-transition"},{default:()=>this.show?v("div",{class:`${this.clsPrefix}-base-menu-mask`},this.message):null})}}),on={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},wre=$i(on.neutralBase),rO=$i(on.neutralInvertBase),Cre=`rgba(${rO.slice(0,3).join(", ")}, `;function Cr(t){return`${Cre+String(t)})`}function Are(t){const e=Array.from(rO);return e[3]=Number(t),rn(wre,e)}const Sre=Object.assign(Object.assign({name:"common"},wa),{baseColor:on.neutralBase,primaryColor:on.primaryDefault,primaryColorHover:on.primaryHover,primaryColorPressed:on.primaryActive,primaryColorSuppl:on.primarySuppl,infoColor:on.infoDefault,infoColorHover:on.infoHover,infoColorPressed:on.infoActive,infoColorSuppl:on.infoSuppl,successColor:on.successDefault,successColorHover:on.successHover,successColorPressed:on.successActive,successColorSuppl:on.successSuppl,warningColor:on.warningDefault,warningColorHover:on.warningHover,warningColorPressed:on.warningActive,warningColorSuppl:on.warningSuppl,errorColor:on.errorDefault,errorColorHover:on.errorHover,errorColorPressed:on.errorActive,errorColorSuppl:on.errorSuppl,textColorBase:on.neutralTextBase,textColor1:Cr(on.alpha1),textColor2:Cr(on.alpha2),textColor3:Cr(on.alpha3),textColorDisabled:Cr(on.alpha4),placeholderColor:Cr(on.alpha4),placeholderColorDisabled:Cr(on.alpha5),iconColor:Cr(on.alpha4),iconColorDisabled:Cr(on.alpha5),iconColorHover:Cr(Number(on.alpha4)*1.25),iconColorPressed:Cr(Number(on.alpha4)*.8),opacity1:on.alpha1,opacity2:on.alpha2,opacity3:on.alpha3,opacity4:on.alpha4,opacity5:on.alpha5,dividerColor:Cr(on.alphaDivider),borderColor:Cr(on.alphaBorder),closeIconColorHover:Cr(Number(on.alphaClose)),closeIconColor:Cr(Number(on.alphaClose)),closeIconColorPressed:Cr(Number(on.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:Cr(on.alpha4),clearColorHover:gf(Cr(on.alpha4),{alpha:1.25}),clearColorPressed:gf(Cr(on.alpha4),{alpha:.8}),scrollbarColor:Cr(on.alphaScrollbar),scrollbarColorHover:Cr(on.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Cr(on.alphaProgressRail),railColor:Cr(on.alphaRail),popoverColor:on.neutralPopover,tableColor:on.neutralCard,cardColor:on.neutralCard,modalColor:on.neutralModal,bodyColor:on.neutralBody,tagColor:Are(on.alphaTag),avatarColor:Cr(on.alphaAvatar),invertedColor:on.neutralBase,inputColor:Cr(on.alphaInput),codeColor:Cr(on.alphaCode),tabColor:Cr(on.alphaTab),actionColor:Cr(on.alphaAction),tableHeaderColor:Cr(on.alphaAction),hoverColor:Cr(on.alphaPending),tableColorHover:Cr(on.alphaTablePending),tableColorStriped:Cr(on.alphaTableStriped),pressedColor:Cr(on.alphaPressed),opacityDisabled:on.alphaDisabled,inputColorDisabled:Cr(on.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Tn={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaAvatar:"0.2",alphaProgressRail:".08",alphaInput:"0",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},kre=$i(Tn.neutralBase),iO=$i(Tn.neutralInvertBase),Ere=`rgba(${iO.slice(0,3).join(", ")}, `;function QT(t){return`${Ere+String(t)})`}function _o(t){const e=Array.from(iO);return e[3]=Number(t),rn(kre,e)}const Bt=Object.assign(Object.assign({name:"common"},wa),{baseColor:Tn.neutralBase,primaryColor:Tn.primaryDefault,primaryColorHover:Tn.primaryHover,primaryColorPressed:Tn.primaryActive,primaryColorSuppl:Tn.primarySuppl,infoColor:Tn.infoDefault,infoColorHover:Tn.infoHover,infoColorPressed:Tn.infoActive,infoColorSuppl:Tn.infoSuppl,successColor:Tn.successDefault,successColorHover:Tn.successHover,successColorPressed:Tn.successActive,successColorSuppl:Tn.successSuppl,warningColor:Tn.warningDefault,warningColorHover:Tn.warningHover,warningColorPressed:Tn.warningActive,warningColorSuppl:Tn.warningSuppl,errorColor:Tn.errorDefault,errorColorHover:Tn.errorHover,errorColorPressed:Tn.errorActive,errorColorSuppl:Tn.errorSuppl,textColorBase:Tn.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:_o(Tn.alpha4),placeholderColor:_o(Tn.alpha4),placeholderColorDisabled:_o(Tn.alpha5),iconColor:_o(Tn.alpha4),iconColorHover:gf(_o(Tn.alpha4),{lightness:.75}),iconColorPressed:gf(_o(Tn.alpha4),{lightness:.9}),iconColorDisabled:_o(Tn.alpha5),opacity1:Tn.alpha1,opacity2:Tn.alpha2,opacity3:Tn.alpha3,opacity4:Tn.alpha4,opacity5:Tn.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:_o(Number(Tn.alphaClose)),closeIconColorHover:_o(Number(Tn.alphaClose)),closeIconColorPressed:_o(Number(Tn.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:_o(Tn.alpha4),clearColorHover:gf(_o(Tn.alpha4),{lightness:.75}),clearColorPressed:gf(_o(Tn.alpha4),{lightness:.9}),scrollbarColor:QT(Tn.alphaScrollbar),scrollbarColorHover:QT(Tn.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:_o(Tn.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:Tn.neutralPopover,tableColor:Tn.neutralCard,cardColor:Tn.neutralCard,modalColor:Tn.neutralModal,bodyColor:Tn.neutralBody,tagColor:"#eee",avatarColor:_o(Tn.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:_o(Tn.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:Tn.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Tre={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function Rre(t){const{scrollbarColor:e,scrollbarColorHover:n,scrollbarHeight:r,scrollbarWidth:i,scrollbarBorderRadius:o}=t;return Object.assign(Object.assign({},Tre),{height:r,width:i,borderRadius:o,color:e,colorHover:n})}const Bo={name:"Scrollbar",common:Bt,self:Rre},_re=R("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[B(">",[R("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[B("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),B(">",[R("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),B(">, +",[R("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[U("horizontal",`
 height: var(--n-scrollbar-height);
 `,[B(">",[H("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),U("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),U("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),U("vertical",`
 width: var(--n-scrollbar-width);
 `,[B(">",[H("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),U("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),U("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),U("disabled",[B(">",[H("scrollbar","pointer-events: none;")])]),B(">",[H("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[vc(),B("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),Pre=Object.assign(Object.assign({},Ve.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Hr=le({name:"Scrollbar",props:Pre,inheritAttrs:!1,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=or("Scrollbar",r,e),o=V(null),a=V(null),s=V(null),l=V(null),c=V(null),u=V(null),d=V(null),h=V(null),f=V(null),p=V(null),g=V(null),m=V(0),y=V(0),b=V(!1),x=V(!1);let w=!1,C=!1,S,A,T=0,k=0,E=0,P=0;const _=gY(),F=Ve("Scrollbar","-scrollbar",_re,Bo,t,e),N=L(()=>{const{value:ce}=h,{value:ue}=u,{value:je}=p;return ce===null||ue===null||je===null?0:Math.min(ce,je*ce/ue+pr(F.value.self.width)*1.5)}),W=L(()=>`${N.value}px`),G=L(()=>{const{value:ce}=f,{value:ue}=d,{value:je}=g;return ce===null||ue===null||je===null?0:je*ce/ue+pr(F.value.self.height)*1.5}),Z=L(()=>`${G.value}px`),ie=L(()=>{const{value:ce}=h,{value:ue}=m,{value:je}=u,{value:st}=p;if(ce===null||je===null||st===null)return 0;{const lt=je-ce;return lt?ue/lt*(st-N.value):0}}),he=L(()=>`${ie.value}px`),xe=L(()=>{const{value:ce}=f,{value:ue}=y,{value:je}=d,{value:st}=g;if(ce===null||je===null||st===null)return 0;{const lt=je-ce;return lt?ue/lt*(st-G.value):0}}),Q=L(()=>`${xe.value}px`),X=L(()=>{const{value:ce}=h,{value:ue}=u;return ce!==null&&ue!==null&&ue>ce}),K=L(()=>{const{value:ce}=f,{value:ue}=d;return ce!==null&&ue!==null&&ue>ce}),ne=L(()=>{const{trigger:ce}=t;return ce==="none"||b.value}),ve=L(()=>{const{trigger:ce}=t;return ce==="none"||x.value}),Se=L(()=>{const{container:ce}=t;return ce?ce():a.value}),ye=L(()=>{const{content:ce}=t;return ce?ce():s.value}),Be=(ce,ue)=>{if(!t.scrollable)return;if(typeof ce=="number"){fe(ce,ue??0,0,!1,"auto");return}const{left:je,top:st,index:lt,elSize:_e,position:tt,behavior:Re,el:Je,debounce:St=!0}=ce;(je!==void 0||st!==void 0)&&fe(je??0,st??0,0,!1,Re),Je!==void 0?fe(0,Je.offsetTop,Je.offsetHeight,St,Re):lt!==void 0&&_e!==void 0?fe(0,lt*_e,_e,St,Re):tt==="bottom"?fe(0,Number.MAX_SAFE_INTEGER,0,!1,Re):tt==="top"&&fe(0,0,0,!1,Re)},J=jk(()=>{t.container||Be({top:m.value,left:y.value})}),Ue=()=>{J.isDeactivated||Te()},Qe=ce=>{if(J.isDeactivated)return;const{onResize:ue}=t;ue&&ue(ce),Te()},ae=(ce,ue)=>{if(!t.scrollable)return;const{value:je}=Se;je&&(typeof ce=="object"?je.scrollBy(ce):je.scrollBy(ce,ue||0))};function fe(ce,ue,je,st,lt){const{value:_e}=Se;if(_e){if(st){const{scrollTop:tt,offsetHeight:Re}=_e;if(ue>tt){ue+je<=tt+Re||_e.scrollTo({left:ce,top:ue+je-Re,behavior:lt});return}}_e.scrollTo({left:ce,top:ue,behavior:lt})}}function ke(){be(),re(),Te()}function Ke(){Ne()}function Ne(){Ae(),se()}function Ae(){A!==void 0&&window.clearTimeout(A),A=window.setTimeout(()=>{x.value=!1},t.duration)}function se(){S!==void 0&&window.clearTimeout(S),S=window.setTimeout(()=>{b.value=!1},t.duration)}function be(){S!==void 0&&window.clearTimeout(S),b.value=!0}function re(){A!==void 0&&window.clearTimeout(A),x.value=!0}function me(ce){const{onScroll:ue}=t;ue&&ue(ce),De()}function De(){const{value:ce}=Se;ce&&(m.value=ce.scrollTop,y.value=ce.scrollLeft*(i!=null&&i.value?-1:1))}function ge(){const{value:ce}=ye;ce&&(u.value=ce.offsetHeight,d.value=ce.offsetWidth);const{value:ue}=Se;ue&&(h.value=ue.offsetHeight,f.value=ue.offsetWidth);const{value:je}=c,{value:st}=l;je&&(g.value=je.offsetWidth),st&&(p.value=st.offsetHeight)}function pe(){const{value:ce}=Se;ce&&(m.value=ce.scrollTop,y.value=ce.scrollLeft*(i!=null&&i.value?-1:1),h.value=ce.offsetHeight,f.value=ce.offsetWidth,u.value=ce.scrollHeight,d.value=ce.scrollWidth);const{value:ue}=c,{value:je}=l;ue&&(g.value=ue.offsetWidth),je&&(p.value=je.offsetHeight)}function Te(){t.scrollable&&(t.useUnifiedContainer?pe():(ge(),De()))}function Xe(ce){var ue;return!(!((ue=o.value)===null||ue===void 0)&&ue.contains(ba(ce)))}function Oe(ce){ce.preventDefault(),ce.stopPropagation(),C=!0,wn("mousemove",window,ft,!0),wn("mouseup",window,Lt,!0),k=y.value,E=i!=null&&i.value?window.innerWidth-ce.clientX:ce.clientX}function ft(ce){if(!C)return;S!==void 0&&window.clearTimeout(S),A!==void 0&&window.clearTimeout(A);const{value:ue}=f,{value:je}=d,{value:st}=G;if(ue===null||je===null)return;const _e=(i!=null&&i.value?window.innerWidth-ce.clientX-E:ce.clientX-E)*(je-ue)/(ue-st),tt=je-ue;let Re=k+_e;Re=Math.min(tt,Re),Re=Math.max(Re,0);const{value:Je}=Se;if(Je){Je.scrollLeft=Re*(i!=null&&i.value?-1:1);const{internalOnUpdateScrollLeft:St}=t;St&&St(Re)}}function Lt(ce){ce.preventDefault(),ce.stopPropagation(),xn("mousemove",window,ft,!0),xn("mouseup",window,Lt,!0),C=!1,Te(),Xe(ce)&&Ne()}function Kt(ce){ce.preventDefault(),ce.stopPropagation(),w=!0,wn("mousemove",window,Dt,!0),wn("mouseup",window,Ge,!0),T=m.value,P=ce.clientY}function Dt(ce){if(!w)return;S!==void 0&&window.clearTimeout(S),A!==void 0&&window.clearTimeout(A);const{value:ue}=h,{value:je}=u,{value:st}=N;if(ue===null||je===null)return;const _e=(ce.clientY-P)*(je-ue)/(ue-st),tt=je-ue;let Re=T+_e;Re=Math.min(tt,Re),Re=Math.max(Re,0);const{value:Je}=Se;Je&&(Je.scrollTop=Re)}function Ge(ce){ce.preventDefault(),ce.stopPropagation(),xn("mousemove",window,Dt,!0),xn("mouseup",window,Ge,!0),w=!1,Te(),Xe(ce)&&Ne()}er(()=>{const{value:ce}=K,{value:ue}=X,{value:je}=e,{value:st}=c,{value:lt}=l;st&&(ce?st.classList.remove(`${je}-scrollbar-rail--disabled`):st.classList.add(`${je}-scrollbar-rail--disabled`)),lt&&(ue?lt.classList.remove(`${je}-scrollbar-rail--disabled`):lt.classList.add(`${je}-scrollbar-rail--disabled`))}),jn(()=>{t.container||Te()}),ir(()=>{S!==void 0&&window.clearTimeout(S),A!==void 0&&window.clearTimeout(A),xn("mousemove",window,Dt,!0),xn("mouseup",window,Ge,!0)});const en=L(()=>{const{common:{cubicBezierEaseInOut:ce},self:{color:ue,colorHover:je,height:st,width:lt,borderRadius:_e,railInsetHorizontalTop:tt,railInsetHorizontalBottom:Re,railInsetVerticalRight:Je,railInsetVerticalLeft:St,railColor:Rt}}=F.value,{top:ze,right:dt,bottom:Ie,left:rt}=wi(tt),{top:mt,right:Ft,bottom:Ht,left:Le}=wi(Re),{top:ot,right:kt,bottom:He,left:at}=wi(i!=null&&i.value?lT(Je):Je),{top:xt,right:Et,bottom:Nt,left:Mn}=wi(i!=null&&i.value?lT(St):St);return{"--n-scrollbar-bezier":ce,"--n-scrollbar-color":ue,"--n-scrollbar-color-hover":je,"--n-scrollbar-border-radius":_e,"--n-scrollbar-width":lt,"--n-scrollbar-height":st,"--n-scrollbar-rail-top-horizontal-top":ze,"--n-scrollbar-rail-right-horizontal-top":dt,"--n-scrollbar-rail-bottom-horizontal-top":Ie,"--n-scrollbar-rail-left-horizontal-top":rt,"--n-scrollbar-rail-top-horizontal-bottom":mt,"--n-scrollbar-rail-right-horizontal-bottom":Ft,"--n-scrollbar-rail-bottom-horizontal-bottom":Ht,"--n-scrollbar-rail-left-horizontal-bottom":Le,"--n-scrollbar-rail-top-vertical-right":ot,"--n-scrollbar-rail-right-vertical-right":kt,"--n-scrollbar-rail-bottom-vertical-right":He,"--n-scrollbar-rail-left-vertical-right":at,"--n-scrollbar-rail-top-vertical-left":xt,"--n-scrollbar-rail-right-vertical-left":Et,"--n-scrollbar-rail-bottom-vertical-left":Nt,"--n-scrollbar-rail-left-vertical-left":Mn,"--n-scrollbar-rail-color":Rt}}),wt=n?Ot("scrollbar",void 0,en,t):void 0;return Object.assign(Object.assign({},{scrollTo:Be,scrollBy:ae,sync:Te,syncUnifiedContainer:pe,handleMouseEnterWrapper:ke,handleMouseLeaveWrapper:Ke}),{mergedClsPrefix:e,rtlEnabled:i,containerScrollTop:m,wrapperRef:o,containerRef:a,contentRef:s,yRailRef:l,xRailRef:c,needYBar:X,needXBar:K,yBarSizePx:W,xBarSizePx:Z,yBarTopPx:he,xBarLeftPx:Q,isShowXBar:ne,isShowYBar:ve,isIos:_,handleScroll:me,handleContentResize:Ue,handleContainerResize:Qe,handleYScrollMouseDown:Kt,handleXScrollMouseDown:Oe,cssVars:n?void 0:en,themeClass:wt==null?void 0:wt.themeClass,onRender:wt==null?void 0:wt.onRender})},render(){var t;const{$slots:e,mergedClsPrefix:n,triggerDisplayManually:r,rtlEnabled:i,internalHoistYRail:o,yPlacement:a,xPlacement:s,xScrollable:l}=this;if(!this.scrollable)return(t=e.default)===null||t===void 0?void 0:t.call(e);const c=this.trigger==="none",u=(f,p)=>v("div",{ref:"yRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--vertical`,`${n}-scrollbar-rail--vertical--${a}`,f],"data-scrollbar-rail":!0,style:[p||"",this.verticalRailStyle],"aria-hidden":!0},v(c?aA:hr,c?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?v("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),d=()=>{var f,p;return(f=this.onRender)===null||f===void 0||f.call(this),v("div",Xi(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${n}-scrollbar`,this.themeClass,i&&`${n}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?(p=e.default)===null||p===void 0?void 0:p.call(e):v("div",{role:"none",ref:"containerRef",class:[`${n}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},v($o,{onResize:this.handleContentResize},{default:()=>v("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${n}-scrollbar-content`,this.contentClass]},e)})),o?null:u(void 0,void 0),l&&v("div",{ref:"xRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--horizontal`,`${n}-scrollbar-rail--horizontal--${s}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},v(c?aA:hr,c?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?v("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:i?this.xBarLeftPx:void 0,left:i?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},h=this.container?d():v($o,{onResize:this.handleContainerResize},{default:d});return o?v(qn,null,h,u(this.themeClass,this.cssVars)):h}}),Xf=Hr;function ZT(t){return Array.isArray(t)?t:[t]}const gA={STOP:"STOP"};function oO(t,e){const n=e(t);t.children!==void 0&&n!==gA.STOP&&t.children.forEach(r=>oO(r,e))}function Ire(t,e={}){const{preserveGroup:n=!1}=e,r=[],i=n?a=>{a.isLeaf||(r.push(a.key),o(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),o(a.children))};function o(a){a.forEach(i)}return o(t),r}function Lre(t,e){const{isLeaf:n}=t;return n!==void 0?n:!e(t)}function Mre(t){return t.children}function Ore(t){return t.key}function Dre(){return!1}function Fre(t,e){const{isLeaf:n}=t;return!(n===!1&&!Array.isArray(e(t)))}function $re(t){return t.disabled===!0}function Bre(t,e){return t.isLeaf===!1&&!Array.isArray(e(t))}function Fw(t){var e;return t==null?[]:Array.isArray(t)?t:(e=t.checkedKeys)!==null&&e!==void 0?e:[]}function $w(t){var e;return t==null||Array.isArray(t)?[]:(e=t.indeterminateKeys)!==null&&e!==void 0?e:[]}function Nre(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function zre(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function Hre(t){return(t==null?void 0:t.type)==="group"}function aO(t){const e=new Map;return t.forEach((n,r)=>{e.set(n.key,r)}),n=>{var r;return(r=e.get(n))!==null&&r!==void 0?r:null}}class sO extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Ure(t,e,n,r){return Nb(e.concat(t),n,r,!1)}function jre(t,e){const n=new Set;return t.forEach(r=>{const i=e.treeNodeMap.get(r);if(i!==void 0){let o=i.parent;for(;o!==null&&!(o.disabled||n.has(o.key));)n.add(o.key),o=o.parent}}),n}function Vre(t,e,n,r){const i=Nb(e,n,r,!1),o=Nb(t,n,r,!0),a=jre(t,n),s=[];return i.forEach(l=>{(o.has(l)||a.has(l))&&s.push(l)}),s.forEach(l=>i.delete(l)),i}function Bw(t,e){const{checkedKeys:n,keysToCheck:r,keysToUncheck:i,indeterminateKeys:o,cascade:a,leafOnly:s,checkStrategy:l,allowNotLoaded:c}=t;if(!a)return r!==void 0?{checkedKeys:Nre(n,r),indeterminateKeys:Array.from(o)}:i!==void 0?{checkedKeys:zre(n,i),indeterminateKeys:Array.from(o)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(o)};const{levelTreeNodeMap:u}=e;let d;i!==void 0?d=Vre(i,n,e,c):r!==void 0?d=Ure(r,n,e,c):d=Nb(n,e,c,!1);const h=l==="parent",f=l==="child"||s,p=d,g=new Set,m=Math.max.apply(null,Array.from(u.keys()));for(let y=m;y>=0;y-=1){const b=y===0,x=u.get(y);for(const w of x){if(w.isLeaf)continue;const{key:C,shallowLoaded:S}=w;if(f&&S&&w.children.forEach(E=>{!E.disabled&&!E.isLeaf&&E.shallowLoaded&&p.has(E.key)&&p.delete(E.key)}),w.disabled||!S)continue;let A=!0,T=!1,k=!0;for(const E of w.children){const P=E.key;if(!E.disabled){if(k&&(k=!1),p.has(P))T=!0;else if(g.has(P)){T=!0,A=!1;break}else if(A=!1,T)break}}A&&!k?(h&&w.children.forEach(E=>{!E.disabled&&p.has(E.key)&&p.delete(E.key)}),p.add(C)):T&&g.add(C),b&&f&&p.has(C)&&p.delete(C)}}return{checkedKeys:Array.from(p),indeterminateKeys:Array.from(g)}}function Nb(t,e,n,r){const{treeNodeMap:i,getChildren:o}=e,a=new Set,s=new Set(t);return t.forEach(l=>{const c=i.get(l);c!==void 0&&oO(c,u=>{if(u.disabled)return gA.STOP;const{key:d}=u;if(!a.has(d)&&(a.add(d),s.add(d),Bre(u.rawNode,o))){if(r)return gA.STOP;if(!n)throw new sO}})}),s}function Wre(t,{includeGroup:e=!1,includeSelf:n=!0},r){var i;const o=r.treeNodeMap;let a=t==null?null:(i=o.get(t))!==null&&i!==void 0?i:null;const s={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return s.treeNode=null,s;for(;a;)!a.ignored&&(e||!a.isGroup)&&s.treeNodePath.push(a),a=a.parent;return s.treeNodePath.reverse(),n||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(l=>l.key),s}function qre(t){if(t.length===0)return null;const e=t[0];return e.isGroup||e.ignored||e.disabled?e.getNext():e}function Kre(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i+1)%r]:i===n.length-1?null:n[i+1]}function JT(t,e,{loop:n=!1,includeDisabled:r=!1}={}){const i=e==="prev"?Gre:Kre,o={reverse:e==="prev"};let a=!1,s=null;function l(c){if(c!==null){if(c===t){if(!a)a=!0;else if(!t.disabled&&!t.isGroup){s=t;return}}else if((!c.disabled||r)&&!c.ignored&&!c.isGroup){s=c;return}if(c.isGroup){const u=a4(c,o);u!==null?s=u:l(i(c,n))}else{const u=i(c,!1);if(u!==null)l(u);else{const d=Yre(c);d!=null&&d.isGroup?l(i(d,n)):n&&l(i(c,!0))}}}}return l(t),s}function Gre(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i-1+r)%r]:i===0?null:n[i-1]}function Yre(t){return t.parent}function a4(t,e={}){const{reverse:n=!1}=e,{children:r}=t;if(r){const{length:i}=r,o=n?i-1:0,a=n?-1:i,s=n?-1:1;for(let l=o;l!==a;l+=s){const c=r[l];if(!c.disabled&&!c.ignored)if(c.isGroup){const u=a4(c,e);if(u!==null)return u}else return c}}return null}const Xre={getChild(){return this.ignored?null:a4(this)},getParent(){const{parent:t}=this;return t!=null&&t.isGroup?t.getParent():t},getNext(t={}){return JT(this,"next",t)},getPrev(t={}){return JT(this,"prev",t)}};function vA(t,e){const n=e?new Set(e):void 0,r=[];function i(o){o.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||n===void 0||n.has(a.key))&&i(a.children)})}return i(t),r}function Qre(t,e){const n=t.key;for(;e;){if(e.key===n)return!0;e=e.parent}return!1}function lO(t,e,n,r,i,o=null,a=0){const s=[];return t.forEach((l,c)=>{var u;const d=Object.create(r);if(d.rawNode=l,d.siblings=s,d.level=a,d.index=c,d.isFirstChild=c===0,d.isLastChild=c+1===t.length,d.parent=o,!d.ignored){const h=i(l);Array.isArray(h)&&(d.children=lO(h,e,n,r,i,d,a+1))}s.push(d),e.set(d.key,d),n.has(a)||n.set(a,[]),(u=n.get(a))===null||u===void 0||u.push(d)}),s}function ma(t,e={}){var n;const r=new Map,i=new Map,{getDisabled:o=$re,getIgnored:a=Dre,getIsGroup:s=Hre,getKey:l=Ore}=e,c=(n=e.getChildren)!==null&&n!==void 0?n:Mre,u=e.ignoreEmptyChildren?w=>{const C=c(w);return Array.isArray(C)?C.length?C:null:C}:c,d=Object.assign({get key(){return l(this.rawNode)},get disabled(){return o(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return Lre(this.rawNode,u)},get shallowLoaded(){return Fre(this.rawNode,u)},get ignored(){return a(this.rawNode)},contains(w){return Qre(this,w)}},Xre),h=lO(t,r,i,d,u);function f(w){if(w==null)return null;const C=r.get(w);return C&&!C.isGroup&&!C.ignored?C:null}function p(w){if(w==null)return null;const C=r.get(w);return C&&!C.ignored?C:null}function g(w,C){const S=p(w);return S?S.getPrev(C):null}function m(w,C){const S=p(w);return S?S.getNext(C):null}function y(w){const C=p(w);return C?C.getParent():null}function b(w){const C=p(w);return C?C.getChild():null}const x={treeNodes:h,treeNodeMap:r,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:u,getFlattenedNodes(w){return vA(h,w)},getNode:f,getPrev:g,getNext:m,getParent:y,getChild:b,getFirstAvailableNode(){return qre(h)},getPath(w,C={}){return Wre(w,C,x)},getCheckedKeys(w,C={}){const{cascade:S=!0,leafOnly:A=!1,checkStrategy:T="all",allowNotLoaded:k=!1}=C;return Bw({checkedKeys:Fw(w),indeterminateKeys:$w(w),cascade:S,leafOnly:A,checkStrategy:T,allowNotLoaded:k},x)},check(w,C,S={}){const{cascade:A=!0,leafOnly:T=!1,checkStrategy:k="all",allowNotLoaded:E=!1}=S;return Bw({checkedKeys:Fw(C),indeterminateKeys:$w(C),keysToCheck:w==null?[]:ZT(w),cascade:A,leafOnly:T,checkStrategy:k,allowNotLoaded:E},x)},uncheck(w,C,S={}){const{cascade:A=!0,leafOnly:T=!1,checkStrategy:k="all",allowNotLoaded:E=!1}=S;return Bw({checkedKeys:Fw(C),indeterminateKeys:$w(C),keysToUncheck:w==null?[]:ZT(w),cascade:A,leafOnly:T,checkStrategy:k,allowNotLoaded:E},x)},getNonLeafKeys(w={}){return Ire(h,w)}};return x}const Zre={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function Jre(t){const{textColorDisabled:e,iconColor:n,textColor2:r,fontSizeTiny:i,fontSizeSmall:o,fontSizeMedium:a,fontSizeLarge:s,fontSizeHuge:l}=t;return Object.assign(Object.assign({},Zre),{fontSizeTiny:i,fontSizeSmall:o,fontSizeMedium:a,fontSizeLarge:s,fontSizeHuge:l,textColor:e,iconColor:n,extraTextColor:r})}const ed={name:"Empty",common:Bt,self:Jre},eie=R("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[H("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[B("+",[H("description",`
 margin-top: 8px;
 `)])]),H("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),H("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),cO=Object.assign(Object.assign({},Ve.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),yc=le({name:"Empty",props:cO,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedComponentPropsRef:r}=gt(t),i=Ve("Empty","-empty",eie,ed,t,e),{localeRef:o}=li("Empty"),a=L(()=>{var u,d,h;return(u=t.description)!==null&&u!==void 0?u:(h=(d=r==null?void 0:r.value)===null||d===void 0?void 0:d.Empty)===null||h===void 0?void 0:h.description}),s=L(()=>{var u,d;return((d=(u=r==null?void 0:r.value)===null||u===void 0?void 0:u.Empty)===null||d===void 0?void 0:d.renderIcon)||(()=>v(tre,null))}),l=L(()=>{const{size:u}=t,{common:{cubicBezierEaseInOut:d},self:{[We("iconSize",u)]:h,[We("fontSize",u)]:f,textColor:p,iconColor:g,extraTextColor:m}}=i.value;return{"--n-icon-size":h,"--n-font-size":f,"--n-bezier":d,"--n-text-color":p,"--n-icon-color":g,"--n-extra-text-color":m}}),c=n?Ot("empty",L(()=>{let u="";const{size:d}=t;return u+=d[0],u}),l,t):void 0;return{mergedClsPrefix:e,mergedRenderIcon:s,localizedDescription:L(()=>a.value||o.value.description),cssVars:n?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:t,mergedClsPrefix:e,onRender:n}=this;return n==null||n(),v("div",{class:[`${e}-empty`,this.themeClass],style:this.cssVars},this.showIcon?v("div",{class:`${e}-empty__icon`},t.icon?t.icon():v(Jt,{clsPrefix:e},{default:this.mergedRenderIcon})):null,this.showDescription?v("div",{class:`${e}-empty__description`},t.default?t.default():this.localizedDescription):null,t.extra?v("div",{class:`${e}-empty__extra`},t.extra()):null)}}),tie={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function nie(t){const{borderRadius:e,popoverColor:n,textColor3:r,dividerColor:i,textColor2:o,primaryColorPressed:a,textColorDisabled:s,primaryColor:l,opacityDisabled:c,hoverColor:u,fontSizeTiny:d,fontSizeSmall:h,fontSizeMedium:f,fontSizeLarge:p,fontSizeHuge:g,heightTiny:m,heightSmall:y,heightMedium:b,heightLarge:x,heightHuge:w}=t;return Object.assign(Object.assign({},tie),{optionFontSizeTiny:d,optionFontSizeSmall:h,optionFontSizeMedium:f,optionFontSizeLarge:p,optionFontSizeHuge:g,optionHeightTiny:m,optionHeightSmall:y,optionHeightMedium:b,optionHeightLarge:x,optionHeightHuge:w,borderRadius:e,color:n,groupHeaderTextColor:r,actionDividerColor:i,optionTextColor:o,optionTextColorPressed:a,optionTextColorDisabled:s,optionTextColorActive:l,optionOpacityDisabled:c,optionCheckColor:l,optionColorPending:u,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:u,actionTextColor:o,loadingColor:l})}const hp={name:"InternalSelectMenu",common:Bt,peers:{Scrollbar:Bo,Empty:ed},self:nie},e6=le({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:t,renderOptionRef:e,labelFieldRef:n,nodePropsRef:r}=ut(Nk);return{labelField:n,nodeProps:r,renderLabel:t,renderOption:e}},render(){const{clsPrefix:t,renderLabel:e,renderOption:n,nodeProps:r,tmNode:{rawNode:i}}=this,o=r==null?void 0:r(i),a=e?e(i,!1):Sr(i[this.labelField],i,!1),s=v("div",Object.assign({},o,{class:[`${t}-base-select-group-header`,o==null?void 0:o.class]}),a);return i.render?i.render({node:s,option:i}):n?n({node:s,option:i,selected:!1}):s}});function rie(t,e){return v(hr,{name:"fade-in-scale-up-transition"},{default:()=>t?v(Jt,{clsPrefix:e,class:`${e}-base-select-option__check`},{default:()=>v(r4)}):null})}const t6=le({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(t){const{valueRef:e,pendingTmNodeRef:n,multipleRef:r,valueSetRef:i,renderLabelRef:o,renderOptionRef:a,labelFieldRef:s,valueFieldRef:l,showCheckmarkRef:c,nodePropsRef:u,handleOptionClick:d,handleOptionMouseEnter:h}=ut(Nk),f=Yt(()=>{const{value:y}=n;return y?t.tmNode.key===y.key:!1});function p(y){const{tmNode:b}=t;b.disabled||d(y,b)}function g(y){const{tmNode:b}=t;b.disabled||h(y,b)}function m(y){const{tmNode:b}=t,{value:x}=f;b.disabled||x||h(y,b)}return{multiple:r,isGrouped:Yt(()=>{const{tmNode:y}=t,{parent:b}=y;return b&&b.rawNode.type==="group"}),showCheckmark:c,nodeProps:u,isPending:f,isSelected:Yt(()=>{const{value:y}=e,{value:b}=r;if(y===null)return!1;const x=t.tmNode.rawNode[l.value];if(b){const{value:w}=i;return w.has(x)}else return y===x}),labelField:s,renderLabel:o,renderOption:a,handleMouseMove:m,handleMouseEnter:g,handleClick:p}},render(){const{clsPrefix:t,tmNode:{rawNode:e},isSelected:n,isPending:r,isGrouped:i,showCheckmark:o,nodeProps:a,renderOption:s,renderLabel:l,handleClick:c,handleMouseEnter:u,handleMouseMove:d}=this,h=rie(n,t),f=l?[l(e,n),o&&h]:[Sr(e[this.labelField],e,n),o&&h],p=a==null?void 0:a(e),g=v("div",Object.assign({},p,{class:[`${t}-base-select-option`,e.class,p==null?void 0:p.class,{[`${t}-base-select-option--disabled`]:e.disabled,[`${t}-base-select-option--selected`]:n,[`${t}-base-select-option--grouped`]:i,[`${t}-base-select-option--pending`]:r,[`${t}-base-select-option--show-checkmark`]:o}],style:[(p==null?void 0:p.style)||"",e.style||""],onClick:$0([c,p==null?void 0:p.onClick]),onMouseenter:$0([u,p==null?void 0:p.onMouseenter]),onMousemove:$0([d,p==null?void 0:p.onMousemove])}),v("div",{class:`${t}-base-select-option__content`},f));return e.render?e.render({node:g,option:e,selected:n}):s?s({node:g,option:e,selected:n}):g}}),{cubicBezierEaseIn:n6,cubicBezierEaseOut:r6}=wa;function Qi({transformOrigin:t="inherit",duration:e=".2s",enterScale:n=".9",originalTransform:r="",originalTransition:i=""}={}){return[B("&.fade-in-scale-up-transition-leave-active",{transformOrigin:t,transition:`opacity ${e} ${n6}, transform ${e} ${n6} ${i&&`,${i}`}`}),B("&.fade-in-scale-up-transition-enter-active",{transformOrigin:t,transition:`opacity ${e} ${r6}, transform ${e} ${r6} ${i&&`,${i}`}`}),B("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${n})`}),B("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const iie=R("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[R("scrollbar",`
 max-height: var(--n-height);
 `),R("virtual-list",`
 max-height: var(--n-height);
 `),R("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[H("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),R("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),R("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),H("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),H("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),H("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),H("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),R("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),R("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[U("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),B("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),B("&:active",`
 color: var(--n-option-text-color-pressed);
 `),U("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),U("pending",[B("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),U("selected",`
 color: var(--n-option-text-color-active);
 `,[B("&::before",`
 background-color: var(--n-option-color-active);
 `),U("pending",[B("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),U("disabled",`
 cursor: not-allowed;
 `,[an("selected",`
 color: var(--n-option-text-color-disabled);
 `),U("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),H("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Qi({enterScale:"0.5"})])])]),Ug=le({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Ve.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=or("InternalSelectMenu",n,e),i=Ve("InternalSelectMenu","-internal-select-menu",iie,hp,t,$e(t,"clsPrefix")),o=V(null),a=V(null),s=V(null),l=L(()=>t.treeMate.getFlattenedNodes()),c=L(()=>aO(l.value)),u=V(null);function d(){const{treeMate:X}=t;let K=null;const{value:ne}=t;ne===null?K=X.getFirstAvailableNode():(t.multiple?K=X.getNode((ne||[])[(ne||[]).length-1]):K=X.getNode(ne),(!K||K.disabled)&&(K=X.getFirstAvailableNode())),N(K||null)}function h(){const{value:X}=u;X&&!t.treeMate.getNode(X.key)&&(u.value=null)}let f;qt(()=>t.show,X=>{X?f=qt(()=>t.treeMate,()=>{t.resetMenuOnOptionsChange?(t.autoPending?d():h(),vn(W)):h()},{immediate:!0}):f==null||f()},{immediate:!0}),ir(()=>{f==null||f()});const p=L(()=>pr(i.value.self[We("optionHeight",t.size)])),g=L(()=>wi(i.value.self[We("padding",t.size)])),m=L(()=>t.multiple&&Array.isArray(t.value)?new Set(t.value):new Set),y=L(()=>{const X=l.value;return X&&X.length===0});function b(X){const{onToggle:K}=t;K&&K(X)}function x(X){const{onScroll:K}=t;K&&K(X)}function w(X){var K;(K=s.value)===null||K===void 0||K.sync(),x(X)}function C(){var X;(X=s.value)===null||X===void 0||X.sync()}function S(){const{value:X}=u;return X||null}function A(X,K){K.disabled||N(K,!1)}function T(X,K){K.disabled||b(K)}function k(X){var K;Zr(X,"action")||(K=t.onKeyup)===null||K===void 0||K.call(t,X)}function E(X){var K;Zr(X,"action")||(K=t.onKeydown)===null||K===void 0||K.call(t,X)}function P(X){var K;(K=t.onMousedown)===null||K===void 0||K.call(t,X),!t.focusable&&X.preventDefault()}function _(){const{value:X}=u;X&&N(X.getNext({loop:!0}),!0)}function F(){const{value:X}=u;X&&N(X.getPrev({loop:!0}),!0)}function N(X,K=!1){u.value=X,K&&W()}function W(){var X,K;const ne=u.value;if(!ne)return;const ve=c.value(ne.key);ve!==null&&(t.virtualScroll?(X=a.value)===null||X===void 0||X.scrollTo({index:ve}):(K=s.value)===null||K===void 0||K.scrollTo({index:ve,elSize:p.value}))}function G(X){var K,ne;!((K=o.value)===null||K===void 0)&&K.contains(X.target)&&((ne=t.onFocus)===null||ne===void 0||ne.call(t,X))}function Z(X){var K,ne;!((K=o.value)===null||K===void 0)&&K.contains(X.relatedTarget)||(ne=t.onBlur)===null||ne===void 0||ne.call(t,X)}zt(Nk,{handleOptionMouseEnter:A,handleOptionClick:T,valueSetRef:m,pendingTmNodeRef:u,nodePropsRef:$e(t,"nodeProps"),showCheckmarkRef:$e(t,"showCheckmark"),multipleRef:$e(t,"multiple"),valueRef:$e(t,"value"),renderLabelRef:$e(t,"renderLabel"),renderOptionRef:$e(t,"renderOption"),labelFieldRef:$e(t,"labelField"),valueFieldRef:$e(t,"valueField")}),zt(_L,o),jn(()=>{const{value:X}=s;X&&X.sync()});const ie=L(()=>{const{size:X}=t,{common:{cubicBezierEaseInOut:K},self:{height:ne,borderRadius:ve,color:Se,groupHeaderTextColor:ye,actionDividerColor:Be,optionTextColorPressed:J,optionTextColor:Ue,optionTextColorDisabled:Qe,optionTextColorActive:ae,optionOpacityDisabled:fe,optionCheckColor:ke,actionTextColor:Ke,optionColorPending:Ne,optionColorActive:Ae,loadingColor:se,loadingSize:be,optionColorActivePending:re,[We("optionFontSize",X)]:me,[We("optionHeight",X)]:De,[We("optionPadding",X)]:ge}}=i.value;return{"--n-height":ne,"--n-action-divider-color":Be,"--n-action-text-color":Ke,"--n-bezier":K,"--n-border-radius":ve,"--n-color":Se,"--n-option-font-size":me,"--n-group-header-text-color":ye,"--n-option-check-color":ke,"--n-option-color-pending":Ne,"--n-option-color-active":Ae,"--n-option-color-active-pending":re,"--n-option-height":De,"--n-option-opacity-disabled":fe,"--n-option-text-color":Ue,"--n-option-text-color-active":ae,"--n-option-text-color-disabled":Qe,"--n-option-text-color-pressed":J,"--n-option-padding":ge,"--n-option-padding-left":wi(ge,"left"),"--n-option-padding-right":wi(ge,"right"),"--n-loading-color":se,"--n-loading-size":be}}),{inlineThemeDisabled:he}=t,xe=he?Ot("internal-select-menu",L(()=>t.size[0]),ie,t):void 0,Q={selfRef:o,next:_,prev:F,getPendingTmNode:S};return tx(o,t.onResize),Object.assign({mergedTheme:i,mergedClsPrefix:e,rtlEnabled:r,virtualListRef:a,scrollbarRef:s,itemSize:p,padding:g,flattenedNodes:l,empty:y,virtualListContainer(){const{value:X}=a;return X==null?void 0:X.listElRef},virtualListContent(){const{value:X}=a;return X==null?void 0:X.itemsElRef},doScroll:x,handleFocusin:G,handleFocusout:Z,handleKeyUp:k,handleKeyDown:E,handleMouseDown:P,handleVirtualListResize:C,handleVirtualListScroll:w,cssVars:he?void 0:ie,themeClass:xe==null?void 0:xe.themeClass,onRender:xe==null?void 0:xe.onRender},Q)},render(){const{$slots:t,virtualScroll:e,clsPrefix:n,mergedTheme:r,themeClass:i,onRender:o}=this;return o==null||o(),v("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,i,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},bn(t.header,a=>a&&v("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},a)),this.loading?v("div",{class:`${n}-base-select-menu__loading`},v($s,{clsPrefix:n,strokeWidth:20})):this.empty?v("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},sn(t.empty,()=>[v(yc,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty,size:this.size})])):v(Hr,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:e?this.virtualListContainer:void 0,content:e?this.virtualListContent:void 0,onScroll:e?void 0:this.doScroll},{default:()=>e?v(Os,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:a})=>a.isGroup?v(e6,{key:a.key,clsPrefix:n,tmNode:a}):a.ignored?null:v(t6,{clsPrefix:n,key:a.key,tmNode:a})}):v("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(a=>a.isGroup?v(e6,{key:a.key,clsPrefix:n,tmNode:a}):v(t6,{clsPrefix:n,key:a.key,tmNode:a})))}),bn(t.action,a=>a&&[v("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},a),v(Ol,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),oie={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function aie(t){const{boxShadow2:e,popoverColor:n,textColor2:r,borderRadius:i,fontSize:o,dividerColor:a}=t;return Object.assign(Object.assign({},oie),{fontSize:o,borderRadius:i,color:n,dividerColor:a,textColor:r,boxShadow:e})}const wh={name:"Popover",common:Bt,peers:{Scrollbar:Bo},self:aie},Nw={top:"bottom",bottom:"top",left:"right",right:"left"},to="var(--n-arrow-height) * 1.414",sie=B([R("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[B(">",[R("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),an("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[an("scrollable",[an("show-header-or-footer","padding: var(--n-padding);")])]),H("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),H("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),U("scrollable, show-header-or-footer",[H("content",`
 padding: var(--n-padding);
 `)])]),R("popover-shared",`
 transform-origin: inherit;
 `,[R("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[R("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${to});
 height: calc(${to});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),B("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),B("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),B("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),B("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),Ya("top-start",`
 top: calc(${to} / -2);
 left: calc(${zl("top-start")} - var(--v-offset-left));
 `),Ya("top",`
 top: calc(${to} / -2);
 transform: translateX(calc(${to} / -2)) rotate(45deg);
 left: 50%;
 `),Ya("top-end",`
 top: calc(${to} / -2);
 right: calc(${zl("top-end")} + var(--v-offset-left));
 `),Ya("bottom-start",`
 bottom: calc(${to} / -2);
 left: calc(${zl("bottom-start")} - var(--v-offset-left));
 `),Ya("bottom",`
 bottom: calc(${to} / -2);
 transform: translateX(calc(${to} / -2)) rotate(45deg);
 left: 50%;
 `),Ya("bottom-end",`
 bottom: calc(${to} / -2);
 right: calc(${zl("bottom-end")} + var(--v-offset-left));
 `),Ya("left-start",`
 left: calc(${to} / -2);
 top: calc(${zl("left-start")} - var(--v-offset-top));
 `),Ya("left",`
 left: calc(${to} / -2);
 transform: translateY(calc(${to} / -2)) rotate(45deg);
 top: 50%;
 `),Ya("left-end",`
 left: calc(${to} / -2);
 bottom: calc(${zl("left-end")} + var(--v-offset-top));
 `),Ya("right-start",`
 right: calc(${to} / -2);
 top: calc(${zl("right-start")} - var(--v-offset-top));
 `),Ya("right",`
 right: calc(${to} / -2);
 transform: translateY(calc(${to} / -2)) rotate(45deg);
 top: 50%;
 `),Ya("right-end",`
 right: calc(${to} / -2);
 bottom: calc(${zl("right-end")} + var(--v-offset-top));
 `),...Lne({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(t,e)=>{const n=["right","left"].includes(e),r=n?"width":"height";return t.map(i=>{const o=i.split("-")[1]==="end",s=`calc((${`var(--v-target-${r}, 0px)`} - ${to}) / 2)`,l=zl(i);return B(`[v-placement="${i}"] >`,[R("popover-shared",[U("center-arrow",[R("popover-arrow",`${e}: calc(max(${s}, ${l}) ${o?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function zl(t){return["top","bottom"].includes(t.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function Ya(t,e){const n=t.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return B(`[v-placement="${t}"] >`,[R("popover-shared",`
 margin-${Nw[n]}: var(--n-space);
 `,[U("show-arrow",`
 margin-${Nw[n]}: var(--n-space-arrow);
 `),U("overlap",`
 margin: 0;
 `),JG("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${Nw[n]}: auto;
 ${r}
 `,[R("popover-arrow",e)])])])}const uO=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function dO({arrowClass:t,arrowStyle:e,arrowWrapperClass:n,arrowWrapperStyle:r,clsPrefix:i}){return v("div",{key:"__popover-arrow__",style:r,class:[`${i}-popover-arrow-wrapper`,n]},v("div",{class:[`${i}-popover-arrow`,t],style:e}))}const lie=le({name:"PopoverBody",inheritAttrs:!1,props:uO,setup(t,{slots:e,attrs:n}){const{namespaceRef:r,mergedClsPrefixRef:i,inlineThemeDisabled:o,mergedRtlRef:a}=gt(t),s=Ve("Popover","-popover",sie,wh,t,i),l=or("Popover",a,i),c=V(null),u=ut("NPopover"),d=V(null),h=V(t.show),f=V(!1);er(()=>{const{show:k}=t;k&&!yX()&&!t.internalDeactivateImmediately&&(f.value=!0)});const p=L(()=>{const{trigger:k,onClickoutside:E}=t,P=[],{positionManuallyRef:{value:_}}=u;return _||(k==="click"&&!E&&P.push([xa,S,void 0,{capture:!0}]),k==="hover"&&P.push([TY,C])),E&&P.push([xa,S,void 0,{capture:!0}]),(t.displayDirective==="show"||t.animated&&f.value)&&P.push([ya,t.show]),P}),g=L(()=>{const{common:{cubicBezierEaseInOut:k,cubicBezierEaseIn:E,cubicBezierEaseOut:P},self:{space:_,spaceArrow:F,padding:N,fontSize:W,textColor:G,dividerColor:Z,color:ie,boxShadow:he,borderRadius:xe,arrowHeight:Q,arrowOffset:X,arrowOffsetVertical:K}}=s.value;return{"--n-box-shadow":he,"--n-bezier":k,"--n-bezier-ease-in":E,"--n-bezier-ease-out":P,"--n-font-size":W,"--n-text-color":G,"--n-color":ie,"--n-divider-color":Z,"--n-border-radius":xe,"--n-arrow-height":Q,"--n-arrow-offset":X,"--n-arrow-offset-vertical":K,"--n-padding":N,"--n-space":_,"--n-space-arrow":F}}),m=L(()=>{const k=t.width==="trigger"?void 0:Ln(t.width),E=[];k&&E.push({width:k});const{maxWidth:P,minWidth:_}=t;return P&&E.push({maxWidth:Ln(P)}),_&&E.push({maxWidth:Ln(_)}),o||E.push(g.value),E}),y=o?Ot("popover",void 0,g,t):void 0;u.setBodyInstance({syncPosition:b}),ir(()=>{u.setBodyInstance(null)}),qt($e(t,"show"),k=>{t.animated||(k?h.value=!0:h.value=!1)});function b(){var k;(k=c.value)===null||k===void 0||k.syncPosition()}function x(k){t.trigger==="hover"&&t.keepAliveOnHover&&t.show&&u.handleMouseEnter(k)}function w(k){t.trigger==="hover"&&t.keepAliveOnHover&&u.handleMouseLeave(k)}function C(k){t.trigger==="hover"&&!A().contains(ba(k))&&u.handleMouseMoveOutside(k)}function S(k){(t.trigger==="click"&&!A().contains(ba(k))||t.onClickoutside)&&u.handleClickOutside(k)}function A(){return u.getTriggerElement()}zt(cp,d),zt(Dg,null),zt(Fg,null);function T(){if(y==null||y.onRender(),!(t.displayDirective==="show"||t.show||t.animated&&f.value))return null;let E;const P=u.internalRenderBodyRef.value,{value:_}=i;if(P)E=P([`${_}-popover-shared`,(l==null?void 0:l.value)&&`${_}-popover--rtl`,y==null?void 0:y.themeClass.value,t.overlap&&`${_}-popover-shared--overlap`,t.showArrow&&`${_}-popover-shared--show-arrow`,t.arrowPointToCenter&&`${_}-popover-shared--center-arrow`],d,m.value,x,w);else{const{value:F}=u.extraClassRef,{internalTrapFocus:N}=t,W=!Yd(e.header)||!Yd(e.footer),G=()=>{var Z,ie;const he=W?v(qn,null,bn(e.header,X=>X?v("div",{class:[`${_}-popover__header`,t.headerClass],style:t.headerStyle},X):null),bn(e.default,X=>X?v("div",{class:[`${_}-popover__content`,t.contentClass],style:t.contentStyle},e):null),bn(e.footer,X=>X?v("div",{class:[`${_}-popover__footer`,t.footerClass],style:t.footerStyle},X):null)):t.scrollable?(Z=e.default)===null||Z===void 0?void 0:Z.call(e):v("div",{class:[`${_}-popover__content`,t.contentClass],style:t.contentStyle},e),xe=t.scrollable?v(Xf,{themeOverrides:s.value.peerOverrides.Scrollbar,theme:s.value.peers.Scrollbar,contentClass:W?void 0:`${_}-popover__content ${(ie=t.contentClass)!==null&&ie!==void 0?ie:""}`,contentStyle:W?void 0:t.contentStyle},{default:()=>he}):he,Q=t.showArrow?dO({arrowClass:t.arrowClass,arrowStyle:t.arrowStyle,arrowWrapperClass:t.arrowWrapperClass,arrowWrapperStyle:t.arrowWrapperStyle,clsPrefix:_}):null;return[xe,Q]};E=v("div",Xi({class:[`${_}-popover`,`${_}-popover-shared`,(l==null?void 0:l.value)&&`${_}-popover--rtl`,y==null?void 0:y.themeClass.value,F.map(Z=>`${_}-${Z}`),{[`${_}-popover--scrollable`]:t.scrollable,[`${_}-popover--show-header-or-footer`]:W,[`${_}-popover--raw`]:t.raw,[`${_}-popover-shared--overlap`]:t.overlap,[`${_}-popover-shared--show-arrow`]:t.showArrow,[`${_}-popover-shared--center-arrow`]:t.arrowPointToCenter}],ref:d,style:m.value,onKeydown:u.handleKeydown,onMouseenter:x,onMouseleave:w},n),N?v(Wk,{active:t.show,autoFocus:!0},{default:G}):G())}return ii(E,p.value)}return{displayed:f,namespace:r,isMounted:u.isMountedRef,zIndex:u.zIndexRef,followerRef:c,adjustedTo:vr(t),followerEnabled:h,renderContentNode:T}},render(){return v(Na,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===vr.tdkey},{default:()=>this.animated?v(hr,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var t;(t=this.internalOnAfterLeave)===null||t===void 0||t.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),cie=Object.keys(uO),uie={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function die(t,e,n){uie[e].forEach(r=>{t.props?t.props=Object.assign({},t.props):t.props={};const i=t.props[r],o=n[r];i?t.props[r]=(...a)=>{i(...a),o(...a)}:t.props[r]=o})}const ah={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:vr.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},hO=Object.assign(Object.assign(Object.assign({},Ve.props),ah),{internalOnAfterLeave:Function,internalRenderBody:Function}),Ch=le({name:"Popover",inheritAttrs:!1,props:hO,slots:Object,__popover__:!0,setup(t){const e=co(),n=V(null),r=L(()=>t.show),i=V(t.defaultShow),o=Cn(r,i),a=Yt(()=>t.disabled?!1:o.value),s=()=>{if(t.disabled)return!0;const{getDisabled:W}=t;return!!(W!=null&&W())},l=()=>s()?!1:o.value,c=Lu(t,["arrow","showArrow"]),u=L(()=>t.overlap?!1:c.value);let d=null;const h=V(null),f=V(null),p=Yt(()=>t.x!==void 0&&t.y!==void 0);function g(W){const{"onUpdate:show":G,onUpdateShow:Z,onShow:ie,onHide:he}=t;i.value=W,G&&Fe(G,W),Z&&Fe(Z,W),W&&ie&&Fe(ie,!0),W&&he&&Fe(he,!1)}function m(){d&&d.syncPosition()}function y(){const{value:W}=h;W&&(window.clearTimeout(W),h.value=null)}function b(){const{value:W}=f;W&&(window.clearTimeout(W),f.value=null)}function x(){const W=s();if(t.trigger==="focus"&&!W){if(l())return;g(!0)}}function w(){const W=s();if(t.trigger==="focus"&&!W){if(!l())return;g(!1)}}function C(){const W=s();if(t.trigger==="hover"&&!W){if(b(),h.value!==null||l())return;const G=()=>{g(!0),h.value=null},{delay:Z}=t;Z===0?G():h.value=window.setTimeout(G,Z)}}function S(){const W=s();if(t.trigger==="hover"&&!W){if(y(),f.value!==null||!l())return;const G=()=>{g(!1),f.value=null},{duration:Z}=t;Z===0?G():f.value=window.setTimeout(G,Z)}}function A(){S()}function T(W){var G;l()&&(t.trigger==="click"&&(y(),b(),g(!1)),(G=t.onClickoutside)===null||G===void 0||G.call(t,W))}function k(){if(t.trigger==="click"&&!s()){y(),b();const W=!l();g(W)}}function E(W){t.internalTrapFocus&&W.key==="Escape"&&(y(),b(),g(!1))}function P(W){i.value=W}function _(){var W;return(W=n.value)===null||W===void 0?void 0:W.targetRef}function F(W){d=W}return zt("NPopover",{getTriggerElement:_,handleKeydown:E,handleMouseEnter:C,handleMouseLeave:S,handleClickOutside:T,handleMouseMoveOutside:A,setBodyInstance:F,positionManuallyRef:p,isMountedRef:e,zIndexRef:$e(t,"zIndex"),extraClassRef:$e(t,"internalExtraClass"),internalRenderBodyRef:$e(t,"internalRenderBody")}),er(()=>{o.value&&s()&&g(!1)}),{binderInstRef:n,positionManually:p,mergedShowConsideringDisabledProp:a,uncontrolledShow:i,mergedShowArrow:u,getMergedShow:l,setShow:P,handleClick:k,handleMouseEnter:C,handleMouseLeave:S,handleFocus:x,handleBlur:w,syncPosition:m}},render(){var t;const{positionManually:e,$slots:n}=this;let r,i=!1;if(!e&&(r=CX(n,"trigger"),r)){r=Qo(r),r=r.type===Mg?v("span",[r]):r;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((t=r.type)===null||t===void 0)&&t.__popover__)i=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[o,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:a}=this,s=[o,...a],l={onBlur:c=>{s.forEach(u=>{u.onBlur(c)})},onFocus:c=>{s.forEach(u=>{u.onFocus(c)})},onClick:c=>{s.forEach(u=>{u.onClick(c)})},onMouseenter:c=>{s.forEach(u=>{u.onMouseenter(c)})},onMouseleave:c=>{s.forEach(u=>{u.onMouseleave(c)})}};die(r,a?"nested":e?"manual":this.trigger,l)}}return v(us,{ref:"binderInstRef",syncTarget:!i,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?ii(v("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[$g,{enabled:o,zIndex:this.zIndex}]]):null,e?null:v(ds,null,{default:()=>r}),v(lie,Ri(this.$props,cie,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var a,s;return(s=(a=this.$slots).default)===null||s===void 0?void 0:s.call(a)},header:()=>{var a,s;return(s=(a=this.$slots).header)===null||s===void 0?void 0:s.call(a)},footer:()=>{var a,s;return(s=(a=this.$slots).footer)===null||s===void 0?void 0:s.call(a)}})]}})}}),hie={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"};function fie(t){const{textColor2:e,primaryColorHover:n,primaryColorPressed:r,primaryColor:i,infoColor:o,successColor:a,warningColor:s,errorColor:l,baseColor:c,borderColor:u,opacityDisabled:d,tagColor:h,closeIconColor:f,closeIconColorHover:p,closeIconColorPressed:g,borderRadiusSmall:m,fontSizeMini:y,fontSizeTiny:b,fontSizeSmall:x,fontSizeMedium:w,heightMini:C,heightTiny:S,heightSmall:A,heightMedium:T,closeColorHover:k,closeColorPressed:E,buttonColor2Hover:P,buttonColor2Pressed:_,fontWeightStrong:F}=t;return Object.assign(Object.assign({},hie),{closeBorderRadius:m,heightTiny:C,heightSmall:S,heightMedium:A,heightLarge:T,borderRadius:m,opacityDisabled:d,fontSizeTiny:y,fontSizeSmall:b,fontSizeMedium:x,fontSizeLarge:w,fontWeightStrong:F,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:P,colorPressedCheckable:_,colorChecked:i,colorCheckedHover:n,colorCheckedPressed:r,border:`1px solid ${u}`,textColor:e,color:h,colorBordered:"rgb(250, 250, 252)",closeIconColor:f,closeIconColorHover:p,closeIconColorPressed:g,closeColorHover:k,closeColorPressed:E,borderPrimary:`1px solid ${dn(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:dn(i,{alpha:.12}),colorBorderedPrimary:dn(i,{alpha:.1}),closeIconColorPrimary:i,closeIconColorHoverPrimary:i,closeIconColorPressedPrimary:i,closeColorHoverPrimary:dn(i,{alpha:.12}),closeColorPressedPrimary:dn(i,{alpha:.18}),borderInfo:`1px solid ${dn(o,{alpha:.3})}`,textColorInfo:o,colorInfo:dn(o,{alpha:.12}),colorBorderedInfo:dn(o,{alpha:.1}),closeIconColorInfo:o,closeIconColorHoverInfo:o,closeIconColorPressedInfo:o,closeColorHoverInfo:dn(o,{alpha:.12}),closeColorPressedInfo:dn(o,{alpha:.18}),borderSuccess:`1px solid ${dn(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:dn(a,{alpha:.12}),colorBorderedSuccess:dn(a,{alpha:.1}),closeIconColorSuccess:a,closeIconColorHoverSuccess:a,closeIconColorPressedSuccess:a,closeColorHoverSuccess:dn(a,{alpha:.12}),closeColorPressedSuccess:dn(a,{alpha:.18}),borderWarning:`1px solid ${dn(s,{alpha:.35})}`,textColorWarning:s,colorWarning:dn(s,{alpha:.15}),colorBorderedWarning:dn(s,{alpha:.12}),closeIconColorWarning:s,closeIconColorHoverWarning:s,closeIconColorPressedWarning:s,closeColorHoverWarning:dn(s,{alpha:.12}),closeColorPressedWarning:dn(s,{alpha:.18}),borderError:`1px solid ${dn(l,{alpha:.23})}`,textColorError:l,colorError:dn(l,{alpha:.1}),colorBorderedError:dn(l,{alpha:.08}),closeIconColorError:l,closeIconColorHoverError:l,closeIconColorPressedError:l,closeColorHoverError:dn(l,{alpha:.12}),closeColorPressedError:dn(l,{alpha:.18})})}const fO={name:"Tag",common:Bt,self:fie},pO={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},pie=R("tag",`
 --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[U("strong",`
 font-weight: var(--n-font-weight-strong);
 `),H("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),H("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),H("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),H("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),U("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[H("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),H("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),U("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),U("icon, avatar",[U("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),U("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),U("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[an("disabled",[B("&:hover","background-color: var(--n-color-hover-checkable);",[an("checked","color: var(--n-text-color-hover-checkable);")]),B("&:active","background-color: var(--n-color-pressed-checkable);",[an("checked","color: var(--n-text-color-pressed-checkable);")])]),U("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[an("disabled",[B("&:hover","background-color: var(--n-color-checked-hover);"),B("&:active","background-color: var(--n-color-checked-pressed);")])])])]),mO=Object.assign(Object.assign(Object.assign({},Ve.props),pO),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),gO="n-tag",N0=le({name:"Tag",props:mO,slots:Object,setup(t){const e=V(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:i,mergedRtlRef:o}=gt(t),a=Ve("Tag","-tag",pie,fO,t,r);zt(gO,{roundRef:$e(t,"round")});function s(){if(!t.disabled&&t.checkable){const{checked:f,onCheckedChange:p,onUpdateChecked:g,"onUpdate:checked":m}=t;g&&g(!f),m&&m(!f),p&&p(!f)}}function l(f){if(t.triggerClickOnClose||f.stopPropagation(),!t.disabled){const{onClose:p}=t;p&&Fe(p,f)}}const c={setTextContent(f){const{value:p}=e;p&&(p.textContent=f)}},u=or("Tag",o,r),d=L(()=>{const{type:f,size:p,color:{color:g,textColor:m}={}}=t,{common:{cubicBezierEaseInOut:y},self:{padding:b,closeMargin:x,borderRadius:w,opacityDisabled:C,textColorCheckable:S,textColorHoverCheckable:A,textColorPressedCheckable:T,textColorChecked:k,colorCheckable:E,colorHoverCheckable:P,colorPressedCheckable:_,colorChecked:F,colorCheckedHover:N,colorCheckedPressed:W,closeBorderRadius:G,fontWeightStrong:Z,[We("colorBordered",f)]:ie,[We("closeSize",p)]:he,[We("closeIconSize",p)]:xe,[We("fontSize",p)]:Q,[We("height",p)]:X,[We("color",f)]:K,[We("textColor",f)]:ne,[We("border",f)]:ve,[We("closeIconColor",f)]:Se,[We("closeIconColorHover",f)]:ye,[We("closeIconColorPressed",f)]:Be,[We("closeColorHover",f)]:J,[We("closeColorPressed",f)]:Ue}}=a.value,Qe=wi(x);return{"--n-font-weight-strong":Z,"--n-avatar-size-override":`calc(${X} - 8px)`,"--n-bezier":y,"--n-border-radius":w,"--n-border":ve,"--n-close-icon-size":xe,"--n-close-color-pressed":Ue,"--n-close-color-hover":J,"--n-close-border-radius":G,"--n-close-icon-color":Se,"--n-close-icon-color-hover":ye,"--n-close-icon-color-pressed":Be,"--n-close-icon-color-disabled":Se,"--n-close-margin-top":Qe.top,"--n-close-margin-right":Qe.right,"--n-close-margin-bottom":Qe.bottom,"--n-close-margin-left":Qe.left,"--n-close-size":he,"--n-color":g||(n.value?ie:K),"--n-color-checkable":E,"--n-color-checked":F,"--n-color-checked-hover":N,"--n-color-checked-pressed":W,"--n-color-hover-checkable":P,"--n-color-pressed-checkable":_,"--n-font-size":Q,"--n-height":X,"--n-opacity-disabled":C,"--n-padding":b,"--n-text-color":m||ne,"--n-text-color-checkable":S,"--n-text-color-checked":k,"--n-text-color-hover-checkable":A,"--n-text-color-pressed-checkable":T}}),h=i?Ot("tag",L(()=>{let f="";const{type:p,size:g,color:{color:m,textColor:y}={}}=t;return f+=p[0],f+=g[0],m&&(f+=`a${nh(m)}`),y&&(f+=`b${nh(y)}`),n.value&&(f+="c"),f}),d,t):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:u,mergedClsPrefix:r,contentRef:e,mergedBordered:n,handleClick:s,handleCloseClick:l,cssVars:i?void 0:d,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender})},render(){var t,e;const{mergedClsPrefix:n,rtlEnabled:r,closable:i,color:{borderColor:o}={},round:a,onRender:s,$slots:l}=this;s==null||s();const c=bn(l.avatar,d=>d&&v("div",{class:`${n}-tag__avatar`},d)),u=bn(l.icon,d=>d&&v("div",{class:`${n}-tag__icon`},d));return v("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:a,[`${n}-tag--avatar`]:c,[`${n}-tag--icon`]:u,[`${n}-tag--closable`]:i}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},u||c,v("span",{class:`${n}-tag__content`,ref:"contentRef"},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)),!this.checkable&&i?v(Ic,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?v("div",{class:`${n}-tag__border`,style:{borderColor:o}}):null)}}),vO=le({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(t,{slots:e}){return()=>{const{clsPrefix:n}=t;return v($s,{clsPrefix:n,class:`${n}-base-suffix`,strokeWidth:24,scale:.85,show:t.loading},{default:()=>t.showArrow?v(mA,{clsPrefix:n,show:t.showClear,onClear:t.onClear},{placeholder:()=>v(Jt,{clsPrefix:n,class:`${n}-base-suffix__arrow`},{default:()=>sn(e.default,()=>[v(ZM,null)])})}):null})}}}),mie={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};function gie(t){const{borderRadius:e,textColor2:n,textColorDisabled:r,inputColor:i,inputColorDisabled:o,primaryColor:a,primaryColorHover:s,warningColor:l,warningColorHover:c,errorColor:u,errorColorHover:d,borderColor:h,iconColor:f,iconColorDisabled:p,clearColor:g,clearColorHover:m,clearColorPressed:y,placeholderColor:b,placeholderColorDisabled:x,fontSizeTiny:w,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:A,heightTiny:T,heightSmall:k,heightMedium:E,heightLarge:P,fontWeight:_}=t;return Object.assign(Object.assign({},mie),{fontSizeTiny:w,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:A,heightTiny:T,heightSmall:k,heightMedium:E,heightLarge:P,borderRadius:e,fontWeight:_,textColor:n,textColorDisabled:r,placeholderColor:b,placeholderColorDisabled:x,color:i,colorDisabled:o,colorActive:i,border:`1px solid ${h}`,borderHover:`1px solid ${s}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${s}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${dn(a,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${dn(a,{alpha:.2})}`,caretColor:a,arrowColor:f,arrowColorDisabled:p,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${dn(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${dn(l,{alpha:.2})}`,colorActiveWarning:i,caretColorWarning:l,borderError:`1px solid ${u}`,borderHoverError:`1px solid ${d}`,borderActiveError:`1px solid ${u}`,borderFocusError:`1px solid ${d}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${dn(u,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${dn(u,{alpha:.2})}`,colorActiveError:i,caretColorError:u,clearColor:g,clearColorHover:m,clearColorPressed:y})}const cx={name:"InternalSelection",common:Bt,peers:{Popover:wh},self:gie},vie=B([R("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[R("base-loading",`
 color: var(--n-loading-color);
 `),R("base-selection-tags","min-height: var(--n-height);"),H("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),H("state-border",`
 z-index: 1;
 border-color: #0000;
 `),R("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[H("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),R("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[H("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),R("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[H("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),R("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),R("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[R("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[H("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),H("render-label",`
 color: var(--n-text-color);
 `)]),an("disabled",[B("&:hover",[H("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),U("focus",[H("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),U("active",[H("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),R("base-selection-label","background-color: var(--n-color-active);"),R("base-selection-tags","background-color: var(--n-color-active);")])]),U("disabled","cursor: not-allowed;",[H("arrow",`
 color: var(--n-arrow-color-disabled);
 `),R("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[R("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),H("render-label",`
 color: var(--n-text-color-disabled);
 `)]),R("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),R("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),R("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[H("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),H("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(t=>U(`${t}-status`,[H("state-border",`border: var(--n-border-${t});`),an("disabled",[B("&:hover",[H("state-border",`
 box-shadow: var(--n-box-shadow-hover-${t});
 border: var(--n-border-hover-${t});
 `)]),U("active",[H("state-border",`
 box-shadow: var(--n-box-shadow-active-${t});
 border: var(--n-border-active-${t});
 `),R("base-selection-label",`background-color: var(--n-color-active-${t});`),R("base-selection-tags",`background-color: var(--n-color-active-${t});`)]),U("focus",[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]),R("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),R("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[B("&:last-child","padding-right: 0;"),R("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[H("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),s4=le({name:"InternalSelection",props:Object.assign(Object.assign({},Ve.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=or("InternalSelection",n,e),i=V(null),o=V(null),a=V(null),s=V(null),l=V(null),c=V(null),u=V(null),d=V(null),h=V(null),f=V(null),p=V(!1),g=V(!1),m=V(!1),y=Ve("InternalSelection","-internal-selection",vie,cx,t,$e(t,"clsPrefix")),b=L(()=>t.clearable&&!t.disabled&&(m.value||t.active)),x=L(()=>t.selectedOption?t.renderTag?t.renderTag({option:t.selectedOption,handleClose:()=>{}}):t.renderLabel?t.renderLabel(t.selectedOption,!0):Sr(t.selectedOption[t.labelField],t.selectedOption,!0):t.placeholder),w=L(()=>{const pe=t.selectedOption;if(pe)return pe[t.labelField]}),C=L(()=>t.multiple?!!(Array.isArray(t.selectedOptions)&&t.selectedOptions.length):t.selectedOption!==null);function S(){var pe;const{value:Te}=i;if(Te){const{value:Xe}=o;Xe&&(Xe.style.width=`${Te.offsetWidth}px`,t.maxTagCount!=="responsive"&&((pe=h.value)===null||pe===void 0||pe.sync({showAllItemsBeforeCalculate:!1})))}}function A(){const{value:pe}=f;pe&&(pe.style.display="none")}function T(){const{value:pe}=f;pe&&(pe.style.display="inline-block")}qt($e(t,"active"),pe=>{pe||A()}),qt($e(t,"pattern"),()=>{t.multiple&&vn(S)});function k(pe){const{onFocus:Te}=t;Te&&Te(pe)}function E(pe){const{onBlur:Te}=t;Te&&Te(pe)}function P(pe){const{onDeleteOption:Te}=t;Te&&Te(pe)}function _(pe){const{onClear:Te}=t;Te&&Te(pe)}function F(pe){const{onPatternInput:Te}=t;Te&&Te(pe)}function N(pe){var Te;(!pe.relatedTarget||!(!((Te=a.value)===null||Te===void 0)&&Te.contains(pe.relatedTarget)))&&k(pe)}function W(pe){var Te;!((Te=a.value)===null||Te===void 0)&&Te.contains(pe.relatedTarget)||E(pe)}function G(pe){_(pe)}function Z(){m.value=!0}function ie(){m.value=!1}function he(pe){!t.active||!t.filterable||pe.target!==o.value&&pe.preventDefault()}function xe(pe){P(pe)}const Q=V(!1);function X(pe){if(pe.key==="Backspace"&&!Q.value&&!t.pattern.length){const{selectedOptions:Te}=t;Te!=null&&Te.length&&xe(Te[Te.length-1])}}let K=null;function ne(pe){const{value:Te}=i;if(Te){const Xe=pe.target.value;Te.textContent=Xe,S()}t.ignoreComposition&&Q.value?K=pe:F(pe)}function ve(){Q.value=!0}function Se(){Q.value=!1,t.ignoreComposition&&F(K),K=null}function ye(pe){var Te;g.value=!0,(Te=t.onPatternFocus)===null||Te===void 0||Te.call(t,pe)}function Be(pe){var Te;g.value=!1,(Te=t.onPatternBlur)===null||Te===void 0||Te.call(t,pe)}function J(){var pe,Te;if(t.filterable)g.value=!1,(pe=c.value)===null||pe===void 0||pe.blur(),(Te=o.value)===null||Te===void 0||Te.blur();else if(t.multiple){const{value:Xe}=s;Xe==null||Xe.blur()}else{const{value:Xe}=l;Xe==null||Xe.blur()}}function Ue(){var pe,Te,Xe;t.filterable?(g.value=!1,(pe=c.value)===null||pe===void 0||pe.focus()):t.multiple?(Te=s.value)===null||Te===void 0||Te.focus():(Xe=l.value)===null||Xe===void 0||Xe.focus()}function Qe(){const{value:pe}=o;pe&&(T(),pe.focus())}function ae(){const{value:pe}=o;pe&&pe.blur()}function fe(pe){const{value:Te}=u;Te&&Te.setTextContent(`+${pe}`)}function ke(){const{value:pe}=d;return pe}function Ke(){return o.value}let Ne=null;function Ae(){Ne!==null&&window.clearTimeout(Ne)}function se(){t.active||(Ae(),Ne=window.setTimeout(()=>{C.value&&(p.value=!0)},100))}function be(){Ae()}function re(pe){pe||(Ae(),p.value=!1)}qt(C,pe=>{pe||(p.value=!1)}),jn(()=>{er(()=>{const pe=c.value;pe&&(t.disabled?pe.removeAttribute("tabindex"):pe.tabIndex=g.value?-1:0)})}),tx(a,t.onResize);const{inlineThemeDisabled:me}=t,De=L(()=>{const{size:pe}=t,{common:{cubicBezierEaseInOut:Te},self:{fontWeight:Xe,borderRadius:Oe,color:ft,placeholderColor:Lt,textColor:Kt,paddingSingle:Dt,paddingMultiple:Ge,caretColor:en,colorDisabled:wt,textColorDisabled:_t,placeholderColorDisabled:ce,colorActive:ue,boxShadowFocus:je,boxShadowActive:st,boxShadowHover:lt,border:_e,borderFocus:tt,borderHover:Re,borderActive:Je,arrowColor:St,arrowColorDisabled:Rt,loadingColor:ze,colorActiveWarning:dt,boxShadowFocusWarning:Ie,boxShadowActiveWarning:rt,boxShadowHoverWarning:mt,borderWarning:Ft,borderFocusWarning:Ht,borderHoverWarning:Le,borderActiveWarning:ot,colorActiveError:kt,boxShadowFocusError:He,boxShadowActiveError:at,boxShadowHoverError:xt,borderError:Et,borderFocusError:Nt,borderHoverError:Mn,borderActiveError:wr,clearColor:Pr,clearColorHover:qi,clearColorPressed:Ci,clearSize:ai,arrowSize:rr,[We("height",pe)]:Ye,[We("fontSize",pe)]:Ct}}=y.value,Tt=wi(Dt),On=wi(Ge);return{"--n-bezier":Te,"--n-border":_e,"--n-border-active":Je,"--n-border-focus":tt,"--n-border-hover":Re,"--n-border-radius":Oe,"--n-box-shadow-active":st,"--n-box-shadow-focus":je,"--n-box-shadow-hover":lt,"--n-caret-color":en,"--n-color":ft,"--n-color-active":ue,"--n-color-disabled":wt,"--n-font-size":Ct,"--n-height":Ye,"--n-padding-single-top":Tt.top,"--n-padding-multiple-top":On.top,"--n-padding-single-right":Tt.right,"--n-padding-multiple-right":On.right,"--n-padding-single-left":Tt.left,"--n-padding-multiple-left":On.left,"--n-padding-single-bottom":Tt.bottom,"--n-padding-multiple-bottom":On.bottom,"--n-placeholder-color":Lt,"--n-placeholder-color-disabled":ce,"--n-text-color":Kt,"--n-text-color-disabled":_t,"--n-arrow-color":St,"--n-arrow-color-disabled":Rt,"--n-loading-color":ze,"--n-color-active-warning":dt,"--n-box-shadow-focus-warning":Ie,"--n-box-shadow-active-warning":rt,"--n-box-shadow-hover-warning":mt,"--n-border-warning":Ft,"--n-border-focus-warning":Ht,"--n-border-hover-warning":Le,"--n-border-active-warning":ot,"--n-color-active-error":kt,"--n-box-shadow-focus-error":He,"--n-box-shadow-active-error":at,"--n-box-shadow-hover-error":xt,"--n-border-error":Et,"--n-border-focus-error":Nt,"--n-border-hover-error":Mn,"--n-border-active-error":wr,"--n-clear-size":ai,"--n-clear-color":Pr,"--n-clear-color-hover":qi,"--n-clear-color-pressed":Ci,"--n-arrow-size":rr,"--n-font-weight":Xe}}),ge=me?Ot("internal-selection",L(()=>t.size[0]),De,t):void 0;return{mergedTheme:y,mergedClearable:b,mergedClsPrefix:e,rtlEnabled:r,patternInputFocused:g,filterablePlaceholder:x,label:w,selected:C,showTagsPanel:p,isComposing:Q,counterRef:u,counterWrapperRef:d,patternInputMirrorRef:i,patternInputRef:o,selfRef:a,multipleElRef:s,singleElRef:l,patternInputWrapperRef:c,overflowRef:h,inputTagElRef:f,handleMouseDown:he,handleFocusin:N,handleClear:G,handleMouseEnter:Z,handleMouseLeave:ie,handleDeleteOption:xe,handlePatternKeyDown:X,handlePatternInputInput:ne,handlePatternInputBlur:Be,handlePatternInputFocus:ye,handleMouseEnterCounter:se,handleMouseLeaveCounter:be,handleFocusout:W,handleCompositionEnd:Se,handleCompositionStart:ve,onPopoverUpdateShow:re,focus:Ue,focusInput:Qe,blur:J,blurInput:ae,updateCounter:fe,getCounter:ke,getTail:Ke,renderLabel:t.renderLabel,cssVars:me?void 0:De,themeClass:ge==null?void 0:ge.themeClass,onRender:ge==null?void 0:ge.onRender}},render(){const{status:t,multiple:e,size:n,disabled:r,filterable:i,maxTagCount:o,bordered:a,clsPrefix:s,ellipsisTagPopoverProps:l,onRender:c,renderTag:u,renderLabel:d}=this;c==null||c();const h=o==="responsive",f=typeof o=="number",p=h||f,g=v(aA,null,{default:()=>v(vO,{clsPrefix:s,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var y,b;return(b=(y=this.$slots).arrow)===null||b===void 0?void 0:b.call(y)}})});let m;if(e){const{labelField:y}=this,b=F=>v("div",{class:`${s}-base-selection-tag-wrapper`,key:F.value},u?u({option:F,handleClose:()=>{this.handleDeleteOption(F)}}):v(N0,{size:n,closable:!F.disabled,disabled:r,onClose:()=>{this.handleDeleteOption(F)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>d?d(F,!0):Sr(F[y],F,!0)})),x=()=>(f?this.selectedOptions.slice(0,o):this.selectedOptions).map(b),w=i?v("div",{class:`${s}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},v("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${s}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),v("span",{ref:"patternInputMirrorRef",class:`${s}-base-selection-input-tag__mirror`},this.pattern)):null,C=h?()=>v("div",{class:`${s}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},v(N0,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let S;if(f){const F=this.selectedOptions.length-o;F>0&&(S=v("div",{class:`${s}-base-selection-tag-wrapper`,key:"__counter__"},v(N0,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${F}`})))}const A=h?i?v(iA,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:C,tail:()=>w}):v(iA,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:C}):f&&S?x().concat(S):x(),T=p?()=>v("div",{class:`${s}-base-selection-popover`},h?x():this.selectedOptions.map(b)):void 0,k=p?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},l):null,P=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?v("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`},v("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)):null,_=i?v("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-tags`},A,h?null:w,g):v("div",{ref:"multipleElRef",class:`${s}-base-selection-tags`,tabindex:r?void 0:0},A,g);m=v(qn,null,p?v(Ch,Object.assign({},k,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>_,default:T}):_,P)}else if(i){const y=this.pattern||this.isComposing,b=this.active?!y:!this.selected,x=this.active?!1:this.selected;m=v("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-label`,title:this.patternInputFocused?void 0:Kf(this.label)},v("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${s}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),x?v("div",{class:`${s}-base-selection-label__render-label ${s}-base-selection-overlay`,key:"input"},v("div",{class:`${s}-base-selection-overlay__wrapper`},u?u({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):Sr(this.label,this.selectedOption,!0))):null,b?v("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},v("div",{class:`${s}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,g)}else m=v("div",{ref:"singleElRef",class:`${s}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?v("div",{class:`${s}-base-selection-input`,title:Kf(this.label),key:"input"},v("div",{class:`${s}-base-selection-input__content`},u?u({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):Sr(this.label,this.selectedOption,!0))):v("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},v("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)),g);return v("div",{ref:"selfRef",class:[`${s}-base-selection`,this.rtlEnabled&&`${s}-base-selection--rtl`,this.themeClass,t&&`${s}-base-selection--${t}-status`,{[`${s}-base-selection--active`]:this.active,[`${s}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${s}-base-selection--disabled`]:this.disabled,[`${s}-base-selection--multiple`]:this.multiple,[`${s}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},m,a?v("div",{class:`${s}-base-selection__border`}):null,a?v("div",{class:`${s}-base-selection__state-border`}):null)}}),i6=le({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(t){const e=V(null),n=V(t.value),r=V(t.value),i=V("up"),o=V(!1),a=L(()=>o.value?`${t.clsPrefix}-base-slot-machine-current-number--${i.value}-scroll`:null),s=L(()=>o.value?`${t.clsPrefix}-base-slot-machine-old-number--${i.value}-scroll`:null);qt($e(t,"value"),(u,d)=>{n.value=d,r.value=u,vn(l)});function l(){const u=t.newOriginalNumber,d=t.oldOriginalNumber;d===void 0||u===void 0||(u>d?c("up"):d>u&&c("down"))}function c(u){i.value=u,o.value=!1,vn(()=>{var d;(d=e.value)===null||d===void 0||d.offsetWidth,o.value=!0})}return()=>{const{clsPrefix:u}=t;return v("span",{ref:e,class:`${u}-base-slot-machine-number`},n.value!==null?v("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--top`,s.value]},n.value):null,v("span",{class:[`${u}-base-slot-machine-current-number`,a.value]},v("span",{ref:"numberWrapper",class:[`${u}-base-slot-machine-current-number__inner`,typeof t.value!="number"&&`${u}-base-slot-machine-current-number__inner--not-number`]},r.value)),n.value!==null?v("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--bottom`,s.value]},n.value):null)}}}),{cubicBezierEaseInOut:Uc}=wa;function yO({duration:t=".2s",delay:e=".1s"}={}){return[B("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),B("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),B("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${Uc},
 max-width ${t} ${Uc} ${e},
 margin-left ${t} ${Uc} ${e},
 margin-right ${t} ${Uc} ${e};
 `),B("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${Uc} ${e},
 max-width ${t} ${Uc},
 margin-left ${t} ${Uc},
 margin-right ${t} ${Uc};
 `)]}const{cubicBezierEaseOut:Uh}=wa;function yie({duration:t=".2s"}={}){return[B("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${t} ${Uh},
 max-width ${t} ${Uh},
 transform ${t} ${Uh}
 `}),B("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${t} ${Uh},
 max-width ${t} ${Uh},
 transform ${t} ${Uh}
 `}),B("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),B("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),B("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),B("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const bie=B([B("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),B("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),B("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),B("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),R("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[R("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[yie({duration:".2s"}),yO({duration:".2s",delay:"0s"}),R("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[U("top",{transform:"translateY(-100%)"}),U("bottom",{transform:"translateY(100%)"}),U("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),U("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),R("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[U("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),U("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),H("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[U("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),xie=le({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(t){Wa("-base-slot-machine",bie,$e(t,"clsPrefix"));const e=V(),n=V(),r=L(()=>{if(typeof t.value=="string")return[];if(t.value<1)return[0];const i=[];let o=t.value;for(t.max!==void 0&&(o=Math.min(t.max,o));o>=1;)i.push(o%10),o/=10,o=Math.floor(o);return i.reverse(),i});return qt($e(t,"value"),(i,o)=>{typeof i=="string"?(n.value=void 0,e.value=void 0):typeof o=="string"?(n.value=i,e.value=void 0):(n.value=i,e.value=o)}),()=>{const{value:i,clsPrefix:o}=t;return typeof i=="number"?v("span",{class:`${o}-base-slot-machine`},v(X1,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>r.value.map((a,s)=>v(i6,{clsPrefix:o,key:r.value.length-s-1,oldOriginalNumber:e.value,newOriginalNumber:n.value,value:a}))}),v(Ml,{key:"+",width:!0},{default:()=>t.max!==void 0&&t.max<i?v(i6,{clsPrefix:o,value:"+"}):null})):v("span",{class:`${o}-base-slot-machine`},i)}}}),wie=R("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),bO=le({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(t){Wa("-base-wave",wie,$e(t,"clsPrefix"));const e=V(null),n=V(!1);let r=null;return ir(()=>{r!==null&&window.clearTimeout(r)}),{active:n,selfRef:e,play(){r!==null&&(window.clearTimeout(r),n.value=!1,r=null),vn(()=>{var i;(i=e.value)===null||i===void 0||i.offsetHeight,n.value=!0,r=window.setTimeout(()=>{n.value=!1,r=null},1e3)})}}},render(){const{clsPrefix:t}=this;return v("div",{ref:"selfRef","aria-hidden":!0,class:[`${t}-base-wave`,this.active&&`${t}-base-wave--active`]})}}),Cie={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"};function Aie(t){const{lineHeight:e,borderRadius:n,fontWeightStrong:r,baseColor:i,dividerColor:o,actionColor:a,textColor1:s,textColor2:l,closeColorHover:c,closeColorPressed:u,closeIconColor:d,closeIconColorHover:h,closeIconColorPressed:f,infoColor:p,successColor:g,warningColor:m,errorColor:y,fontSize:b}=t;return Object.assign(Object.assign({},Cie),{fontSize:b,lineHeight:e,titleFontWeight:r,borderRadius:n,border:`1px solid ${o}`,color:a,titleTextColor:s,iconColor:l,contentTextColor:l,closeBorderRadius:n,closeColorHover:c,closeColorPressed:u,closeIconColor:d,closeIconColorHover:h,closeIconColorPressed:f,borderInfo:`1px solid ${rn(i,dn(p,{alpha:.25}))}`,colorInfo:rn(i,dn(p,{alpha:.08})),titleTextColorInfo:s,iconColorInfo:p,contentTextColorInfo:l,closeColorHoverInfo:c,closeColorPressedInfo:u,closeIconColorInfo:d,closeIconColorHoverInfo:h,closeIconColorPressedInfo:f,borderSuccess:`1px solid ${rn(i,dn(g,{alpha:.25}))}`,colorSuccess:rn(i,dn(g,{alpha:.08})),titleTextColorSuccess:s,iconColorSuccess:g,contentTextColorSuccess:l,closeColorHoverSuccess:c,closeColorPressedSuccess:u,closeIconColorSuccess:d,closeIconColorHoverSuccess:h,closeIconColorPressedSuccess:f,borderWarning:`1px solid ${rn(i,dn(m,{alpha:.33}))}`,colorWarning:rn(i,dn(m,{alpha:.08})),titleTextColorWarning:s,iconColorWarning:m,contentTextColorWarning:l,closeColorHoverWarning:c,closeColorPressedWarning:u,closeIconColorWarning:d,closeIconColorHoverWarning:h,closeIconColorPressedWarning:f,borderError:`1px solid ${rn(i,dn(y,{alpha:.25}))}`,colorError:rn(i,dn(y,{alpha:.08})),titleTextColorError:s,iconColorError:y,contentTextColorError:l,closeColorHoverError:c,closeColorPressedError:u,closeIconColorError:d,closeIconColorHoverError:h,closeIconColorPressedError:f})}const Sie={common:Bt,self:Aie},{cubicBezierEaseInOut:Vs,cubicBezierEaseOut:kie,cubicBezierEaseIn:Eie}=wa;function bc({overflow:t="hidden",duration:e=".3s",originalTransition:n="",leavingDelay:r="0s",foldPadding:i=!1,enterToProps:o=void 0,leaveToProps:a=void 0,reverse:s=!1}={}){const l=s?"leave":"enter",c=s?"enter":"leave";return[B(`&.fade-in-height-expand-transition-${c}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},o),{opacity:1})),B(`&.fade-in-height-expand-transition-${c}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},a),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:i?"0 !important":void 0,paddingBottom:i?"0 !important":void 0})),B(`&.fade-in-height-expand-transition-${c}-active`,`
 overflow: ${t};
 transition:
 max-height ${e} ${Vs} ${r},
 opacity ${e} ${kie} ${r},
 margin-top ${e} ${Vs} ${r},
 margin-bottom ${e} ${Vs} ${r},
 padding-top ${e} ${Vs} ${r},
 padding-bottom ${e} ${Vs} ${r}
 ${n?`,${n}`:""}
 `),B(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${t};
 transition:
 max-height ${e} ${Vs},
 opacity ${e} ${Eie},
 margin-top ${e} ${Vs},
 margin-bottom ${e} ${Vs},
 padding-top ${e} ${Vs},
 padding-bottom ${e} ${Vs}
 ${n?`,${n}`:""}
 `)]}const Tie=R("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[H("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),U("closable",[R("alert-body",[H("title",`
 padding-right: 24px;
 `)])]),H("icon",{color:"var(--n-icon-color)"}),R("alert-body",{padding:"var(--n-padding)"},[H("title",{color:"var(--n-title-text-color)"}),H("content",{color:"var(--n-content-text-color)"})]),bc({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),H("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),H("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),U("show-icon",[R("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),U("right-adjust",[R("alert-body",{paddingRight:"calc(var(--n-close-size) + var(--n-padding) + 2px)"})]),R("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[H("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[B("& +",[H("content",{marginTop:"9px"})])]),H("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),H("icon",{transition:"color .3s var(--n-bezier)"})]),xO=Object.assign(Object.assign({},Ve.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),Rie=le({name:"Alert",inheritAttrs:!1,props:xO,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=Ve("Alert","-alert",Tie,Sie,t,e),a=or("Alert",i,e),s=L(()=>{const{common:{cubicBezierEaseInOut:f},self:p}=o.value,{fontSize:g,borderRadius:m,titleFontWeight:y,lineHeight:b,iconSize:x,iconMargin:w,iconMarginRtl:C,closeIconSize:S,closeBorderRadius:A,closeSize:T,closeMargin:k,closeMarginRtl:E,padding:P}=p,{type:_}=t,{left:F,right:N}=wi(w);return{"--n-bezier":f,"--n-color":p[We("color",_)],"--n-close-icon-size":S,"--n-close-border-radius":A,"--n-close-color-hover":p[We("closeColorHover",_)],"--n-close-color-pressed":p[We("closeColorPressed",_)],"--n-close-icon-color":p[We("closeIconColor",_)],"--n-close-icon-color-hover":p[We("closeIconColorHover",_)],"--n-close-icon-color-pressed":p[We("closeIconColorPressed",_)],"--n-icon-color":p[We("iconColor",_)],"--n-border":p[We("border",_)],"--n-title-text-color":p[We("titleTextColor",_)],"--n-content-text-color":p[We("contentTextColor",_)],"--n-line-height":b,"--n-border-radius":m,"--n-font-size":g,"--n-title-font-weight":y,"--n-icon-size":x,"--n-icon-margin":w,"--n-icon-margin-rtl":C,"--n-close-size":T,"--n-close-margin":k,"--n-close-margin-rtl":E,"--n-padding":P,"--n-icon-margin-left":F,"--n-icon-margin-right":N}}),l=r?Ot("alert",L(()=>t.type[0]),s,t):void 0,c=V(!0),u=()=>{const{onAfterLeave:f,onAfterHide:p}=t;f&&f(),p&&p()};return{rtlEnabled:a,mergedClsPrefix:e,mergedBordered:n,visible:c,handleCloseClick:()=>{var f;Promise.resolve((f=t.onClose)===null||f===void 0?void 0:f.call(t)).then(p=>{p!==!1&&(c.value=!1)})},handleAfterLeave:()=>{u()},mergedTheme:o,cssVars:r?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v(Ml,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:e,$slots:n}=this,r={class:[`${e}-alert`,this.themeClass,this.closable&&`${e}-alert--closable`,this.showIcon&&`${e}-alert--show-icon`,!this.title&&this.closable&&`${e}-alert--right-adjust`,this.rtlEnabled&&`${e}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?v("div",Object.assign({},Xi(this.$attrs,r)),this.closable&&v(Ic,{clsPrefix:e,class:`${e}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&v("div",{class:`${e}-alert__border`}),this.showIcon&&v("div",{class:`${e}-alert__icon`,"aria-hidden":"true"},sn(n.icon,()=>[v(Jt,{clsPrefix:e},{default:()=>{switch(this.type){case"success":return v(xh,null);case"info":return v(zu,null);case"warning":return v(Ju,null);case"error":return v(bh,null);default:return null}}})])),v("div",{class:[`${e}-alert-body`,this.mergedBordered&&`${e}-alert-body--bordered`]},bn(n.header,i=>{const o=i||this.title;return o?v("div",{class:`${e}-alert-body__title`},o):null}),n.default&&v("div",{class:`${e}-alert-body__content`},n))):null}})}}),_ie={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"};function Pie(t){const{borderRadius:e,railColor:n,primaryColor:r,primaryColorHover:i,primaryColorPressed:o,textColor2:a}=t;return Object.assign(Object.assign({},_ie),{borderRadius:e,railColor:n,railColorActive:r,linkColor:dn(r,{alpha:.15}),linkTextColor:a,linkTextColorHover:i,linkTextColorPressed:o,linkTextColorActive:r})}const Iie={common:Bt,self:Pie},jy="n-anchor",wO={title:String,href:String},Lie=le({name:"AnchorLink",props:wO,slots:Object,setup(t,{slots:e}){const n=V(null),r=ut(jy),i=$e(t,"href"),o=Yt(()=>i.value&&i.value===r.activeHref.value);CY(jy,"collectedLinkHrefs",i),AY(jy,"titleEls",()=>n.value),qt(o,s=>{s&&n.value&&r.updateBarPosition(n.value)});function a(){t.href!==void 0&&r.setActiveHref(t.href)}return()=>{var s;const{value:l}=r.mergedClsPrefix;return v("div",{class:[`${l}-anchor-link`,o.value&&`${l}-anchor-link--active`]},v("a",{ref:n,class:[`${l}-anchor-link__title`],href:t.href,title:Kf(t.title),onClick:a},{default:()=>sn(e.title,()=>[t.title])}),(s=e.default)===null||s===void 0?void 0:s.call(e))}}});function Mie(t,e){const{top:n,height:r}=t.getBoundingClientRect(),i=e instanceof HTMLElement?e.getBoundingClientRect().top:0;return{top:n-i,height:r}}const l4={type:{type:String,default:"rail"},showRail:{type:Boolean,default:!0},showBackground:{type:Boolean,default:!0},bound:{type:Number,default:12},internalScrollable:Boolean,ignoreGap:Boolean,offsetTarget:[String,Object,Function]},Oie=vo(l4),Die=le({name:"BaseAnchor",props:Object.assign(Object.assign({},l4),{mergedClsPrefix:{type:String,required:!0}}),setup(t){const e=[],n=[],r=V(null),i=V(null),o=V(null),a=V(null);let s=!1;const l=L(()=>t.type==="block"),c=L(()=>!l.value&&t.showRail);function u(){const{value:b}=o,{value:x}=i;b&&(b.style.transition="none"),x&&(x.style.transition="none"),n&&n.forEach(w=>{w.style.transition="none"}),vn(()=>{const{value:w}=o,{value:C}=i;w&&(w.offsetWidth,w.style.transition=""),C&&(C.offsetWidth,C.style.transition=""),n&&n.forEach(S=>{S.offsetWidth,S.style.transition=""})})}function d(b,x=!0){const{value:w}=o,{value:C}=i,{value:S}=a;if(!S||!w)return;x||(w.style.transition="none",C&&(C.style.transition="none"));const{offsetHeight:A,offsetWidth:T}=b,{top:k,left:E}=b.getBoundingClientRect(),{top:P,left:_}=S.getBoundingClientRect(),F=k-P,N=E-_;w.style.top=`${F}px`,w.style.height=`${A}px`,C&&(C.style.top=`${F}px`,C.style.height=`${A}px`,C.style.maxWidth=`${T+N}px`),w.offsetHeight,C&&C.offsetHeight,x||(w.style.transition="",C&&(C.style.transition=""))}let h,f=!1,p=!1;const g=()=>{if(p)f=!0;else{if(s)return;y(!0),p=!0,clearTimeout(h),h=setTimeout(()=>{p=!1,f&&(f=!1,g())},128)}};function m(b,x=!0){const w=/^#([^#]+)$/.exec(b);if(!w)return;const C=document.getElementById(w[1]);C&&(s=!0,r.value=b,C.scrollIntoView(),x||u(),f=!1,setTimeout(()=>{s=!1},0))}function y(b=!0){var x;const w=[],C=Pk((x=t.offsetTarget)!==null&&x!==void 0?x:document);e.forEach(E=>{const P=/#([^#]+)$/.exec(E);if(!P)return;const _=document.getElementById(P[1]);if(_&&C){const{top:F,height:N}=Mie(_,C);w.push({top:F,height:N,href:E})}}),w.sort((E,P)=>E.top>P.top?1:(E.top===P.top&&E.height<P.height,-1));const S=r.value,{bound:A,ignoreGap:T}=t,k=w.reduce((E,P)=>P.top+P.height<0?T?P:E:P.top<=A?E===null?P:P.top===E.top?P.href===S?P:E:P.top>E.top?P:E:E,null);b||u(),k?r.value=k.href:r.value=null}return zt(jy,{activeHref:r,mergedClsPrefix:$e(t,"mergedClsPrefix"),updateBarPosition:d,setActiveHref:m,collectedLinkHrefs:e,titleEls:n}),jn(()=>{document.addEventListener("scroll",g,!0),m(window.location.hash),y(!1)}),J1(()=>{m(window.location.hash),y(!1)}),ir(()=>{clearTimeout(h),document.removeEventListener("scroll",g,!0)}),qt(r,b=>{if(b===null){const{value:x}=i;x&&!l.value&&(x.style.maxWidth="0")}}),{selfRef:a,barRef:o,slotRef:i,setActiveHref:m,activeHref:r,isBlockType:l,mergedShowRail:c}},render(){var t;const{mergedClsPrefix:e,mergedShowRail:n,isBlockType:r,$slots:i}=this,o=v("div",{class:[`${e}-anchor`,r&&`${e}-anchor--block`,n&&`${e}-anchor--show-rail`],ref:"selfRef"},n&&this.showBackground?v("div",{ref:"slotRef",class:`${e}-anchor-link-background`}):null,n?v("div",{class:`${e}-anchor-rail`},v("div",{ref:"barRef",class:[`${e}-anchor-rail__bar`,this.activeHref!==null&&`${e}-anchor-rail__bar--active`]})):null,(t=i.default)===null||t===void 0?void 0:t.call(i));return this.internalScrollable?v(Hr,null,{default:()=>o}):o}}),Fie=R("anchor",`
 position: relative;
`,[an("block",`
 padding-left: var(--n-rail-width);
 `,[R("anchor-link",[B("+, >",[R("anchor-link",`
 margin-top: .5em;
 `)])]),R("anchor-link-background",`
 max-width: 0;
 border-top-right-radius: 10.5px;
 border-bottom-right-radius: 10.5px;
 `),an("show-rail",[B(">",[R("anchor-link","padding-left: 0;")])])]),U("block",[R("anchor-link",`
 margin-bottom: 4px;
 padding: 2px 8px;
 transition: background-color .3s var(--n-bezier);
 background-color: transparent;
 border-radius: var(--n-link-border-radius);
 `,[U("active",`
 background-color: var(--n-link-color);
 `)])]),R("anchor-link-background",`
 position: absolute;
 left: calc(var(--n-rail-width) / 2);
 width: 100%;
 background-color: var(--n-link-color);
 transition:
 top .15s var(--n-bezier),
 max-width .15s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),R("anchor-rail",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 width: var(--n-rail-width);
 border-radius: calc(var(--n-rail-width) / 2);
 overflow: hidden;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[H("bar",`
 position: absolute;
 left: 0;
 width: var(--n-rail-width);
 height: 21px;
 background-color: #0000;
 transition: 
 top .15s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[U("active",{backgroundColor:"var(--n-rail-color-active)"})])]),R("anchor-link",`
 padding: var(--n-link-padding);
 position: relative;
 line-height: 1.5;
 font-size: var(--n-link-font-size);
 min-height: 1.5em;
 display: flex;
 flex-direction: column;
 `,[U("active",[B(">",[H("title",`
 color: var(--n-link-text-color-active);
 `)])]),H("title",`
 outline: none;
 max-width: 100%;
 text-decoration: none;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 cursor: pointer;
 display: inline-block;
 padding-right: 16px;
 transition: color .3s var(--n-bezier);
 color: var(--n-link-text-color);
 `,[B("&:hover, &:focus",`
 color: var(--n-link-text-color-hover);
 `),B("&:active",`
 color: var(--n-link-text-color-pressed);
 `)])])]),CO=Object.assign(Object.assign(Object.assign(Object.assign({},Ve.props),{affix:Boolean}),lx),l4),$ie=le({name:"Anchor",props:CO,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("Anchor","-anchor",Fie,Iie,t,n),o=V(null),a=L(()=>{const{self:{railColor:l,linkColor:c,railColorActive:u,linkTextColor:d,linkTextColorHover:h,linkTextColorPressed:f,linkTextColorActive:p,linkFontSize:g,railWidth:m,linkPadding:y,borderRadius:b},common:{cubicBezierEaseInOut:x}}=i.value;return{"--n-link-border-radius":b,"--n-link-color":c,"--n-link-font-size":g,"--n-link-text-color":d,"--n-link-text-color-hover":h,"--n-link-text-color-active":p,"--n-link-text-color-pressed":f,"--n-link-padding":y,"--n-bezier":x,"--n-rail-color":l,"--n-rail-color-active":u,"--n-rail-width":m}}),s=r?Ot("anchor",void 0,a,t):void 0;return{scrollTo(l){var c;(c=o.value)===null||c===void 0||c.setActiveHref(l)},renderAnchor:()=>(s==null||s.onRender(),v(Die,Object.assign({ref:o,style:r?void 0:a.value,class:s==null?void 0:s.themeClass.value},Ri(t,Oie),{mergedClsPrefix:n.value}),e))}},render(){return this.affix?v(XM,Object.assign({},Ri(this,Kne)),{default:this.renderAnchor}):this.renderAnchor()}}),Bie=na&&"chrome"in window;na&&navigator.userAgent.includes("Firefox");const AO=na&&navigator.userAgent.includes("Safari")&&!Bie,Nie={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};function zie(t){const{textColor2:e,textColor3:n,textColorDisabled:r,primaryColor:i,primaryColorHover:o,inputColor:a,inputColorDisabled:s,borderColor:l,warningColor:c,warningColorHover:u,errorColor:d,errorColorHover:h,borderRadius:f,lineHeight:p,fontSizeTiny:g,fontSizeSmall:m,fontSizeMedium:y,fontSizeLarge:b,heightTiny:x,heightSmall:w,heightMedium:C,heightLarge:S,actionColor:A,clearColor:T,clearColorHover:k,clearColorPressed:E,placeholderColor:P,placeholderColorDisabled:_,iconColor:F,iconColorDisabled:N,iconColorHover:W,iconColorPressed:G,fontWeight:Z}=t;return Object.assign(Object.assign({},Nie),{fontWeight:Z,countTextColorDisabled:r,countTextColor:n,heightTiny:x,heightSmall:w,heightMedium:C,heightLarge:S,fontSizeTiny:g,fontSizeSmall:m,fontSizeMedium:y,fontSizeLarge:b,lineHeight:p,lineHeightTextarea:p,borderRadius:f,iconSize:"16px",groupLabelColor:A,groupLabelTextColor:e,textColor:e,textColorDisabled:r,textDecorationColor:e,caretColor:i,placeholderColor:P,placeholderColorDisabled:_,color:a,colorDisabled:s,colorFocus:a,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${o}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${o}`,boxShadowFocus:`0 0 0 2px ${dn(i,{alpha:.2})}`,loadingColor:i,loadingColorWarning:c,borderWarning:`1px solid ${c}`,borderHoverWarning:`1px solid ${u}`,colorFocusWarning:a,borderFocusWarning:`1px solid ${u}`,boxShadowFocusWarning:`0 0 0 2px ${dn(c,{alpha:.2})}`,caretColorWarning:c,loadingColorError:d,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${h}`,colorFocusError:a,borderFocusError:`1px solid ${h}`,boxShadowFocusError:`0 0 0 2px ${dn(d,{alpha:.2})}`,caretColorError:d,clearColor:T,clearColorHover:k,clearColorPressed:E,iconColor:F,iconColorDisabled:N,iconColorHover:W,iconColorPressed:G,suffixTextColor:e})}const Ca={name:"Input",common:Bt,peers:{Scrollbar:Bo},self:zie},SO="n-input",Hie=R("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[H("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),H("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),H("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[B("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),B("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),B("&:-webkit-autofill ~",[H("placeholder","display: none;")])]),U("round",[an("textarea","border-radius: calc(var(--n-height) / 2);")]),H("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[B("span",`
 width: 100%;
 display: inline-block;
 `)]),U("textarea",[H("placeholder","overflow: visible;")]),an("autosize","width: 100%;"),U("autosize",[H("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),R("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),H("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),H("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[B("&[type=password]::-ms-reveal","display: none;"),B("+",[H("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),an("textarea",[H("placeholder","white-space: nowrap;")]),H("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),U("textarea","width: 100%;",[R("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),U("resizable",[R("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),H("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),H("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),U("pair",[H("input-el, placeholder","text-align: center;"),H("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[R("icon",`
 color: var(--n-icon-color);
 `),R("base-icon",`
 color: var(--n-icon-color);
 `)])]),U("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[H("border","border: var(--n-border-disabled);"),H("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),H("placeholder","color: var(--n-placeholder-color-disabled);"),H("separator","color: var(--n-text-color-disabled);",[R("icon",`
 color: var(--n-icon-color-disabled);
 `),R("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),R("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),H("suffix, prefix","color: var(--n-text-color-disabled);",[R("icon",`
 color: var(--n-icon-color-disabled);
 `),R("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),an("disabled",[H("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[B("&:hover",`
 color: var(--n-icon-color-hover);
 `),B("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),B("&:hover",[H("state-border","border: var(--n-border-hover);")]),U("focus","background-color: var(--n-color-focus);",[H("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),H("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),H("state-border",`
 border-color: #0000;
 z-index: 1;
 `),H("prefix","margin-right: 4px;"),H("suffix",`
 margin-left: 4px;
 `),H("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[R("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),R("base-clear",`
 font-size: var(--n-icon-size);
 `,[H("placeholder",[R("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),B(">",[R("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),R("base-icon",`
 font-size: var(--n-icon-size);
 `)]),R("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(t=>U(`${t}-status`,[an("disabled",[R("base-loading",`
 color: var(--n-loading-color-${t})
 `),H("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${t});
 `),H("state-border",`
 border: var(--n-border-${t});
 `),B("&:hover",[H("state-border",`
 border: var(--n-border-hover-${t});
 `)]),B("&:focus",`
 background-color: var(--n-color-focus-${t});
 `,[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)]),U("focus",`
 background-color: var(--n-color-focus-${t});
 `,[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]),Uie=R("input",[U("disabled",[H("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]);function jie(t){let e=0;for(const n of t)e++;return e}function Ov(t){return t===""||t==null}function Vie(t){const e=V(null);function n(){const{value:o}=t;if(!(o!=null&&o.focus)){i();return}const{selectionStart:a,selectionEnd:s,value:l}=o;if(a==null||s==null){i();return}e.value={start:a,end:s,beforeText:l.slice(0,a),afterText:l.slice(s)}}function r(){var o;const{value:a}=e,{value:s}=t;if(!a||!s)return;const{value:l}=s,{start:c,beforeText:u,afterText:d}=a;let h=l.length;if(l.endsWith(d))h=l.length-d.length;else if(l.startsWith(u))h=u.length;else{const f=u[c-1],p=l.indexOf(f,c-1);p!==-1&&(h=p+1)}(o=s.setSelectionRange)===null||o===void 0||o.call(s,h,h)}function i(){e.value=null}return qt(t,i),{recordCursor:n,restoreCursor:r}}const o6=le({name:"InputWordCount",setup(t,{slots:e}){const{mergedValueRef:n,maxlengthRef:r,mergedClsPrefixRef:i,countGraphemesRef:o}=ut(SO),a=L(()=>{const{value:s}=n;return s===null||Array.isArray(s)?0:(o.value||jie)(s)});return()=>{const{value:s}=r,{value:l}=n;return v("span",{class:`${i.value}-input-word-count`},ui(e.default,{value:l===null||Array.isArray(l)?"":l},()=>[s===void 0?a.value:`${a.value} / ${s}`]))}}}),kO=Object.assign(Object.assign({},Ve.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),_i=le({name:"Input",props:kO,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=Ve("Input","-input",Hie,Ca,t,e);AO&&Wa("-input-safari",Uie,e);const a=V(null),s=V(null),l=V(null),c=V(null),u=V(null),d=V(null),h=V(null),f=Vie(h),p=V(null),{localeRef:g}=li("Input"),m=V(t.defaultValue),b=Cn($e(t,"value"),m),x=di(t),{mergedSizeRef:w,mergedDisabledRef:C,mergedStatusRef:S}=x,A=V(!1),T=V(!1),k=V(!1),E=V(!1);let P=null;const _=L(()=>{const{placeholder:Le,pair:ot}=t;return ot?Array.isArray(Le)?Le:Le===void 0?["",""]:[Le,Le]:Le===void 0?[g.value.placeholder]:[Le]}),F=L(()=>{const{value:Le}=k,{value:ot}=b,{value:kt}=_;return!Le&&(Ov(ot)||Array.isArray(ot)&&Ov(ot[0]))&&kt[0]}),N=L(()=>{const{value:Le}=k,{value:ot}=b,{value:kt}=_;return!Le&&kt[1]&&(Ov(ot)||Array.isArray(ot)&&Ov(ot[1]))}),W=Yt(()=>t.internalForceFocus||A.value),G=Yt(()=>{if(C.value||t.readonly||!t.clearable||!W.value&&!T.value)return!1;const{value:Le}=b,{value:ot}=W;return t.pair?!!(Array.isArray(Le)&&(Le[0]||Le[1]))&&(T.value||ot):!!Le&&(T.value||ot)}),Z=L(()=>{const{showPasswordOn:Le}=t;if(Le)return Le;if(t.showPasswordToggle)return"click"}),ie=V(!1),he=L(()=>{const{textDecoration:Le}=t;return Le?Array.isArray(Le)?Le.map(ot=>({textDecoration:ot})):[{textDecoration:Le}]:["",""]}),xe=V(void 0),Q=()=>{var Le,ot;if(t.type==="textarea"){const{autosize:kt}=t;if(kt&&(xe.value=(ot=(Le=p.value)===null||Le===void 0?void 0:Le.$el)===null||ot===void 0?void 0:ot.offsetWidth),!s.value||typeof kt=="boolean")return;const{paddingTop:He,paddingBottom:at,lineHeight:xt}=window.getComputedStyle(s.value),Et=Number(He.slice(0,-2)),Nt=Number(at.slice(0,-2)),Mn=Number(xt.slice(0,-2)),{value:wr}=l;if(!wr)return;if(kt.minRows){const Pr=Math.max(kt.minRows,1),qi=`${Et+Nt+Mn*Pr}px`;wr.style.minHeight=qi}if(kt.maxRows){const Pr=`${Et+Nt+Mn*kt.maxRows}px`;wr.style.maxHeight=Pr}}},X=L(()=>{const{maxlength:Le}=t;return Le===void 0?void 0:Number(Le)});jn(()=>{const{value:Le}=b;Array.isArray(Le)||Je(Le)});const K=Fs().proxy;function ne(Le,ot){const{onUpdateValue:kt,"onUpdate:value":He,onInput:at}=t,{nTriggerFormInput:xt}=x;kt&&Fe(kt,Le,ot),He&&Fe(He,Le,ot),at&&Fe(at,Le,ot),m.value=Le,xt()}function ve(Le,ot){const{onChange:kt}=t,{nTriggerFormChange:He}=x;kt&&Fe(kt,Le,ot),m.value=Le,He()}function Se(Le){const{onBlur:ot}=t,{nTriggerFormBlur:kt}=x;ot&&Fe(ot,Le),kt()}function ye(Le){const{onFocus:ot}=t,{nTriggerFormFocus:kt}=x;ot&&Fe(ot,Le),kt()}function Be(Le){const{onClear:ot}=t;ot&&Fe(ot,Le)}function J(Le){const{onInputBlur:ot}=t;ot&&Fe(ot,Le)}function Ue(Le){const{onInputFocus:ot}=t;ot&&Fe(ot,Le)}function Qe(){const{onDeactivate:Le}=t;Le&&Fe(Le)}function ae(){const{onActivate:Le}=t;Le&&Fe(Le)}function fe(Le){const{onClick:ot}=t;ot&&Fe(ot,Le)}function ke(Le){const{onWrapperFocus:ot}=t;ot&&Fe(ot,Le)}function Ke(Le){const{onWrapperBlur:ot}=t;ot&&Fe(ot,Le)}function Ne(){k.value=!0}function Ae(Le){k.value=!1,Le.target===d.value?se(Le,1):se(Le,0)}function se(Le,ot=0,kt="input"){const He=Le.target.value;if(Je(He),Le instanceof InputEvent&&!Le.isComposing&&(k.value=!1),t.type==="textarea"){const{value:xt}=p;xt&&xt.syncUnifiedContainer()}if(P=He,k.value)return;f.recordCursor();const at=be(He);if(at)if(!t.pair)kt==="input"?ne(He,{source:ot}):ve(He,{source:ot});else{let{value:xt}=b;Array.isArray(xt)?xt=[xt[0],xt[1]]:xt=["",""],xt[ot]=He,kt==="input"?ne(xt,{source:ot}):ve(xt,{source:ot})}K.$forceUpdate(),at||vn(f.restoreCursor)}function be(Le){const{countGraphemes:ot,maxlength:kt,minlength:He}=t;if(ot){let xt;if(kt!==void 0&&(xt===void 0&&(xt=ot(Le)),xt>Number(kt))||He!==void 0&&(xt===void 0&&(xt=ot(Le)),xt<Number(kt)))return!1}const{allowInput:at}=t;return typeof at=="function"?at(Le):!0}function re(Le){J(Le),Le.relatedTarget===a.value&&Qe(),Le.relatedTarget!==null&&(Le.relatedTarget===u.value||Le.relatedTarget===d.value||Le.relatedTarget===s.value)||(E.value=!1),pe(Le,"blur"),h.value=null}function me(Le,ot){Ue(Le),A.value=!0,E.value=!0,ae(),pe(Le,"focus"),ot===0?h.value=u.value:ot===1?h.value=d.value:ot===2&&(h.value=s.value)}function De(Le){t.passivelyActivated&&(Ke(Le),pe(Le,"blur"))}function ge(Le){t.passivelyActivated&&(A.value=!0,ke(Le),pe(Le,"focus"))}function pe(Le,ot){Le.relatedTarget!==null&&(Le.relatedTarget===u.value||Le.relatedTarget===d.value||Le.relatedTarget===s.value||Le.relatedTarget===a.value)||(ot==="focus"?(ye(Le),A.value=!0):ot==="blur"&&(Se(Le),A.value=!1))}function Te(Le,ot){se(Le,ot,"change")}function Xe(Le){fe(Le)}function Oe(Le){Be(Le),ft()}function ft(){t.pair?(ne(["",""],{source:"clear"}),ve(["",""],{source:"clear"})):(ne("",{source:"clear"}),ve("",{source:"clear"}))}function Lt(Le){const{onMousedown:ot}=t;ot&&ot(Le);const{tagName:kt}=Le.target;if(kt!=="INPUT"&&kt!=="TEXTAREA"){if(t.resizable){const{value:He}=a;if(He){const{left:at,top:xt,width:Et,height:Nt}=He.getBoundingClientRect(),Mn=14;if(at+Et-Mn<Le.clientX&&Le.clientX<at+Et&&xt+Nt-Mn<Le.clientY&&Le.clientY<xt+Nt)return}}Le.preventDefault(),A.value||je()}}function Kt(){var Le;T.value=!0,t.type==="textarea"&&((Le=p.value)===null||Le===void 0||Le.handleMouseEnterWrapper())}function Dt(){var Le;T.value=!1,t.type==="textarea"&&((Le=p.value)===null||Le===void 0||Le.handleMouseLeaveWrapper())}function Ge(){C.value||Z.value==="click"&&(ie.value=!ie.value)}function en(Le){if(C.value)return;Le.preventDefault();const ot=He=>{He.preventDefault(),xn("mouseup",document,ot)};if(wn("mouseup",document,ot),Z.value!=="mousedown")return;ie.value=!0;const kt=()=>{ie.value=!1,xn("mouseup",document,kt)};wn("mouseup",document,kt)}function wt(Le){t.onKeyup&&Fe(t.onKeyup,Le)}function _t(Le){switch(t.onKeydown&&Fe(t.onKeydown,Le),Le.key){case"Escape":ue();break;case"Enter":ce(Le);break}}function ce(Le){var ot,kt;if(t.passivelyActivated){const{value:He}=E;if(He){t.internalDeactivateOnEnter&&ue();return}Le.preventDefault(),t.type==="textarea"?(ot=s.value)===null||ot===void 0||ot.focus():(kt=u.value)===null||kt===void 0||kt.focus()}}function ue(){t.passivelyActivated&&(E.value=!1,vn(()=>{var Le;(Le=a.value)===null||Le===void 0||Le.focus()}))}function je(){var Le,ot,kt;C.value||(t.passivelyActivated?(Le=a.value)===null||Le===void 0||Le.focus():((ot=s.value)===null||ot===void 0||ot.focus(),(kt=u.value)===null||kt===void 0||kt.focus()))}function st(){var Le;!((Le=a.value)===null||Le===void 0)&&Le.contains(document.activeElement)&&document.activeElement.blur()}function lt(){var Le,ot;(Le=s.value)===null||Le===void 0||Le.select(),(ot=u.value)===null||ot===void 0||ot.select()}function _e(){C.value||(s.value?s.value.focus():u.value&&u.value.focus())}function tt(){const{value:Le}=a;Le!=null&&Le.contains(document.activeElement)&&Le!==document.activeElement&&ue()}function Re(Le){if(t.type==="textarea"){const{value:ot}=s;ot==null||ot.scrollTo(Le)}else{const{value:ot}=u;ot==null||ot.scrollTo(Le)}}function Je(Le){const{type:ot,pair:kt,autosize:He}=t;if(!kt&&He)if(ot==="textarea"){const{value:at}=l;at&&(at.textContent=`${Le??""}\r
`)}else{const{value:at}=c;at&&(Le?at.textContent=Le:at.innerHTML="&nbsp;")}}function St(){Q()}const Rt=V({top:"0"});function ze(Le){var ot;const{scrollTop:kt}=Le.target;Rt.value.top=`${-kt}px`,(ot=p.value)===null||ot===void 0||ot.syncUnifiedContainer()}let dt=null;er(()=>{const{autosize:Le,type:ot}=t;Le&&ot==="textarea"?dt=qt(b,kt=>{!Array.isArray(kt)&&kt!==P&&Je(kt)}):dt==null||dt()});let Ie=null;er(()=>{t.type==="textarea"?Ie=qt(b,Le=>{var ot;!Array.isArray(Le)&&Le!==P&&((ot=p.value)===null||ot===void 0||ot.syncUnifiedContainer())}):Ie==null||Ie()}),zt(SO,{mergedValueRef:b,maxlengthRef:X,mergedClsPrefixRef:e,countGraphemesRef:$e(t,"countGraphemes")});const rt={wrapperElRef:a,inputElRef:u,textareaElRef:s,isCompositing:k,clear:ft,focus:je,blur:st,select:lt,deactivate:tt,activate:_e,scrollTo:Re},mt=or("Input",i,e),Ft=L(()=>{const{value:Le}=w,{common:{cubicBezierEaseInOut:ot},self:{color:kt,borderRadius:He,textColor:at,caretColor:xt,caretColorError:Et,caretColorWarning:Nt,textDecorationColor:Mn,border:wr,borderDisabled:Pr,borderHover:qi,borderFocus:Ci,placeholderColor:ai,placeholderColorDisabled:rr,lineHeightTextarea:Ye,colorDisabled:Ct,colorFocus:Tt,textColorDisabled:On,boxShadowFocus:Kr,iconSize:Yn,colorFocusWarning:Eo,boxShadowFocusWarning:ia,borderWarning:To,borderFocusWarning:zs,borderHoverWarning:id,colorFocusError:Dc,boxShadowFocusError:od,borderError:Fc,borderFocusError:Rh,borderHoverError:ad,clearSize:Ap,clearColor:pv,clearColorHover:mv,clearColorPressed:$c,iconColor:_h,iconColorDisabled:Sp,suffixTextColor:gv,countTextColor:kp,countTextColorDisabled:sd,iconColorHover:nw,iconColorPressed:Hs,loadingColor:Ph,loadingColorError:Ih,loadingColorWarning:ld,fontWeight:vv,[We("padding",Le)]:rw,[We("fontSize",Le)]:iw,[We("height",Le)]:yv}}=o.value,{left:Ep,right:ow}=wi(rw);return{"--n-bezier":ot,"--n-count-text-color":kp,"--n-count-text-color-disabled":sd,"--n-color":kt,"--n-font-size":iw,"--n-font-weight":vv,"--n-border-radius":He,"--n-height":yv,"--n-padding-left":Ep,"--n-padding-right":ow,"--n-text-color":at,"--n-caret-color":xt,"--n-text-decoration-color":Mn,"--n-border":wr,"--n-border-disabled":Pr,"--n-border-hover":qi,"--n-border-focus":Ci,"--n-placeholder-color":ai,"--n-placeholder-color-disabled":rr,"--n-icon-size":Yn,"--n-line-height-textarea":Ye,"--n-color-disabled":Ct,"--n-color-focus":Tt,"--n-text-color-disabled":On,"--n-box-shadow-focus":Kr,"--n-loading-color":Ph,"--n-caret-color-warning":Nt,"--n-color-focus-warning":Eo,"--n-box-shadow-focus-warning":ia,"--n-border-warning":To,"--n-border-focus-warning":zs,"--n-border-hover-warning":id,"--n-loading-color-warning":ld,"--n-caret-color-error":Et,"--n-color-focus-error":Dc,"--n-box-shadow-focus-error":od,"--n-border-error":Fc,"--n-border-focus-error":Rh,"--n-border-hover-error":ad,"--n-loading-color-error":Ih,"--n-clear-color":pv,"--n-clear-size":Ap,"--n-clear-color-hover":mv,"--n-clear-color-pressed":$c,"--n-icon-color":_h,"--n-icon-color-hover":nw,"--n-icon-color-pressed":Hs,"--n-icon-color-disabled":Sp,"--n-suffix-text-color":gv}}),Ht=r?Ot("input",L(()=>{const{value:Le}=w;return Le[0]}),Ft,t):void 0;return Object.assign(Object.assign({},rt),{wrapperElRef:a,inputElRef:u,inputMirrorElRef:c,inputEl2Ref:d,textareaElRef:s,textareaMirrorElRef:l,textareaScrollbarInstRef:p,rtlEnabled:mt,uncontrolledValue:m,mergedValue:b,passwordVisible:ie,mergedPlaceholder:_,showPlaceholder1:F,showPlaceholder2:N,mergedFocus:W,isComposing:k,activated:E,showClearButton:G,mergedSize:w,mergedDisabled:C,textDecorationStyle:he,mergedClsPrefix:e,mergedBordered:n,mergedShowPasswordOn:Z,placeholderStyle:Rt,mergedStatus:S,textAreaScrollContainerWidth:xe,handleTextAreaScroll:ze,handleCompositionStart:Ne,handleCompositionEnd:Ae,handleInput:se,handleInputBlur:re,handleInputFocus:me,handleWrapperBlur:De,handleWrapperFocus:ge,handleMouseEnter:Kt,handleMouseLeave:Dt,handleMouseDown:Lt,handleChange:Te,handleClick:Xe,handleClear:Oe,handlePasswordToggleClick:Ge,handlePasswordToggleMousedown:en,handleWrapperKeydown:_t,handleWrapperKeyup:wt,handleTextAreaMirrorResize:St,getTextareaScrollContainer:()=>s.value,mergedTheme:o,cssVars:r?void 0:Ft,themeClass:Ht==null?void 0:Ht.themeClass,onRender:Ht==null?void 0:Ht.onRender})},render(){var t,e,n,r,i,o,a;const{mergedClsPrefix:s,mergedStatus:l,themeClass:c,type:u,countGraphemes:d,onRender:h}=this,f=this.$slots;return h==null||h(),v("div",{ref:"wrapperElRef",class:[`${s}-input`,c,l&&`${s}-input--${l}-status`,{[`${s}-input--rtl`]:this.rtlEnabled,[`${s}-input--disabled`]:this.mergedDisabled,[`${s}-input--textarea`]:u==="textarea",[`${s}-input--resizable`]:this.resizable&&!this.autosize,[`${s}-input--autosize`]:this.autosize,[`${s}-input--round`]:this.round&&u!=="textarea",[`${s}-input--pair`]:this.pair,[`${s}-input--focus`]:this.mergedFocus,[`${s}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},v("div",{class:`${s}-input-wrapper`},bn(f.prefix,p=>p&&v("div",{class:`${s}-input__prefix`},p)),u==="textarea"?v(Hr,{ref:"textareaScrollbarInstRef",class:`${s}-input__textarea`,container:this.getTextareaScrollContainer,theme:(e=(t=this.theme)===null||t===void 0?void 0:t.peers)===null||e===void 0?void 0:e.Scrollbar,themeOverrides:(r=(n=this.themeOverrides)===null||n===void 0?void 0:n.peers)===null||r===void 0?void 0:r.Scrollbar,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var p,g;const{textAreaScrollContainerWidth:m}=this,y={width:this.autosize&&m&&`${m}px`};return v(qn,null,v("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${s}-input__textarea-el`,(p=this.inputProps)===null||p===void 0?void 0:p.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:d?void 0:this.maxlength,minlength:d?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(g=this.inputProps)===null||g===void 0?void 0:g.style,y],onBlur:this.handleInputBlur,onFocus:b=>{this.handleInputFocus(b,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?v("div",{class:`${s}-input__placeholder`,style:[this.placeholderStyle,y],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?v($o,{onResize:this.handleTextAreaMirrorResize},{default:()=>v("div",{ref:"textareaMirrorElRef",class:`${s}-input__textarea-mirror`,key:"mirror"})}):null)}}):v("div",{class:`${s}-input__input`},v("input",Object.assign({type:u==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":u},this.inputProps,{ref:"inputElRef",class:[`${s}-input__input-el`,(i=this.inputProps)===null||i===void 0?void 0:i.class],style:[this.textDecorationStyle[0],(o=this.inputProps)===null||o===void 0?void 0:o.style],tabindex:this.passivelyActivated&&!this.activated?-1:(a=this.inputProps)===null||a===void 0?void 0:a.tabindex,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:d?void 0:this.maxlength,minlength:d?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:p=>{this.handleInputFocus(p,0)},onInput:p=>{this.handleInput(p,0)},onChange:p=>{this.handleChange(p,0)}})),this.showPlaceholder1?v("div",{class:`${s}-input__placeholder`},v("span",null,this.mergedPlaceholder[0])):null,this.autosize?v("div",{class:`${s}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},""):null),!this.pair&&bn(f.suffix,p=>p||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?v("div",{class:`${s}-input__suffix`},[bn(f["clear-icon-placeholder"],g=>(this.clearable||g)&&v(mA,{clsPrefix:s,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>g,icon:()=>{var m,y;return(y=(m=this.$slots)["clear-icon"])===null||y===void 0?void 0:y.call(m)}})),this.internalLoadingBeforeSuffix?null:p,this.loading!==void 0?v(vO,{clsPrefix:s,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?p:null,this.showCount&&this.type!=="textarea"?v(o6,null,{default:g=>{var m;const{renderCount:y}=this;return y?y(g):(m=f.count)===null||m===void 0?void 0:m.call(f,g)}}):null,this.mergedShowPasswordOn&&this.type==="password"?v("div",{class:`${s}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?sn(f["password-visible-icon"],()=>[v(Jt,{clsPrefix:s},{default:()=>v(eO,null)})]):sn(f["password-invisible-icon"],()=>[v(Jt,{clsPrefix:s},{default:()=>v(nre,null)})])):null]):null)),this.pair?v("span",{class:`${s}-input__separator`},sn(f.separator,()=>[this.separator])):null,this.pair?v("div",{class:`${s}-input-wrapper`},v("div",{class:`${s}-input__input`},v("input",{ref:"inputEl2Ref",type:this.type,class:`${s}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:d?void 0:this.maxlength,minlength:d?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:p=>{this.handleInputFocus(p,1)},onInput:p=>{this.handleInput(p,1)},onChange:p=>{this.handleChange(p,1)}}),this.showPlaceholder2?v("div",{class:`${s}-input__placeholder`},v("span",null,this.mergedPlaceholder[1])):null),bn(f.suffix,p=>(this.clearable||p)&&v("div",{class:`${s}-input__suffix`},[this.clearable&&v(mA,{clsPrefix:s,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var g;return(g=f["clear-icon"])===null||g===void 0?void 0:g.call(f)},placeholder:()=>{var g;return(g=f["clear-icon-placeholder"])===null||g===void 0?void 0:g.call(f)}}),p]))):null,this.mergedBordered?v("div",{class:`${s}-input__border`}):null,this.mergedBordered?v("div",{class:`${s}-input__state-border`}):null,this.showCount&&u==="textarea"?v(o6,null,{default:p=>{var g;const{renderCount:m}=this;return m?m(p):(g=f.count)===null||g===void 0?void 0:g.call(f,p)}}):null)}}),Wie=R("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[B(">",[R("input",[B("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),B("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),R("button",[B("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[H("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),B("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[H("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),B("*",[B("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[B(">",[R("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),R("base-selection",[R("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),R("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),H("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),B("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[B(">",[R("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),R("base-selection",[R("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),R("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),H("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),EO={},TO=le({name:"InputGroup",props:EO,setup(t){const{mergedClsPrefixRef:e}=gt(t);return Wa("-input-group",Wie,e),{mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:`${t}-input-group`},this.$slots)}}),qie=R("input-group-label",`
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 box-sizing: border-box;
 padding: 0 12px;
 display: inline-block;
 border-radius: var(--n-border-radius);
 background-color: var(--n-group-label-color);
 color: var(--n-group-label-text-color);
 font-size: var(--n-font-size);
 line-height: var(--n-height);
 height: var(--n-height);
 flex-shrink: 0;
 white-space: nowrap;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[H("border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-group-label-border);
 transition: border-color .3s var(--n-bezier);
 `)]),RO=Object.assign(Object.assign({},Ve.props),{size:String,bordered:{type:Boolean,default:void 0}}),Kie=le({name:"InputGroupLabel",props:RO,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=di(t),{mergedSizeRef:o}=i,a=Ve("Input","-input-group-label",qie,Ca,t,n),s=L(()=>{const{value:c}=o,{common:{cubicBezierEaseInOut:u},self:{groupLabelColor:d,borderRadius:h,groupLabelTextColor:f,lineHeight:p,groupLabelBorder:g,[We("fontSize",c)]:m,[We("height",c)]:y}}=a.value;return{"--n-bezier":u,"--n-group-label-color":d,"--n-group-label-border":g,"--n-border-radius":h,"--n-group-label-text-color":f,"--n-font-size":m,"--n-line-height":p,"--n-height":y}}),l=r?Ot("input-group-label",L(()=>{const{value:c}=o;return c[0]}),s,t):void 0;return{mergedClsPrefix:n,mergedBordered:e,cssVars:r?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t,e,n;const{mergedClsPrefix:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${r}-input-group-label`,this.themeClass],style:this.cssVars},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e),this.mergedBordered?v("div",{class:`${r}-input-group-label__border`}):null)}});function zb(t){return t.type==="group"}function _O(t){return t.type==="ignored"}function zw(t,e){try{return!!(1+e.toString().toLowerCase().indexOf(t.trim().toLowerCase()))}catch{return!1}}function ux(t,e){return{getIsGroup:zb,getIgnored:_O,getKey(r){return zb(r)?r.name||r.key||"key-required":r[t]},getChildren(r){return r[e]}}}function Gie(t,e,n,r){if(!e)return t;function i(o){if(!Array.isArray(o))return[];const a=[];for(const s of o)if(zb(s)){const l=i(s[r]);l.length&&a.push(Object.assign({},s,{[r]:l}))}else{if(_O(s))continue;e(n,s)&&a.push(s)}return a}return i(t)}function Yie(t,e,n){const r=new Map;return t.forEach(i=>{zb(i)?i[n].forEach(o=>{r.set(o[e],o)}):r.set(i[e],i)}),r}function Xie(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const Qie={name:"AutoComplete",common:Bt,peers:{InternalSelectMenu:hp,Input:Ca},self:Xie},Zie=B([R("auto-complete",`
 z-index: auto;
 position: relative;
 display: inline-flex;
 width: 100%;
 `),R("auto-complete-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Qi({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function Jie(t){return t.map(PO)}function PO(t){var e,n;return typeof t=="string"?{label:t,value:t}:t.type==="group"?{type:"group",label:(e=t.label)!==null&&e!==void 0?e:t.name,value:(n=t.value)!==null&&n!==void 0?n:t.name,key:t.key||t.name,children:t.children.map(i=>PO(i))}:t}const IO=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,menuProps:Object,append:Boolean,bordered:{type:Boolean,default:void 0},clearable:{type:Boolean,default:void 0},defaultValue:{type:String,default:null},loading:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:String,placement:{type:String,default:"bottom-start"},value:String,blurAfterSelect:Boolean,clearAfterSelect:Boolean,getShow:Function,showEmpty:Boolean,inputProps:Object,renderOption:Function,renderLabel:Function,size:String,options:{type:Array,default:()=>[]},zIndex:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onSelect:[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],onInput:[Function,Array]}),eoe=le({name:"AutoComplete",props:IO,slots:Object,setup(t){const{mergedBorderedRef:e,namespaceRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:i}=gt(t),o=di(t),{mergedSizeRef:a,mergedDisabledRef:s,mergedStatusRef:l}=o,c=V(null),u=V(null),d=V(t.defaultValue),f=Cn($e(t,"value"),d),p=V(!1),g=V(!1),m=Ve("AutoComplete","-auto-complete",Zie,Qie,t,r),y=L(()=>Jie(t.options)),b=L(()=>{const{getShow:ne}=t;return ne?ne(f.value||""):!!f.value}),x=L(()=>b.value&&p.value&&(t.showEmpty?!0:!!y.value.length)),w=L(()=>ma(y.value,ux("value","children")));function C(ne){const{"onUpdate:value":ve,onUpdateValue:Se,onInput:ye}=t,{nTriggerFormInput:Be,nTriggerFormChange:J}=o;Se&&Fe(Se,ne),ve&&Fe(ve,ne),ye&&Fe(ye,ne),d.value=ne,Be(),J()}function S(ne){const{onSelect:ve}=t,{nTriggerFormInput:Se,nTriggerFormChange:ye}=o;ve&&Fe(ve,ne),Se(),ye()}function A(ne){const{onBlur:ve}=t,{nTriggerFormBlur:Se}=o;ve&&Fe(ve,ne),Se()}function T(ne){const{onFocus:ve}=t,{nTriggerFormFocus:Se}=o;ve&&Fe(ve,ne),Se()}function k(){g.value=!0}function E(){window.setTimeout(()=>{g.value=!1},0)}function P(ne){var ve,Se,ye;switch(ne.key){case"Enter":if(!g.value){const Be=(ve=u.value)===null||ve===void 0?void 0:ve.getPendingTmNode();Be&&(_(Be.rawNode),ne.preventDefault())}break;case"ArrowDown":(Se=u.value)===null||Se===void 0||Se.next();break;case"ArrowUp":(ye=u.value)===null||ye===void 0||ye.prev();break}}function _(ne){(ne==null?void 0:ne.value)!==void 0&&(S(ne.value),t.clearAfterSelect?C(null):ne.label!==void 0&&C(t.append?`${f.value}${ne.label}`:ne.label),p.value=!1,t.blurAfterSelect&&he())}function F(){C(null)}function N(ne){p.value=!0,T(ne)}function W(ne){p.value=!1,A(ne)}function G(ne){p.value=!0,C(ne)}function Z(ne){_(ne.rawNode)}function ie(ne){var ve;!((ve=c.value)===null||ve===void 0)&&ve.contains(ba(ne))||(p.value=!1)}function he(){var ne,ve;!((ne=c.value)===null||ne===void 0)&&ne.contains(document.activeElement)&&((ve=document.activeElement)===null||ve===void 0||ve.blur())}const xe=L(()=>{const{common:{cubicBezierEaseInOut:ne},self:{menuBoxShadow:ve}}=m.value;return{"--n-menu-box-shadow":ve,"--n-bezier":ne}}),Q=i?Ot("auto-complete",void 0,xe,t):void 0,X=V(null),K={focus:()=>{var ne;(ne=X.value)===null||ne===void 0||ne.focus()},blur:()=>{var ne;(ne=X.value)===null||ne===void 0||ne.blur()}};return{focus:K.focus,blur:K.blur,inputInstRef:X,uncontrolledValue:d,mergedValue:f,isMounted:co(),adjustedTo:vr(t),menuInstRef:u,triggerElRef:c,treeMate:w,mergedSize:a,mergedDisabled:s,active:x,mergedStatus:l,handleClear:F,handleFocus:N,handleBlur:W,handleInput:G,handleToggle:Z,handleClickOutsideMenu:ie,handleCompositionStart:k,handleCompositionEnd:E,handleKeyDown:P,mergedTheme:m,cssVars:i?void 0:xe,themeClass:Q==null?void 0:Q.themeClass,onRender:Q==null?void 0:Q.onRender,mergedBordered:e,namespace:n,mergedClsPrefix:r}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:`${t}-auto-complete`,ref:"triggerElRef",onKeydown:this.handleKeyDown,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd},v(us,null,{default:()=>[v(ds,null,{default:()=>{const e=this.$slots.default;if(e)return ZL("default",e,{handleInput:this.handleInput,handleFocus:this.handleFocus,handleBlur:this.handleBlur,value:this.mergedValue});const{mergedTheme:n}=this;return v(_i,{ref:"inputInstRef",status:this.mergedStatus,theme:n.peers.Input,themeOverrides:n.peerOverrides.Input,bordered:this.mergedBordered,value:this.mergedValue,placeholder:this.placeholder,size:this.mergedSize,disabled:this.mergedDisabled,clearable:this.clearable,loading:this.loading,inputProps:this.inputProps,onClear:this.handleClear,onFocus:this.handleFocus,onUpdateValue:this.handleInput,onBlur:this.handleBlur},{suffix:()=>{var r,i;return(i=(r=this.$slots).suffix)===null||i===void 0?void 0:i.call(r)},prefix:()=>{var r,i;return(i=(r=this.$slots).prefix)===null||i===void 0?void 0:i.call(r)}})}}),v(Na,{show:this.active,to:this.adjustedTo,containerClass:this.namespace,zIndex:this.zIndex,teleportDisabled:this.adjustedTo===vr.tdkey,placement:this.placement,width:"target"},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var e;if((e=this.onRender)===null||e===void 0||e.call(this),!this.active)return null;const{menuProps:n}=this;return ii(v(Ug,Object.assign({},n,{clsPrefix:t,ref:"menuInstRef",theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,"auto-pending":!0,class:[`${t}-auto-complete-menu`,this.themeClass,n==null?void 0:n.class],style:[n==null?void 0:n.style,this.cssVars],treeMate:this.treeMate,multiple:!1,renderLabel:this.renderLabel,renderOption:this.renderOption,size:"medium",onToggle:this.handleToggle}),{empty:()=>{var r,i;return(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)}}),[[xa,this.handleClickOutsideMenu,void 0,{capture:!0}]])}})})]}))}}),LO=na&&"loading"in document.createElement("img");function toe(t={}){var e;const{root:n=null}=t;return{hash:`${t.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(t.threshold)?t.threshold.join(","):(e=t.threshold)!==null&&e!==void 0?e:"0"}`,options:Object.assign(Object.assign({},t),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}}const Hw=new WeakMap,Uw=new WeakMap,jw=new WeakMap,MO=(t,e,n)=>{if(!t)return()=>{};const r=toe(e),{root:i}=r.options;let o;const a=Hw.get(i);a?o=a:(o=new Map,Hw.set(i,o));let s,l;o.has(r.hash)?(l=o.get(r.hash),l[1].has(t)||(s=l[0],l[1].add(t),s.observe(t))):(s=new IntersectionObserver(d=>{d.forEach(h=>{if(h.isIntersecting){const f=Uw.get(h.target),p=jw.get(h.target);f&&f(),p&&(p.value=!0)}})},r.options),s.observe(t),l=[s,new Set([t])],o.set(r.hash,l));let c=!1;const u=()=>{c||(Uw.delete(t),jw.delete(t),c=!0,l[1].has(t)&&(l[0].unobserve(t),l[1].delete(t)),l[1].size<=0&&o.delete(r.hash),o.size||Hw.delete(i))};return Uw.set(t,u),jw.set(t,n),u};function noe(t){const{borderRadius:e,avatarColor:n,cardColor:r,fontSize:i,heightTiny:o,heightSmall:a,heightMedium:s,heightLarge:l,heightHuge:c,modalColor:u,popoverColor:d}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${r}`,heightTiny:o,heightSmall:a,heightMedium:s,heightLarge:l,heightHuge:c,color:rn(r,n),colorModal:rn(u,n),colorPopover:rn(d,n)}}const OO={name:"Avatar",common:Bt,self:noe},DO="n-avatar-group",roe=R("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[_l(B("&","--n-merged-color: var(--n-color-modal);")),Tc(B("&","--n-merged-color: var(--n-color-popover);")),B("img",`
 width: 100%;
 height: 100%;
 `),H("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),R("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),H("text","line-height: 1.25")]),FO=Object.assign(Object.assign({},Ve.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),yA=le({name:"Avatar",props:FO,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=V(!1);let i=null;const o=V(null),a=V(null),s=()=>{const{value:b}=o;if(b&&(i===null||i!==b.innerHTML)){i=b.innerHTML;const{value:x}=a;if(x){const{offsetWidth:w,offsetHeight:C}=x,{offsetWidth:S,offsetHeight:A}=b,T=.9,k=Math.min(w/S*T,C/A*T,1);b.style.transform=`translateX(-50%) translateY(-50%) scale(${k})`}}},l=ut(DO,null),c=L(()=>{const{size:b}=t;if(b)return b;const{size:x}=l||{};return x||"medium"}),u=Ve("Avatar","-avatar",roe,OO,t,e),d=ut(gO,null),h=L(()=>{if(l)return!0;const{round:b,circle:x}=t;return b!==void 0||x!==void 0?b||x:d?d.roundRef.value:!1}),f=L(()=>l?!0:t.bordered||!1),p=L(()=>{const b=c.value,x=h.value,w=f.value,{color:C}=t,{self:{borderRadius:S,fontSize:A,color:T,border:k,colorModal:E,colorPopover:P},common:{cubicBezierEaseInOut:_}}=u.value;let F;return typeof b=="number"?F=`${b}px`:F=u.value.self[We("height",b)],{"--n-font-size":A,"--n-border":w?k:"none","--n-border-radius":x?"50%":S,"--n-color":C||T,"--n-color-modal":C||E,"--n-color-popover":C||P,"--n-bezier":_,"--n-merged-size":`var(--n-avatar-size-override, ${F})`}}),g=n?Ot("avatar",L(()=>{const b=c.value,x=h.value,w=f.value,{color:C}=t;let S="";return b&&(typeof b=="number"?S+=`a${b}`:S+=b[0]),x&&(S+="b"),w&&(S+="c"),C&&(S+=nh(C)),S}),p,t):void 0,m=V(!t.lazy);jn(()=>{if(t.lazy&&t.intersectionObserverOptions){let b;const x=er(()=>{b==null||b(),b=void 0,t.lazy&&(b=MO(a.value,t.intersectionObserverOptions,m))});ir(()=>{x(),b==null||b()})}}),qt(()=>{var b;return t.src||((b=t.imgProps)===null||b===void 0?void 0:b.src)},()=>{r.value=!1});const y=V(!t.lazy);return{textRef:o,selfRef:a,mergedRoundRef:h,mergedClsPrefix:e,fitTextTransform:s,cssVars:n?void 0:p,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender,hasLoadError:r,shouldStartLoading:m,loaded:y,mergedOnError:b=>{if(!m.value)return;r.value=!0;const{onError:x,imgProps:{onError:w}={}}=t;x==null||x(b),w==null||w(b)},mergedOnLoad:b=>{const{onLoad:x,imgProps:{onLoad:w}={}}=t;x==null||x(b),w==null||w(b),y.value=!0}}},render(){var t,e;const{$slots:n,src:r,mergedClsPrefix:i,lazy:o,onRender:a,loaded:s,hasLoadError:l,imgProps:c={}}=this;a==null||a();let u;const d=!s&&!l&&(this.renderPlaceholder?this.renderPlaceholder():(e=(t=this.$slots).placeholder)===null||e===void 0?void 0:e.call(t));return this.hasLoadError?u=this.renderFallback?this.renderFallback():sn(n.fallback,()=>[v("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):u=bn(n.default,h=>{if(h)return v($o,{onResize:this.fitTextTransform},{default:()=>v("span",{ref:"textRef",class:`${i}-avatar__text`},h)});if(r||c.src){const f=this.src||c.src;return v("img",Object.assign(Object.assign({},c),{loading:LO&&!this.intersectionObserverOptions&&o?"lazy":"eager",src:o&&this.intersectionObserverOptions?this.shouldStartLoading?f:void 0:f,"data-image-src":f,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[c.style||"",{objectFit:this.objectFit},d?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),v("span",{ref:"selfRef",class:[`${i}-avatar`,this.themeClass],style:this.cssVars},u,o&&d)}});function ioe(){return{gap:"-12px"}}const ooe={name:"AvatarGroup",common:Bt,peers:{Avatar:OO},self:ioe},aoe=R("avatar-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[U("expand-on-hover",[R("avatar",[B("&:not(:first-child)",`
 transition: margin .3s var(--n-bezier);
 `)]),B("&:hover",[an("vertical",[R("avatar",[B("&:not(:first-child)",`
 margin-left: 0 !important;
 `)])]),U("vertical",[R("avatar",[B("&:not(:first-child)",`
 margin-top: 0 !important;
 `)])])])]),an("vertical",`
 flex-direction: row;
 `,[R("avatar",[B("&:not(:first-child)",`
 margin-left: var(--n-gap);
 `)])]),U("vertical",`
 flex-direction: column;
 `,[R("avatar",[B("&:not(:first-child)",`
 margin-top: var(--n-gap);
 `)])])]),$O=Object.assign(Object.assign({},Ve.props),{max:Number,maxStyle:[Object,String],options:{type:Array,default:()=>[]},vertical:Boolean,expandOnHover:Boolean,size:[String,Number]}),soe=le({name:"AvatarGroup",props:$O,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=Ve("AvatarGroup","-avatar-group",aoe,ooe,t,e);zt(DO,t);const i=or("AvatarGroup",n,e),o=L(()=>{const{max:s}=t;if(s===void 0)return;const{options:l}=t;return l.length>s?l.slice(s-1,l.length):[]}),a=L(()=>{const{options:s,max:l}=t;return l===void 0?s:s.length>l?s.slice(0,l-1):s.length===l?s.slice(0,l):s});return{mergedTheme:r,rtlEnabled:i,mergedClsPrefix:e,restOptions:o,displayedOptions:a,cssVars:L(()=>({"--n-gap":r.value.self.gap}))}},render(){const{mergedClsPrefix:t,displayedOptions:e,restOptions:n,mergedTheme:r,$slots:i}=this;return v("div",{class:[`${t}-avatar-group`,this.rtlEnabled&&`${t}-avatar-group--rtl`,this.vertical&&`${t}-avatar-group--vertical`,this.expandOnHover&&`${t}-avatar-group--expand-on-hover`],style:this.cssVars,role:"group"},e.map(o=>i.avatar?i.avatar({option:o}):v(yA,{src:o.src,theme:r.peers.Avatar,themeOverrides:r.peerOverrides.Avatar})),n!==void 0&&n.length>0&&(i.rest?i.rest({options:n,rest:n.length}):v(yA,{style:this.maxStyle,theme:r.peers.Avatar,themeOverrides:r.peerOverrides.Avatar},{default:()=>`+${n.length}`})))}}),loe={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"};function coe(t){const{popoverColor:e,textColor2:n,primaryColorHover:r,primaryColorPressed:i}=t;return Object.assign(Object.assign({},loe),{color:e,textColor:n,iconColor:n,iconColorHover:r,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}const uoe={common:Bt,self:coe},doe=()=>v("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink"},v("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},v("g",{transform:"translate(-139.000000, -4423.000000)","fill-rule":"nonzero"},v("g",{transform:"translate(120.000000, 4285.000000)"},v("g",{transform:"translate(7.000000, 126.000000)"},v("g",{transform:"translate(24.000000, 24.000000) scale(1, -1) translate(-24.000000, -24.000000) translate(12.000000, 12.000000)"},v("g",{transform:"translate(4.000000, 2.000000)"},v("path",{d:"M8,0 C8.51283584,0 8.93550716,0.38604019 8.99327227,0.883378875 L9,1 L9,10.584 L12.2928932,7.29289322 C12.6834175,6.90236893 13.3165825,6.90236893 13.7071068,7.29289322 C14.0675907,7.65337718 14.0953203,8.22060824 13.7902954,8.61289944 L13.7071068,8.70710678 L8.70710678,13.7071068 L8.62544899,13.7803112 L8.618,13.784 L8.59530661,13.8036654 L8.4840621,13.8753288 L8.37133602,13.9287745 L8.22929083,13.9735893 L8.14346259,13.9897165 L8.03324678,13.9994506 L7.9137692,13.9962979 L7.77070917,13.9735893 L7.6583843,13.9401293 L7.57677845,13.9063266 L7.47929125,13.8540045 L7.4048407,13.8036865 L7.38131006,13.7856883 C7.35030318,13.7612383 7.32077858,13.7349921 7.29289322,13.7071068 L2.29289322,8.70710678 L2.20970461,8.61289944 C1.90467972,8.22060824 1.93240926,7.65337718 2.29289322,7.29289322 C2.65337718,6.93240926 3.22060824,6.90467972 3.61289944,7.20970461 L3.70710678,7.29289322 L7,10.585 L7,1 L7.00672773,0.883378875 C7.06449284,0.38604019 7.48716416,0 8,0 Z"}),v("path",{d:"M14.9333333,15.9994506 C15.5224371,15.9994506 16,16.4471659 16,16.9994506 C16,17.5122865 15.5882238,17.9349578 15.0577292,17.9927229 L14.9333333,17.9994506 L1.06666667,17.9994506 C0.477562934,17.9994506 0,17.5517354 0,16.9994506 C0,16.4866148 0.411776203,16.0639435 0.9422708,16.0061783 L1.06666667,15.9994506 L14.9333333,15.9994506 Z"})))))))),hoe=R("back-top",`
 position: fixed;
 right: 40px;
 bottom: 40px;
 cursor: pointer;
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 height: var(--n-height);
 min-width: var(--n-width);
 box-shadow: var(--n-box-shadow);
 background-color: var(--n-color);
`,[Qi(),U("transition-disabled",{transition:"none !important"}),R("base-icon",`
 font-size: var(--n-icon-size);
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),B("svg",{pointerEvents:"none"}),B("&:hover",{boxShadow:"var(--n-box-shadow-hover)"},[R("base-icon",{color:"var(--n-icon-color-hover)"})]),B("&:active",{boxShadow:"var(--n-box-shadow-pressed)"},[R("base-icon",{color:"var(--n-icon-color-pressed)"})])]),BO=Object.assign(Object.assign({},Ve.props),{show:{type:Boolean,default:void 0},right:{type:[Number,String],default:40},bottom:{type:[Number,String],default:40},to:{type:[String,Object],default:"body"},visibilityHeight:{type:Number,default:180},listenTo:[String,Object,Function],"onUpdate:show":{type:Function,default:()=>{}},target:Function,onShow:Function,onHide:Function}),foe=le({name:"BackTop",inheritAttrs:!1,props:BO,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=V(null),i=V(!1);er(()=>{const{value:w}=r;if(w===null){i.value=!1;return}i.value=w>=t.visibilityHeight});const o=V(!1);qt(i,w=>{var C;o.value&&((C=t["onUpdate:show"])===null||C===void 0||C.call(t,w))});const s=Cn($e(t,"show"),i),l=V(!0),c=V(null),u=L(()=>({right:`calc(${Ln(t.right)} + ${eA.value})`,bottom:Ln(t.bottom)}));let d,h;qt(s,w=>{var C,S;o.value&&(w&&((C=t.onShow)===null||C===void 0||C.call(t)),(S=t.onHide)===null||S===void 0||S.call(t))});const f=Ve("BackTop","-back-top",hoe,uoe,t,e);function p(){var w;if(h)return;h=!0;const C=((w=t.target)===null||w===void 0?void 0:w.call(t))||Pk(t.listenTo)||xL(c.value);if(!C)return;d=C===document.documentElement?document:C;const{to:S}=t;typeof S=="string"&&document.querySelector(S),d.addEventListener("scroll",m),m()}function g(){(cT(d)?document.documentElement:d).scrollTo({top:0,behavior:"smooth"})}function m(){r.value=(cT(d)?document.documentElement:d).scrollTop,o.value||vn(()=>{o.value=!0})}function y(){l.value=!1}jn(()=>{p(),l.value=s.value}),ir(()=>{d&&d.removeEventListener("scroll",m)});const b=L(()=>{const{self:{color:w,boxShadow:C,boxShadowHover:S,boxShadowPressed:A,iconColor:T,iconColorHover:k,iconColorPressed:E,width:P,height:_,iconSize:F,borderRadius:N,textColor:W},common:{cubicBezierEaseInOut:G}}=f.value;return{"--n-bezier":G,"--n-border-radius":N,"--n-height":_,"--n-width":P,"--n-box-shadow":C,"--n-box-shadow-hover":S,"--n-box-shadow-pressed":A,"--n-color":w,"--n-icon-size":F,"--n-icon-color":T,"--n-icon-color-hover":k,"--n-icon-color-pressed":E,"--n-text-color":W}}),x=n?Ot("back-top",void 0,b,t):void 0;return{placeholderRef:c,style:u,mergedShow:s,isMounted:co(),scrollElement:V(null),scrollTop:r,DomInfoReady:o,transitionDisabled:l,mergedClsPrefix:e,handleAfterEnter:y,handleScroll:m,handleClick:g,cssVars:n?void 0:b,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{mergedClsPrefix:t}=this;return v("div",{ref:"placeholderRef",class:`${t}-back-top-placeholder`,style:"display: none","aria-hidden":!0},v(Bg,{to:this.to,show:this.mergedShow},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterEnter:this.handleAfterEnter},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),this.mergedShow?v("div",Xi(this.$attrs,{class:[`${t}-back-top`,this.themeClass,this.transitionDisabled&&`${t}-back-top--transition-disabled`],style:[this.style,this.cssVars],onClick:this.handleClick}),sn(this.$slots.default,()=>[v(Jt,{clsPrefix:t},{default:doe})])):null}})}))}});function poe(t){const{errorColor:e,infoColor:n,successColor:r,warningColor:i,fontFamily:o}=t;return{color:e,colorInfo:n,colorSuccess:r,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:o}}const moe={common:Bt,self:poe},goe=B([B("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),R("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 font-family: var(--n-font-family);
 `,[U("as-is",[R("badge-sup",{position:"static",transform:"translateX(0)"},[Qi({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),U("dot",[R("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[B("::before","border-radius: 4px;")])]),R("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 2;
 display: flex;
 align-items: center;
 `,[Qi({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),R("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),B("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),NO=Object.assign(Object.assign({},Ve.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),voe=le({name:"Badge",props:NO,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=Ve("Badge","-badge",goe,moe,t,n),a=V(!1),s=()=>{a.value=!0},l=()=>{a.value=!1},c=L(()=>t.show&&(t.dot||t.value!==void 0&&!(!t.showZero&&Number(t.value)<=0)||!Yd(e.value)));jn(()=>{c.value&&(a.value=!0)});const u=or("Badge",i,n),d=L(()=>{const{type:p,color:g}=t,{common:{cubicBezierEaseInOut:m,cubicBezierEaseOut:y},self:{[We("color",p)]:b,fontFamily:x,fontSize:w}}=o.value;return{"--n-font-size":w,"--n-font-family":x,"--n-color":g||b,"--n-ripple-color":g||b,"--n-bezier":m,"--n-ripple-bezier":y}}),h=r?Ot("badge",L(()=>{let p="";const{type:g,color:m}=t;return g&&(p+=g[0]),m&&(p+=nh(m)),p}),d,t):void 0,f=L(()=>{const{offset:p}=t;if(!p)return;const[g,m]=p,y=typeof g=="number"?`${g}px`:g,b=typeof m=="number"?`${m}px`:m;return{transform:`translate(calc(${u!=null&&u.value?"50%":"-50%"} + ${y}), ${b})`}});return{rtlEnabled:u,mergedClsPrefix:n,appeared:a,showBadge:c,handleAfterEnter:s,handleAfterLeave:l,cssVars:r?void 0:d,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender,offsetStyle:f}},render(){var t;const{mergedClsPrefix:e,onRender:n,themeClass:r,$slots:i}=this;n==null||n();const o=(t=i.default)===null||t===void 0?void 0:t.call(i);return v("div",{class:[`${e}-badge`,this.rtlEnabled&&`${e}-badge--rtl`,r,{[`${e}-badge--dot`]:this.dot,[`${e}-badge--as-is`]:!o}],style:this.cssVars},o,v(hr,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?v("sup",{class:`${e}-badge-sup`,title:Kf(this.value),style:this.offsetStyle},sn(i.value,()=>[this.dot?null:v(xie,{clsPrefix:e,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?v(bO,{clsPrefix:e}):null):null}))}}),yoe={fontWeightActive:"400"};function boe(t){const{fontSize:e,textColor3:n,textColor2:r,borderRadius:i,buttonColor2Hover:o,buttonColor2Pressed:a}=t;return Object.assign(Object.assign({},yoe),{fontSize:e,itemLineHeight:"1.25",itemTextColor:n,itemTextColorHover:r,itemTextColorPressed:r,itemTextColorActive:r,itemBorderRadius:i,itemColorHover:o,itemColorPressed:a,separatorColor:n})}const xoe={common:Bt,self:boe},woe=R("breadcrumb",`
 white-space: nowrap;
 cursor: default;
 line-height: var(--n-item-line-height);
`,[B("ul",`
 list-style: none;
 padding: 0;
 margin: 0;
 `),B("a",`
 color: inherit;
 text-decoration: inherit;
 `),R("breadcrumb-item",`
 font-size: var(--n-font-size);
 transition: color .3s var(--n-bezier);
 display: inline-flex;
 align-items: center;
 `,[R("icon",`
 font-size: 18px;
 vertical-align: -.2em;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `),B("&:not(:last-child)",[U("clickable",[H("link",`
 cursor: pointer;
 `,[B("&:hover",`
 background-color: var(--n-item-color-hover);
 `),B("&:active",`
 background-color: var(--n-item-color-pressed); 
 `)])])]),H("link",`
 padding: 4px;
 border-radius: var(--n-item-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 position: relative;
 `,[B("&:hover",`
 color: var(--n-item-text-color-hover);
 `,[R("icon",`
 color: var(--n-item-text-color-hover);
 `)]),B("&:active",`
 color: var(--n-item-text-color-pressed);
 `,[R("icon",`
 color: var(--n-item-text-color-pressed);
 `)])]),H("separator",`
 margin: 0 8px;
 color: var(--n-separator-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 `),B("&:last-child",[H("link",`
 font-weight: var(--n-font-weight-active);
 cursor: unset;
 color: var(--n-item-text-color-active);
 `,[R("icon",`
 color: var(--n-item-text-color-active);
 `)]),H("separator",`
 display: none;
 `)])])]),zO="n-breadcrumb",HO=Object.assign(Object.assign({},Ve.props),{separator:{type:String,default:"/"}}),Coe=le({name:"Breadcrumb",props:HO,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Breadcrumb","-breadcrumb",woe,xoe,t,e);zt(zO,{separatorRef:$e(t,"separator"),mergedClsPrefixRef:e});const i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{separatorColor:s,itemTextColor:l,itemTextColorHover:c,itemTextColorPressed:u,itemTextColorActive:d,fontSize:h,fontWeightActive:f,itemBorderRadius:p,itemColorHover:g,itemColorPressed:m,itemLineHeight:y}}=r.value;return{"--n-font-size":h,"--n-bezier":a,"--n-item-text-color":l,"--n-item-text-color-hover":c,"--n-item-text-color-pressed":u,"--n-item-text-color-active":d,"--n-separator-color":s,"--n-item-color-hover":g,"--n-item-color-pressed":m,"--n-item-border-radius":p,"--n-font-weight-active":f,"--n-item-line-height":y}}),o=n?Ot("breadcrumb",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v("nav",{class:[`${this.mergedClsPrefix}-breadcrumb`,this.themeClass],style:this.cssVars,"aria-label":"Breadcrumb"},v("ul",null,this.$slots))}});function Aoe(t=na?window:null){const e=()=>{const{hash:i,host:o,hostname:a,href:s,origin:l,pathname:c,port:u,protocol:d,search:h}=(t==null?void 0:t.location)||{};return{hash:i,host:o,hostname:a,href:s,origin:l,pathname:c,port:u,protocol:d,search:h}},n=V(e()),r=()=>{n.value=e()};return jn(()=>{t&&(t.addEventListener("popstate",r),t.addEventListener("hashchange",r))}),Rl(()=>{t&&(t.removeEventListener("popstate",r),t.removeEventListener("hashchange",r))}),n}const UO={separator:String,href:String,clickable:{type:Boolean,default:!0},onClick:Function},Soe=le({name:"BreadcrumbItem",props:UO,slots:Object,setup(t,{slots:e}){const n=ut(zO,null);if(!n)return()=>null;const{separatorRef:r,mergedClsPrefixRef:i}=n,o=Aoe(),a=L(()=>t.href?"a":"span"),s=L(()=>o.value.href===t.href?"location":null);return()=>{const{value:l}=i;return v("li",{class:[`${l}-breadcrumb-item`,t.clickable&&`${l}-breadcrumb-item--clickable`]},v(a.value,{class:`${l}-breadcrumb-item__link`,"aria-current":s.value,href:t.href,onClick:t.onClick},e),v("span",{class:`${l}-breadcrumb-item__separator`,"aria-hidden":"true"},sn(e.separator,()=>{var c;return[(c=t.separator)!==null&&c!==void 0?c:r.value]})))}}});function fd(t){return rn(t,[255,255,255,.16])}function Dv(t){return rn(t,[0,0,0,.12])}const jO="n-button-group",koe={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};function Eoe(t){const{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:i,borderRadius:o,fontSizeTiny:a,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:u,textColor2:d,textColor3:h,primaryColorHover:f,primaryColorPressed:p,borderColor:g,primaryColor:m,baseColor:y,infoColor:b,infoColorHover:x,infoColorPressed:w,successColor:C,successColorHover:S,successColorPressed:A,warningColor:T,warningColorHover:k,warningColorPressed:E,errorColor:P,errorColorHover:_,errorColorPressed:F,fontWeight:N,buttonColor2:W,buttonColor2Hover:G,buttonColor2Pressed:Z,fontWeightStrong:ie}=t;return Object.assign(Object.assign({},koe),{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:i,borderRadiusTiny:o,borderRadiusSmall:o,borderRadiusMedium:o,borderRadiusLarge:o,fontSizeTiny:a,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:u,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:W,colorSecondaryHover:G,colorSecondaryPressed:Z,colorTertiary:W,colorTertiaryHover:G,colorTertiaryPressed:Z,colorQuaternary:"#0000",colorQuaternaryHover:G,colorQuaternaryPressed:Z,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:d,textColorTertiary:h,textColorHover:f,textColorPressed:p,textColorFocus:f,textColorDisabled:d,textColorText:d,textColorTextHover:f,textColorTextPressed:p,textColorTextFocus:f,textColorTextDisabled:d,textColorGhost:d,textColorGhostHover:f,textColorGhostPressed:p,textColorGhostFocus:f,textColorGhostDisabled:d,border:`1px solid ${g}`,borderHover:`1px solid ${f}`,borderPressed:`1px solid ${p}`,borderFocus:`1px solid ${f}`,borderDisabled:`1px solid ${g}`,rippleColor:m,colorPrimary:m,colorHoverPrimary:f,colorPressedPrimary:p,colorFocusPrimary:f,colorDisabledPrimary:m,textColorPrimary:y,textColorHoverPrimary:y,textColorPressedPrimary:y,textColorFocusPrimary:y,textColorDisabledPrimary:y,textColorTextPrimary:m,textColorTextHoverPrimary:f,textColorTextPressedPrimary:p,textColorTextFocusPrimary:f,textColorTextDisabledPrimary:d,textColorGhostPrimary:m,textColorGhostHoverPrimary:f,textColorGhostPressedPrimary:p,textColorGhostFocusPrimary:f,textColorGhostDisabledPrimary:m,borderPrimary:`1px solid ${m}`,borderHoverPrimary:`1px solid ${f}`,borderPressedPrimary:`1px solid ${p}`,borderFocusPrimary:`1px solid ${f}`,borderDisabledPrimary:`1px solid ${m}`,rippleColorPrimary:m,colorInfo:b,colorHoverInfo:x,colorPressedInfo:w,colorFocusInfo:x,colorDisabledInfo:b,textColorInfo:y,textColorHoverInfo:y,textColorPressedInfo:y,textColorFocusInfo:y,textColorDisabledInfo:y,textColorTextInfo:b,textColorTextHoverInfo:x,textColorTextPressedInfo:w,textColorTextFocusInfo:x,textColorTextDisabledInfo:d,textColorGhostInfo:b,textColorGhostHoverInfo:x,textColorGhostPressedInfo:w,textColorGhostFocusInfo:x,textColorGhostDisabledInfo:b,borderInfo:`1px solid ${b}`,borderHoverInfo:`1px solid ${x}`,borderPressedInfo:`1px solid ${w}`,borderFocusInfo:`1px solid ${x}`,borderDisabledInfo:`1px solid ${b}`,rippleColorInfo:b,colorSuccess:C,colorHoverSuccess:S,colorPressedSuccess:A,colorFocusSuccess:S,colorDisabledSuccess:C,textColorSuccess:y,textColorHoverSuccess:y,textColorPressedSuccess:y,textColorFocusSuccess:y,textColorDisabledSuccess:y,textColorTextSuccess:C,textColorTextHoverSuccess:S,textColorTextPressedSuccess:A,textColorTextFocusSuccess:S,textColorTextDisabledSuccess:d,textColorGhostSuccess:C,textColorGhostHoverSuccess:S,textColorGhostPressedSuccess:A,textColorGhostFocusSuccess:S,textColorGhostDisabledSuccess:C,borderSuccess:`1px solid ${C}`,borderHoverSuccess:`1px solid ${S}`,borderPressedSuccess:`1px solid ${A}`,borderFocusSuccess:`1px solid ${S}`,borderDisabledSuccess:`1px solid ${C}`,rippleColorSuccess:C,colorWarning:T,colorHoverWarning:k,colorPressedWarning:E,colorFocusWarning:k,colorDisabledWarning:T,textColorWarning:y,textColorHoverWarning:y,textColorPressedWarning:y,textColorFocusWarning:y,textColorDisabledWarning:y,textColorTextWarning:T,textColorTextHoverWarning:k,textColorTextPressedWarning:E,textColorTextFocusWarning:k,textColorTextDisabledWarning:d,textColorGhostWarning:T,textColorGhostHoverWarning:k,textColorGhostPressedWarning:E,textColorGhostFocusWarning:k,textColorGhostDisabledWarning:T,borderWarning:`1px solid ${T}`,borderHoverWarning:`1px solid ${k}`,borderPressedWarning:`1px solid ${E}`,borderFocusWarning:`1px solid ${k}`,borderDisabledWarning:`1px solid ${T}`,rippleColorWarning:T,colorError:P,colorHoverError:_,colorPressedError:F,colorFocusError:_,colorDisabledError:P,textColorError:y,textColorHoverError:y,textColorPressedError:y,textColorFocusError:y,textColorDisabledError:y,textColorTextError:P,textColorTextHoverError:_,textColorTextPressedError:F,textColorTextFocusError:_,textColorTextDisabledError:d,textColorGhostError:P,textColorGhostHoverError:_,textColorGhostPressedError:F,textColorGhostFocusError:_,textColorGhostDisabledError:P,borderError:`1px solid ${P}`,borderHoverError:`1px solid ${_}`,borderPressedError:`1px solid ${F}`,borderFocusError:`1px solid ${_}`,borderDisabledError:`1px solid ${P}`,rippleColorError:P,waveOpacity:"0.6",fontWeight:N,fontWeightStrong:ie})}const Aa={name:"Button",common:Bt,self:Eoe},Toe=B([R("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[U("color",[H("border",{borderColor:"var(--n-border-color)"}),U("disabled",[H("border",{borderColor:"var(--n-border-color-disabled)"})]),an("disabled",[B("&:focus",[H("state-border",{borderColor:"var(--n-border-color-focus)"})]),B("&:hover",[H("state-border",{borderColor:"var(--n-border-color-hover)"})]),B("&:active",[H("state-border",{borderColor:"var(--n-border-color-pressed)"})]),U("pressed",[H("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),U("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[H("border",{border:"var(--n-border-disabled)"})]),an("disabled",[B("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[H("state-border",{border:"var(--n-border-focus)"})]),B("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[H("state-border",{border:"var(--n-border-hover)"})]),B("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[H("state-border",{border:"var(--n-border-pressed)"})]),U("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[H("state-border",{border:"var(--n-border-pressed)"})])]),U("loading","cursor: wait;"),R("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[U("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),na&&"MozBoxSizing"in document.createElement("div").style?B("&::moz-focus-inner",{border:0}):null,H("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),H("border",`
 border: var(--n-border);
 `),H("state-border",`
 border: var(--n-border);
 border-color: #0000;
 z-index: 1;
 `),H("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[R("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[mo({top:"50%",originalTransform:"translateY(-50%)"})]),yO()]),H("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[B("~",[H("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),U("block",`
 display: flex;
 width: 100%;
 `),U("dashed",[H("border, state-border",{borderStyle:"dashed !important"})]),U("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),B("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),B("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),VO=Object.assign(Object.assign({},Ve.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!AO}}),Qn=le({name:"Button",props:VO,slots:Object,setup(t){const e=V(null),n=V(null),r=V(!1),i=Yt(()=>!t.quaternary&&!t.tertiary&&!t.secondary&&!t.text&&(!t.color||t.ghost||t.dashed)&&t.bordered),o=ut(jO,{}),{mergedSizeRef:a}=di({},{defaultSize:"medium",mergedSize:w=>{const{size:C}=t;if(C)return C;const{size:S}=o;if(S)return S;const{mergedSize:A}=w||{};return A?A.value:"medium"}}),s=L(()=>t.focusable&&!t.disabled),l=w=>{var C;s.value||w.preventDefault(),!t.nativeFocusBehavior&&(w.preventDefault(),!t.disabled&&s.value&&((C=e.value)===null||C===void 0||C.focus({preventScroll:!0})))},c=w=>{var C;if(!t.disabled&&!t.loading){const{onClick:S}=t;S&&Fe(S,w),t.text||(C=n.value)===null||C===void 0||C.play()}},u=w=>{switch(w.key){case"Enter":if(!t.keyboard)return;r.value=!1}},d=w=>{switch(w.key){case"Enter":if(!t.keyboard||t.loading){w.preventDefault();return}r.value=!0}},h=()=>{r.value=!1},{inlineThemeDisabled:f,mergedClsPrefixRef:p,mergedRtlRef:g}=gt(t),m=Ve("Button","-button",Toe,Aa,t,p),y=or("Button",g,p),b=L(()=>{const w=m.value,{common:{cubicBezierEaseInOut:C,cubicBezierEaseOut:S},self:A}=w,{rippleDuration:T,opacityDisabled:k,fontWeight:E,fontWeightStrong:P}=A,_=a.value,{dashed:F,type:N,ghost:W,text:G,color:Z,round:ie,circle:he,textColor:xe,secondary:Q,tertiary:X,quaternary:K,strong:ne}=t,ve={"--n-font-weight":ne?P:E};let Se={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const ye=N==="tertiary",Be=N==="default",J=ye?"default":N;if(G){const re=xe||Z;Se={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":re||A[We("textColorText",J)],"--n-text-color-hover":re?fd(re):A[We("textColorTextHover",J)],"--n-text-color-pressed":re?Dv(re):A[We("textColorTextPressed",J)],"--n-text-color-focus":re?fd(re):A[We("textColorTextHover",J)],"--n-text-color-disabled":re||A[We("textColorTextDisabled",J)]}}else if(W||F){const re=xe||Z;Se={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":Z||A[We("rippleColor",J)],"--n-text-color":re||A[We("textColorGhost",J)],"--n-text-color-hover":re?fd(re):A[We("textColorGhostHover",J)],"--n-text-color-pressed":re?Dv(re):A[We("textColorGhostPressed",J)],"--n-text-color-focus":re?fd(re):A[We("textColorGhostHover",J)],"--n-text-color-disabled":re||A[We("textColorGhostDisabled",J)]}}else if(Q){const re=Be?A.textColor:ye?A.textColorTertiary:A[We("color",J)],me=Z||re,De=N!=="default"&&N!=="tertiary";Se={"--n-color":De?dn(me,{alpha:Number(A.colorOpacitySecondary)}):A.colorSecondary,"--n-color-hover":De?dn(me,{alpha:Number(A.colorOpacitySecondaryHover)}):A.colorSecondaryHover,"--n-color-pressed":De?dn(me,{alpha:Number(A.colorOpacitySecondaryPressed)}):A.colorSecondaryPressed,"--n-color-focus":De?dn(me,{alpha:Number(A.colorOpacitySecondaryHover)}):A.colorSecondaryHover,"--n-color-disabled":A.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":me,"--n-text-color-hover":me,"--n-text-color-pressed":me,"--n-text-color-focus":me,"--n-text-color-disabled":me}}else if(X||K){const re=Be?A.textColor:ye?A.textColorTertiary:A[We("color",J)],me=Z||re;X?(Se["--n-color"]=A.colorTertiary,Se["--n-color-hover"]=A.colorTertiaryHover,Se["--n-color-pressed"]=A.colorTertiaryPressed,Se["--n-color-focus"]=A.colorSecondaryHover,Se["--n-color-disabled"]=A.colorTertiary):(Se["--n-color"]=A.colorQuaternary,Se["--n-color-hover"]=A.colorQuaternaryHover,Se["--n-color-pressed"]=A.colorQuaternaryPressed,Se["--n-color-focus"]=A.colorQuaternaryHover,Se["--n-color-disabled"]=A.colorQuaternary),Se["--n-ripple-color"]="#0000",Se["--n-text-color"]=me,Se["--n-text-color-hover"]=me,Se["--n-text-color-pressed"]=me,Se["--n-text-color-focus"]=me,Se["--n-text-color-disabled"]=me}else Se={"--n-color":Z||A[We("color",J)],"--n-color-hover":Z?fd(Z):A[We("colorHover",J)],"--n-color-pressed":Z?Dv(Z):A[We("colorPressed",J)],"--n-color-focus":Z?fd(Z):A[We("colorFocus",J)],"--n-color-disabled":Z||A[We("colorDisabled",J)],"--n-ripple-color":Z||A[We("rippleColor",J)],"--n-text-color":xe||(Z?A.textColorPrimary:ye?A.textColorTertiary:A[We("textColor",J)]),"--n-text-color-hover":xe||(Z?A.textColorHoverPrimary:A[We("textColorHover",J)]),"--n-text-color-pressed":xe||(Z?A.textColorPressedPrimary:A[We("textColorPressed",J)]),"--n-text-color-focus":xe||(Z?A.textColorFocusPrimary:A[We("textColorFocus",J)]),"--n-text-color-disabled":xe||(Z?A.textColorDisabledPrimary:A[We("textColorDisabled",J)])};let Ue={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};G?Ue={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:Ue={"--n-border":A[We("border",J)],"--n-border-hover":A[We("borderHover",J)],"--n-border-pressed":A[We("borderPressed",J)],"--n-border-focus":A[We("borderFocus",J)],"--n-border-disabled":A[We("borderDisabled",J)]};const{[We("height",_)]:Qe,[We("fontSize",_)]:ae,[We("padding",_)]:fe,[We("paddingRound",_)]:ke,[We("iconSize",_)]:Ke,[We("borderRadius",_)]:Ne,[We("iconMargin",_)]:Ae,waveOpacity:se}=A,be={"--n-width":he&&!G?Qe:"initial","--n-height":G?"initial":Qe,"--n-font-size":ae,"--n-padding":he||G?"initial":ie?ke:fe,"--n-icon-size":Ke,"--n-icon-margin":Ae,"--n-border-radius":G?"initial":he||ie?Qe:Ne};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":C,"--n-bezier-ease-out":S,"--n-ripple-duration":T,"--n-opacity-disabled":k,"--n-wave-opacity":se},ve),Se),Ue),be)}),x=f?Ot("button",L(()=>{let w="";const{dashed:C,type:S,ghost:A,text:T,color:k,round:E,circle:P,textColor:_,secondary:F,tertiary:N,quaternary:W,strong:G}=t;C&&(w+="a"),A&&(w+="b"),T&&(w+="c"),E&&(w+="d"),P&&(w+="e"),F&&(w+="f"),N&&(w+="g"),W&&(w+="h"),G&&(w+="i"),k&&(w+=`j${nh(k)}`),_&&(w+=`k${nh(_)}`);const{value:Z}=a;return w+=`l${Z[0]}`,w+=`m${S[0]}`,w}),b,t):void 0;return{selfElRef:e,waveElRef:n,mergedClsPrefix:p,mergedFocusable:s,mergedSize:a,showBorder:i,enterPressed:r,rtlEnabled:y,handleMousedown:l,handleKeydown:d,handleBlur:h,handleKeyup:u,handleClick:c,customColorCssVars:L(()=>{const{color:w}=t;if(!w)return null;const C=fd(w);return{"--n-border-color":w,"--n-border-color-hover":C,"--n-border-color-pressed":Dv(w),"--n-border-color-focus":C,"--n-border-color-disabled":w}}),cssVars:f?void 0:b,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{mergedClsPrefix:t,tag:e,onRender:n}=this;n==null||n();const r=bn(this.$slots.default,i=>i&&v("span",{class:`${t}-button__content`},i));return v(e,{ref:"selfElRef",class:[this.themeClass,`${t}-button`,`${t}-button--${this.type}-type`,`${t}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${t}-button--rtl`,this.disabled&&`${t}-button--disabled`,this.block&&`${t}-button--block`,this.enterPressed&&`${t}-button--pressed`,!this.text&&this.dashed&&`${t}-button--dashed`,this.color&&`${t}-button--color`,this.secondary&&`${t}-button--secondary`,this.loading&&`${t}-button--loading`,this.ghost&&`${t}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&r,v(Ml,{width:!0},{default:()=>bn(this.$slots.icon,i=>(this.loading||this.renderIcon||i)&&v("span",{class:`${t}-button__icon`,style:{margin:Yd(this.$slots.default)?"0":""}},v(Ll,null,{default:()=>this.loading?v($s,{clsPrefix:t,key:"loading",class:`${t}-icon-slot`,strokeWidth:20}):v("div",{key:"icon",class:`${t}-icon-slot`,role:"none"},this.renderIcon?this.renderIcon():i)})))}),this.iconPlacement==="left"&&r,this.text?null:v(bO,{ref:"waveElRef",clsPrefix:t}),this.showBorder?v("div",{"aria-hidden":!0,class:`${t}-button__border`,style:this.customColorCssVars}):null,this.showBorder?v("div",{"aria-hidden":!0,class:`${t}-button__state-border`,style:this.customColorCssVars}):null)}}),_s=Qn,fi="0!important",WO="-1px!important";function jh(t){return U(`${t}-type`,[B("& +",[R("button",{},[U(`${t}-type`,[H("border",{borderLeftWidth:fi}),H("state-border",{left:WO})])])])])}function Vh(t){return U(`${t}-type`,[B("& +",[R("button",[U(`${t}-type`,[H("border",{borderTopWidth:fi}),H("state-border",{top:WO})])])])])}const Roe=R("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[an("vertical",{flexDirection:"row"},[an("rtl",[R("button",[B("&:first-child:not(:last-child)",`
 margin-right: ${fi};
 border-top-right-radius: ${fi};
 border-bottom-right-radius: ${fi};
 `),B("&:last-child:not(:first-child)",`
 margin-left: ${fi};
 border-top-left-radius: ${fi};
 border-bottom-left-radius: ${fi};
 `),B("&:not(:first-child):not(:last-child)",`
 margin-left: ${fi};
 margin-right: ${fi};
 border-radius: ${fi};
 `),jh("default"),U("ghost",[jh("primary"),jh("info"),jh("success"),jh("warning"),jh("error")])])])]),U("vertical",{flexDirection:"column"},[R("button",[B("&:first-child:not(:last-child)",`
 margin-bottom: ${fi};
 margin-left: ${fi};
 margin-right: ${fi};
 border-bottom-left-radius: ${fi};
 border-bottom-right-radius: ${fi};
 `),B("&:last-child:not(:first-child)",`
 margin-top: ${fi};
 margin-left: ${fi};
 margin-right: ${fi};
 border-top-left-radius: ${fi};
 border-top-right-radius: ${fi};
 `),B("&:not(:first-child):not(:last-child)",`
 margin: ${fi};
 border-radius: ${fi};
 `),Vh("default"),U("ghost",[Vh("primary"),Vh("info"),Vh("success"),Vh("warning"),Vh("error")])])])]),qO={size:{type:String,default:void 0},vertical:Boolean},c4=le({name:"ButtonGroup",props:qO,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t);return Wa("-button-group",Roe,e),zt(jO,t),{rtlEnabled:or("ButtonGroup",n,e),mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:[`${t}-button-group`,this.rtlEnabled&&`${t}-button-group--rtl`,this.vertical&&`${t}-button-group--vertical`],role:"group"},this.$slots)}});function Md(t,e,n){const r=En(t,n==null?void 0:n.in);return isNaN(e)?oi((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function io(t,e,n){const r=En(t,n==null?void 0:n.in);if(isNaN(e))return oi(t,NaN);if(!e)return r;const i=r.getDate(),o=oi(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function Qf(t,e){return za(t,{...e,weekStartsOn:1})}function KO(t,e){const n=En(t,e==null?void 0:e.in),r=n.getFullYear(),i=oi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Qf(i),a=oi(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Qf(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Zf(t){const e=En(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sl(t,e){const n=En(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function GO(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e),o=Sl(r),a=Sl(i),s=+o-Zf(o),l=+a-Zf(a);return Math.round((s-l)/_X)}function _oe(t,e){const n=KO(t,e),r=oi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Qf(r)}function Poe(t,e,n){return io(t,e*3,n)}function Hb(t,e,n){return io(t,e*12,n)}function Ioe(t,e){const n=+En(t)-+En(e);return n<0?-1:n>0?1:n}function Loe(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e);return+Sl(r)==+Sl(i)}function Moe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ns(t){return!(!Moe(t)&&typeof t!="number"||isNaN(+En(t)))}function Ooe(t,e){const n=En(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function Doe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Foe(t,e){const[n,r]=Qu(t,e.start,e.end);return{start:n,end:r}}function YO(t,e){const{start:n,end:r}=Foe(e==null?void 0:e.in,t);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let s=1;const l=[];for(;+a<=o;)l.push(oi(n,a)),a.setDate(a.getDate()+s),a.setHours(0,0,0,0);return i?l.reverse():l}function eg(t,e){const n=En(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function es(t,e){const n=En(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function $oe(t,e){const n=En(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function fp(t,e){const n=En(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Boe(t,e){var s,l,c,u;const n=Zu(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=En(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function Noe(t,e){const n=En(t,e==null?void 0:e.in);return GO(n,fp(n))+1}function XO(t,e){const n=En(t,e==null?void 0:e.in),r=+Qf(n)-+_oe(n);return Math.round(r/tM)+1}function u4(t,e){var u,d,h,f;const n=En(t,e==null?void 0:e.in),r=n.getFullYear(),i=Zu(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=oi((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=za(a,e),l=oi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=za(l,e);return+n>=+s?r+1:+n>=+c?r:r-1}function zoe(t,e){var s,l,c,u;const n=Zu(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=u4(t,e),o=oi((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),za(o,e)}function QO(t,e){const n=En(t,e==null?void 0:e.in),r=+za(n,e)-+zoe(n,e);return Math.round(r/tM)+1}function Br(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Br(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Br(n+1,2)},d(t,e){return Br(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Br(t.getHours()%12||12,e.length)},H(t,e){return Br(t.getHours(),e.length)},m(t,e){return Br(t.getMinutes(),e.length)},s(t,e){return Br(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Br(i,e.length)}},Wh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return jc.y(t,e)},Y:function(t,e,n,r){const i=u4(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Br(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Br(o,e.length)},R:function(t,e){const n=KO(t);return Br(n,e.length)},u:function(t,e){const n=t.getFullYear();return Br(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Br(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Br(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Br(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=QO(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Br(i,e.length)},I:function(t,e,n){const r=XO(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Br(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jc.d(t,e)},D:function(t,e,n){const r=Noe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Br(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Br(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Br(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Br(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Wh.noon:r===0?i=Wh.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Wh.evening:r>=12?i=Wh.afternoon:r>=4?i=Wh.morning:i=Wh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Br(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Br(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jc.s(t,e)},S:function(t,e){return jc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return l6(r);case"XXXX":case"XX":return kd(r);case"XXXXX":case"XXX":default:return kd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return l6(r);case"xxxx":case"xx":return kd(r);case"xxxxx":case"xxx":default:return kd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+s6(r,":");case"OOOO":default:return"GMT"+kd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+s6(r,":");case"zzzz":default:return"GMT"+kd(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Br(r,e.length)},T:function(t,e,n){return Br(+t,e.length)}};function s6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Br(o,2)}function l6(t,e){return t%60===0?(t>0?"-":"+")+Br(Math.abs(t)/60,2):kd(t,e)}function kd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Br(Math.trunc(r/60),2),o=Br(r%60,2);return n+i+e+o}const c6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hoe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return c6(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",c6(r,e)).replace("{{time}}",ZO(i,e))},bA={p:ZO,P:Hoe},Uoe=/^D+$/,joe=/^Y+$/,Voe=["D","DD","YY","YYYY"];function JO(t){return Uoe.test(t)}function eD(t){return joe.test(t)}function xA(t,e,n){const r=Woe(t,e,n);if(console.warn(r),Voe.includes(t))throw new RangeError(r)}function Woe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Koe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Goe=/^'([^]*?)'?$/,Yoe=/''/g,Xoe=/[a-zA-Z]/;function dr(t,e,n){var u,d,h,f,p,g,m,y;const r=Zu(),i=(n==null?void 0:n.locale)??r.locale??rx,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=En(t,n==null?void 0:n.in);if(!ns(s))throw new RangeError("Invalid time value");let l=e.match(Koe).map(b=>{const x=b[0];if(x==="p"||x==="P"){const w=bA[x];return w(b,i.formatLong)}return b}).join("").match(qoe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:Qoe(b)};if(a6[x])return{isToken:!0,value:b};if(x.match(Xoe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const x=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&eD(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&JO(x))&&xA(x,e,String(t));const w=a6[x[0]];return w(s,x,i.localize,c)}).join("")}function Qoe(t){const e=t.match(Goe);return e?e[1].replace(Yoe,"'"):t}function Zoe(t,e,n){const r=Zu(),i=(n==null?void 0:n.locale)??r.locale??rx,o=Ioe(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[s,l]=Qu(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),c=Doe((n==null?void 0:n.roundingMethod)??"round"),u=l.getTime()-s.getTime(),d=u/Xm,h=Zf(l)-Zf(s),f=(u-h)/Xm,p=n==null?void 0:n.unit;let g;if(p?g=p:d<1?g="second":d<60?g="minute":d<mT?g="hour":f<pT?g="day":f<fT?g="month":g="year",g==="second"){const m=c(u/1e3);return i.formatDistance("xSeconds",m,a)}else if(g==="minute"){const m=c(d);return i.formatDistance("xMinutes",m,a)}else if(g==="hour"){const m=c(d/60);return i.formatDistance("xHours",m,a)}else if(g==="day"){const m=c(f/mT);return i.formatDistance("xDays",m,a)}else if(g==="month"){const m=c(f/pT);return m===12&&p!=="month"?i.formatDistance("xYears",1,a):i.formatDistance("xMonths",m,a)}else{const m=c(f/fT);return i.formatDistance("xYears",m,a)}}function u6(t,e){return En(t*1e3,e==null?void 0:e.in)}function Ja(t,e){return En(t,e==null?void 0:e.in).getDate()}function tD(t,e){return En(t,e==null?void 0:e.in).getDay()}function Joe(t,e){const n=En(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),o=oi(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function nD(){return Object.assign({},Zu())}function cu(t,e){return En(t,e==null?void 0:e.in).getHours()}function eae(t,e){const n=En(t,e==null?void 0:e.in).getDay();return n===0?7:n}function tae(t){return En(t).getMilliseconds()}function Ub(t,e){return En(t,e==null?void 0:e.in).getMinutes()}function Rr(t,e){return En(t,e==null?void 0:e.in).getMonth()}function jb(t){return En(t).getSeconds()}function Wt(t){return+En(t)}function Mr(t,e){return En(t,e==null?void 0:e.in).getFullYear()}function nae(t,e){const n=rae(e)?new e(0):oi(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function rae(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const iae=10;class rD{constructor(){Pt(this,"subPriority",0)}validate(e,n){return!0}}class oae extends rD{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class aae extends rD{constructor(n,r){super();Pt(this,"priority",iae);Pt(this,"subPriority",-1);this.context=n||(i=>oi(r,i))}set(n,r){return r.timestampIsSet?n:oi(n,nae(n,this.context))}}let Ir=class{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new oae(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}};class sae extends Ir{constructor(){super(...arguments);Pt(this,"priority",140);Pt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const zi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hi(t,e){return t&&{value:e(t.value),rest:t.rest}}function bi(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ul(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*qk+o*Xm+a*PX),rest:e.slice(n[0].length)}}function iD(t){return bi(zi.anyDigitsSigned,t)}function Pi(t,e){switch(t){case 1:return bi(zi.singleDigit,e);case 2:return bi(zi.twoDigits,e);case 3:return bi(zi.threeDigits,e);case 4:return bi(zi.fourDigits,e);default:return bi(new RegExp("^\\d{1,"+t+"}"),e)}}function Vb(t,e){switch(t){case 1:return bi(zi.singleDigitSigned,e);case 2:return bi(zi.twoDigitsSigned,e);case 3:return bi(zi.threeDigitsSigned,e);case 4:return bi(zi.fourDigitsSigned,e);default:return bi(new RegExp("^-?\\d{1,"+t+"}"),e)}}function d4(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oD(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,a=Math.trunc(o/100)*100,s=t>=o%100;i=t+a-(s?100:0)}return n?i:1-i}function aD(t){return t%400===0||t%4===0&&t%100!==0}class lae extends Ir{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return Hi(Pi(4,n),o);case"yo":return Hi(i.ordinalNumber(n,{unit:"year"}),o);default:return Hi(Pi(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const s=oD(i.year,o);return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class cae extends Ir{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Hi(Pi(4,n),o);case"Yo":return Hi(i.ordinalNumber(n,{unit:"year"}),o);default:return Hi(Pi(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const a=u4(n,o);if(i.isTwoDigitYear){const l=oD(i.year,a);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),za(n,o)}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),za(n,o)}}class uae extends Ir{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Vb(r==="R"?4:r.length,n)}set(n,r,i){const o=oi(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Qf(o)}}class dae extends Ir{constructor(){super(...arguments);Pt(this,"priority",130);Pt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Vb(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class hae extends Ir{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Pi(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class fae extends Ir{constructor(){super(...arguments);Pt(this,"priority",120);Pt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Pi(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class pae extends Ir{constructor(){super(...arguments);Pt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pt(this,"priority",110)}parse(n,r,i){const o=a=>a-1;switch(r){case"M":return Hi(bi(zi.month,n),o);case"MM":return Hi(Pi(2,n),o);case"Mo":return Hi(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class mae extends Ir{constructor(){super(...arguments);Pt(this,"priority",110);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=a=>a-1;switch(r){case"L":return Hi(bi(zi.month,n),o);case"LL":return Hi(Pi(2,n),o);case"Lo":return Hi(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function gae(t,e,n){const r=En(t,n==null?void 0:n.in),i=QO(r,n)-e;return r.setDate(r.getDate()-i*7),En(r,n==null?void 0:n.in)}class vae extends Ir{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return bi(zi.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Pi(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return za(gae(n,i,o),o)}}function yae(t,e,n){const r=En(t,n==null?void 0:n.in),i=XO(r,n)-e;return r.setDate(r.getDate()-i*7),r}class bae extends Ir{constructor(){super(...arguments);Pt(this,"priority",100);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return bi(zi.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Pi(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Qf(yae(n,i))}}const xae=[31,28,31,30,31,30,31,31,30,31,30,31],wae=[31,29,31,30,31,30,31,31,30,31,30,31];class Cae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subPriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return bi(zi.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Pi(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=aD(i),a=n.getMonth();return o?r>=1&&r<=wae[a]:r>=1&&r<=xae[a]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Aae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"subpriority",1);Pt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return bi(zi.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Pi(r.length,n)}}validate(n,r){const i=n.getFullYear();return aD(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function h4(t,e,n){var d,h,f,p;const r=Zu(),i=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=En(t,n==null?void 0:n.in),a=o.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(a+c)%7:(l+c)%7-(a+c)%7;return Md(o,u,n)}class Sae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=h4(n,i,o),n.setHours(0,0,0,0),n}}class kae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const a=s=>{const l=Math.floor((s-1)/7)*7;return(s+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Hi(Pi(r.length,n),a);case"eo":return Hi(i.ordinalNumber(n,{unit:"day"}),a);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=h4(n,i,o),n.setHours(0,0,0,0),n}}class Eae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const a=s=>{const l=Math.floor((s-1)/7)*7;return(s+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Hi(Pi(r.length,n),a);case"co":return Hi(i.ordinalNumber(n,{unit:"day"}),a);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=h4(n,i,o),n.setHours(0,0,0,0),n}}function Tae(t,e,n){const r=En(t,n==null?void 0:n.in),i=eae(r,n),o=e-i;return Md(r,o,n)}class Rae extends Ir{constructor(){super(...arguments);Pt(this,"priority",90);Pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=a=>a===0?7:a;switch(r){case"i":case"ii":return Pi(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Hi(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Hi(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Hi(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Hi(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Tae(n,i),n.setHours(0,0,0,0),n}}class _ae extends Ir{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d4(i),0,0,0),n}}class Pae extends Ir{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d4(i),0,0,0),n}}class Iae extends Ir{constructor(){super(...arguments);Pt(this,"priority",80);Pt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d4(i),0,0,0),n}}class Lae extends Ir{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return bi(zi.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Pi(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Mae extends Ir{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return bi(zi.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Pi(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Oae extends Ir{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return bi(zi.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Pi(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Dae extends Ir{constructor(){super(...arguments);Pt(this,"priority",70);Pt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return bi(zi.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Pi(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class Fae extends Ir{constructor(){super(...arguments);Pt(this,"priority",60);Pt(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return bi(zi.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Pi(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class $ae extends Ir{constructor(){super(...arguments);Pt(this,"priority",50);Pt(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return bi(zi.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Pi(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Bae extends Ir{constructor(){super(...arguments);Pt(this,"priority",30);Pt(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Hi(Pi(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Nae extends Ir{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ul(cl.basicOptionalMinutes,n);case"XX":return ul(cl.basic,n);case"XXXX":return ul(cl.basicOptionalSeconds,n);case"XXXXX":return ul(cl.extendedOptionalSeconds,n);case"XXX":default:return ul(cl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:oi(n,n.getTime()-Zf(n)-i)}}class zae extends Ir{constructor(){super(...arguments);Pt(this,"priority",10);Pt(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ul(cl.basicOptionalMinutes,n);case"xx":return ul(cl.basic,n);case"xxxx":return ul(cl.basicOptionalSeconds,n);case"xxxxx":return ul(cl.extendedOptionalSeconds,n);case"xxx":default:return ul(cl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:oi(n,n.getTime()-Zf(n)-i)}}class Hae extends Ir{constructor(){super(...arguments);Pt(this,"priority",40);Pt(this,"incompatibleTokens","*")}parse(n){return iD(n)}set(n,r,i){return[oi(n,i*1e3),{timestampIsSet:!0}]}}class Uae extends Ir{constructor(){super(...arguments);Pt(this,"priority",20);Pt(this,"incompatibleTokens","*")}parse(n){return iD(n)}set(n,r,i){return[oi(n,i),{timestampIsSet:!0}]}}const jae={G:new sae,y:new lae,Y:new cae,R:new uae,u:new dae,Q:new hae,q:new fae,M:new pae,L:new mae,w:new vae,I:new bae,d:new Cae,D:new Aae,E:new Sae,e:new kae,c:new Eae,i:new Rae,a:new _ae,b:new Pae,B:new Iae,h:new Lae,H:new Mae,K:new Oae,k:new Dae,m:new Fae,s:new $ae,S:new Bae,X:new Nae,x:new zae,t:new Hae,T:new Uae},Vae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qae=/^'([^]*?)'?$/,Kae=/''/g,Gae=/\S/,Yae=/[a-zA-Z]/;function Xae(t,e,n,r){var m,y,b,x,w,C,S,A;const i=()=>oi((r==null?void 0:r.in)||n,NaN),o=nD(),a=(r==null?void 0:r.locale)??o.locale??rx,s=(r==null?void 0:r.firstWeekContainsDate)??((y=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((x=(b=o.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((C=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:C.weekStartsOn)??o.weekStartsOn??((A=(S=o.locale)==null?void 0:S.options)==null?void 0:A.weekStartsOn)??0;if(!e)return t?i():En(n,r==null?void 0:r.in);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a},u=[new aae(r==null?void 0:r.in,n)],d=e.match(Wae).map(T=>{const k=T[0];if(k in bA){const E=bA[k];return E(T,a.formatLong)}return T}).join("").match(Vae),h=[];for(let T of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&eD(T)&&xA(T,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&JO(T)&&xA(T,e,t);const k=T[0],E=jae[k];if(E){const{incompatibleTokens:P}=E;if(Array.isArray(P)){const F=h.find(N=>P.includes(N.token)||N.token===k);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${T}\` at the same time`)}else if(E.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);h.push({token:k,fullToken:T});const _=E.run(t,T,a.match,c);if(!_)return i();u.push(_.setter),t=_.rest}else{if(k.match(Yae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(T==="''"?T="'":k==="'"&&(T=Qae(T)),t.indexOf(T)===0)t=t.slice(T.length);else return i()}}if(t.length>0&&Gae.test(t))return i();const f=u.map(T=>T.priority).sort((T,k)=>k-T).filter((T,k,E)=>E.indexOf(T)===k).map(T=>u.filter(k=>k.priority===T).sort((k,E)=>E.subPriority-k.subPriority)).map(T=>T[0]);let p=En(n,r==null?void 0:r.in);if(isNaN(+p))return i();const g={};for(const T of f){if(!T.validate(p,c))return i();const k=T.set(p,g,c);Array.isArray(k)?(p=k[0],Object.assign(g,k[1])):p=k}return p}function Qae(t){return t.match(qae)[1].replace(Kae,"'")}function Zae(t,e){const n=En(t,e==null?void 0:e.in);return n.setMinutes(0,0,0),n}function Jae(t,e){const n=En(t,e==null?void 0:e.in);return n.setSeconds(0,0),n}function jg(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function sD(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e);return+eg(r)==+eg(i)}function f4(t,e){const n=En(t,e==null?void 0:e.in);return n.setMilliseconds(0),n}function lD(t,e,n){const[r,i]=Qu(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function ese(t,e,n){const r=+En(t,n==null?void 0:n.in),[i,o]=[+En(e.start,n==null?void 0:n.in),+En(e.end,n==null?void 0:n.in)].sort((a,s)=>a-s);return r>=i&&r<=o}function tse(t,e){const n=()=>oi(e==null?void 0:e.in,NaN),i=ose(t);let o;if(i.date){const c=ase(i.date,2);o=sse(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const a=+o;let s=0,l;if(i.time&&(s=lse(i.time),isNaN(s)))return n();if(i.timezone){if(l=cse(i.timezone),isNaN(l))return n()}else{const c=new Date(a+s),u=En(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return En(a+s+l,e==null?void 0:e.in)}const Fv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ise=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ose(t){const e={},n=t.split(Fv.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Fv.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Fv.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Fv.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ase(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function sse(t,e){if(e===null)return new Date(NaN);const n=t.match(nse);if(!n)return new Date(NaN);const r=!!n[4],i=t0(n[1]),o=t0(n[2])-1,a=t0(n[3]),s=t0(n[4]),l=t0(n[5])-1;if(r)return pse(e,s,l)?use(e,s,l):new Date(NaN);{const c=new Date(0);return!hse(e,o,a)||!fse(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,a)),c)}}function t0(t){return t?parseInt(t):1}function lse(t){const e=t.match(rse);if(!e)return NaN;const n=Vw(e[1]),r=Vw(e[2]),i=Vw(e[3]);return mse(n,r,i)?n*qk+r*Xm+i*1e3:NaN}function Vw(t){return t&&parseFloat(t.replace(",","."))||0}function cse(t){if(t==="Z")return 0;const e=t.match(ise);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return gse(r,i)?n*(r*qk+i*Xm):NaN}function use(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const dse=[31,null,31,30,31,30,31,31,30,31,30,31];function cD(t){return t%400===0||t%4===0&&t%100!==0}function hse(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(dse[e]||(cD(t)?29:28))}function fse(t,e){return e>=1&&e<=(cD(t)?366:365)}function pse(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function mse(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function gse(t,e){return e>=0&&e<=59}function p4(t,e,n){const r=En(t,n==null?void 0:n.in),i=r.getFullYear(),o=r.getDate(),a=oi(t,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const s=Joe(a);return r.setMonth(e,Math.min(o,s)),r}function bo(t,e,n){let r=En(t,n==null?void 0:n.in);return isNaN(+r)?oi(t,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=p4(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}function pd(t,e,n){const r=En(t,n==null?void 0:n.in);return r.setHours(e),r}function Ww(t,e,n){const r=En(t,n==null?void 0:n.in);return r.setMinutes(e),r}function vse(t,e,n){const r=En(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,o=e-i;return p4(r,r.getMonth()+o*3)}function qw(t,e,n){const r=En(t,n==null?void 0:n.in);return r.setSeconds(e),r}function wA(t,e,n){const r=En(t,n==null?void 0:n.in);return isNaN(+r)?oi(t,NaN):(r.setFullYear(e),r)}function yse(t,e,n){return Hb(t,-1,n)}const bse={date:Loe,month:jg,year:lD,quarter:sD};function xse(t){return(e,n)=>{const r=hf(t);return LX(e,n,{weekStartsOn:r})}}function hf(t){return(t+1)%7}function Vo(t,e,n,r=0){return(n==="week"?xse(r):bse[n])(t,e)}function Kw(t,e,n,r,i,o){return i==="date"?wse(t,e,n,r):Cse(t,e,n,r,o)}function wse(t,e,n,r){let i=!1,o=!1,a=!1;Array.isArray(n)&&(n[0]<t&&t<n[1]&&(i=!0),Vo(n[0],t,"date")&&(o=!0),Vo(n[1],t,"date")&&(a=!0));const s=n!==null&&(Array.isArray(n)?Vo(n[0],t,"date")||Vo(n[1],t,"date"):Vo(n,t,"date"));return{type:"date",dateObject:{date:Ja(t),month:Rr(t),year:Mr(t)},inCurrentMonth:jg(t,e),isCurrentDate:Vo(r,t,"date"),inSpan:i,inSelectedWeek:!1,startOfSpan:o,endOfSpan:a,selected:s,ts:Wt(t)}}function uD(t,e,n){const r=new Date(2e3,t,1).getTime();return dr(r,e,{locale:n})}function dD(t,e,n){const r=new Date(t,1,1).getTime();return dr(r,e,{locale:n})}function hD(t,e,n){const r=new Date(2e3,t*3-2,1).getTime();return dr(r,e,{locale:n})}function Cse(t,e,n,r,i){let o=!1,a=!1,s=!1;Array.isArray(n)&&(n[0]<t&&t<n[1]&&(o=!0),Vo(n[0],t,"week",i)&&(a=!0),Vo(n[1],t,"week",i)&&(s=!0));const l=n!==null&&(Array.isArray(n)?Vo(n[0],t,"week",i)||Vo(n[1],t,"week",i):Vo(n,t,"week",i));return{type:"date",dateObject:{date:Ja(t),month:Rr(t),year:Mr(t)},inCurrentMonth:jg(t,e),isCurrentDate:Vo(r,t,"date"),inSpan:o,startOfSpan:a,endOfSpan:s,selected:!1,inSelectedWeek:l,ts:Wt(t)}}function Ase(t,e,n,{monthFormat:r}){return{type:"month",monthFormat:r,dateObject:{month:Rr(t),year:Mr(t)},isCurrent:jg(n,t),selected:e!==null&&Vo(e,t,"month"),ts:Wt(t)}}function Sse(t,e,n,{yearFormat:r}){return{type:"year",yearFormat:r,dateObject:{year:Mr(t)},isCurrent:lD(n,t),selected:e!==null&&Vo(e,t,"year"),ts:Wt(t)}}function kse(t,e,n,{quarterFormat:r}){return{type:"quarter",quarterFormat:r,dateObject:{quarter:Ooe(t),year:Mr(t)},isCurrent:sD(n,t),selected:e!==null&&Vo(e,t,"quarter"),ts:Wt(t)}}function Wb(t,e,n,r,i=!1,o=!1){const a=o?"week":"date",s=Rr(t);let l=Wt(es(t)),c=Wt(Md(l,-1));const u=[];let d=!i;for(;tD(c)!==r||d;)u.unshift(Kw(c,t,e,n,a,r)),c=Wt(Md(c,-1)),d=!1;for(;Rr(l)===s;)u.push(Kw(l,t,e,n,a,r)),l=Wt(Md(l,1));const h=i?u.length<=28?28:u.length<=35?35:42:42;for(;u.length<h;)u.push(Kw(l,t,e,n,a,r)),l=Wt(Md(l,1));return u}function CA(t,e,n,r){const i=[],o=fp(t);for(let a=0;a<12;a++)i.push(Ase(Wt(io(o,a)),e,n,r));return i}function AA(t,e,n,r){const i=[],o=fp(t);for(let a=0;a<4;a++)i.push(kse(Wt(Poe(o,a)),e,n,r));return i}function SA(t,e,n,r){const i=r.value,o=[],a=fp(wA(new Date,i[0]));for(let s=0;s<i[1]-i[0];s++)o.push(Sse(Wt(Hb(a,s)),t,e,n));return o}function ha(t,e,n,r){const i=Xae(t,e,n,r);return ns(i)?dr(i,e,r)===t?i:new Date(Number.NaN):i}function Ese(t,e){const n=e(t);return Tf(n)}function d6(t,e,n,r){const i=e(t,n,r);return Tf(i)}function Tf(t){if(t===void 0)return;if(typeof t=="number")return t;const[e,n,r]=t.split(":");return{hours:Number(e),minutes:Number(n),seconds:Number(r)}}function qh(t,e){return Array.isArray(t)?t[e==="start"?0:1]:null}const Tse={titleFontSize:"22px"};function Rse(t){const{borderRadius:e,fontSize:n,lineHeight:r,textColor2:i,textColor1:o,textColorDisabled:a,dividerColor:s,fontWeightStrong:l,primaryColor:c,baseColor:u,hoverColor:d,cardColor:h,modalColor:f,popoverColor:p}=t;return Object.assign(Object.assign({},Tse),{borderRadius:e,borderColor:rn(h,s),borderColorModal:rn(f,s),borderColorPopover:rn(p,s),textColor:i,titleFontWeight:l,titleTextColor:o,dayTextColor:a,fontSize:n,lineHeight:r,dateColorCurrent:c,dateTextColorCurrent:u,cellColorHover:rn(h,d),cellColorHoverModal:rn(f,d),cellColorHoverPopover:rn(p,d),cellColor:h,cellColorModal:f,cellColorPopover:p,barColor:c})}const _se={name:"Calendar",common:Bt,peers:{Button:Aa},self:Rse},Pse=B([R("calendar",`
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 height: 720px;
 display: flex;
 flex-direction: column;
 `,[R("calendar-prev-btn",`
 cursor: pointer;
 `),R("calendar-next-btn",`
 cursor: pointer;
 `),R("calendar-header",`
 display: flex;
 align-items: center;
 line-height: 1;
 font-size: var(--n-title-font-size);
 padding: 0 0 18px 0;
 justify-content: space-between;
 `,[H("title",`
 color: var(--n-title-text-color);
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 `),H("extra",`
 display: flex;
 align-items: center;
 `)]),R("calendar-dates",`
 display: grid;
 grid-template-columns: repeat(7, minmax(0, 1fr));
 grid-auto-rows: 1fr;
 border-radius: var(--n-border-radius);
 flex: 1;
 border-top: 1px solid;
 border-left: 1px solid;
 border-color: var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 `),R("calendar-cell",`
 box-sizing: border-box;
 padding: 10px;
 border-right: 1px solid;
 border-bottom: 1px solid;
 border-color: var(--n-border-color);
 cursor: pointer;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[B("&:nth-child(7)",`
 border-top-right-radius: var(--n-border-radius);
 `),B("&:nth-last-child(7)",`
 border-bottom-left-radius: var(--n-border-radius);
 `),B("&:last-child",`
 border-bottom-right-radius: var(--n-border-radius);
 `),B("&:hover",`
 background-color: var(--n-cell-color-hover);
 `),H("bar",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: -1px;
 height: 3px;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `),U("selected",[H("bar",`
 background-color: var(--n-bar-color);
 `)]),R("calendar-date",`
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[H("date",`
 color: var(--n-text-color);
 `)]),U("disabled, other-month",`
 color: var(--n-day-text-color);
 `,[R("calendar-date",[H("date",`
 color: var(--n-day-text-color);
 `)])]),U("disabled",`
 cursor: not-allowed;
 `),U("current",[R("calendar-date",[H("date",`
 color: var(--n-date-text-color-current);
 background-color: var(--n-date-color-current);
 `)])]),R("calendar-date",`
 position: relative;
 line-height: 1;
 display: flex;
 align-items: center;
 height: 1em;
 justify-content: space-between;
 padding-bottom: .75em;
 `,[H("date",`
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 margin-left: -0.4em;
 width: 1.8em;
 height: 1.8em;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),H("day",`
 color: var(--n-day-text-color);
 transition: color .3s var(--n-bezier);
 `)])])]),_l(R("calendar",[R("calendar-dates",`
 border-color: var(--n-border-color-modal);
 `),R("calendar-cell",`
 border-color: var(--n-border-color-modal);
 `,[B("&:hover",`
 background-color: var(--n-cell-color-hover-modal);
 `)])])),Tc(R("calendar",[R("calendar-dates",`
 border-color: var(--n-border-color-popover);
 `),R("calendar-cell",`
 border-color: var(--n-border-color-popover);
 `,[B("&:hover",`
 background-color: var(--n-cell-color-hover-popover);
 `)])]))]),fD=Object.assign(Object.assign({},Ve.props),{isDateDisabled:Function,value:Number,defaultValue:{type:Number,default:null},onPanelChange:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Ise=le({name:"Calendar",props:fD,slots:Object,setup(t){var e;const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("Calendar","-calendar",Pse,_se,t,n),{localeRef:o,dateLocaleRef:a}=li("DatePicker"),s=Date.now(),l=V(es((e=t.defaultValue)!==null&&e!==void 0?e:s).valueOf()),c=V(t.defaultValue||null),u=Cn($e(t,"value"),c);function d(y,b){const{onUpdateValue:x,"onUpdate:value":w}=t;x&&Fe(x,y,b),w&&Fe(w,y,b),c.value=y}function h(){var y;const b=io(l.value,-1).valueOf();l.value=b,(y=t.onPanelChange)===null||y===void 0||y.call(t,{year:Mr(b),month:Rr(b)+1})}function f(){var y;const b=io(l.value,1).valueOf();l.value=b,(y=t.onPanelChange)===null||y===void 0||y.call(t,{year:Mr(b),month:Rr(b)+1})}function p(){var y;const{value:b}=l,x=Mr(b),w=Rr(b),C=es(s).valueOf();l.value=C;const S=Mr(C),A=Rr(C);(x!==S||w!==A)&&((y=t.onPanelChange)===null||y===void 0||y.call(t,{year:S,month:A+1}))}const g=L(()=>{const{common:{cubicBezierEaseInOut:y},self:{borderColor:b,borderColorModal:x,borderColorPopover:w,borderRadius:C,titleFontSize:S,textColor:A,titleFontWeight:T,titleTextColor:k,dayTextColor:E,fontSize:P,lineHeight:_,dateColorCurrent:F,dateTextColorCurrent:N,cellColorHover:W,cellColor:G,cellColorModal:Z,barColor:ie,cellColorPopover:he,cellColorHoverModal:xe,cellColorHoverPopover:Q}}=i.value;return{"--n-bezier":y,"--n-border-color":b,"--n-border-color-modal":x,"--n-border-color-popover":w,"--n-border-radius":C,"--n-text-color":A,"--n-title-font-weight":T,"--n-title-font-size":S,"--n-title-text-color":k,"--n-day-text-color":E,"--n-font-size":P,"--n-line-height":_,"--n-date-color-current":F,"--n-date-text-color-current":N,"--n-cell-color":G,"--n-cell-color-modal":Z,"--n-cell-color-popover":he,"--n-cell-color-hover":W,"--n-cell-color-hover-modal":xe,"--n-cell-color-hover-popover":Q,"--n-bar-color":ie}}),m=r?Ot("calendar",void 0,g,t):void 0;return{mergedClsPrefix:n,locale:o,dateLocale:a,now:s,mergedValue:u,monthTs:l,dateItems:L(()=>Wb(l.value,u.value,s,o.value.firstDayOfWeek,!0)),doUpdateValue:d,handleTodayClick:p,handlePrevClick:h,handleNextClick:f,mergedTheme:i,cssVars:r?void 0:g,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{isDateDisabled:t,mergedClsPrefix:e,monthTs:n,cssVars:r,mergedValue:i,mergedTheme:o,$slots:a,locale:{monthBeforeYear:s,today:l},dateLocale:{locale:c},handleTodayClick:u,handlePrevClick:d,handleNextClick:h,onRender:f}=this;f==null||f();const p=i&&Sl(i).valueOf(),g=Mr(n),m=Rr(n)+1;return v("div",{class:[`${e}-calendar`,this.themeClass],style:r},v("div",{class:`${e}-calendar-header`},v("div",{class:`${e}-calendar-header__title`},ui(a.header,{year:g,month:m},()=>{const y=dr(n,"MMMM",{locale:c});return[s?`${y} ${g}`:`${g} ${y}`]})),v("div",{class:`${e}-calendar-header__extra`},v(c4,null,{default:()=>v(qn,null,v(Qn,{size:"small",onClick:d,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button},{icon:()=>v(Jt,{clsPrefix:e,class:`${e}-calendar-prev-btn`},{default:()=>v(i4,null)})}),v(Qn,{size:"small",onClick:u,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button},{default:()=>l}),v(Qn,{size:"small",onClick:h,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button},{icon:()=>v(Jt,{clsPrefix:e,class:`${e}-calendar-next-btn`},{default:()=>v(yh,null)})}))}))),v("div",{class:`${e}-calendar-dates`},this.dateItems.map(({dateObject:y,ts:b,inCurrentMonth:x,isCurrentDate:w},C)=>{var S;const{year:A,month:T,date:k}=y,E=dr(b,"yyyy-MM-dd"),P=!x,_=(t==null?void 0:t(b))===!0,F=p===Sl(b).valueOf();return v("div",{key:`${m}-${C}`,class:[`${e}-calendar-cell`,_&&`${e}-calendar-cell--disabled`,P&&`${e}-calendar-cell--other-month`,_&&`${e}-calendar-cell--not-allowed`,w&&`${e}-calendar-cell--current`,F&&`${e}-calendar-cell--selected`],onClick:()=>{var N;if(_)return;const W=es(b).valueOf();this.monthTs=W,P&&((N=this.onPanelChange)===null||N===void 0||N.call(this,{year:Mr(W),month:Rr(W)+1})),this.doUpdateValue(b,{year:A,month:T+1,date:k})}},v("div",{class:`${e}-calendar-date`},v("div",{class:`${e}-calendar-date__date`,title:E},k),C<7&&v("div",{class:`${e}-calendar-date__day`,title:E},dr(b,"EEE",{locale:c}))),(S=a.default)===null||S===void 0?void 0:S.call(a,{year:A,month:T+1,date:k}),v("div",{class:`${e}-calendar-cell__bar`}))})))}}),Lse={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"};function Mse(t){const{primaryColor:e,borderRadius:n,lineHeight:r,fontSize:i,cardColor:o,textColor2:a,textColor1:s,dividerColor:l,fontWeightStrong:c,closeIconColor:u,closeIconColorHover:d,closeIconColorPressed:h,closeColorHover:f,closeColorPressed:p,modalColor:g,boxShadow1:m,popoverColor:y,actionColor:b}=t;return Object.assign(Object.assign({},Lse),{lineHeight:r,color:o,colorModal:g,colorPopover:y,colorTarget:e,colorEmbedded:b,colorEmbeddedModal:b,colorEmbeddedPopover:b,textColor:a,titleTextColor:s,borderColor:l,actionColor:b,titleFontWeight:c,closeColorHover:f,closeColorPressed:p,closeBorderRadius:n,closeIconColor:u,closeIconColorHover:d,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:m,borderRadius:n})}const pD={name:"Card",common:Bt,self:Mse},Ose=B([R("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[yL({background:"var(--n-color-modal)"}),U("hoverable",[B("&:hover","box-shadow: var(--n-box-shadow);")]),U("content-segmented",[B(">",[H("content",{paddingTop:"var(--n-padding-bottom)"})])]),U("content-soft-segmented",[B(">",[H("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),U("footer-segmented",[B(">",[H("footer",{paddingTop:"var(--n-padding-bottom)"})])]),U("footer-soft-segmented",[B(">",[H("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),B(">",[R("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[H("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),H("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),H("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),H("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),H("content","flex: 1; min-width: 0;"),H("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[B("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),H("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),R("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[B("img",`
 display: block;
 width: 100%;
 `)]),U("bordered",`
 border: 1px solid var(--n-border-color);
 `,[B("&:target","border-color: var(--n-color-target);")]),U("action-segmented",[B(">",[H("action",[B("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),U("content-segmented, content-soft-segmented",[B(">",[H("content",{transition:"border-color 0.3s var(--n-bezier)"},[B("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),U("footer-segmented, footer-soft-segmented",[B(">",[H("footer",{transition:"border-color 0.3s var(--n-bezier)"},[B("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),U("embedded",`
 background-color: var(--n-color-embedded);
 `)]),_l(R("card",`
 background: var(--n-color-modal);
 `,[U("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),Tc(R("card",`
 background: var(--n-color-popover);
 `,[U("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),m4={title:[String,Function],contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"},cover:Function,content:[String,Function],footer:Function,action:Function,headerExtra:Function,closeFocusable:Boolean},Dse=vo(m4),mD=Object.assign(Object.assign({},Ve.props),m4),g4=le({name:"Card",props:mD,slots:Object,setup(t){const e=()=>{const{onClose:c}=t;c&&Fe(c)},{inlineThemeDisabled:n,mergedClsPrefixRef:r,mergedRtlRef:i}=gt(t),o=Ve("Card","-card",Ose,pD,t,r),a=or("Card",i,r),s=L(()=>{const{size:c}=t,{self:{color:u,colorModal:d,colorTarget:h,textColor:f,titleTextColor:p,titleFontWeight:g,borderColor:m,actionColor:y,borderRadius:b,lineHeight:x,closeIconColor:w,closeIconColorHover:C,closeIconColorPressed:S,closeColorHover:A,closeColorPressed:T,closeBorderRadius:k,closeIconSize:E,closeSize:P,boxShadow:_,colorPopover:F,colorEmbedded:N,colorEmbeddedModal:W,colorEmbeddedPopover:G,[We("padding",c)]:Z,[We("fontSize",c)]:ie,[We("titleFontSize",c)]:he},common:{cubicBezierEaseInOut:xe}}=o.value,{top:Q,left:X,bottom:K}=wi(Z);return{"--n-bezier":xe,"--n-border-radius":b,"--n-color":u,"--n-color-modal":d,"--n-color-popover":F,"--n-color-embedded":N,"--n-color-embedded-modal":W,"--n-color-embedded-popover":G,"--n-color-target":h,"--n-text-color":f,"--n-line-height":x,"--n-action-color":y,"--n-title-text-color":p,"--n-title-font-weight":g,"--n-close-icon-color":w,"--n-close-icon-color-hover":C,"--n-close-icon-color-pressed":S,"--n-close-color-hover":A,"--n-close-color-pressed":T,"--n-border-color":m,"--n-box-shadow":_,"--n-padding-top":Q,"--n-padding-bottom":K,"--n-padding-left":X,"--n-font-size":ie,"--n-title-font-size":he,"--n-close-size":P,"--n-close-icon-size":E,"--n-close-border-radius":k}}),l=n?Ot("card",L(()=>t.size[0]),s,t):void 0;return{rtlEnabled:a,mergedClsPrefix:r,mergedTheme:o,handleCloseClick:e,cssVars:n?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{segmented:t,bordered:e,hoverable:n,mergedClsPrefix:r,rtlEnabled:i,onRender:o,embedded:a,tag:s,$slots:l}=this;return o==null||o(),v(s,{class:[`${r}-card`,this.themeClass,a&&`${r}-card--embedded`,{[`${r}-card--rtl`]:i,[`${r}-card--content${typeof t!="boolean"&&t.content==="soft"?"-soft":""}-segmented`]:t===!0||t!==!1&&t.content,[`${r}-card--footer${typeof t!="boolean"&&t.footer==="soft"?"-soft":""}-segmented`]:t===!0||t!==!1&&t.footer,[`${r}-card--action-segmented`]:t===!0||t!==!1&&t.action,[`${r}-card--bordered`]:e,[`${r}-card--hoverable`]:n}],style:this.cssVars,role:this.role},bn(l.cover,c=>{const u=this.cover?ts([this.cover()]):c;return u&&v("div",{class:`${r}-card-cover`,role:"none"},u)}),bn(l.header,c=>{const{title:u}=this,d=u?ts(typeof u=="function"?[u()]:[u]):c;return d||this.closable?v("div",{class:[`${r}-card-header`,this.headerClass],style:this.headerStyle,role:"heading"},v("div",{class:`${r}-card-header__main`,role:"heading"},d),bn(l["header-extra"],h=>{const f=this.headerExtra?ts([this.headerExtra()]):h;return f&&v("div",{class:[`${r}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},f)}),this.closable&&v(Ic,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,focusable:this.closeFocusable,absolute:!0})):null}),bn(l.default,c=>{const{content:u}=this,d=u?ts(typeof u=="function"?[u()]:[u]):c;return d&&v("div",{class:[`${r}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},d)}),bn(l.footer,c=>{const u=this.footer?ts([this.footer()]):c;return u&&v("div",{class:[`${r}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},u)}),bn(l.action,c=>{const u=this.action?ts([this.action()]):c;return u&&v("div",{class:`${r}-card__action`,role:"none"},u)}))}});function Fse(){return{dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}}const $se={common:Bt,self:Fse},gD="n-carousel-methods";function Bse(t){zt(gD,t)}function v4(t="unknown",e="component"){const n=ut(gD);return n||Ii(t,`\`${e}\` must be placed inside \`n-carousel\`.`),n}function Nse(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},v("g",{fill:"none"},v("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"})))}function zse(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},v("g",{fill:"none"},v("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"})))}const Hse=le({name:"CarouselArrow",setup(t){const{mergedClsPrefixRef:e}=gt(t),{isVertical:n,isPrevDisabled:r,isNextDisabled:i,prev:o,next:a}=v4();return{mergedClsPrefix:e,isVertical:n,isPrevDisabled:r,isNextDisabled:i,prev:o,next:a}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:`${t}-carousel__arrow-group`},v("div",{class:[`${t}-carousel__arrow`,this.isPrevDisabled()&&`${t}-carousel__arrow--disabled`],role:"button",onClick:this.prev},Nse()),v("div",{class:[`${t}-carousel__arrow`,this.isNextDisabled()&&`${t}-carousel__arrow--disabled`],role:"button",onClick:this.next},zse()))}}),Use={total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean},jse=le({name:"CarouselDots",props:Use,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=V([]),r=v4();function i(c,u){switch(c.key){case"Enter":case" ":c.preventDefault(),r.to(u);return}t.keyboard&&s(c)}function o(c){t.trigger==="hover"&&r.to(c)}function a(c){t.trigger==="click"&&r.to(c)}function s(c){var u;if(c.shiftKey||c.altKey||c.ctrlKey||c.metaKey)return;const d=(u=document.activeElement)===null||u===void 0?void 0:u.nodeName.toLowerCase();if(d==="input"||d==="textarea")return;const{code:h}=c,f=h==="PageUp"||h==="ArrowUp",p=h==="PageDown"||h==="ArrowDown",g=h==="PageUp"||h==="ArrowRight",m=h==="PageDown"||h==="ArrowLeft",y=r.isVertical(),b=y?f:g,x=y?p:m;!b&&!x||(c.preventDefault(),b&&!r.isNextDisabled()?(r.next(),l(r.currentIndexRef.value)):x&&!r.isPrevDisabled()&&(r.prev(),l(r.currentIndexRef.value)))}function l(c){var u;(u=n.value[c])===null||u===void 0||u.focus()}return q1(()=>n.value.length=0),{mergedClsPrefix:e,dotEls:n,handleKeydown:i,handleMouseenter:o,handleClick:a}},render(){const{mergedClsPrefix:t,dotEls:e}=this;return v("div",{class:[`${t}-carousel__dots`,`${t}-carousel__dots--${this.dotType}`],role:"tablist"},sY(this.total,n=>{const r=n===this.currentIndex;return v("div",{"aria-selected":r,ref:i=>e.push(i),role:"button",tabindex:"0",class:[`${t}-carousel__dot`,r&&`${t}-carousel__dot--active`],key:n,onClick:()=>{this.handleClick(n)},onMouseenter:()=>{this.handleMouseenter(n)},onKeydown:i=>{this.handleKeydown(i,n)}})}))}}),Vy="CarouselItem";function Vse(t){var e;return((e=t.type)===null||e===void 0?void 0:e.name)===Vy}const vD=le({name:Vy,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=v4(OT(Vy),`n-${OT(Vy)}`),r=V(),i=L(()=>{const{value:u}=r;return u?n.getSlideIndex(u):-1}),o=L(()=>n.isPrev(i.value)),a=L(()=>n.isNext(i.value)),s=L(()=>n.isActive(i.value)),l=L(()=>n.getSlideStyle(i.value));jn(()=>{n.addSlide(r.value)}),ir(()=>{n.removeSlide(r.value)});function c(u){const{value:d}=i;d!==void 0&&(n==null||n.onCarouselItemClick(d,u))}return{mergedClsPrefix:e,selfElRef:r,isPrev:o,isNext:a,isActive:s,index:i,style:l,handleClick:c}},render(){var t;const{$slots:e,mergedClsPrefix:n,isPrev:r,isNext:i,isActive:o,index:a,style:s}=this,l=[`${n}-carousel__slide`,{[`${n}-carousel__slide--current`]:o,[`${n}-carousel__slide--prev`]:r,[`${n}-carousel__slide--next`]:i}];return v("div",{ref:"selfElRef",class:l,role:"option",tabindex:"-1","data-index":a,"aria-hidden":!o,style:s,onClickCapture:this.handleClick},(t=e.default)===null||t===void 0?void 0:t.call(e,{isPrev:r,isNext:i,isActive:o,index:a}))}}),Wse=R("carousel",`
 position: relative;
 width: 100%;
 height: 100%;
 touch-action: pan-y;
 overflow: hidden;
`,[H("slides",`
 display: flex;
 width: 100%;
 height: 100%;
 transition-timing-function: var(--n-bezier);
 transition-property: transform;
 `,[H("slide",`
 flex-shrink: 0;
 position: relative;
 width: 100%;
 height: 100%;
 outline: none;
 overflow: hidden;
 `,[B("> img",`
 display: block;
 `)])]),H("dots",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `,[U("dot",[H("dot",`
 height: var(--n-dot-size);
 width: var(--n-dot-size);
 background-color: var(--n-dot-color);
 border-radius: 50%;
 cursor: pointer;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[B("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),U("active",`
 background-color: var(--n-dot-color-active);
 `)])]),U("line",[H("dot",`
 border-radius: 9999px;
 width: var(--n-dot-line-width);
 height: 4px;
 background-color: var(--n-dot-color);
 cursor: pointer;
 transition:
 width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[B("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),U("active",`
 width: var(--n-dot-line-width-active);
 background-color: var(--n-dot-color-active);
 `)])])]),H("arrow",`
 transition: background-color .3s var(--n-bezier);
 cursor: pointer;
 height: 28px;
 width: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 background-color: rgba(255, 255, 255, .2);
 color: var(--n-arrow-color);
 border-radius: 8px;
 user-select: none;
 -webkit-user-select: none;
 font-size: 18px;
 `,[B("svg",`
 height: 1em;
 width: 1em;
 `),B("&:hover",`
 background-color: rgba(255, 255, 255, .3);
 `)]),U("vertical",`
 touch-action: pan-x;
 `,[H("slides",`
 flex-direction: column;
 `),U("fade",[H("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%);
 `)]),U("card",[H("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%) translateZ(-400px);
 `,[U("current",`
 transform: translateY(-50%) translateZ(0);
 `),U("prev",`
 transform: translateY(-100%) translateZ(-200px);
 `),U("next",`
 transform: translateY(0%) translateZ(-200px);
 `)])])]),U("usercontrol",[H("slides",[B(">",[B("div",`
 position: absolute;
 top: 50%;
 left: 50%;
 width: 100%;
 height: 100%;
 transform: translate(-50%, -50%);
 `)])])]),U("left",[H("dots",`
 transform: translateY(-50%);
 top: 50%;
 left: 12px;
 flex-direction: column;
 `,[U("line",[H("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[U("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),H("dot",`
 margin: 4px 0;
 `)]),H("arrow-group",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `),U("vertical",[H("arrow",`
 transform: rotate(90deg);
 `)]),U("show-arrow",[U("bottom",[H("dots",`
 transform: translateX(0);
 bottom: 18px;
 left: 18px;
 `)]),U("top",[H("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),U("left",[H("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),U("right",[H("dots",`
 transform: translateX(0);
 top: 18px;
 right: 18px;
 `)])]),U("left",[H("arrow-group",`
 bottom: 12px;
 left: 12px;
 flex-direction: column;
 `,[B("> *:first-child",`
 margin-bottom: 12px;
 `)])]),U("right",[H("dots",`
 transform: translateY(-50%);
 top: 50%;
 right: 12px;
 flex-direction: column;
 `,[U("line",[H("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[U("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),H("dot",`
 margin: 4px 0;
 `),H("arrow-group",`
 bottom: 12px;
 right: 12px;
 flex-direction: column;
 `,[B("> *:first-child",`
 margin-bottom: 12px;
 `)])]),U("top",[H("dots",`
 transform: translateX(-50%);
 top: 12px;
 left: 50%;
 `,[U("line",[H("dot",`
 margin: 0 4px;
 `)])]),H("dot",`
 margin: 0 4px;
 `),H("arrow-group",`
 top: 12px;
 right: 12px;
 `,[B("> *:first-child",`
 margin-right: 12px;
 `)])]),U("bottom",[H("dots",`
 transform: translateX(-50%);
 bottom: 12px;
 left: 50%;
 `,[U("line",[H("dot",`
 margin: 0 4px;
 `)])]),H("dot",`
 margin: 0 4px;
 `),H("arrow-group",`
 bottom: 12px;
 right: 12px;
 `,[B("> *:first-child",`
 margin-right: 12px;
 `)])]),U("fade",[H("slide",`
 position: absolute;
 opacity: 0;
 transition-property: opacity;
 pointer-events: none;
 `,[U("current",`
 opacity: 1;
 pointer-events: auto;
 `)])]),U("card",[H("slides",`
 perspective: 1000px;
 `),H("slide",`
 position: absolute;
 left: 50%;
 opacity: 0;
 transform: translateX(-50%) translateZ(-400px);
 transition-property: opacity, transform;
 `,[U("current",`
 opacity: 1;
 transform: translateX(-50%) translateZ(0);
 z-index: 1;
 `),U("prev",`
 opacity: 0.4;
 transform: translateX(-100%) translateZ(-200px);
 `),U("next",`
 opacity: 0.4;
 transform: translateX(0%) translateZ(-200px);
 `)])])]);function qse(t){const{length:e}=t;return e>1&&(t.push(h6(t[0],0,"append")),t.unshift(h6(t[e-1],e-1,"prepend"))),t}function h6(t,e,n){return Qo(t,{key:`carousel-item-duplicate-${e}-${n}`})}function f6(t,e,n){return e===1?0:n?t===0?e-3:t===e-1?0:t-1:t}function Gw(t,e){return e?t+1:t}function Kse(t,e,n){return t<0?null:t===0?n?e-1:null:t-1}function Gse(t,e,n){return t>e-1?null:t===e-1?n?0:null:t+1}function Yse(t,e){return e&&t>3?t-2:t}function p6(t){return window.TouchEvent&&t instanceof window.TouchEvent}function m6(t,e){let{offsetWidth:n,offsetHeight:r}=t;if(e){const i=getComputedStyle(t);n=n-Number.parseFloat(i.getPropertyValue("padding-left"))-Number.parseFloat(i.getPropertyValue("padding-right")),r=r-Number.parseFloat(i.getPropertyValue("padding-top"))-Number.parseFloat(i.getPropertyValue("padding-bottom"))}return{width:n,height:r}}function $v(t,e,n){return t<e?e:t>n?n:t}function Xse(t){if(t===void 0)return 0;if(typeof t=="number")return t;const e=/^((\d+)?\.?\d+?)(ms|s)?$/,n=t.match(e);if(n){const[,r,,i="ms"]=n;return Number(r)*(i==="ms"?1:1e3)}return 0}const Qse=["transitionDuration","transitionTimingFunction"],yD=Object.assign(Object.assign({},Ve.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let Yw=!1;const Zse=le({name:"Carousel",props:yD,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=V(null),i=V(null),o=V([]),a={value:[]},s=L(()=>t.direction==="vertical"),l=L(()=>s.value?"height":"width"),c=L(()=>s.value?"bottom":"right"),u=L(()=>t.effect==="slide"),d=L(()=>t.loop&&t.slidesPerView===1&&u.value),h=L(()=>t.effect==="custom"),f=L(()=>!u.value||t.centeredSlides?1:t.slidesPerView),p=L(()=>h.value?1:t.slidesPerView),g=L(()=>f.value==="auto"||t.slidesPerView==="auto"&&t.centeredSlides),m=V({width:0,height:0}),y=V(0),b=L(()=>{const{value:Ie}=o;if(!Ie.length)return[];y.value;const{value:rt}=g;if(rt)return Ie.map(kt=>m6(kt));const{value:mt}=p,{value:Ft}=m,{value:Ht}=l;let Le=Ft[Ht];if(mt!=="auto"){const{spaceBetween:kt}=t,He=Le-(mt-1)*kt,at=1/Math.max(1,mt);Le=He*at}const ot=Object.assign(Object.assign({},Ft),{[Ht]:Le});return Ie.map(()=>ot)}),x=L(()=>{const{value:Ie}=b;if(!Ie.length)return[];const{centeredSlides:rt,spaceBetween:mt}=t,{value:Ft}=l,{[Ft]:Ht}=m.value;let Le=0;return Ie.map(({[Ft]:ot})=>{let kt=Le;return rt&&(kt+=(ot-Ht)/2),Le+=ot+mt,kt})}),w=V(!1),C=L(()=>{const{transitionStyle:Ie}=t;return Ie?Ri(Ie,Qse):{}}),S=L(()=>h.value?0:Xse(C.value.transitionDuration)),A=L(()=>{const{value:Ie}=o;if(!Ie.length)return[];const rt=!(g.value||p.value===1),mt=ot=>{if(rt){const{value:kt}=l;return{[kt]:`${b.value[ot][kt]}px`}}};if(h.value)return Ie.map((ot,kt)=>mt(kt));const{effect:Ft,spaceBetween:Ht}=t,{value:Le}=c;return Ie.reduce((ot,kt,He)=>{const at=Object.assign(Object.assign({},mt(He)),{[`margin-${Le}`]:`${Ht}px`});return ot.push(at),w.value&&(Ft==="fade"||Ft==="card")&&Object.assign(at,C.value),ot},[])}),T=L(()=>{const{value:Ie}=f,{length:rt}=o.value;if(Ie!=="auto")return Math.max(rt-Ie,0)+1;{const{value:mt}=b,{length:Ft}=mt;if(!Ft)return rt;const{value:Ht}=x,{value:Le}=l,ot=m.value[Le];let kt=mt[mt.length-1][Le],He=Ft;for(;He>1&&kt<ot;)He--,kt+=Ht[He]-Ht[He-1];return $v(He+1,1,Ft)}}),k=L(()=>Yse(T.value,d.value)),E=Gw(t.defaultIndex,d.value),P=V(f6(E,T.value,d.value)),_=Cn($e(t,"currentIndex"),P),F=L(()=>Gw(_.value,d.value));function N(Ie){var rt,mt;Ie=$v(Ie,0,T.value-1);const Ft=f6(Ie,T.value,d.value),{value:Ht}=_;Ft!==_.value&&(P.value=Ft,(rt=t["onUpdate:currentIndex"])===null||rt===void 0||rt.call(t,Ft,Ht),(mt=t.onUpdateCurrentIndex)===null||mt===void 0||mt.call(t,Ft,Ht))}function W(Ie=F.value){return Kse(Ie,T.value,t.loop)}function G(Ie=F.value){return Gse(Ie,T.value,t.loop)}function Z(Ie){const rt=re(Ie);return rt!==null&&W()===rt&&T.value>1}function ie(Ie){const rt=re(Ie);return rt!==null&&G()===rt&&T.value>1}function he(Ie){return F.value===re(Ie)}function xe(Ie){return _.value===Ie}function Q(){return W()===null}function X(){return G()===null}let K=0;function ne(Ie){const rt=$v(Gw(Ie,d.value),0,T.value);(Ie!==_.value||rt!==F.value)&&N(rt)}function ve(){const Ie=W();Ie!==null&&(K=-1,N(Ie))}function Se(){const Ie=G();Ie!==null&&(K=1,N(Ie))}let ye=!1;function Be(){(!ye||!d.value)&&ve()}function J(){(!ye||!d.value)&&Se()}let Ue=0;const Qe=V({});function ae(Ie,rt=0){Qe.value=Object.assign({},C.value,{transform:s.value?`translateY(${-Ie}px)`:`translateX(${-Ie}px)`,transitionDuration:`${rt}ms`})}function fe(Ie=0){u.value?ke(F.value,Ie):Ue!==0&&(!ye&&Ie>0&&(ye=!0),ae(Ue=0,Ie))}function ke(Ie,rt){const mt=Ke(Ie);mt!==Ue&&rt>0&&(ye=!0),Ue=Ke(F.value),ae(mt,rt)}function Ke(Ie){let rt;return Ie>=T.value-1?rt=Ne():rt=x.value[Ie]||0,rt}function Ne(){if(f.value==="auto"){const{value:Ie}=l,{[Ie]:rt}=m.value,{value:mt}=x,Ft=mt[mt.length-1];let Ht;if(Ft===void 0)Ht=rt;else{const{value:Le}=b;Ht=Ft+Le[Le.length-1][Ie]}return Ht-rt}else{const{value:Ie}=x;return Ie[T.value-1]||0}}const Ae={currentIndexRef:_,to:ne,prev:Be,next:J,isVertical:()=>s.value,isHorizontal:()=>!s.value,isPrev:Z,isNext:ie,isActive:he,isPrevDisabled:Q,isNextDisabled:X,getSlideIndex:re,getSlideStyle:me,addSlide:se,removeSlide:be,onCarouselItemClick:ft};Bse(Ae);function se(Ie){Ie&&o.value.push(Ie)}function be(Ie){if(!Ie)return;const rt=re(Ie);rt!==-1&&o.value.splice(rt,1)}function re(Ie){return typeof Ie=="number"?Ie:Ie?o.value.indexOf(Ie):-1}function me(Ie){const rt=re(Ie);if(rt!==-1){const mt=[A.value[rt]],Ft=Ae.isPrev(rt),Ht=Ae.isNext(rt);return Ft&&mt.push(t.prevSlideStyle||""),Ht&&mt.push(t.nextSlideStyle||""),Ig(mt)}}let De=0,ge=0,pe=0,Te=0,Xe=!1,Oe=!1;function ft(Ie,rt){let mt=!ye&&!Xe&&!Oe;t.effect==="card"&&mt&&!he(Ie)&&(ne(Ie),mt=!1),mt||(rt.preventDefault(),rt.stopPropagation())}let Lt=null;function Kt(){Lt&&(clearInterval(Lt),Lt=null)}function Dt(){Kt(),!t.autoplay||k.value<2||(Lt=window.setInterval(Se,t.interval))}function Ge(Ie){var rt;if(Yw||!(!((rt=i.value)===null||rt===void 0)&&rt.contains(ba(Ie))))return;Yw=!0,Xe=!0,Oe=!1,Te=Date.now(),Kt(),Ie.type!=="touchstart"&&!Ie.target.isContentEditable&&Ie.preventDefault();const mt=p6(Ie)?Ie.touches[0]:Ie;s.value?ge=mt.clientY:De=mt.clientX,t.touchable&&(wn("touchmove",document,en),wn("touchend",document,wt),wn("touchcancel",document,wt)),t.draggable&&(wn("mousemove",document,en),wn("mouseup",document,wt))}function en(Ie){const{value:rt}=s,{value:mt}=l,Ft=p6(Ie)?Ie.touches[0]:Ie,Ht=rt?Ft.clientY-ge:Ft.clientX-De,Le=m.value[mt];pe=$v(Ht,-Le,Le),Ie.cancelable&&Ie.preventDefault(),u.value&&ae(Ue-pe,0)}function wt(){const{value:Ie}=F;let rt=Ie;if(!ye&&pe!==0&&u.value){const mt=Ue-pe,Ft=[...x.value.slice(0,T.value-1),Ne()];let Ht=null;for(let Le=0;Le<Ft.length;Le++){const ot=Math.abs(Ft[Le]-mt);if(Ht!==null&&Ht<ot)break;Ht=ot,rt=Le}}if(rt===Ie){const mt=Date.now()-Te,{value:Ft}=l,Ht=m.value[Ft];pe>Ht/2||pe/mt>.4?ve():(pe<-Ht/2||pe/mt<-.4)&&Se()}rt!==null&&rt!==Ie?(Oe=!0,N(rt),vn(()=>{(!d.value||P.value!==_.value)&&fe(S.value)})):fe(S.value),_t(),Dt()}function _t(){Xe&&(Yw=!1),Xe=!1,De=0,ge=0,pe=0,Te=0,xn("touchmove",document,en),xn("touchend",document,wt),xn("touchcancel",document,wt),xn("mousemove",document,en),xn("mouseup",document,wt)}function ce(){if(u.value&&ye){const{value:Ie}=F;ke(Ie,0)}else Dt();u.value&&(Qe.value.transitionDuration="0ms"),ye=!1}function ue(Ie){if(Ie.preventDefault(),ye)return;let{deltaX:rt,deltaY:mt}=Ie;Ie.shiftKey&&!rt&&(rt=mt);const Ft=-1,Ht=1,Le=(rt||mt)>0?Ht:Ft;let ot=0,kt=0;s.value?kt=Le:ot=Le;const He=10;(kt*mt>=He||ot*rt>=He)&&(Le===Ht&&!X()?Se():Le===Ft&&!Q()&&ve())}function je(){m.value=m6(r.value,!0),Dt()}function st(){g.value&&y.value++}function lt(){t.autoplay&&Kt()}function _e(){t.autoplay&&Dt()}jn(()=>{er(Dt),requestAnimationFrame(()=>w.value=!0)}),ir(()=>{_t(),Kt()}),K1(()=>{const{value:Ie}=o,{value:rt}=a,mt=new Map,Ft=Le=>mt.has(Le)?mt.get(Le):-1;let Ht=!1;for(let Le=0;Le<Ie.length;Le++){const ot=rt.findIndex(kt=>kt.el===Ie[Le]);ot!==Le&&(Ht=!0),mt.set(Ie[Le],ot)}Ht&&Ie.sort((Le,ot)=>Ft(Le)-Ft(ot))}),qt(F,(Ie,rt)=>{if(Ie===rt){K=0;return}if(Dt(),u.value){if(d.value){const{value:mt}=T;K===-1&&rt===1&&Ie===mt-2?Ie=0:K===1&&rt===mt-2&&Ie===1&&(Ie=mt-1)}ke(Ie,S.value)}else fe();K=0},{immediate:!0}),qt([d,f],()=>void vn(()=>{N(F.value)})),qt(x,()=>{u.value&&fe()},{deep:!0}),qt(u,Ie=>{Ie?fe():(ye=!1,ae(Ue=0))});const tt=L(()=>({onTouchstartPassive:t.touchable?Ge:void 0,onMousedown:t.draggable?Ge:void 0,onWheel:t.mousewheel?ue:void 0})),Re=L(()=>Object.assign(Object.assign({},Ri(Ae,["to","prev","next","isPrevDisabled","isNextDisabled"])),{total:k.value,currentIndex:_.value})),Je=L(()=>({total:k.value,currentIndex:_.value,to:Ae.to})),St={getCurrentIndex:()=>_.value,to:ne,prev:ve,next:Se},Rt=Ve("Carousel","-carousel",Wse,$se,t,e),ze=L(()=>{const{common:{cubicBezierEaseInOut:Ie},self:{dotSize:rt,dotColor:mt,dotColorActive:Ft,dotColorFocus:Ht,dotLineWidth:Le,dotLineWidthActive:ot,arrowColor:kt}}=Rt.value;return{"--n-bezier":Ie,"--n-dot-color":mt,"--n-dot-color-focus":Ht,"--n-dot-color-active":Ft,"--n-dot-size":rt,"--n-dot-line-width":Le,"--n-dot-line-width-active":ot,"--n-arrow-color":kt}}),dt=n?Ot("carousel",void 0,ze,t):void 0;return Object.assign(Object.assign({mergedClsPrefix:e,selfElRef:r,slidesElRef:i,slideVNodes:a,duplicatedable:d,userWantsControl:h,autoSlideSize:g,realIndex:F,slideStyles:A,translateStyle:Qe,slidesControlListeners:tt,handleTransitionEnd:ce,handleResize:je,handleSlideResize:st,handleMouseenter:lt,handleMouseleave:_e,isActive:xe,arrowSlotProps:Re,dotSlotProps:Je},St),{cssVars:n?void 0:ze,themeClass:dt==null?void 0:dt.themeClass,onRender:dt==null?void 0:dt.onRender})},render(){var t;const{mergedClsPrefix:e,showArrow:n,userWantsControl:r,slideStyles:i,dotType:o,dotPlacement:a,slidesControlListeners:s,transitionProps:l={},arrowSlotProps:c,dotSlotProps:u,$slots:{default:d,dots:h,arrow:f}}=this,p=d&&pa(d())||[];let g=Jse(p);return g.length||(g=p.map(m=>v(vD,null,{default:()=>Qo(m)}))),this.duplicatedable&&(g=qse(g)),this.slideVNodes.value=g,this.autoSlideSize&&(g=g.map(m=>v($o,{onResize:this.handleSlideResize},{default:()=>m}))),(t=this.onRender)===null||t===void 0||t.call(this),v("div",Object.assign({ref:"selfElRef",class:[this.themeClass,`${e}-carousel`,this.direction==="vertical"&&`${e}-carousel--vertical`,this.showArrow&&`${e}-carousel--show-arrow`,`${e}-carousel--${a}`,`${e}-carousel--${this.direction}`,`${e}-carousel--${this.effect}`,r&&`${e}-carousel--usercontrol`],style:this.cssVars},s,{onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave}),v($o,{onResize:this.handleResize},{default:()=>v("div",{ref:"slidesElRef",class:`${e}-carousel__slides`,role:"listbox",style:this.translateStyle,onTransitionend:this.handleTransitionEnd},r?g.map((m,y)=>v("div",{style:i[y],key:y},ii(v(hr,Object.assign({},l),{default:()=>m}),[[ya,this.isActive(y)]]))):g)}),this.showDots&&u.total>1&&ui(h,u,()=>[v(jse,{key:o+a,total:u.total,currentIndex:u.currentIndex,dotType:o,trigger:this.trigger,keyboard:this.keyboard})]),n&&ui(f,c,()=>[v(Hse,null)]))}});function Jse(t){return t.reduce((e,n)=>(Vse(n)&&e.push(n),e),[])}const ele={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function tle(t){const{baseColor:e,inputColorDisabled:n,cardColor:r,modalColor:i,popoverColor:o,textColorDisabled:a,borderColor:s,primaryColor:l,textColor2:c,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:h,borderRadiusSmall:f,lineHeight:p}=t;return Object.assign(Object.assign({},ele),{labelLineHeight:p,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:h,borderRadius:f,color:e,colorChecked:l,colorDisabled:n,colorDisabledChecked:n,colorTableHeader:r,colorTableHeaderModal:i,colorTableHeaderPopover:o,checkMarkColor:e,checkMarkColorDisabled:a,checkMarkColorDisabledChecked:a,border:`1px solid ${s}`,borderDisabled:`1px solid ${s}`,borderDisabledChecked:`1px solid ${s}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${dn(l,{alpha:.3})}`,textColor:c,textColorDisabled:a})}const pp={name:"Checkbox",common:Bt,self:tle};function nle(t){const{borderRadius:e,boxShadow2:n,popoverColor:r,textColor2:i,textColor3:o,primaryColor:a,textColorDisabled:s,dividerColor:l,hoverColor:c,fontSizeMedium:u,heightMedium:d}=t;return{menuBorderRadius:e,menuColor:r,menuBoxShadow:n,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:o,optionHeight:d,optionFontSize:u,optionColorHover:c,optionTextColor:i,optionTextColorActive:a,optionTextColorDisabled:s,optionCheckMarkColor:a,loadingColor:a,columnWidth:"180px"}}const rle={name:"Cascader",common:Bt,peers:{InternalSelectMenu:hp,InternalSelection:cx,Scrollbar:Bo,Checkbox:pp,Empty:ed},self:nle},bD="n-checkbox-group",xD={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]},wD=le({name:"CheckboxGroup",props:xD,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=di(t),{mergedSizeRef:r,mergedDisabledRef:i}=n,o=V(t.defaultValue),a=L(()=>t.value),s=Cn(a,o),l=L(()=>{var d;return((d=s.value)===null||d===void 0?void 0:d.length)||0}),c=L(()=>Array.isArray(s.value)?new Set(s.value):new Set);function u(d,h){const{nTriggerFormInput:f,nTriggerFormChange:p}=n,{onChange:g,"onUpdate:value":m,onUpdateValue:y}=t;if(Array.isArray(s.value)){const b=Array.from(s.value),x=b.findIndex(w=>w===h);d?~x||(b.push(h),y&&Fe(y,b,{actionType:"check",value:h}),m&&Fe(m,b,{actionType:"check",value:h}),f(),p(),o.value=b,g&&Fe(g,b)):~x&&(b.splice(x,1),y&&Fe(y,b,{actionType:"uncheck",value:h}),m&&Fe(m,b,{actionType:"uncheck",value:h}),g&&Fe(g,b),o.value=b,f(),p())}else d?(y&&Fe(y,[h],{actionType:"check",value:h}),m&&Fe(m,[h],{actionType:"check",value:h}),g&&Fe(g,[h]),o.value=[h],f(),p()):(y&&Fe(y,[],{actionType:"uncheck",value:h}),m&&Fe(m,[],{actionType:"uncheck",value:h}),g&&Fe(g,[]),o.value=[],f(),p())}return zt(bD,{checkedCountRef:l,maxRef:$e(t,"max"),minRef:$e(t,"min"),valueSetRef:c,disabledRef:i,mergedSizeRef:r,toggleCheckbox:u}),{mergedClsPrefix:e}},render(){return v("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),ile=()=>v("svg",{viewBox:"0 0 64 64",class:"check-icon"},v("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),ole=()=>v("svg",{viewBox:"0 0 100 100",class:"line-icon"},v("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),ale=B([R("checkbox",`
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 line-height: var(--n-size);
 --n-merged-color-table: var(--n-color-table);
 `,[U("show-label","line-height: var(--n-label-line-height);"),B("&:hover",[R("checkbox-box",[H("border","border: var(--n-border-checked);")])]),B("&:focus:not(:active)",[R("checkbox-box",[H("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),U("inside-table",[R("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),U("checked",[R("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[R("checkbox-icon",[B(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),U("indeterminate",[R("checkbox-box",[R("checkbox-icon",[B(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),B(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),U("checked, indeterminate",[B("&:focus:not(:active)",[R("checkbox-box",[H("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),R("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[H("border",{border:"var(--n-border-checked)"})])]),U("disabled",{cursor:"not-allowed"},[U("checked",[R("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[H("border",{border:"var(--n-border-disabled-checked)"}),R("checkbox-icon",[B(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),R("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[H("border",`
 border: var(--n-border-disabled);
 `),R("checkbox-icon",[B(".check-icon, .line-icon",`
 fill: var(--n-check-mark-color-disabled);
 `)])]),H("label",`
 color: var(--n-text-color-disabled);
 `)]),R("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 -webkit-user-select: none;
 `),R("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[H("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),R("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[B(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),mo({left:"1px",top:"1px"})])]),H("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 `,[B("&:empty",{display:"none"})])]),_l(R("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),Tc(R("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]),CD=Object.assign(Object.assign({},Ve.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),Lc=le({name:"Checkbox",props:CD,setup(t){const e=ut(bD,null),n=V(null),{mergedClsPrefixRef:r,inlineThemeDisabled:i,mergedRtlRef:o}=gt(t),a=V(t.defaultChecked),l=Cn($e(t,"checked"),a),c=Yt(()=>{if(e){const S=e.valueSetRef.value;return S&&t.value!==void 0?S.has(t.value):!1}else return l.value===t.checkedValue}),u=di(t,{mergedSize(S){const{size:A}=t;if(A!==void 0)return A;if(e){const{value:T}=e.mergedSizeRef;if(T!==void 0)return T}if(S){const{mergedSize:T}=S;if(T!==void 0)return T.value}return"medium"},mergedDisabled(S){const{disabled:A}=t;if(A!==void 0)return A;if(e){if(e.disabledRef.value)return!0;const{maxRef:{value:T},checkedCountRef:k}=e;if(T!==void 0&&k.value>=T&&!c.value)return!0;const{minRef:{value:E}}=e;if(E!==void 0&&k.value<=E&&c.value)return!0}return S?S.disabled.value:!1}}),{mergedDisabledRef:d,mergedSizeRef:h}=u,f=Ve("Checkbox","-checkbox",ale,pp,t,r);function p(S){if(e&&t.value!==void 0)e.toggleCheckbox(!c.value,t.value);else{const{onChange:A,"onUpdate:checked":T,onUpdateChecked:k}=t,{nTriggerFormInput:E,nTriggerFormChange:P}=u,_=c.value?t.uncheckedValue:t.checkedValue;T&&Fe(T,_,S),k&&Fe(k,_,S),A&&Fe(A,_,S),E(),P(),a.value=_}}function g(S){d.value||p(S)}function m(S){if(!d.value)switch(S.key){case" ":case"Enter":p(S)}}function y(S){switch(S.key){case" ":S.preventDefault()}}const b={focus:()=>{var S;(S=n.value)===null||S===void 0||S.focus()},blur:()=>{var S;(S=n.value)===null||S===void 0||S.blur()}},x=or("Checkbox",o,r),w=L(()=>{const{value:S}=h,{common:{cubicBezierEaseInOut:A},self:{borderRadius:T,color:k,colorChecked:E,colorDisabled:P,colorTableHeader:_,colorTableHeaderModal:F,colorTableHeaderPopover:N,checkMarkColor:W,checkMarkColorDisabled:G,border:Z,borderFocus:ie,borderDisabled:he,borderChecked:xe,boxShadowFocus:Q,textColor:X,textColorDisabled:K,checkMarkColorDisabledChecked:ne,colorDisabledChecked:ve,borderDisabledChecked:Se,labelPadding:ye,labelLineHeight:Be,labelFontWeight:J,[We("fontSize",S)]:Ue,[We("size",S)]:Qe}}=f.value;return{"--n-label-line-height":Be,"--n-label-font-weight":J,"--n-size":Qe,"--n-bezier":A,"--n-border-radius":T,"--n-border":Z,"--n-border-checked":xe,"--n-border-focus":ie,"--n-border-disabled":he,"--n-border-disabled-checked":Se,"--n-box-shadow-focus":Q,"--n-color":k,"--n-color-checked":E,"--n-color-table":_,"--n-color-table-modal":F,"--n-color-table-popover":N,"--n-color-disabled":P,"--n-color-disabled-checked":ve,"--n-text-color":X,"--n-text-color-disabled":K,"--n-check-mark-color":W,"--n-check-mark-color-disabled":G,"--n-check-mark-color-disabled-checked":ne,"--n-font-size":Ue,"--n-label-padding":ye}}),C=i?Ot("checkbox",L(()=>h.value[0]),w,t):void 0;return Object.assign(u,b,{rtlEnabled:x,selfRef:n,mergedClsPrefix:r,mergedDisabled:d,renderedChecked:c,mergedTheme:f,labelId:Zo(),handleClick:g,handleKeyUp:m,handleKeyDown:y,cssVars:i?void 0:w,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender})},render(){var t;const{$slots:e,renderedChecked:n,mergedDisabled:r,indeterminate:i,privateInsideTable:o,cssVars:a,labelId:s,label:l,mergedClsPrefix:c,focusable:u,handleKeyUp:d,handleKeyDown:h,handleClick:f}=this;(t=this.onRender)===null||t===void 0||t.call(this);const p=bn(e.default,g=>l||g?v("span",{class:`${c}-checkbox__label`,id:s},l||g):null);return v("div",{ref:"selfRef",class:[`${c}-checkbox`,this.themeClass,this.rtlEnabled&&`${c}-checkbox--rtl`,n&&`${c}-checkbox--checked`,r&&`${c}-checkbox--disabled`,i&&`${c}-checkbox--indeterminate`,o&&`${c}-checkbox--inside-table`,p&&`${c}-checkbox--show-label`],tabindex:r||!u?void 0:0,role:"checkbox","aria-checked":i?"mixed":n,"aria-labelledby":s,style:a,onKeyup:d,onKeydown:h,onClick:f,onMousedown:()=>{wn("selectstart",window,g=>{g.preventDefault()},{once:!0})}},v("div",{class:`${c}-checkbox-box-wrapper`},"",v("div",{class:`${c}-checkbox-box`},v(Ll,null,{default:()=>this.indeterminate?v("div",{key:"indeterminate",class:`${c}-checkbox-icon`},ole()):v("div",{key:"check",class:`${c}-checkbox-icon`},ile())}),v("div",{class:`${c}-checkbox-box__border`}))),p)}}),Vg="n-cascader",g6=le({name:"NCascaderOption",props:{tmNode:{type:Object,required:!0}},setup(t){const{expandTriggerRef:e,remoteRef:n,multipleRef:r,mergedValueRef:i,checkedKeysRef:o,indeterminateKeysRef:a,hoverKeyPathRef:s,keyboardKeyRef:l,loadingKeySetRef:c,cascadeRef:u,mergedCheckStrategyRef:d,onLoadRef:h,mergedClsPrefixRef:f,mergedThemeRef:p,labelFieldRef:g,showCheckboxRef:m,renderPrefixRef:y,renderSuffixRef:b,updateHoverKey:x,updateKeyboardKey:w,addLoadingKey:C,deleteLoadingKey:S,closeMenu:A,doCheck:T,doUncheck:k,renderLabelRef:E}=ut(Vg),P=L(()=>t.tmNode.key),_=L(()=>{const{value:J}=e,{value:Ue}=n;return!Ue&&J==="hover"}),F=L(()=>{if(_.value)return ve}),N=L(()=>{if(_.value)return Se}),W=Yt(()=>{const{value:J}=r;return J?o.value.includes(P.value):i.value===P.value}),G=Yt(()=>r.value?a.value.includes(P.value):!1),Z=Yt(()=>s.value.includes(P.value)),ie=Yt(()=>{const{value:J}=l;return J===null?!1:J===P.value}),he=Yt(()=>n.value?c.value.has(P.value):!1),xe=L(()=>t.tmNode.isLeaf),Q=L(()=>t.tmNode.disabled),X=L(()=>t.tmNode.rawNode[g.value]),K=L(()=>t.tmNode.shallowLoaded);function ne(J){if(Q.value)return;const{value:Ue}=n,{value:Qe}=c,{value:ae}=h,{value:fe}=P,{value:ke}=xe,{value:Ke}=K;Zr(J,"checkbox")||(Ue&&!Ke&&!Qe.has(fe)&&ae&&(C(fe),ae(t.tmNode.rawNode).then(()=>{S(fe)}).catch(()=>{S(fe)})),x(fe),w(fe)),ke&&Be()}function ve(){if(!_.value||Q.value)return;const{value:J}=P;x(J),w(J)}function Se(){_.value&&ve()}function ye(){const{value:J}=xe;J||Be()}function Be(){const{value:J}=r,{value:Ue}=P;J?G.value||W.value?k(Ue):T(Ue):(T(Ue),A(!0))}return{checkStrategy:d,multiple:r,cascade:u,checked:W,indeterminate:G,hoverPending:Z,keyboardPending:ie,isLoading:he,showCheckbox:m,isLeaf:xe,disabled:Q,label:X,mergedClsPrefix:f,mergedTheme:p,handleClick:ne,handleCheckboxUpdateValue:ye,mergedHandleMouseEnter:F,mergedHandleMouseMove:N,renderLabel:E,renderPrefix:y,renderSuffix:b}},render(){const{mergedClsPrefix:t,showCheckbox:e,renderLabel:n,renderPrefix:r,renderSuffix:i}=this;let o=null;if(e||r){const l=this.showCheckbox?v(Lc,{focusable:!1,"data-checkbox":!0,disabled:this.disabled,checked:this.checked,indeterminate:this.indeterminate,theme:this.mergedTheme.peers.Checkbox,themeOverrides:this.mergedTheme.peerOverrides.Checkbox,onUpdateChecked:this.handleCheckboxUpdateValue}):null;o=v("div",{class:`${t}-cascader-option__prefix`},r?r({option:this.tmNode.rawNode,checked:this.checked,node:l}):l)}let a=null;const s=v("div",{class:`${t}-cascader-option-icon-placeholder`},this.isLeaf?this.checkStrategy==="child"&&!(this.multiple&&this.cascade)?v(hr,{name:"fade-in-scale-up-transition"},{default:()=>this.checked?v(Jt,{clsPrefix:t,class:`${t}-cascader-option-icon ${t}-cascader-option-icon--checkmark`},{default:()=>v(r4,null)}):null}):null:v($s,{clsPrefix:t,scale:.85,strokeWidth:24,show:this.isLoading,class:`${t}-cascader-option-icon`},{default:()=>v(Jt,{clsPrefix:t,key:"arrow",class:`${t}-cascader-option-icon ${t}-cascader-option-icon--arrow`},{default:()=>v(yh,null)})}));return a=v("div",{class:`${t}-cascader-option__suffix`},i?i({option:this.tmNode.rawNode,checked:this.checked,node:s}):s),v("div",{class:[`${t}-cascader-option`,this.keyboardPending||this.hoverPending&&`${t}-cascader-option--pending`,this.disabled&&`${t}-cascader-option--disabled`,this.showCheckbox&&`${t}-cascader-option--show-prefix`],onMouseenter:this.mergedHandleMouseEnter,onMousemove:this.mergedHandleMouseMove,onClick:this.handleClick},o,v("span",{class:`${t}-cascader-option__label`},n?n(this.tmNode.rawNode,this.checked):this.label),a)}}),sle=le({name:"CascaderSubmenu",props:{depth:{type:Number,required:!0},tmNodes:{type:Array,required:!0}},setup(){const{virtualScrollRef:t,mergedClsPrefixRef:e,mergedThemeRef:n,optionHeightRef:r}=ut(Vg),i=V(null),o=V(null),a={scroll(s,l){var c,u;t.value?(c=o.value)===null||c===void 0||c.scrollTo({index:s}):(u=i.value)===null||u===void 0||u.scrollTo({index:s,elSize:l})}};return Object.assign({mergedClsPrefix:e,mergedTheme:n,scrollbarInstRef:i,vlInstRef:o,virtualScroll:t,itemSize:L(()=>pr(r.value)),handleVlScroll:()=>{var s;(s=i.value)===null||s===void 0||s.sync()},getVlContainer:()=>{var s;return(s=o.value)===null||s===void 0?void 0:s.listElRef},getVlContent:()=>{var s;return(s=o.value)===null||s===void 0?void 0:s.itemsElRef}},a)},render(){const{mergedClsPrefix:t,mergedTheme:e,virtualScroll:n}=this;return v("div",{class:[n&&`${t}-cascader-submenu--virtual`,`${t}-cascader-submenu`]},v(Hr,{ref:"scrollbarInstRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:n?this.getVlContainer:void 0,content:n?this.getVlContent:void 0},{default:()=>n?v(Os,{items:this.tmNodes,itemSize:this.itemSize,onScroll:this.handleVlScroll,showScrollbar:!1,ref:"vlInstRef"},{default:({item:r})=>v(g6,{key:r.key,tmNode:r})}):this.tmNodes.map(r=>v(g6,{key:r.key,tmNode:r}))}))}}),lle=le({name:"NCascaderMenu",props:{value:[String,Number,Array],placement:{type:String,default:"bottom-start"},show:Boolean,menuModel:{type:Array,required:!0},loading:Boolean,onFocus:{type:Function,required:!0},onBlur:{type:Function,required:!0},onKeydown:{type:Function,required:!0},onMousedown:{type:Function,required:!0},onTabout:{type:Function,required:!0}},setup(t){const{localeRef:e,isMountedRef:n,mergedClsPrefixRef:r,syncCascaderMenuPosition:i,handleCascaderMenuClickOutside:o,mergedThemeRef:a,getColumnStyleRef:s}=ut(Vg),l=[],c=V(null),u=V(null);function d(){i()}tx(u,d);function h(y){var b;const{value:{loadingRequiredMessage:x}}=e;(b=c.value)===null||b===void 0||b.showOnce(x(y))}function f(y){o(y)}function p(y){const{value:b}=u;b&&(b.contains(y.relatedTarget)||t.onFocus(y))}function g(y){const{value:b}=u;b&&(b.contains(y.relatedTarget)||t.onBlur(y))}return Object.assign({isMounted:n,mergedClsPrefix:r,selfElRef:u,submenuInstRefs:l,maskInstRef:c,mergedTheme:a,getColumnStyle:s,handleFocusin:p,handleFocusout:g,handleClickOutside:f},{scroll(y,b,x){const w=l[y];w&&w.scroll(b,x)},showErrorMessage:h})},render(){const{submenuInstRefs:t,mergedClsPrefix:e,mergedTheme:n}=this;return v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.show?ii(v("div",{tabindex:"0",ref:"selfElRef",class:`${e}-cascader-menu`,onMousedown:this.onMousedown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeydown:this.onKeydown},this.menuModel[0].length?v("div",{class:`${e}-cascader-submenu-wrapper`},this.menuModel.map((r,i)=>{var o;return v(sle,{style:(o=this.getColumnStyle)===null||o===void 0?void 0:o.call(this,{level:i}),ref:a=>{a&&(t[i]=a)},key:i,tmNodes:r,depth:i+1})}),v(xre,{clsPrefix:e,ref:"maskInstRef"})):v("div",{class:`${e}-cascader-menu__empty`},sn(this.$slots.empty,()=>[v(yc,{theme:n.peers.Empty,themeOverrides:n.peerOverrides.Empty})])),bn(this.$slots.action,r=>r&&v("div",{class:`${e}-cascader-menu-action`,"data-action":!0},r)),v(Ol,{onFocus:this.onTabout})),[[xa,this.handleClickOutside,void 0,{capture:!0}]]):null})}});function Bv(t){return t?t.map(e=>e.rawNode):null}function cle(t,e,n,r){const i=[],o=[];function a(s){for(const l of s){if(l.disabled)continue;const{rawNode:c}=l;o.push(c),(l.isLeaf||!e)&&i.push({label:kA(l,r,n),value:l.key,rawNode:l.rawNode,path:Array.from(o)}),!l.isLeaf&&l.children&&a(l.children),o.pop()}}return a(t),i}function kA(t,e,n){const r=[];for(;t;)r.push(t.rawNode[n]),t=t.parent;return r.reverse().join(e)}const ule=le({name:"NCascaderSelectMenu",props:{value:{type:[String,Number,Array],default:null},show:Boolean,pattern:{type:String,default:""},multiple:Boolean,tmNodes:{type:Array,default:()=>[]},filter:Function,labelField:{type:String,required:!0},separator:{type:String,required:!0}},setup(t){const{isMountedRef:e,mergedValueRef:n,mergedClsPrefixRef:r,mergedThemeRef:i,mergedCheckStrategyRef:o,slots:a,syncSelectMenuPosition:s,closeMenu:l,handleSelectMenuClickOutside:c,doUncheck:u,doCheck:d,clearPattern:h}=ut(Vg),f=V(null),p=L(()=>cle(t.tmNodes,o.value==="child",t.labelField,t.separator)),g=L(()=>{const{filter:E}=t;if(E)return E;const{labelField:P}=t;return(_,F,N)=>N.some(W=>W[P]&&~W[P].toLowerCase().indexOf(_.toLowerCase()))}),m=L(()=>{const{pattern:E}=t,{value:P}=g;return(E?p.value.filter(_=>P(E,_.rawNode,_.path)):p.value).map(_=>({value:_.value,label:_.label}))}),y=L(()=>ma(m.value,ux("value","children")));function b(){s()}function x(E){w(E)}function w(E){if(t.multiple){const{value:P}=n;Array.isArray(P)?P.includes(E.key)?u(E.key):d(E.key):P===null&&d(E.key),h()}else d(E.key),l(!0)}function C(){var E;(E=f.value)===null||E===void 0||E.prev()}function S(){var E;(E=f.value)===null||E===void 0||E.next()}function A(){var E;if(f){const P=(E=f.value)===null||E===void 0?void 0:E.getPendingTmNode();return P&&w(P),!0}return!1}function T(E){c(E)}return Object.assign({isMounted:e,mergedTheme:i,mergedClsPrefix:r,menuInstRef:f,selectTreeMate:y,handleResize:b,handleToggle:x,handleClickOutside:T,cascaderSlots:a},{prev:C,next:S,enter:A})},render(){const{mergedClsPrefix:t,isMounted:e,mergedTheme:n,cascaderSlots:r}=this;return v(hr,{name:"fade-in-scale-up-transition",appear:e},{default:()=>this.show?ii(v(Ug,{ref:"menuInstRef",onResize:this.handleResize,clsPrefix:t,class:`${t}-cascader-menu`,autoPending:!0,themeOverrides:n.peerOverrides.InternalSelectMenu,theme:n.peers.InternalSelectMenu,treeMate:this.selectTreeMate,multiple:this.multiple,value:this.value,onToggle:this.handleToggle},{empty:()=>sn(r["not-found"],()=>[])}),[[xa,this.handleClickOutside,void 0,{capture:!0}]]):null})}}),dle=B([R("cascader-menu",`
 outline: none;
 position: relative;
 margin: 4px 0;
 display: flex;
 flex-flow: column nowrap;
 border-radius: var(--n-menu-border-radius);
 overflow: hidden;
 box-shadow: var(--n-menu-box-shadow);
 color: var(--n-option-text-color);
 background-color: var(--n-menu-color);
 `,[Qi({transformOrigin:"inherit",duration:"0.2s"}),H("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),R("scrollbar",`
 width: 100%;
 `),R("base-menu-mask",`
 background-color: var(--n-menu-mask-color);
 `),R("base-loading",`
 color: var(--n-loading-color);
 `),R("cascader-submenu-wrapper",`
 position: relative;
 display: flex;
 flex-wrap: nowrap;
 `),R("cascader-submenu",`
 height: var(--n-menu-height);
 min-width: var(--n-column-width);
 position: relative;
 `,[U("virtual",`
 width: var(--n-column-width);
 `),R("scrollbar-content",`
 position: relative;
 `),B("&:first-child",`
 border-top-left-radius: var(--n-menu-border-radius);
 border-bottom-left-radius: var(--n-menu-border-radius);
 `),B("&:last-child",`
 border-top-right-radius: var(--n-menu-border-radius);
 border-bottom-right-radius: var(--n-menu-border-radius);
 `),B("&:not(:first-child)",`
 border-left: 1px solid var(--n-menu-divider-color);
 `)]),R("cascader-menu-action",`
 box-sizing: border-box;
 padding: 8px;
 border-top: 1px solid var(--n-menu-divider-color);
 `),R("cascader-option",`
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 padding: 0 0 0 18px;
 box-sizing: border-box;
 min-width: 182px;
 background-color: #0000;
 display: flex;
 align-items: center;
 white-space: nowrap;
 position: relative;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color 0.2s var(--n-bezier);
 `,[U("show-prefix",`
 padding-left: 0;
 `),H("label",`
 flex: 1 0 0;
 overflow: hidden;
 text-overflow: ellipsis;
 `),H("prefix",`
 min-width: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
 `),H("suffix",`
 min-width: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
 `),R("cascader-option-icon-placeholder",`
 line-height: 0;
 position: relative;
 width: 16px;
 height: 16px;
 font-size: 16px;
 `,[R("cascader-option-icon",[U("checkmark",`
 color: var(--n-option-check-mark-color);
 `,[Qi({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})]),U("arrow",`
 color: var(--n-option-arrow-color);
 `)])]),U("selected",`
 color: var(--n-option-text-color-active);
 `),U("active",`
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-hover);
 `),U("pending",`
 background-color: var(--n-option-color-hover);
 `),B("&:hover",`
 background-color: var(--n-option-color-hover);
 `),U("disabled",`
 color: var(--n-option-text-color-disabled);
 background-color: #0000;
 cursor: not-allowed;
 `,[R("cascader-option-icon",[U("arrow",`
 color: var(--n-option-text-color-disabled);
 `)])])])]),R("cascader",`
 z-index: auto;
 position: relative;
 width: 100%;
 `)]),AD=Object.assign(Object.assign({},Ve.props),{allowCheckingNotLoaded:Boolean,to:vr.propTo,bordered:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},value:[String,Number,Array],defaultValue:{type:[String,Number,Array],default:null},placeholder:String,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},disabledField:{type:String,default:"disabled"},expandTrigger:{type:String,default:"click"},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},remote:Boolean,onLoad:Function,separator:{type:String,default:" / "},filter:Function,placement:{type:String,default:"bottom-start"},cascade:{type:Boolean,default:!0},leafOnly:Boolean,showPath:{type:Boolean,default:!0},show:{type:Boolean,default:void 0},maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,menuProps:Object,filterMenuProps:Object,virtualScroll:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},valueField:{type:String,default:"value"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},renderLabel:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onBlur:Function,onFocus:Function,getColumnStyle:Function,renderPrefix:Function,renderSuffix:Function,onChange:[Function,Array]}),hle=le({name:"Cascader",props:AD,slots:Object,setup(t,{slots:e}){const{mergedBorderedRef:n,mergedClsPrefixRef:r,namespaceRef:i,inlineThemeDisabled:o}=gt(t),a=Ve("Cascader","-cascader",dle,rle,t,r),{localeRef:s}=li("Cascader"),l=V(t.defaultValue),c=L(()=>t.value),u=Cn(c,l),d=L(()=>t.leafOnly?"child":t.checkStrategy),h=V(""),f=di(t),{mergedSizeRef:p,mergedDisabledRef:g,mergedStatusRef:m}=f,y=V(null),b=V(null),x=V(null),w=V(null),C=V(null),S=V(new Set),A=V(null),T=V(null),k=vr(t),E=V(!1),P=Re=>{S.value.add(Re)},_=Re=>{S.value.delete(Re)},F=L(()=>{const{valueField:Re,childrenField:Je,disabledField:St}=t;return ma(t.options,{getDisabled(Rt){return Rt[St]},getKey(Rt){return Rt[Re]},getChildren(Rt){return Rt[Je]}})}),N=L(()=>{const{cascade:Re,multiple:Je}=t;return Je&&Array.isArray(u.value)?F.value.getCheckedKeys(u.value,{cascade:Re,allowNotLoaded:t.allowCheckingNotLoaded}):{checkedKeys:[],indeterminateKeys:[]}}),W=L(()=>N.value.checkedKeys),G=L(()=>N.value.indeterminateKeys),Z=L(()=>{const{treeNodePath:Re,treeNode:Je}=F.value.getPath(C.value);let St;return Je===null?St=[F.value.treeNodes]:(St=Re.map(Rt=>Rt.siblings),!Je.isLeaf&&!S.value.has(Je.key)&&Je.children&&St.push(Je.children)),St}),ie=L(()=>{const{keyPath:Re}=F.value.getPath(C.value);return Re}),he=L(()=>a.value.self.optionHeight);Cu(t.options)&&qt(t.options,(Re,Je)=>{Re!==Je&&(C.value=null,w.value=null)});const xe=V(!1);function Q(Re){const{onUpdateShow:Je,"onUpdate:show":St}=t;Je&&Fe(Je,Re),St&&Fe(St,Re),xe.value=Re}function X(Re,Je,St){const{onUpdateValue:Rt,"onUpdate:value":ze,onChange:dt}=t,{nTriggerFormInput:Ie,nTriggerFormChange:rt}=f;Rt&&Fe(Rt,Re,Je,St),ze&&Fe(ze,Re,Je,St),dt&&Fe(dt,Re,Je,St),l.value=Re,Ie(),rt()}function K(Re){w.value=Re}function ne(Re){C.value=Re}function ve(Re){const{value:{getNode:Je}}=F;return Re.map(St=>{var Rt;return((Rt=Je(St))===null||Rt===void 0?void 0:Rt.rawNode)||null})}function Se(Re){var Je;const{cascade:St,multiple:Rt,filterable:ze}=t,{value:{check:dt,getNode:Ie,getPath:rt}}=F;if(Rt)try{const{checkedKeys:mt}=dt(Re,N.value.checkedKeys,{cascade:St,checkStrategy:d.value,allowNotLoaded:t.allowCheckingNotLoaded});X(mt,ve(mt),mt.map(Ft=>{var Ht;return Bv((Ht=rt(Ft))===null||Ht===void 0?void 0:Ht.treeNodePath)})),ze&&Ne(),w.value=Re,C.value=Re}catch(mt){if(mt instanceof sO){if(y.value){const Ft=Ie(Re);Ft!==null&&y.value.showErrorMessage(Ft.rawNode[t.labelField])}}else throw mt}else if(d.value==="child"){const mt=Ie(Re);if(mt!=null&&mt.isLeaf)X(Re,mt.rawNode,Bv(rt(Re).treeNodePath));else return!1}else{const mt=Ie(Re);X(Re,(mt==null?void 0:mt.rawNode)||null,Bv((Je=rt(Re))===null||Je===void 0?void 0:Je.treeNodePath))}return!0}function ye(Re){const{cascade:Je,multiple:St}=t;if(St){const{value:{uncheck:Rt,getNode:ze,getPath:dt}}=F,{checkedKeys:Ie}=Rt(Re,N.value.checkedKeys,{cascade:Je,checkStrategy:d.value,allowNotLoaded:t.allowCheckingNotLoaded});X(Ie,Ie.map(rt=>{var mt;return((mt=ze(rt))===null||mt===void 0?void 0:mt.rawNode)||null}),Ie.map(rt=>{var mt;return Bv((mt=dt(rt))===null||mt===void 0?void 0:mt.treeNodePath)})),w.value=Re,C.value=Re}}const Be=L(()=>{if(t.multiple){const{showPath:Re,separator:Je,labelField:St,cascade:Rt}=t,{getCheckedKeys:ze,getNode:dt}=F.value;return ze(W.value,{cascade:Rt,checkStrategy:d.value,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys.map(rt=>{const mt=dt(rt);return mt===null?{label:String(rt),value:rt}:{label:Re?kA(mt,Je,St):mt.rawNode[St],value:mt.key}})}else return[]}),J=L(()=>{const{multiple:Re,showPath:Je,separator:St,labelField:Rt}=t,{value:ze}=u;if(!Re&&!Array.isArray(ze)){const{getNode:dt}=F.value;if(ze===null)return null;const Ie=dt(ze);return Ie===null?{label:String(ze),value:ze}:{label:Je?kA(Ie,St,Rt):Ie.rawNode[Rt],value:Ie.key}}else return null}),Qe=Cn($e(t,"show"),xe),ae=L(()=>{const{placeholder:Re}=t;return Re!==void 0?Re:s.value.placeholder}),fe=L(()=>!!(t.filterable&&h.value));qt(Qe,Re=>{if(!Re||t.multiple)return;const{value:Je}=u;!Array.isArray(Je)&&Je!==null?(w.value=Je,C.value=Je,vn(()=>{var St;if(!Qe.value)return;const{value:Rt}=C;if(u.value!==null){const ze=F.value.getNode(Rt);ze&&((St=y.value)===null||St===void 0||St.scroll(ze.level,ze.index,pr(he.value)))}})):(w.value=null,C.value=null)},{immediate:!0});function ke(Re){const{onBlur:Je}=t,{nTriggerFormBlur:St}=f;Je&&Fe(Je,Re),St()}function Ke(Re){const{onFocus:Je}=t,{nTriggerFormFocus:St}=f;Je&&Fe(Je,Re),St()}function Ne(){var Re;(Re=x.value)===null||Re===void 0||Re.focusInput()}function Ae(){var Re;(Re=x.value)===null||Re===void 0||Re.focus()}function se(){g.value||(h.value="",Q(!0),t.filterable&&Ne())}function be(Re=!1){Re&&Ae(),Q(!1),h.value=""}function re(Re){var Je;fe.value||Qe.value&&(!((Je=x.value)===null||Je===void 0)&&Je.$el.contains(ba(Re))||be())}function me(Re){fe.value&&re(Re)}function De(){t.clearFilterAfterSelect&&(h.value="")}function ge(Re){var Je,St,Rt;const{value:ze}=w,{value:dt}=F;switch(Re){case"prev":if(ze!==null){const Ie=dt.getPrev(ze,{loop:!0});Ie!==null&&(K(Ie.key),(Je=y.value)===null||Je===void 0||Je.scroll(Ie.level,Ie.index,pr(he.value)))}break;case"next":if(ze===null){const Ie=dt.getFirstAvailableNode();Ie!==null&&(K(Ie.key),(St=y.value)===null||St===void 0||St.scroll(Ie.level,Ie.index,pr(he.value)))}else{const Ie=dt.getNext(ze,{loop:!0});Ie!==null&&(K(Ie.key),(Rt=y.value)===null||Rt===void 0||Rt.scroll(Ie.level,Ie.index,pr(he.value)))}break;case"child":if(ze!==null){const Ie=dt.getNode(ze);if(Ie!==null)if(Ie.shallowLoaded){const rt=dt.getChild(ze);rt!==null&&(ne(ze),K(rt.key))}else{const{value:rt}=S;if(!rt.has(ze)){P(ze),ne(ze);const{onLoad:mt}=t;mt&&mt(Ie.rawNode).then(()=>{_(ze)}).catch(()=>{_(ze)})}}}break;case"parent":if(ze!==null){const Ie=dt.getParent(ze);if(Ie!==null){K(Ie.key);const rt=Ie.getParent();ne(rt===null?null:rt.key)}}break}}function pe(Re){var Je,St;switch(Re.key){case" ":case"ArrowDown":case"ArrowUp":if(t.filterable&&Qe.value)break;Re.preventDefault();break}if(!Zr(Re,"action"))switch(Re.key){case" ":if(t.filterable)return;case"Enter":if(!Qe.value)se();else{const{value:Rt}=fe,{value:ze}=w;if(Rt)b.value&&b.value.enter()&&De();else if(ze!==null)if(W.value.includes(ze)||G.value.includes(ze))ye(ze);else{const dt=Se(ze);!t.multiple&&dt&&be(!0)}}break;case"ArrowUp":Re.preventDefault(),Qe.value&&(fe.value?(Je=b.value)===null||Je===void 0||Je.prev():ge("prev"));break;case"ArrowDown":Re.preventDefault(),Qe.value?fe.value?(St=b.value)===null||St===void 0||St.next():ge("next"):se();break;case"ArrowLeft":Re.preventDefault(),Qe.value&&!fe.value&&ge("parent");break;case"ArrowRight":Re.preventDefault(),Qe.value&&!fe.value&&ge("child");break;case"Escape":Qe.value&&(rh(Re),be(!0))}}function Te(Re){pe(Re)}function Xe(Re){Re.stopPropagation(),t.multiple?X([],[],[]):X(null,null,null)}function Oe(Re){var Je;!((Je=y.value)===null||Je===void 0)&&Je.$el.contains(Re.relatedTarget)||(E.value=!0,Ke(Re))}function ft(Re){var Je;!((Je=y.value)===null||Je===void 0)&&Je.$el.contains(Re.relatedTarget)||(E.value=!1,ke(Re),be())}function Lt(Re){var Je;!((Je=x.value)===null||Je===void 0)&&Je.$el.contains(Re.relatedTarget)||(E.value=!0,Ke(Re))}function Kt(Re){var Je;!((Je=x.value)===null||Je===void 0)&&Je.$el.contains(Re.relatedTarget)||(E.value=!1,ke(Re))}function Dt(Re){Zr(Re,"action")||t.multiple&&t.filter&&(Re.preventDefault(),Ne())}function Ge(){be(!0)}function en(){t.filterable?se():Qe.value?be(!0):se()}function wt(Re){h.value=Re.target.value}function _t(Re){const{multiple:Je}=t,{value:St}=u;Je&&Array.isArray(St)&&Re.value!==void 0?ye(Re.value):X(null,null,null)}function ce(){var Re;(Re=A.value)===null||Re===void 0||Re.syncPosition()}function ue(){var Re;(Re=T.value)===null||Re===void 0||Re.syncPosition()}function je(){Qe.value&&(fe.value?ce():ue())}const st=L(()=>!!(t.multiple&&t.cascade||d.value!=="child"));zt(Vg,{slots:e,mergedClsPrefixRef:r,mergedThemeRef:a,mergedValueRef:u,checkedKeysRef:W,indeterminateKeysRef:G,hoverKeyPathRef:ie,mergedCheckStrategyRef:d,showCheckboxRef:st,cascadeRef:$e(t,"cascade"),multipleRef:$e(t,"multiple"),keyboardKeyRef:w,hoverKeyRef:C,remoteRef:$e(t,"remote"),loadingKeySetRef:S,expandTriggerRef:$e(t,"expandTrigger"),isMountedRef:co(),onLoadRef:$e(t,"onLoad"),virtualScrollRef:$e(t,"virtualScroll"),optionHeightRef:he,localeRef:s,labelFieldRef:$e(t,"labelField"),renderLabelRef:$e(t,"renderLabel"),getColumnStyleRef:$e(t,"getColumnStyle"),renderPrefixRef:$e(t,"renderPrefix"),renderSuffixRef:$e(t,"renderSuffix"),syncCascaderMenuPosition:ue,syncSelectMenuPosition:ce,updateKeyboardKey:K,updateHoverKey:ne,addLoadingKey:P,deleteLoadingKey:_,doCheck:Se,doUncheck:ye,closeMenu:be,handleSelectMenuClickOutside:me,handleCascaderMenuClickOutside:re,clearPattern:De});const lt={focus:()=>{var Re;(Re=x.value)===null||Re===void 0||Re.focus()},blur:()=>{var Re;(Re=x.value)===null||Re===void 0||Re.blur()},getCheckedData:()=>{if(st.value){const Re=W.value;return{keys:Re,options:ve(Re)}}return{keys:[],options:[]}},getIndeterminateData:()=>{if(st.value){const Re=G.value;return{keys:Re,options:ve(Re)}}return{keys:[],options:[]}}},_e=L(()=>{const{self:{optionArrowColor:Re,optionTextColor:Je,optionTextColorActive:St,optionTextColorDisabled:Rt,optionCheckMarkColor:ze,menuColor:dt,menuBoxShadow:Ie,menuDividerColor:rt,menuBorderRadius:mt,menuHeight:Ft,optionColorHover:Ht,optionHeight:Le,optionFontSize:ot,loadingColor:kt,columnWidth:He},common:{cubicBezierEaseInOut:at}}=a.value;return{"--n-bezier":at,"--n-menu-border-radius":mt,"--n-menu-box-shadow":Ie,"--n-menu-height":Ft,"--n-column-width":He,"--n-menu-color":dt,"--n-menu-divider-color":rt,"--n-option-height":Le,"--n-option-font-size":ot,"--n-option-text-color":Je,"--n-option-text-color-disabled":Rt,"--n-option-text-color-active":St,"--n-option-color-hover":Ht,"--n-option-check-mark-color":ze,"--n-option-arrow-color":Re,"--n-menu-mask-color":dn(dt,{alpha:.75}),"--n-loading-color":kt}}),tt=o?Ot("cascader",void 0,_e,t):void 0;return Object.assign(Object.assign({},lt),{handleTriggerResize:je,mergedStatus:m,selectMenuFollowerRef:A,cascaderMenuFollowerRef:T,triggerInstRef:x,selectMenuInstRef:b,cascaderMenuInstRef:y,mergedBordered:n,mergedClsPrefix:r,namespace:i,mergedValue:u,mergedShow:Qe,showSelectMenu:fe,pattern:h,treeMate:F,mergedSize:p,mergedDisabled:g,localizedPlaceholder:ae,selectedOption:J,selectedOptions:Be,adjustedTo:k,menuModel:Z,handleMenuTabout:Ge,handleMenuFocus:Lt,handleMenuBlur:Kt,handleMenuKeydown:Te,handleMenuMousedown:Dt,handleTriggerFocus:Oe,handleTriggerBlur:ft,handleTriggerClick:en,handleClear:Xe,handleDeleteOption:_t,handlePatternInput:wt,handleKeydown:pe,focused:E,optionHeight:he,mergedTheme:a,cssVars:o?void 0:_e,themeClass:tt==null?void 0:tt.themeClass,onRender:tt==null?void 0:tt.onRender})},render(){const{mergedClsPrefix:t}=this;return v("div",{class:`${t}-cascader`},v(us,null,{default:()=>[v(ds,null,{default:()=>v(s4,{onResize:this.handleTriggerResize,ref:"triggerInstRef",status:this.mergedStatus,clsPrefix:t,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,active:this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,focused:this.focused,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onClear:this.handleClear,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onKeydown:this.handleKeydown},{arrow:()=>{var e,n;return(n=(e=this.$slots).arrow)===null||n===void 0?void 0:n.call(e)}})}),v(Na,{key:"cascaderMenu",ref:"cascaderMenuFollowerRef",show:this.mergedShow&&!this.showSelectMenu,containerClass:this.namespace,placement:this.placement,width:this.options.length?void 0:"target",teleportDisabled:this.adjustedTo===vr.tdkey,to:this.adjustedTo},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{menuProps:n}=this;return v(lle,Object.assign({},n,{ref:"cascaderMenuInstRef",class:[this.themeClass,n==null?void 0:n.class],value:this.mergedValue,show:this.mergedShow&&!this.showSelectMenu,menuModel:this.menuModel,style:[this.cssVars,n==null?void 0:n.style],onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onMousedown:this.handleMenuMousedown,onTabout:this.handleMenuTabout}),{action:()=>{var r,i;return(i=(r=this.$slots).action)===null||i===void 0?void 0:i.call(r)},empty:()=>{var r,i;return(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)}})}}),v(Na,{key:"selectMenu",ref:"selectMenuFollowerRef",show:this.mergedShow&&this.showSelectMenu,containerClass:this.namespace,width:"target",placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===vr.tdkey},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{filterMenuProps:n}=this;return v(ule,Object.assign({},n,{ref:"selectMenuInstRef",class:[this.themeClass,n==null?void 0:n.class],value:this.mergedValue,show:this.mergedShow&&this.showSelectMenu,pattern:this.pattern,multiple:this.multiple,tmNodes:this.treeMate.treeNodes,filter:this.filter,labelField:this.labelField,separator:this.separator,style:[this.cssVars,n==null?void 0:n.style]}))}})]}))}});function fle(t){const{textColor2:e,fontSize:n,fontWeightStrong:r,textColor3:i}=t;return{textColor:e,fontSize:n,fontWeightStrong:r,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:i}}const SD={name:"Code",common:Bt,self:fle},ple=B([R("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[U("show-line-numbers",`
 display: flex;
 `),H("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),U("word-wrap",[B("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),B("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),B("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:t})=>{const e=`${t.bPrefix}code`;return[`${e} .hljs-comment,
 ${e} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${e} .hljs-doctag,
 ${e} .hljs-keyword,
 ${e} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${e} .hljs-section,
 ${e} .hljs-name,
 ${e} .hljs-selector-tag,
 ${e} .hljs-deletion,
 ${e} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${e} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${e} .hljs-string,
 ${e} .hljs-regexp,
 ${e} .hljs-addition,
 ${e} .hljs-attribute,
 ${e} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${e} .hljs-built_in,
 ${e} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${e} .hljs-attr,
 ${e} .hljs-variable,
 ${e} .hljs-template-variable,
 ${e} .hljs-type,
 ${e} .hljs-selector-class,
 ${e} .hljs-selector-attr,
 ${e} .hljs-selector-pseudo,
 ${e} .hljs-number {
 color: var(--n-hue-6);
 }`,`${e} .hljs-symbol,
 ${e} .hljs-bullet,
 ${e} .hljs-link,
 ${e} .hljs-meta,
 ${e} .hljs-selector-id,
 ${e} .hljs-title {
 color: var(--n-hue-2);
 }`,`${e} .hljs-emphasis {
 font-style: italic;
 }`,`${e} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${e} .hljs-link {
 text-decoration: underline;
 }`]}]),kD=Object.assign(Object.assign({},Ve.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),ED=le({name:"Code",props:kD,setup(t,{slots:e}){const{internalNoHighlight:n}=t,{mergedClsPrefixRef:r,inlineThemeDisabled:i}=gt(),o=V(null),a=n?{value:void 0}:eM(t),s=(f,p,g)=>{const{value:m}=a;return!m||!(f&&m.getLanguage(f))?null:m.highlight(g?p.trim():p,{language:f}).value},l=L(()=>t.inline||t.wordWrap?!1:t.showLineNumbers),c=()=>{if(e.default)return;const{value:f}=o;if(!f)return;const{language:p}=t,g=t.uri?window.decodeURIComponent(t.code):t.code;if(p){const y=s(p,g,t.trim);if(y!==null){if(t.inline)f.innerHTML=y;else{const b=f.querySelector(".__code__");b&&f.removeChild(b);const x=document.createElement("pre");x.className="__code__",x.innerHTML=y,f.appendChild(x)}return}}if(t.inline){f.textContent=g;return}const m=f.querySelector(".__code__");if(m)m.textContent=g;else{const y=document.createElement("pre");y.className="__code__",y.textContent=g,f.innerHTML="",f.appendChild(y)}};jn(c),qt($e(t,"language"),c),qt($e(t,"code"),c),n||qt(a,c);const u=Ve("Code","-code",ple,SD,t,r),d=L(()=>{const{common:{cubicBezierEaseInOut:f,fontFamilyMono:p},self:{textColor:g,fontSize:m,fontWeightStrong:y,lineNumberTextColor:b,"mono-3":x,"hue-1":w,"hue-2":C,"hue-3":S,"hue-4":A,"hue-5":T,"hue-5-2":k,"hue-6":E,"hue-6-2":P}}=u.value,{internalFontSize:_}=t;return{"--n-font-size":_?`${_}px`:m,"--n-font-family":p,"--n-font-weight-strong":y,"--n-bezier":f,"--n-text-color":g,"--n-mono-3":x,"--n-hue-1":w,"--n-hue-2":C,"--n-hue-3":S,"--n-hue-4":A,"--n-hue-5":T,"--n-hue-5-2":k,"--n-hue-6":E,"--n-hue-6-2":P,"--n-line-number-text-color":b}}),h=i?Ot("code",L(()=>`${t.internalFontSize||"a"}`),d,t):void 0;return{mergedClsPrefix:r,codeRef:o,mergedShowLineNumbers:l,lineNumbers:L(()=>{let f=1;const p=[];let g=!1;for(const m of t.code)m===`
`?(g=!0,p.push(f++)):g=!1;return g||p.push(f++),p.join(`
`)}),cssVars:i?void 0:d,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){var t,e;const{mergedClsPrefix:n,wordWrap:r,mergedShowLineNumbers:i,onRender:o}=this;return o==null||o(),v("code",{class:[`${n}-code`,this.themeClass,r&&`${n}-code--word-wrap`,i&&`${n}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},i?v("pre",{class:`${n}-code__line-numbers`},this.lineNumbers):null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});function mle(t){const{fontWeight:e,textColor1:n,textColor2:r,textColorDisabled:i,dividerColor:o,fontSize:a}=t;return{titleFontSize:a,titleFontWeight:e,dividerColor:o,titleTextColor:n,titleTextColorDisabled:i,fontSize:a,textColor:r,arrowColor:r,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}}const gle={common:Bt,self:mle},vle=R("collapse","width: 100%;",[R("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: var(--n-item-margin);
 `,[U("disabled",[H("header","cursor: not-allowed;",[H("header-main",`
 color: var(--n-title-text-color-disabled);
 `),R("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),R("collapse-item","margin-left: 32px;"),B("&:first-child","margin-top: 0;"),B("&:first-child >",[H("header","padding-top: 0;")]),U("left-arrow-placement",[H("header",[R("collapse-item-arrow","margin-right: 4px;")])]),U("right-arrow-placement",[H("header",[R("collapse-item-arrow","margin-left: 4px;")])]),H("content-wrapper",[H("content-inner","padding-top: 16px;"),bc({duration:"0.15s"})]),U("active",[H("header",[U("active",[R("collapse-item-arrow","transform: rotate(90deg);")])])]),B("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),an("disabled",[U("trigger-area-main",[H("header",[H("header-main","cursor: pointer;"),R("collapse-item-arrow","cursor: default;")])]),U("trigger-area-arrow",[H("header",[R("collapse-item-arrow","cursor: pointer;")])]),U("trigger-area-extra",[H("header",[H("header-extra","cursor: pointer;")])])]),H("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: var(--n-title-padding);
 color: var(--n-title-text-color);
 `,[H("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),H("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),R("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),TD=Object.assign(Object.assign({},Ve.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},triggerAreas:{type:Array,default:()=>["main","extra","arrow"]},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),RD="n-collapse",yle=le({name:"Collapse",props:TD,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=V(t.defaultExpandedNames),a=L(()=>t.expandedNames),s=Cn(a,o),l=Ve("Collapse","-collapse",vle,gle,t,n);function c(g){const{"onUpdate:expandedNames":m,onUpdateExpandedNames:y,onExpandedNamesChange:b}=t;y&&Fe(y,g),m&&Fe(m,g),b&&Fe(b,g),o.value=g}function u(g){const{onItemHeaderClick:m}=t;m&&Fe(m,g)}function d(g,m,y){const{accordion:b}=t,{value:x}=s;if(b)g?(c([m]),u({name:m,expanded:!0,event:y})):(c([]),u({name:m,expanded:!1,event:y}));else if(!Array.isArray(x))c([m]),u({name:m,expanded:!0,event:y});else{const w=x.slice(),C=w.findIndex(S=>m===S);~C?(w.splice(C,1),c(w),u({name:m,expanded:!1,event:y})):(w.push(m),c(w),u({name:m,expanded:!0,event:y}))}}zt(RD,{props:t,mergedClsPrefixRef:n,expandedNamesRef:s,slots:e,toggleItem:d});const h=or("Collapse",i,n),f=L(()=>{const{common:{cubicBezierEaseInOut:g},self:{titleFontWeight:m,dividerColor:y,titlePadding:b,titleTextColor:x,titleTextColorDisabled:w,textColor:C,arrowColor:S,fontSize:A,titleFontSize:T,arrowColorDisabled:k,itemMargin:E}}=l.value;return{"--n-font-size":A,"--n-bezier":g,"--n-text-color":C,"--n-divider-color":y,"--n-title-padding":b,"--n-title-font-size":T,"--n-title-text-color":x,"--n-title-text-color-disabled":w,"--n-title-font-weight":m,"--n-arrow-color":S,"--n-arrow-color-disabled":k,"--n-item-margin":E}}),p=r?Ot("collapse",void 0,f,t):void 0;return{rtlEnabled:h,mergedTheme:l,mergedClsPrefix:n,cssVars:r?void 0:f,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),ble=le({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(t){return{onceTrue:RL($e(t,"show"))}},render(){return v(Ml,null,{default:()=>{const{show:t,displayDirective:e,onceTrue:n,clsPrefix:r}=this,i=e==="show"&&n,o=v("div",{class:`${r}-collapse-item__content-wrapper`},v("div",{class:`${r}-collapse-item__content-inner`},this.$slots));return i?ii(o,[[ya,t]]):t?o:null}})}}),_D={title:String,name:[String,Number],disabled:Boolean,displayDirective:String},xle=le({name:"CollapseItem",props:_D,setup(t){const{mergedRtlRef:e}=gt(t),n=Zo(),r=Yt(()=>{var d;return(d=t.name)!==null&&d!==void 0?d:n}),i=ut(RD);i||Ii("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:o,props:a,mergedClsPrefixRef:s,slots:l}=i,c=L(()=>{const{value:d}=o;if(Array.isArray(d)){const{value:h}=r;return!~d.findIndex(f=>f===h)}else if(d){const{value:h}=r;return h!==d}return!0});return{rtlEnabled:or("Collapse",e,s),collapseSlots:l,randomName:n,mergedClsPrefix:s,collapsed:c,triggerAreas:$e(a,"triggerAreas"),mergedDisplayDirective:L(()=>{const{displayDirective:d}=t;return d||a.displayDirective}),arrowPlacement:L(()=>a.arrowPlacement),handleClick(d){let h="main";Zr(d,"arrow")&&(h="arrow"),Zr(d,"extra")&&(h="extra"),a.triggerAreas.includes(h)&&i&&!t.disabled&&i.toggleItem(c.value,r.value,d)}}},render(){const{collapseSlots:t,$slots:e,arrowPlacement:n,collapsed:r,mergedDisplayDirective:i,mergedClsPrefix:o,disabled:a,triggerAreas:s}=this,l=ui(e.header,{collapsed:r},()=>[this.title]),c=e["header-extra"]||t["header-extra"],u=e.arrow||t.arrow;return v("div",{class:[`${o}-collapse-item`,`${o}-collapse-item--${n}-arrow-placement`,a&&`${o}-collapse-item--disabled`,!r&&`${o}-collapse-item--active`,s.map(d=>`${o}-collapse-item--trigger-area-${d}`)]},v("div",{class:[`${o}-collapse-item__header`,!r&&`${o}-collapse-item__header--active`]},v("div",{class:`${o}-collapse-item__header-main`,onClick:this.handleClick},n==="right"&&l,v("div",{class:`${o}-collapse-item-arrow`,key:this.rtlEnabled?0:1,"data-arrow":!0},ui(u,{collapsed:r},()=>[v(Jt,{clsPrefix:o},{default:()=>this.rtlEnabled?v(i4,null):v(yh,null)})])),n==="left"&&l),SX(c,{collapsed:r},d=>v("div",{class:`${o}-collapse-item__header-extra`,onClick:this.handleClick,"data-extra":!0},d))),v(ble,{clsPrefix:o,displayDirective:i,show:!r},e))}});function wle(t){const{cubicBezierEaseInOut:e}=t;return{bezier:e}}const Cle={common:Bt,self:wle},Ale=R("collapse-transition",{width:"100%"},[bc()]),PD=Object.assign(Object.assign({},Ve.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),Sle=le({name:"CollapseTransition",props:PD,inheritAttrs:!1,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=Ve("CollapseTransition","-collapse-transition",Ale,Cle,t,e),o=or("CollapseTransition",r,e),a=L(()=>t.collapsed!==void 0?t.collapsed:t.show),s=L(()=>{const{self:{bezier:c}}=i.value;return{"--n-bezier":c}}),l=n?Ot("collapse-transition",void 0,s,t):void 0;return{rtlEnabled:o,mergedShow:a,mergedClsPrefix:e,cssVars:n?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){return v(Ml,{appear:this.appear},{default:()=>{var t;if(this.mergedShow)return(t=this.onRender)===null||t===void 0||t.call(this),v("div",Xi({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}});function kle(t){const{fontSize:e,boxShadow2:n,popoverColor:r,textColor2:i,borderRadius:o,borderColor:a,heightSmall:s,heightMedium:l,heightLarge:c,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:h,dividerColor:f}=t;return{panelFontSize:e,boxShadow:n,color:r,textColor:i,borderRadius:o,border:`1px solid ${a}`,heightSmall:s,heightMedium:l,heightLarge:c,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:h,dividerColor:f}}const Ele={name:"ColorPicker",common:Bt,peers:{Input:Ca,Button:Aa},self:kle};function Tle(t,e){switch(t[0]){case"hex":return e?"#000000FF":"#000000";case"rgb":return e?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return e?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return e?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}function tg(t){return t===null?null:/^ *#/.test(t)?"hex":t.includes("rgb")?"rgb":t.includes("hsl")?"hsl":t.includes("hsv")?"hsv":null}function Rle(t,e=[255,255,255],n="AA"){const[r,i,o,a]=$i(lc(t));if(a===1){const f=Nv([r,i,o]),p=Nv(e);return(Math.max(f,p)+.05)/(Math.min(f,p)+.05)>=(n==="AA"?4.5:7)}const s=Math.round(r*a+e[0]*(1-a)),l=Math.round(i*a+e[1]*(1-a)),c=Math.round(o*a+e[2]*(1-a)),u=Nv([s,l,c]),d=Nv(e);return(Math.max(u,d)+.05)/(Math.min(u,d)+.05)>=(n==="AA"?4.5:7)}function Nv(t){const[e,n,r]=t.map(i=>(i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)));return .2126*e+.7152*n+.0722*r}function _le(t){return t=Math.round(t),t>=360?359:t<0?0:t}function Ple(t){return t=Math.round(t*100)/100,t>1?1:t<0?0:t}const Ile={rgb:{hex(t){return ku($i(t))},hsl(t){const[e,n,r,i]=$i(t);return lc([...YC(e,n,r),i])},hsv(t){const[e,n,r,i]=$i(t);return qd([...GC(e,n,r),i])}},hex:{rgb(t){return xl($i(t))},hsl(t){const[e,n,r,i]=$i(t);return lc([...YC(e,n,r),i])},hsv(t){const[e,n,r,i]=$i(t);return qd([...GC(e,n,r),i])}},hsl:{hex(t){const[e,n,r,i]=Wd(t);return ku([..._b(e,n,r),i])},rgb(t){const[e,n,r,i]=Wd(t);return xl([..._b(e,n,r),i])},hsv(t){const[e,n,r,i]=Wd(t);return qd([...CL(e,n,r),i])}},hsv:{hex(t){const[e,n,r,i]=Su(t);return ku([...rc(e,n,r),i])},rgb(t){const[e,n,r,i]=Su(t);return xl([...rc(e,n,r),i])},hsl(t){const[e,n,r,i]=Su(t);return lc([...zy(e,n,r),i])}}};function ID(t,e,n){return n=n||tg(t),n?n===e?t:Ile[n][e](t):null}const n0="12px",Lle=12,md="6px",Mle=le({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(t){const e=V(null);function n(o){!e.value||!t.rgba||(wn("mousemove",document,r),wn("mouseup",document,i),r(o))}function r(o){const{value:a}=e;if(!a)return;const{width:s,left:l}=a.getBoundingClientRect(),c=(o.clientX-l)/(s-Lle);t.onUpdateAlpha(Ple(c))}function i(){var o;xn("mousemove",document,r),xn("mouseup",document,i),(o=t.onComplete)===null||o===void 0||o.call(t)}return{railRef:e,railBackgroundImage:L(()=>{const{rgba:o}=t;return o?`linear-gradient(to right, rgba(${o[0]}, ${o[1]}, ${o[2]}, 0) 0%, rgba(${o[0]}, ${o[1]}, ${o[2]}, 1) 100%)`:""}),handleMouseDown:n}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-color-picker-slider`,ref:"railRef",style:{height:n0,borderRadius:md},onMousedown:this.handleMouseDown},v("div",{style:{borderRadius:md,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},v("div",{class:`${t}-color-picker-checkboard`}),v("div",{class:`${t}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&v("div",{style:{position:"absolute",left:md,right:md,top:0,bottom:0}},v("div",{class:`${t}-color-picker-handle`,style:{left:`calc(${this.alpha*100}% - ${md})`,borderRadius:md,width:n0,height:n0}},v("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:xl(this.rgba),borderRadius:md,width:n0,height:n0}}))))}}),y4="n-color-picker";function Ole(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),255)):!1}function Dle(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),360)):!1}function Fle(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),100)):!1}function $le(t){const e=t.trim();return/^#[0-9a-fA-F]+$/.test(e)?[4,5,7,9].includes(e.length):!1}function Ble(t){return/^\d{1,3}\.?\d*%$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t)/100,100)):!1}const Nle={paddingSmall:"0 4px"},v6=le({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(t){const e=V(""),{themeRef:n}=ut(y4,null);er(()=>{e.value=r()});function r(){const{value:a}=t;if(a===null)return"";const{label:s}=t;return s==="HEX"?a:s==="A"?`${Math.floor(a*100)}%`:String(Math.floor(a))}function i(a){e.value=a}function o(a){let s,l;switch(t.label){case"HEX":l=$le(a),l&&t.onUpdateValue(a),e.value=r();break;case"H":s=Dle(a),s===!1?e.value=r():t.onUpdateValue(s);break;case"S":case"L":case"V":s=Fle(a),s===!1?e.value=r():t.onUpdateValue(s);break;case"A":s=Ble(a),s===!1?e.value=r():t.onUpdateValue(s);break;case"R":case"G":case"B":s=Ole(a),s===!1?e.value=r():t.onUpdateValue(s);break}}return{mergedTheme:n,inputValue:e,handleInputChange:o,handleInputUpdateValue:i}},render(){const{mergedTheme:t}=this;return v(_i,{size:"small",placeholder:this.label,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,builtinThemeOverrides:Nle,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:this.label==="A"?"flex-grow: 1.25;":""})}}),zle=le({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup(t){return{handleUnitUpdateValue(e,n){const{showAlpha:r}=t;if(t.mode==="hex"){t.onUpdateValue((r?ku:M0)(n));return}let i;switch(t.valueArr===null?i=[0,0,0,0]:i=Array.from(t.valueArr),t.mode){case"hsv":i[e]=n,t.onUpdateValue((r?qd:ZC)(i));break;case"rgb":i[e]=n,t.onUpdateValue((r?xl:QC)(i));break;case"hsl":i[e]=n,t.onUpdateValue((r?lc:JC)(i));break}}}},render(){const{clsPrefix:t,modes:e}=this;return v("div",{class:`${t}-color-picker-input`},v("div",{class:`${t}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:e.length===1?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),v(TO,null,{default:()=>{const{mode:n,valueArr:r,showAlpha:i}=this;if(n==="hex"){let o=null;try{o=r===null?null:(i?ku:M0)(r)}catch{}return v(v6,{label:"HEX",showAlpha:i,value:o,onUpdateValue:a=>{this.handleUnitUpdateValue(0,a)}})}return(n+(i?"a":"")).split("").map((o,a)=>v(v6,{label:o.toUpperCase(),value:r===null?null:r[a],onUpdateValue:s=>{this.handleUnitUpdateValue(a,s)}}))}}))}});function Hle(t,e){if(e==="hsv"){const[n,r,i,o]=Su(t);return xl([...rc(n,r,i),o])}return t}function Ule(t){const e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle=t,e.fillStyle):"#000000"}const jle=le({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(t){const e=L(()=>t.swatches.map(o=>{const a=tg(o);return{value:o,mode:a,legalValue:Hle(o,a)}}));function n(o){const{mode:a}=t;let{value:s,mode:l}=o;return l||(l="hex",/^[a-zA-Z]+$/.test(s)?s=Ule(s):(go("color-picker",`color ${s} in swatches is invalid.`),s="#000000")),l===a?s:ID(s,a,l)}function r(o){t.onUpdateColor(n(o))}function i(o,a){o.key==="Enter"&&r(a)}return{parsedSwatchesRef:e,handleSwatchSelect:r,handleSwatchKeyDown:i}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-color-picker-swatches`},this.parsedSwatchesRef.map(e=>v("div",{class:`${t}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(e)},onKeydown:n=>{this.handleSwatchKeyDown(n,e)}},v("div",{class:`${t}-color-picker-swatch__fill`,style:{background:e.legalValue}}))))}}),Vle=le({name:"ColorPickerTrigger",slots:Object,props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(t){const{colorPickerSlots:e,renderLabelRef:n}=ut(y4,null);return()=>{const{hsla:r,value:i,clsPrefix:o,onClick:a,disabled:s}=t,l=e.label||n.value;return v("div",{class:[`${o}-color-picker-trigger`,s&&`${o}-color-picker-trigger--disabled`],onClick:s?void 0:a},v("div",{class:`${o}-color-picker-trigger__fill`},v("div",{class:`${o}-color-picker-checkboard`}),v("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:r?lc(r):""}}),i&&r?v("div",{class:`${o}-color-picker-trigger__value`,style:{color:Rle(r)?"white":"black"}},l?l(i):i):null))}}}),Wle=le({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:t=>{const e=tg(t);return!!(!t||e&&e!=="hsv")}},onUpdateColor:{type:Function,required:!0}},setup(t){function e(n){var r;const i=n.target.value;(r=t.onUpdateColor)===null||r===void 0||r.call(t,ID(i.toUpperCase(),t.mode,"hex")),n.stopPropagation()}return{handleChange:e}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-color-picker-preview__preview`},v("span",{class:`${t}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),v("input",{class:`${t}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),Kh="12px",qle=12,gd="6px",Kle=6,Gle="linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",Yle=le({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(t){const e=V(null);function n(o){e.value&&(wn("mousemove",document,r),wn("mouseup",document,i),r(o))}function r(o){const{value:a}=e;if(!a)return;const{width:s,left:l}=a.getBoundingClientRect(),c=_le((o.clientX-l-Kle)/(s-qle)*360);t.onUpdateHue(c)}function i(){var o;xn("mousemove",document,r),xn("mouseup",document,i),(o=t.onComplete)===null||o===void 0||o.call(t)}return{railRef:e,handleMouseDown:n}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-color-picker-slider`,style:{height:Kh,borderRadius:gd}},v("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:Gle,height:Kh,borderRadius:gd,position:"relative"},onMousedown:this.handleMouseDown},v("div",{style:{position:"absolute",left:gd,right:gd,top:0,bottom:0}},v("div",{class:`${t}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${gd})`,borderRadius:gd,width:Kh,height:Kh}},v("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:gd,width:Kh,height:Kh}})))))}}),zv="12px",Hv="6px",Xle=le({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(t){const e=V(null);function n(o){e.value&&(wn("mousemove",document,r),wn("mouseup",document,i),r(o))}function r(o){const{value:a}=e;if(!a)return;const{width:s,height:l,left:c,bottom:u}=a.getBoundingClientRect(),d=(u-o.clientY)/l,h=(o.clientX-c)/s,f=100*(h>1?1:h<0?0:h),p=100*(d>1?1:d<0?0:d);t.onUpdateSV(f,p)}function i(){var o;xn("mousemove",document,r),xn("mouseup",document,i),(o=t.onComplete)===null||o===void 0||o.call(t)}return{palleteRef:e,handleColor:L(()=>{const{rgba:o}=t;return o?`rgb(${o[0]}, ${o[1]}, ${o[2]})`:""}),handleMouseDown:n}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},v("div",{class:`${t}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),v("div",{class:`${t}-color-picker-pallete__layer ${t}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&v("div",{class:`${t}-color-picker-handle`,style:{width:zv,height:zv,borderRadius:Hv,left:`calc(${this.displayedSv[0]}% - ${Hv})`,bottom:`calc(${this.displayedSv[1]}% - ${Hv})`}},v("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:Hv,width:zv,height:zv}})))}}),Qle=B([R("color-picker",`
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `),R("color-picker-panel",`
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `,[Qi(),R("input",`
 text-align: center;
 `)]),R("color-picker-checkboard",`
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[B("&::after",`
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),R("color-picker-slider",`
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `,[H("image",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),B("&::after",`
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]),R("color-picker-handle",`
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `,[H("fill",`
 box-sizing: border-box;
 border: 2px solid white;
 `)]),R("color-picker-pallete",`
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `,[H("layer",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[U("shadowed",`
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]),R("color-picker-preview",`
 display: flex;
 `,[H("sliders",`
 flex: 1 0 auto;
 `),H("preview",`
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `),H("fill",`
 display: block;
 width: 30px;
 height: 30px;
 `),H("input",`
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]),R("color-picker-input",`
 display: flex;
 align-items: center;
 `,[R("input",`
 flex-grow: 1;
 flex-basis: 0;
 `),H("mode",`
 width: 72px;
 text-align: center;
 `)]),R("color-picker-control",`
 padding: 12px;
 `),R("color-picker-action",`
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `,[R("button","margin-left: 8px;")]),R("color-picker-trigger",`
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `,[H("value",`
 white-space: nowrap;
 position: relative;
 `),H("fill",`
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `),U("disabled","cursor: not-allowed"),R("color-picker-checkboard",`
 border-radius: var(--n-border-radius);
 `,[B("&::after",`
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]),R("color-picker-swatches",`
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `,[R("color-picker-swatch",`
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `,[H("fill",`
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `),B("&:focus",`
 outline: none;
 `,[H("fill",[B("&::after",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]),LD=Object.assign(Object.assign({},Ve.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:vr.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,onClear:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Zle=le({name:"ColorPicker",props:LD,slots:Object,setup(t,{slots:e}){const n=V(null);let r=null;const i=di(t),{mergedSizeRef:o,mergedDisabledRef:a}=i,{localeRef:s}=li("global"),{mergedClsPrefixRef:l,namespaceRef:c,inlineThemeDisabled:u}=gt(t),d=Ve("ColorPicker","-color-picker",Qle,Ele,t,l);zt(y4,{themeRef:d,renderLabelRef:$e(t,"renderLabel"),colorPickerSlots:e});const h=V(t.defaultShow),f=Cn($e(t,"show"),h);function p(se){const{onUpdateShow:be,"onUpdate:show":re}=t;be&&Fe(be,se),re&&Fe(re,se),h.value=se}const{defaultValue:g}=t,m=V(g===void 0?Tle(t.modes,t.showAlpha):g),y=Cn($e(t,"value"),m),b=V([y.value]),x=V(0),w=L(()=>tg(y.value)),{modes:C}=t,S=V(tg(y.value)||C[0]||"rgb");function A(){const{modes:se}=t,{value:be}=S,re=se.findIndex(me=>me===be);~re?S.value=se[(re+1)%se.length]:S.value="rgb"}let T,k,E,P,_,F,N,W;const G=L(()=>{const{value:se}=y;if(!se)return null;switch(w.value){case"hsv":return Su(se);case"hsl":return[T,k,E,W]=Wd(se),[...CL(T,k,E),W];case"rgb":case"hex":return[_,F,N,W]=$i(se),[...GC(_,F,N),W]}}),Z=L(()=>{const{value:se}=y;if(!se)return null;switch(w.value){case"rgb":case"hex":return $i(se);case"hsv":return[T,k,P,W]=Su(se),[...rc(T,k,P),W];case"hsl":return[T,k,E,W]=Wd(se),[..._b(T,k,E),W]}}),ie=L(()=>{const{value:se}=y;if(!se)return null;switch(w.value){case"hsl":return Wd(se);case"hsv":return[T,k,P,W]=Su(se),[...zy(T,k,P),W];case"rgb":case"hex":return[_,F,N,W]=$i(se),[...YC(_,F,N),W]}}),he=L(()=>{switch(S.value){case"rgb":case"hex":return Z.value;case"hsv":return G.value;case"hsl":return ie.value}}),xe=V(0),Q=V(1),X=V([0,0]);function K(se,be){const{value:re}=G,me=xe.value,De=re?re[3]:1;X.value=[se,be];const{showAlpha:ge}=t;switch(S.value){case"hsv":Se((ge?qd:ZC)([me,se,be,De]),"cursor");break;case"hsl":Se((ge?lc:JC)([...zy(me,se,be),De]),"cursor");break;case"rgb":Se((ge?xl:QC)([...rc(me,se,be),De]),"cursor");break;case"hex":Se((ge?ku:M0)([...rc(me,se,be),De]),"cursor");break}}function ne(se){xe.value=se;const{value:be}=G;if(!be)return;const[,re,me,De]=be,{showAlpha:ge}=t;switch(S.value){case"hsv":Se((ge?qd:ZC)([se,re,me,De]),"cursor");break;case"rgb":Se((ge?xl:QC)([...rc(se,re,me),De]),"cursor");break;case"hex":Se((ge?ku:M0)([...rc(se,re,me),De]),"cursor");break;case"hsl":Se((ge?lc:JC)([...zy(se,re,me),De]),"cursor");break}}function ve(se){switch(S.value){case"hsv":[T,k,P]=G.value,Se(qd([T,k,P,se]),"cursor");break;case"rgb":[_,F,N]=Z.value,Se(xl([_,F,N,se]),"cursor");break;case"hex":[_,F,N]=Z.value,Se(ku([_,F,N,se]),"cursor");break;case"hsl":[T,k,E]=ie.value,Se(lc([T,k,E,se]),"cursor");break}Q.value=se}function Se(se,be){be==="cursor"?r=se:r=null;const{nTriggerFormChange:re,nTriggerFormInput:me}=i,{onUpdateValue:De,"onUpdate:value":ge}=t;De&&Fe(De,se),ge&&Fe(ge,se),re(),me(),m.value=se}function ye(se){Se(se,"input"),vn(Be)}function Be(se=!0){const{value:be}=y;if(be){const{nTriggerFormChange:re,nTriggerFormInput:me}=i,{onComplete:De}=t;De&&De(be);const{value:ge}=b,{value:pe}=x;se&&(ge.splice(pe+1,ge.length,be),x.value=pe+1),re(),me()}}function J(){const{value:se}=x;se-1<0||(Se(b.value[se-1],"input"),Be(!1),x.value=se-1)}function Ue(){const{value:se}=x;se<0||se+1>=b.value.length||(Se(b.value[se+1],"input"),Be(!1),x.value=se+1)}function Qe(){Se(null,"input");const{onClear:se}=t;se&&se(),p(!1)}function ae(){const{value:se}=y,{onConfirm:be}=t;be&&be(se),p(!1)}const fe=L(()=>x.value>=1),ke=L(()=>{const{value:se}=b;return se.length>1&&x.value<se.length-1});qt(f,se=>{se||(b.value=[y.value],x.value=0)}),er(()=>{if(!(r&&r===y.value)){const{value:se}=G;se&&(xe.value=se[0],Q.value=se[3],X.value=[se[1],se[2]])}r=null});const Ke=L(()=>{const{value:se}=o,{common:{cubicBezierEaseInOut:be},self:{textColor:re,color:me,panelFontSize:De,boxShadow:ge,border:pe,borderRadius:Te,dividerColor:Xe,[We("height",se)]:Oe,[We("fontSize",se)]:ft}}=d.value;return{"--n-bezier":be,"--n-text-color":re,"--n-color":me,"--n-panel-font-size":De,"--n-font-size":ft,"--n-box-shadow":ge,"--n-border":pe,"--n-border-radius":Te,"--n-height":Oe,"--n-divider-color":Xe}}),Ne=u?Ot("color-picker",L(()=>o.value[0]),Ke,t):void 0;function Ae(){var se;const{value:be}=Z,{value:re}=xe,{internalActions:me,modes:De,actions:ge}=t,{value:pe}=d,{value:Te}=l;return v("div",{class:[`${Te}-color-picker-panel`,Ne==null?void 0:Ne.themeClass.value],onDragstart:Xe=>{Xe.preventDefault()},style:u?void 0:Ke.value},v("div",{class:`${Te}-color-picker-control`},v(Xle,{clsPrefix:Te,rgba:be,displayedHue:re,displayedSv:X.value,onUpdateSV:K,onComplete:Be}),v("div",{class:`${Te}-color-picker-preview`},v("div",{class:`${Te}-color-picker-preview__sliders`},v(Yle,{clsPrefix:Te,hue:re,onUpdateHue:ne,onComplete:Be}),t.showAlpha?v(Mle,{clsPrefix:Te,rgba:be,alpha:Q.value,onUpdateAlpha:ve,onComplete:Be}):null),t.showPreview?v(Wle,{clsPrefix:Te,mode:S.value,color:Z.value&&M0(Z.value),onUpdateColor:Xe=>{Se(Xe,"input")}}):null),v(zle,{clsPrefix:Te,showAlpha:t.showAlpha,mode:S.value,modes:De,onUpdateMode:A,value:y.value,valueArr:he.value,onUpdateValue:ye}),((se=t.swatches)===null||se===void 0?void 0:se.length)&&v(jle,{clsPrefix:Te,mode:S.value,swatches:t.swatches,onUpdateColor:Xe=>{Se(Xe,"input")}})),ge!=null&&ge.length?v("div",{class:`${Te}-color-picker-action`},ge.includes("confirm")&&v(Qn,{size:"small",onClick:ae,theme:pe.peers.Button,themeOverrides:pe.peerOverrides.Button},{default:()=>s.value.confirm}),ge.includes("clear")&&v(Qn,{size:"small",onClick:Qe,disabled:!y.value,theme:pe.peers.Button,themeOverrides:pe.peerOverrides.Button},{default:()=>s.value.clear})):null,e.action?v("div",{class:`${Te}-color-picker-action`},{default:e.action}):me?v("div",{class:`${Te}-color-picker-action`},me.includes("undo")&&v(Qn,{size:"small",onClick:J,disabled:!fe.value,theme:pe.peers.Button,themeOverrides:pe.peerOverrides.Button},{default:()=>s.value.undo}),me.includes("redo")&&v(Qn,{size:"small",onClick:Ue,disabled:!ke.value,theme:pe.peers.Button,themeOverrides:pe.peerOverrides.Button},{default:()=>s.value.redo})):null)}return{mergedClsPrefix:l,namespace:c,selfRef:n,hsla:ie,rgba:Z,mergedShow:f,mergedDisabled:a,isMounted:co(),adjustedTo:vr(t),mergedValue:y,handleTriggerClick(){p(!0)},handleClickOutside(se){var be;!((be=n.value)===null||be===void 0)&&be.contains(ba(se))||p(!1)},renderPanel:Ae,cssVars:u?void 0:Ke,themeClass:Ne==null?void 0:Ne.themeClass,onRender:Ne==null?void 0:Ne.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),v("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},v(us,null,{default:()=>[v(ds,null,{default:()=>v(Vle,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick})}),v(Na,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===vr.tdkey,to:this.adjustedTo},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?ii(this.renderPanel(),[[xa,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),MD={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,styleMountTarget:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(go("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},OD=le({name:"ConfigProvider",alias:["App"],props:MD,setup(t){const e=ut(Jo,null),n=L(()=>{const{theme:g}=t;if(g===null)return;const m=e==null?void 0:e.mergedThemeRef.value;return g===void 0?m:m===void 0?g:Object.assign({},m,g)}),r=L(()=>{const{themeOverrides:g}=t;if(g!==null){if(g===void 0)return e==null?void 0:e.mergedThemeOverridesRef.value;{const m=e==null?void 0:e.mergedThemeOverridesRef.value;return m===void 0?g:pl({},m,g)}}}),i=Yt(()=>{const{namespace:g}=t;return g===void 0?e==null?void 0:e.mergedNamespaceRef.value:g}),o=Yt(()=>{const{bordered:g}=t;return g===void 0?e==null?void 0:e.mergedBorderedRef.value:g}),a=L(()=>{const{icons:g}=t;return g===void 0?e==null?void 0:e.mergedIconsRef.value:g}),s=L(()=>{const{componentOptions:g}=t;return g!==void 0?g:e==null?void 0:e.mergedComponentPropsRef.value}),l=L(()=>{const{clsPrefix:g}=t;return g!==void 0?g:e?e.mergedClsPrefixRef.value:Pb}),c=L(()=>{var g;const{rtl:m}=t;if(m===void 0)return e==null?void 0:e.mergedRtlRef.value;const y={};for(const b of m)y[b.name]=yb(b),(g=b.peers)===null||g===void 0||g.forEach(x=>{x.name in y||(y[x.name]=yb(x))});return y}),u=L(()=>t.breakpoints||(e==null?void 0:e.mergedBreakpointsRef.value)),d=t.inlineThemeDisabled||(e==null?void 0:e.inlineThemeDisabled),h=t.preflightStyleDisabled||(e==null?void 0:e.preflightStyleDisabled),f=t.styleMountTarget||(e==null?void 0:e.styleMountTarget),p=L(()=>{const{value:g}=n,{value:m}=r,y=m&&Object.keys(m).length!==0,b=g==null?void 0:g.name;return b?y?`${b}-${_u(JSON.stringify(r.value))}`:b:y?_u(JSON.stringify(r.value)):""});return zt(Jo,{mergedThemeHashRef:p,mergedBreakpointsRef:u,mergedRtlRef:c,mergedIconsRef:a,mergedComponentPropsRef:s,mergedBorderedRef:o,mergedNamespaceRef:i,mergedClsPrefixRef:l,mergedLocaleRef:L(()=>{const{locale:g}=t;if(g!==null)return g===void 0?e==null?void 0:e.mergedLocaleRef.value:g}),mergedDateLocaleRef:L(()=>{const{dateLocale:g}=t;if(g!==null)return g===void 0?e==null?void 0:e.mergedDateLocaleRef.value:g}),mergedHljsRef:L(()=>{const{hljs:g}=t;return g===void 0?e==null?void 0:e.mergedHljsRef.value:g}),mergedKatexRef:L(()=>{const{katex:g}=t;return g===void 0?e==null?void 0:e.mergedKatexRef.value:g}),mergedThemeRef:n,mergedThemeOverridesRef:r,inlineThemeDisabled:d||!1,preflightStyleDisabled:h||!1,styleMountTarget:f}),{mergedClsPrefix:l,mergedBordered:o,mergedNamespace:i,mergedTheme:n,mergedThemeOverrides:r}},render(){var t,e,n,r;return this.abstract?(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n):v(this.as||this.tag,{class:`${this.mergedClsPrefix||Pb}-config-provider`},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),DD={duration:{type:Number,default:0},active:{type:Boolean,default:!0},precision:{type:Number,default:0},render:Function,onFinish:Function},Jle=le({name:"Countdown",props:DD,setup(t){let e=null,n=0,r=!1;const i=V(0);er(()=>{i.value=t.duration});let o=-1;function a(f){return t.duration-n+o-f}function s(f){const p=Math.floor(f/36e5),g=Math.floor(f%36e5/6e4),m=Math.floor(f%6e4/1e3),y=Math.floor(f%1e3);return{hours:p,minutes:g,seconds:m,milliseconds:y}}function l(f){const{hours:p,minutes:g,seconds:m,milliseconds:y}=f,{precision:b}=t;switch(b){case 0:return`${String(p).padStart(2,"0")}:${String(g).padStart(2,"0")}:${String(m).padStart(2,"0")}`;default:return`${String(p).padStart(2,"0")}:${String(g).padStart(2,"0")}:${String(m).padStart(2,"0")}.${String(Math.floor(y/(b===1?100:b===2?10:1))).padStart(b,"0")}`}}const c=()=>{var f;const{precision:p}=t,g=a(performance.now());if(g<=0){i.value=0,u(),r||(r=!0,(f=t.onFinish)===null||f===void 0||f.call(t));return}let m;switch(p){case 3:case 2:m=g%34;break;case 1:m=g%100;break;default:m=g%1e3}i.value=g,e=window.setTimeout(()=>{c()},m)};function u(){e!==null&&(window.clearTimeout(e),e=null)}jn(()=>{er(()=>{if(t.active)o=performance.now(),c();else{const f=performance.now();o!==-1&&(n+=f-o),u()}})}),ir(()=>{u()});function d(){i.value=t.duration,n=0,o=performance.now(),t.active&&r&&c(),r=!1}return Object.assign({reset:d},{distance:i,getTimeInfo:s,getDisplayValue:l})},render(){const{render:t,precision:e,distance:n,getTimeInfo:r,getDisplayValue:i}=this;let o;switch(e){case 0:o=r(n+999),o.milliseconds=0;break;case 1:o=r(n+99),o.milliseconds=Math.floor(o.milliseconds/100)*100;break;case 2:o=r(n+9),o.milliseconds=Math.floor(o.milliseconds/10)*10;break;case 3:o=r(n)}return t?t(o):i(o)}});function ece(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const b4={name:"Popselect",common:Bt,peers:{Popover:wh,InternalSelectMenu:hp},self:ece},FD="n-popselect",tce=R("popselect-menu",`
 box-shadow: var(--n-menu-box-shadow);
`),x4={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},y6=vo(x4),nce=le({name:"PopselectPanel",props:x4,setup(t){const e=ut(FD),{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("Popselect","-pop-select",tce,b4,e.props,n),o=L(()=>ma(t.options,ux("value","children")));function a(h,f){const{onUpdateValue:p,"onUpdate:value":g,onChange:m}=t;p&&Fe(p,h,f),g&&Fe(g,h,f),m&&Fe(m,h,f)}function s(h){c(h.key)}function l(h){!Zr(h,"action")&&!Zr(h,"empty")&&!Zr(h,"header")&&h.preventDefault()}function c(h){const{value:{getNode:f}}=o;if(t.multiple)if(Array.isArray(t.value)){const p=[],g=[];let m=!0;t.value.forEach(y=>{if(y===h){m=!1;return}const b=f(y);b&&(p.push(b.key),g.push(b.rawNode))}),m&&(p.push(h),g.push(f(h).rawNode)),a(p,g)}else{const p=f(h);p&&a([h],[p.rawNode])}else if(t.value===h&&t.cancelable)a(null,null);else{const p=f(h);p&&a(h,p.rawNode);const{"onUpdate:show":g,onUpdateShow:m}=e.props;g&&Fe(g,!1),m&&Fe(m,!1),e.setShow(!1)}vn(()=>{e.syncPosition()})}qt($e(t,"options"),()=>{vn(()=>{e.syncPosition()})});const u=L(()=>{const{self:{menuBoxShadow:h}}=i.value;return{"--n-menu-box-shadow":h}}),d=r?Ot("select",void 0,u,e.props):void 0;return{mergedTheme:e.mergedThemeRef,mergedClsPrefix:n,treeMate:o,handleToggle:s,handleMenuMousedown:l,cssVars:r?void 0:u,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v(Ug,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var e,n;return((n=(e=this.$slots).header)===null||n===void 0?void 0:n.call(e))||[]},action:()=>{var e,n;return((n=(e=this.$slots).action)===null||n===void 0?void 0:n.call(e))||[]},empty:()=>{var e,n;return((n=(e=this.$slots).empty)===null||n===void 0?void 0:n.call(e))||[]}})}}),$D=Object.assign(Object.assign(Object.assign(Object.assign({},Ve.props),Xu(ah,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},ah.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),x4),BD=le({name:"Popselect",props:$D,slots:Object,inheritAttrs:!1,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=Ve("Popselect","-popselect",void 0,b4,t,e),r=V(null);function i(){var s;(s=r.value)===null||s===void 0||s.syncPosition()}function o(s){var l;(l=r.value)===null||l===void 0||l.setShow(s)}return zt(FD,{props:t,mergedThemeRef:n,syncPosition:i,setShow:o}),Object.assign(Object.assign({},{syncPosition:i,setShow:o}),{popoverInstRef:r,mergedTheme:n})},render(){const{mergedTheme:t}=this,e={theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(n,r,i,o,a)=>{const{$attrs:s}=this;return v(nce,Object.assign({},s,{class:[s.class,n],style:[s.style,...i]},Ri(this.$props,y6),{ref:QL(r),onMouseenter:$0([o,s.onMouseenter]),onMouseleave:$0([a,s.onMouseleave])}),{header:()=>{var l,c;return(c=(l=this.$slots).header)===null||c===void 0?void 0:c.call(l)},action:()=>{var l,c;return(c=(l=this.$slots).action)===null||c===void 0?void 0:c.call(l)},empty:()=>{var l,c;return(c=(l=this.$slots).empty)===null||c===void 0?void 0:c.call(l)}})}};return v(Ch,Object.assign({},Xu(this.$props,y6),e,{internalDeactivateImmediately:!0}),{trigger:()=>{var n,r;return(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n)}})}});function rce(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const ND={name:"Select",common:Bt,peers:{InternalSelection:cx,InternalSelectMenu:hp},self:rce},ice=B([R("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 font-weight: var(--n-font-weight);
 `),R("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Qi({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),zD=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),HD=le({name:"Select",props:zD,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:i}=gt(t),o=Ve("Select","-select",ice,ND,t,e),a=V(t.defaultValue),l=Cn($e(t,"value"),a),c=V(!1),u=V(""),d=Lu(t,["items","options"]),h=V([]),f=V([]),p=L(()=>f.value.concat(h.value).concat(d.value)),g=L(()=>{const{filter:ce}=t;if(ce)return ce;const{labelField:ue,valueField:je}=t;return(st,lt)=>{if(!lt)return!1;const _e=lt[ue];if(typeof _e=="string")return zw(st,_e);const tt=lt[je];return typeof tt=="string"?zw(st,tt):typeof tt=="number"?zw(st,String(tt)):!1}}),m=L(()=>{if(t.remote)return d.value;{const{value:ce}=p,{value:ue}=u;return!ue.length||!t.filterable?ce:Gie(ce,g.value,ue,t.childrenField)}}),y=L(()=>{const{valueField:ce,childrenField:ue}=t,je=ux(ce,ue);return ma(m.value,je)}),b=L(()=>Yie(p.value,t.valueField,t.childrenField)),x=V(!1),w=Cn($e(t,"show"),x),C=V(null),S=V(null),A=V(null),{localeRef:T}=li("Select"),k=L(()=>{var ce;return(ce=t.placeholder)!==null&&ce!==void 0?ce:T.value.placeholder}),E=[],P=V(new Map),_=L(()=>{const{fallbackOption:ce}=t;if(ce===void 0){const{labelField:ue,valueField:je}=t;return st=>({[ue]:String(st),[je]:st})}return ce===!1?!1:ue=>Object.assign(ce(ue),{value:ue})});function F(ce){const ue=t.remote,{value:je}=P,{value:st}=b,{value:lt}=_,_e=[];return ce.forEach(tt=>{if(st.has(tt))_e.push(st.get(tt));else if(ue&&je.has(tt))_e.push(je.get(tt));else if(lt){const Re=lt(tt);Re&&_e.push(Re)}}),_e}const N=L(()=>{if(t.multiple){const{value:ce}=l;return Array.isArray(ce)?F(ce):[]}return null}),W=L(()=>{const{value:ce}=l;return!t.multiple&&!Array.isArray(ce)?ce===null?null:F([ce])[0]||null:null}),G=di(t),{mergedSizeRef:Z,mergedDisabledRef:ie,mergedStatusRef:he}=G;function xe(ce,ue){const{onChange:je,"onUpdate:value":st,onUpdateValue:lt}=t,{nTriggerFormChange:_e,nTriggerFormInput:tt}=G;je&&Fe(je,ce,ue),lt&&Fe(lt,ce,ue),st&&Fe(st,ce,ue),a.value=ce,_e(),tt()}function Q(ce){const{onBlur:ue}=t,{nTriggerFormBlur:je}=G;ue&&Fe(ue,ce),je()}function X(){const{onClear:ce}=t;ce&&Fe(ce)}function K(ce){const{onFocus:ue,showOnFocus:je}=t,{nTriggerFormFocus:st}=G;ue&&Fe(ue,ce),st(),je&&Be()}function ne(ce){const{onSearch:ue}=t;ue&&Fe(ue,ce)}function ve(ce){const{onScroll:ue}=t;ue&&Fe(ue,ce)}function Se(){var ce;const{remote:ue,multiple:je}=t;if(ue){const{value:st}=P;if(je){const{valueField:lt}=t;(ce=N.value)===null||ce===void 0||ce.forEach(_e=>{st.set(_e[lt],_e)})}else{const lt=W.value;lt&&st.set(lt[t.valueField],lt)}}}function ye(ce){const{onUpdateShow:ue,"onUpdate:show":je}=t;ue&&Fe(ue,ce),je&&Fe(je,ce),x.value=ce}function Be(){ie.value||(ye(!0),x.value=!0,t.filterable&&Dt())}function J(){ye(!1)}function Ue(){u.value="",f.value=E}const Qe=V(!1);function ae(){t.filterable&&(Qe.value=!0)}function fe(){t.filterable&&(Qe.value=!1,w.value||Ue())}function ke(){ie.value||(w.value?t.filterable?Dt():J():Be())}function Ke(ce){var ue,je;!((je=(ue=A.value)===null||ue===void 0?void 0:ue.selfRef)===null||je===void 0)&&je.contains(ce.relatedTarget)||(c.value=!1,Q(ce),J())}function Ne(ce){K(ce),c.value=!0}function Ae(){c.value=!0}function se(ce){var ue;!((ue=C.value)===null||ue===void 0)&&ue.$el.contains(ce.relatedTarget)||(c.value=!1,Q(ce),J())}function be(){var ce;(ce=C.value)===null||ce===void 0||ce.focus(),J()}function re(ce){var ue;w.value&&(!((ue=C.value)===null||ue===void 0)&&ue.$el.contains(ba(ce))||J())}function me(ce){if(!Array.isArray(ce))return[];if(_.value)return Array.from(ce);{const{remote:ue}=t,{value:je}=b;if(ue){const{value:st}=P;return ce.filter(lt=>je.has(lt)||st.has(lt))}else return ce.filter(st=>je.has(st))}}function De(ce){ge(ce.rawNode)}function ge(ce){if(ie.value)return;const{tag:ue,remote:je,clearFilterAfterSelect:st,valueField:lt}=t;if(ue&&!je){const{value:_e}=f,tt=_e[0]||null;if(tt){const Re=h.value;Re.length?Re.push(tt):h.value=[tt],f.value=E}}if(je&&P.value.set(ce[lt],ce),t.multiple){const _e=me(l.value),tt=_e.findIndex(Re=>Re===ce[lt]);if(~tt){if(_e.splice(tt,1),ue&&!je){const Re=pe(ce[lt]);~Re&&(h.value.splice(Re,1),st&&(u.value=""))}}else _e.push(ce[lt]),st&&(u.value="");xe(_e,F(_e))}else{if(ue&&!je){const _e=pe(ce[lt]);~_e?h.value=[h.value[_e]]:h.value=E}Kt(),J(),xe(ce[lt],ce)}}function pe(ce){return h.value.findIndex(je=>je[t.valueField]===ce)}function Te(ce){w.value||Be();const{value:ue}=ce.target;u.value=ue;const{tag:je,remote:st}=t;if(ne(ue),je&&!st){if(!ue){f.value=E;return}const{onCreate:lt}=t,_e=lt?lt(ue):{[t.labelField]:ue,[t.valueField]:ue},{valueField:tt,labelField:Re}=t;d.value.some(Je=>Je[tt]===_e[tt]||Je[Re]===_e[Re])||h.value.some(Je=>Je[tt]===_e[tt]||Je[Re]===_e[Re])?f.value=E:f.value=[_e]}}function Xe(ce){ce.stopPropagation();const{multiple:ue}=t;!ue&&t.filterable&&J(),X(),ue?xe([],[]):xe(null,null)}function Oe(ce){!Zr(ce,"action")&&!Zr(ce,"empty")&&!Zr(ce,"header")&&ce.preventDefault()}function ft(ce){ve(ce)}function Lt(ce){var ue,je,st,lt,_e;if(!t.keyboard){ce.preventDefault();return}switch(ce.key){case" ":if(t.filterable)break;ce.preventDefault();case"Enter":if(!(!((ue=C.value)===null||ue===void 0)&&ue.isComposing)){if(w.value){const tt=(je=A.value)===null||je===void 0?void 0:je.getPendingTmNode();tt?De(tt):t.filterable||(J(),Kt())}else if(Be(),t.tag&&Qe.value){const tt=f.value[0];if(tt){const Re=tt[t.valueField],{value:Je}=l;t.multiple&&Array.isArray(Je)&&Je.includes(Re)||ge(tt)}}}ce.preventDefault();break;case"ArrowUp":if(ce.preventDefault(),t.loading)return;w.value&&((st=A.value)===null||st===void 0||st.prev());break;case"ArrowDown":if(ce.preventDefault(),t.loading)return;w.value?(lt=A.value)===null||lt===void 0||lt.next():Be();break;case"Escape":w.value&&(rh(ce),J()),(_e=C.value)===null||_e===void 0||_e.focus();break}}function Kt(){var ce;(ce=C.value)===null||ce===void 0||ce.focus()}function Dt(){var ce;(ce=C.value)===null||ce===void 0||ce.focusInput()}function Ge(){var ce;w.value&&((ce=S.value)===null||ce===void 0||ce.syncPosition())}Se(),qt($e(t,"options"),Se);const en={focus:()=>{var ce;(ce=C.value)===null||ce===void 0||ce.focus()},focusInput:()=>{var ce;(ce=C.value)===null||ce===void 0||ce.focusInput()},blur:()=>{var ce;(ce=C.value)===null||ce===void 0||ce.blur()},blurInput:()=>{var ce;(ce=C.value)===null||ce===void 0||ce.blurInput()}},wt=L(()=>{const{self:{menuBoxShadow:ce}}=o.value;return{"--n-menu-box-shadow":ce}}),_t=i?Ot("select",void 0,wt,t):void 0;return Object.assign(Object.assign({},en),{mergedStatus:he,mergedClsPrefix:e,mergedBordered:n,namespace:r,treeMate:y,isMounted:co(),triggerRef:C,menuRef:A,pattern:u,uncontrolledShow:x,mergedShow:w,adjustedTo:vr(t),uncontrolledValue:a,mergedValue:l,followerRef:S,localizedPlaceholder:k,selectedOption:W,selectedOptions:N,mergedSize:Z,mergedDisabled:ie,focused:c,activeWithoutMenuOpen:Qe,inlineThemeDisabled:i,onTriggerInputFocus:ae,onTriggerInputBlur:fe,handleTriggerOrMenuResize:Ge,handleMenuFocus:Ae,handleMenuBlur:se,handleMenuTabOut:be,handleTriggerClick:ke,handleToggle:De,handleDeleteOption:ge,handlePatternInput:Te,handleClear:Xe,handleTriggerBlur:Ke,handleTriggerFocus:Ne,handleKeydown:Lt,handleMenuAfterLeave:Ue,handleMenuClickOutside:re,handleMenuScroll:ft,handleMenuKeydown:Lt,handleMenuMousedown:Oe,mergedTheme:o,cssVars:i?void 0:wt,themeClass:_t==null?void 0:_t.themeClass,onRender:_t==null?void 0:_t.onRender})},render(){return v("div",{class:`${this.mergedClsPrefix}-select`},v(us,null,{default:()=>[v(ds,null,{default:()=>v(s4,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var t,e;return[(e=(t=this.$slots).arrow)===null||e===void 0?void 0:e.call(t)]}})}),v(Na,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===vr.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var t,e,n;return this.mergedShow||this.displayDirective==="show"?((t=this.onRender)===null||t===void 0||t.call(this),ii(v(Ug,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(e=this.menuProps)===null||e===void 0?void 0:e.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,i;return[(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)]},header:()=>{var r,i;return[(i=(r=this.$slots).header)===null||i===void 0?void 0:i.call(r)]},action:()=>{var r,i;return[(i=(r=this.$slots).action)===null||i===void 0?void 0:i.call(r)]}}),this.displayDirective==="show"?[[ya,this.mergedShow],[xa,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[xa,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),oce={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"};function ace(t){const{textColor2:e,primaryColor:n,primaryColorHover:r,primaryColorPressed:i,inputColorDisabled:o,textColorDisabled:a,borderColor:s,borderRadius:l,fontSizeTiny:c,fontSizeSmall:u,fontSizeMedium:d,heightTiny:h,heightSmall:f,heightMedium:p}=t;return Object.assign(Object.assign({},oce),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${s}`,buttonBorderHover:`1px solid ${s}`,buttonBorderPressed:`1px solid ${s}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:r,itemTextColorPressed:i,itemTextColorActive:n,itemTextColorDisabled:a,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:o,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${n}`,itemBorderDisabled:`1px solid ${s}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:f,itemSizeLarge:p,itemFontSizeSmall:c,itemFontSizeMedium:u,itemFontSizeLarge:d,jumperFontSizeSmall:c,jumperFontSizeMedium:u,jumperFontSizeLarge:d,jumperTextColor:e,jumperTextColorDisabled:a})}const UD={name:"Pagination",common:Bt,peers:{Select:ND,Input:Ca,Popselect:b4},self:ace},b6=`
 background: var(--n-item-color-hover);
 color: var(--n-item-text-color-hover);
 border: var(--n-item-border-hover);
`,x6=[U("button",`
 background: var(--n-button-color-hover);
 border: var(--n-button-border-hover);
 color: var(--n-button-icon-color-hover);
 `)],sce=R("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[R("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),R("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),B("> *:not(:first-child)",`
 margin: var(--n-item-margin);
 `),R("select",`
 width: var(--n-select-width);
 `),B("&.transition-disabled",[R("pagination-item","transition: none!important;")]),R("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumper-font-size);
 `,[R("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),R("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[U("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 padding: 0;
 `,[R("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),an("disabled",[U("hover",b6,x6),B("&:hover",b6,x6),B("&:active",`
 background: var(--n-item-color-pressed);
 color: var(--n-item-text-color-pressed);
 border: var(--n-item-border-pressed);
 `,[U("button",`
 background: var(--n-button-color-pressed);
 border: var(--n-button-border-pressed);
 color: var(--n-button-icon-color-pressed);
 `)]),U("active",`
 background: var(--n-item-color-active);
 color: var(--n-item-text-color-active);
 border: var(--n-item-border-active);
 `,[B("&:hover",`
 background: var(--n-item-color-active-hover);
 `)])]),U("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[U("active, button",`
 background-color: var(--n-item-color-disabled);
 border: var(--n-item-border-disabled);
 `)])]),U("disabled",`
 cursor: not-allowed;
 `,[R("pagination-quick-jumper",`
 color: var(--n-jumper-text-color-disabled);
 `)]),U("simple",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[R("pagination-quick-jumper",[R("input",`
 margin: 0;
 `)])])]);function jD(t){var e;if(!t)return 10;const{defaultPageSize:n}=t;if(n!==void 0)return n;const r=(e=t.pageSizes)===null||e===void 0?void 0:e[0];return typeof r=="number"?r:(r==null?void 0:r.value)||10}function lce(t,e,n,r){let i=!1,o=!1,a=1,s=e;if(e===1)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:a,items:[{type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1}]};if(e===2)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:a,items:[{type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1},{type:"page",label:2,active:t===2,mayBeFastBackward:!0,mayBeFastForward:!1}]};const l=1,c=e;let u=t,d=t;const h=(n-5)/2;d+=Math.ceil(h),d=Math.min(Math.max(d,l+n-3),c-2),u-=Math.floor(h),u=Math.max(Math.min(u,c-n+3),l+2);let f=!1,p=!1;u>l+2&&(f=!0),d<c-2&&(p=!0);const g=[];g.push({type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1}),f?(i=!0,a=u-1,g.push({type:"fast-backward",active:!1,label:void 0,options:r?w6(l+1,u-1):null})):c>=l+1&&g.push({type:"page",label:l+1,mayBeFastBackward:!0,mayBeFastForward:!1,active:t===l+1});for(let m=u;m<=d;++m)g.push({type:"page",label:m,mayBeFastBackward:!1,mayBeFastForward:!1,active:t===m});return p?(o=!0,s=d+1,g.push({type:"fast-forward",active:!1,label:void 0,options:r?w6(d+1,c-1):null})):d===c-2&&g[g.length-1].label!==c-1&&g.push({type:"page",mayBeFastForward:!0,mayBeFastBackward:!1,label:c-1,active:t===c-1}),g[g.length-1].label!==c&&g.push({type:"page",mayBeFastForward:!1,mayBeFastBackward:!1,label:c,active:t===c}),{hasFastBackward:i,hasFastForward:o,fastBackwardTo:a,fastForwardTo:s,items:g}}function w6(t,e){const n=[];for(let r=t;r<=e;++r)n.push({label:`${r}`,value:r});return n}const VD=Object.assign(Object.assign({},Ve.props),{simple:Boolean,page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:Number,pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,size:{type:String,default:"medium"},disabled:Boolean,pageSlot:{type:Number,default:9},selectProps:Object,prev:Function,next:Function,goto:Function,prefix:Function,suffix:Function,label:Function,displayOrder:{type:Array,default:["pages","size-picker","quick-jumper"]},to:vr.propTo,showQuickJumpDropdown:{type:Boolean,default:!0},"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),WD=le({name:"Pagination",props:VD,slots:Object,setup(t){const{mergedComponentPropsRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=Ve("Pagination","-pagination",sce,UD,t,n),{localeRef:a}=li("Pagination"),s=V(null),l=V(t.defaultPage),c=V(jD(t)),u=Cn($e(t,"page"),l),d=Cn($e(t,"pageSize"),c),h=L(()=>{const{itemCount:J}=t;if(J!==void 0)return Math.max(1,Math.ceil(J/d.value));const{pageCount:Ue}=t;return Ue!==void 0?Math.max(Ue,1):1}),f=V("");er(()=>{t.simple,f.value=String(u.value)});const p=V(!1),g=V(!1),m=V(!1),y=V(!1),b=()=>{t.disabled||(p.value=!0,W())},x=()=>{t.disabled||(p.value=!1,W())},w=()=>{g.value=!0,W()},C=()=>{g.value=!1,W()},S=J=>{G(J)},A=L(()=>lce(u.value,h.value,t.pageSlot,t.showQuickJumpDropdown));er(()=>{A.value.hasFastBackward?A.value.hasFastForward||(p.value=!1,m.value=!1):(g.value=!1,y.value=!1)});const T=L(()=>{const J=a.value.selectionSuffix;return t.pageSizes.map(Ue=>typeof Ue=="number"?{label:`${Ue} / ${J}`,value:Ue}:Ue)}),k=L(()=>{var J,Ue;return((Ue=(J=e==null?void 0:e.value)===null||J===void 0?void 0:J.Pagination)===null||Ue===void 0?void 0:Ue.inputSize)||oA(t.size)}),E=L(()=>{var J,Ue;return((Ue=(J=e==null?void 0:e.value)===null||J===void 0?void 0:J.Pagination)===null||Ue===void 0?void 0:Ue.selectSize)||oA(t.size)}),P=L(()=>(u.value-1)*d.value),_=L(()=>{const J=u.value*d.value-1,{itemCount:Ue}=t;return Ue!==void 0&&J>Ue-1?Ue-1:J}),F=L(()=>{const{itemCount:J}=t;return J!==void 0?J:(t.pageCount||1)*d.value}),N=or("Pagination",i,n);function W(){vn(()=>{var J;const{value:Ue}=s;Ue&&(Ue.classList.add("transition-disabled"),(J=s.value)===null||J===void 0||J.offsetWidth,Ue.classList.remove("transition-disabled"))})}function G(J){if(J===u.value)return;const{"onUpdate:page":Ue,onUpdatePage:Qe,onChange:ae,simple:fe}=t;Ue&&Fe(Ue,J),Qe&&Fe(Qe,J),ae&&Fe(ae,J),l.value=J,fe&&(f.value=String(J))}function Z(J){if(J===d.value)return;const{"onUpdate:pageSize":Ue,onUpdatePageSize:Qe,onPageSizeChange:ae}=t;Ue&&Fe(Ue,J),Qe&&Fe(Qe,J),ae&&Fe(ae,J),c.value=J,h.value<u.value&&G(h.value)}function ie(){if(t.disabled)return;const J=Math.min(u.value+1,h.value);G(J)}function he(){if(t.disabled)return;const J=Math.max(u.value-1,1);G(J)}function xe(){if(t.disabled)return;const J=Math.min(A.value.fastForwardTo,h.value);G(J)}function Q(){if(t.disabled)return;const J=Math.max(A.value.fastBackwardTo,1);G(J)}function X(J){Z(J)}function K(){const J=Number.parseInt(f.value);Number.isNaN(J)||(G(Math.max(1,Math.min(J,h.value))),t.simple||(f.value=""))}function ne(){K()}function ve(J){if(!t.disabled)switch(J.type){case"page":G(J.label);break;case"fast-backward":Q();break;case"fast-forward":xe();break}}function Se(J){f.value=J.replace(/\D+/g,"")}er(()=>{u.value,d.value,W()});const ye=L(()=>{const{size:J}=t,{self:{buttonBorder:Ue,buttonBorderHover:Qe,buttonBorderPressed:ae,buttonIconColor:fe,buttonIconColorHover:ke,buttonIconColorPressed:Ke,itemTextColor:Ne,itemTextColorHover:Ae,itemTextColorPressed:se,itemTextColorActive:be,itemTextColorDisabled:re,itemColor:me,itemColorHover:De,itemColorPressed:ge,itemColorActive:pe,itemColorActiveHover:Te,itemColorDisabled:Xe,itemBorder:Oe,itemBorderHover:ft,itemBorderPressed:Lt,itemBorderActive:Kt,itemBorderDisabled:Dt,itemBorderRadius:Ge,jumperTextColor:en,jumperTextColorDisabled:wt,buttonColor:_t,buttonColorHover:ce,buttonColorPressed:ue,[We("itemPadding",J)]:je,[We("itemMargin",J)]:st,[We("inputWidth",J)]:lt,[We("selectWidth",J)]:_e,[We("inputMargin",J)]:tt,[We("selectMargin",J)]:Re,[We("jumperFontSize",J)]:Je,[We("prefixMargin",J)]:St,[We("suffixMargin",J)]:Rt,[We("itemSize",J)]:ze,[We("buttonIconSize",J)]:dt,[We("itemFontSize",J)]:Ie,[`${We("itemMargin",J)}Rtl`]:rt,[`${We("inputMargin",J)}Rtl`]:mt},common:{cubicBezierEaseInOut:Ft}}=o.value;return{"--n-prefix-margin":St,"--n-suffix-margin":Rt,"--n-item-font-size":Ie,"--n-select-width":_e,"--n-select-margin":Re,"--n-input-width":lt,"--n-input-margin":tt,"--n-input-margin-rtl":mt,"--n-item-size":ze,"--n-item-text-color":Ne,"--n-item-text-color-disabled":re,"--n-item-text-color-hover":Ae,"--n-item-text-color-active":be,"--n-item-text-color-pressed":se,"--n-item-color":me,"--n-item-color-hover":De,"--n-item-color-disabled":Xe,"--n-item-color-active":pe,"--n-item-color-active-hover":Te,"--n-item-color-pressed":ge,"--n-item-border":Oe,"--n-item-border-hover":ft,"--n-item-border-disabled":Dt,"--n-item-border-active":Kt,"--n-item-border-pressed":Lt,"--n-item-padding":je,"--n-item-border-radius":Ge,"--n-bezier":Ft,"--n-jumper-font-size":Je,"--n-jumper-text-color":en,"--n-jumper-text-color-disabled":wt,"--n-item-margin":st,"--n-item-margin-rtl":rt,"--n-button-icon-size":dt,"--n-button-icon-color":fe,"--n-button-icon-color-hover":ke,"--n-button-icon-color-pressed":Ke,"--n-button-color-hover":ce,"--n-button-color":_t,"--n-button-color-pressed":ue,"--n-button-border":Ue,"--n-button-border-hover":Qe,"--n-button-border-pressed":ae}}),Be=r?Ot("pagination",L(()=>{let J="";const{size:Ue}=t;return J+=Ue[0],J}),ye,t):void 0;return{rtlEnabled:N,mergedClsPrefix:n,locale:a,selfRef:s,mergedPage:u,pageItems:L(()=>A.value.items),mergedItemCount:F,jumperValue:f,pageSizeOptions:T,mergedPageSize:d,inputSize:k,selectSize:E,mergedTheme:o,mergedPageCount:h,startIndex:P,endIndex:_,showFastForwardMenu:m,showFastBackwardMenu:y,fastForwardActive:p,fastBackwardActive:g,handleMenuSelect:S,handleFastForwardMouseenter:b,handleFastForwardMouseleave:x,handleFastBackwardMouseenter:w,handleFastBackwardMouseleave:C,handleJumperInput:Se,handleBackwardClick:he,handleForwardClick:ie,handlePageItemClick:ve,handleSizePickerChange:X,handleQuickJumperChange:ne,cssVars:r?void 0:ye,themeClass:Be==null?void 0:Be.themeClass,onRender:Be==null?void 0:Be.onRender}},render(){const{$slots:t,mergedClsPrefix:e,disabled:n,cssVars:r,mergedPage:i,mergedPageCount:o,pageItems:a,showSizePicker:s,showQuickJumper:l,mergedTheme:c,locale:u,inputSize:d,selectSize:h,mergedPageSize:f,pageSizeOptions:p,jumperValue:g,simple:m,prev:y,next:b,prefix:x,suffix:w,label:C,goto:S,handleJumperInput:A,handleSizePickerChange:T,handleBackwardClick:k,handlePageItemClick:E,handleForwardClick:P,handleQuickJumperChange:_,onRender:F}=this;F==null||F();const N=x||t.prefix,W=w||t.suffix,G=y||t.prev,Z=b||t.next,ie=C||t.label;return v("div",{ref:"selfRef",class:[`${e}-pagination`,this.themeClass,this.rtlEnabled&&`${e}-pagination--rtl`,n&&`${e}-pagination--disabled`,m&&`${e}-pagination--simple`],style:r},N?v("div",{class:`${e}-pagination-prefix`},N({page:i,pageSize:f,pageCount:o,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,this.displayOrder.map(he=>{switch(he){case"pages":return v(qn,null,v("div",{class:[`${e}-pagination-item`,!G&&`${e}-pagination-item--button`,(i<=1||i>o||n)&&`${e}-pagination-item--disabled`],onClick:k},G?G({page:i,pageSize:f,pageCount:o,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):v(Jt,{clsPrefix:e},{default:()=>this.rtlEnabled?v(Nu,null):v(Fu,null)})),m?v(qn,null,v("div",{class:`${e}-pagination-quick-jumper`},v(_i,{value:g,onUpdateValue:A,size:d,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:_})),"/"," ",o):a.map((xe,Q)=>{let X,K,ne;const{type:ve}=xe;switch(ve){case"page":const ye=xe.label;ie?X=ie({type:"page",node:ye,active:xe.active}):X=ye;break;case"fast-forward":const Be=this.fastForwardActive?v(Jt,{clsPrefix:e},{default:()=>this.rtlEnabled?v($u,null):v(Bu,null)}):v(Jt,{clsPrefix:e},{default:()=>v(YT,null)});ie?X=ie({type:"fast-forward",node:Be,active:this.fastForwardActive||this.showFastForwardMenu}):X=Be,K=this.handleFastForwardMouseenter,ne=this.handleFastForwardMouseleave;break;case"fast-backward":const J=this.fastBackwardActive?v(Jt,{clsPrefix:e},{default:()=>this.rtlEnabled?v(Bu,null):v($u,null)}):v(Jt,{clsPrefix:e},{default:()=>v(YT,null)});ie?X=ie({type:"fast-backward",node:J,active:this.fastBackwardActive||this.showFastBackwardMenu}):X=J,K=this.handleFastBackwardMouseenter,ne=this.handleFastBackwardMouseleave;break}const Se=v("div",{key:Q,class:[`${e}-pagination-item`,xe.active&&`${e}-pagination-item--active`,ve!=="page"&&(ve==="fast-backward"&&this.showFastBackwardMenu||ve==="fast-forward"&&this.showFastForwardMenu)&&`${e}-pagination-item--hover`,n&&`${e}-pagination-item--disabled`,ve==="page"&&`${e}-pagination-item--clickable`],onClick:()=>{E(xe)},onMouseenter:K,onMouseleave:ne},X);if(ve==="page"&&!xe.mayBeFastBackward&&!xe.mayBeFastForward)return Se;{const ye=xe.type==="page"?xe.mayBeFastBackward?"fast-backward":"fast-forward":xe.type;return xe.type!=="page"&&!xe.options?Se:v(BD,{to:this.to,key:ye,disabled:n,trigger:"hover",virtualScroll:!0,style:{width:"60px"},theme:c.peers.Popselect,themeOverrides:c.peerOverrides.Popselect,builtinThemeOverrides:{peers:{InternalSelectMenu:{height:"calc(var(--n-option-height) * 4.6)"}}},nodeProps:()=>({style:{justifyContent:"center"}}),show:ve==="page"?!1:ve==="fast-backward"?this.showFastBackwardMenu:this.showFastForwardMenu,onUpdateShow:Be=>{ve!=="page"&&(Be?ve==="fast-backward"?this.showFastBackwardMenu=Be:this.showFastForwardMenu=Be:(this.showFastBackwardMenu=!1,this.showFastForwardMenu=!1))},options:xe.type!=="page"&&xe.options?xe.options:[],onUpdateValue:this.handleMenuSelect,scrollable:!0,showCheckmark:!1},{default:()=>Se})}}),v("div",{class:[`${e}-pagination-item`,!Z&&`${e}-pagination-item--button`,{[`${e}-pagination-item--disabled`]:i<1||i>=o||n}],onClick:P},Z?Z({page:i,pageSize:f,pageCount:o,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):v(Jt,{clsPrefix:e},{default:()=>this.rtlEnabled?v(Fu,null):v(Nu,null)})));case"size-picker":return!m&&s?v(HD,Object.assign({consistentMenuWidth:!1,placeholder:"",showCheckmark:!1,to:this.to},this.selectProps,{size:h,options:p,value:f,disabled:n,theme:c.peers.Select,themeOverrides:c.peerOverrides.Select,onUpdateValue:T})):null;case"quick-jumper":return!m&&l?v("div",{class:`${e}-pagination-quick-jumper`},S?S():sn(this.$slots.goto,()=>[u.goto]),v(_i,{value:g,onUpdateValue:A,size:d,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:_})):null;default:return null}}),W?v("div",{class:`${e}-pagination-suffix`},W({page:i,pageSize:f,pageCount:o,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),cce={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};function uce(t){const{primaryColor:e,textColor2:n,dividerColor:r,hoverColor:i,popoverColor:o,invertedColor:a,borderRadius:s,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:u,fontSizeHuge:d,heightSmall:h,heightMedium:f,heightLarge:p,heightHuge:g,textColor3:m,opacityDisabled:y}=t;return Object.assign(Object.assign({},cce),{optionHeightSmall:h,optionHeightMedium:f,optionHeightLarge:p,optionHeightHuge:g,borderRadius:s,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:u,fontSizeHuge:d,optionTextColor:n,optionTextColorHover:n,optionTextColorActive:e,optionTextColorChildActive:e,color:o,dividerColor:r,suffixColor:n,prefixColor:n,optionColorHover:i,optionColorActive:dn(e,{alpha:.1}),groupHeaderTextColor:m,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:a,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:y})}const w4={name:"Dropdown",common:Bt,peers:{Popover:wh},self:uce},dce={padding:"8px 14px"};function hce(t){const{borderRadius:e,boxShadow2:n,baseColor:r}=t;return Object.assign(Object.assign({},dce),{borderRadius:e,boxShadow:n,color:rn(r,"rgba(0, 0, 0, .85)"),textColor:r})}const dx={name:"Tooltip",common:Bt,peers:{Popover:wh},self:hce},qD={name:"Ellipsis",common:Bt,peers:{Tooltip:dx}},fce={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function pce(t){const{borderColor:e,primaryColor:n,baseColor:r,textColorDisabled:i,inputColorDisabled:o,textColor2:a,opacityDisabled:s,borderRadius:l,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:d,heightSmall:h,heightMedium:f,heightLarge:p,lineHeight:g}=t;return Object.assign(Object.assign({},fce),{labelLineHeight:g,buttonHeightSmall:h,buttonHeightMedium:f,buttonHeightLarge:p,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:d,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${dn(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:r,colorDisabled:o,colorActive:"#0000",textColor:a,textColorDisabled:i,dotColorActive:n,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:n,buttonBorderColorHover:e,buttonColor:r,buttonColorActive:r,buttonTextColor:a,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:s,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${dn(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}const C4={name:"Radio",common:Bt,self:pce},mce={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};function gce(t){const{cardColor:e,modalColor:n,popoverColor:r,textColor2:i,textColor1:o,tableHeaderColor:a,tableColorHover:s,iconColor:l,primaryColor:c,fontWeightStrong:u,borderRadius:d,lineHeight:h,fontSizeSmall:f,fontSizeMedium:p,fontSizeLarge:g,dividerColor:m,heightSmall:y,opacityDisabled:b,tableColorStriped:x}=t;return Object.assign(Object.assign({},mce),{actionDividerColor:m,lineHeight:h,borderRadius:d,fontSizeSmall:f,fontSizeMedium:p,fontSizeLarge:g,borderColor:rn(e,m),tdColorHover:rn(e,s),tdColorSorting:rn(e,s),tdColorStriped:rn(e,x),thColor:rn(e,a),thColorHover:rn(rn(e,a),s),thColorSorting:rn(rn(e,a),s),tdColor:e,tdTextColor:i,thTextColor:o,thFontWeight:u,thButtonColorHover:s,thIconColor:l,thIconColorActive:c,borderColorModal:rn(n,m),tdColorHoverModal:rn(n,s),tdColorSortingModal:rn(n,s),tdColorStripedModal:rn(n,x),thColorModal:rn(n,a),thColorHoverModal:rn(rn(n,a),s),thColorSortingModal:rn(rn(n,a),s),tdColorModal:n,borderColorPopover:rn(r,m),tdColorHoverPopover:rn(r,s),tdColorSortingPopover:rn(r,s),tdColorStripedPopover:rn(r,x),thColorPopover:rn(r,a),thColorHoverPopover:rn(rn(r,a),s),thColorSortingPopover:rn(rn(r,a),s),tdColorPopover:r,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:c,loadingSize:y,opacityLoading:b})}const vce={name:"DataTable",common:Bt,peers:{Button:Aa,Checkbox:pp,Radio:C4,Pagination:UD,Scrollbar:Bo,Empty:ed,Popover:wh,Ellipsis:qD,Dropdown:w4},self:gce},KD=Object.assign(Object.assign({},Ve.props),{onUnstableColumnResize:Function,pagination:{type:[Object,Boolean],default:!1},paginateSinglePage:{type:Boolean,default:!0},minHeight:[Number,String],maxHeight:[Number,String],columns:{type:Array,default:()=>[]},rowClassName:[String,Function],rowProps:Function,rowKey:Function,summary:[Function],data:{type:Array,default:()=>[]},loading:Boolean,bordered:{type:Boolean,default:void 0},bottomBordered:{type:Boolean,default:void 0},striped:Boolean,scrollX:[Number,String],defaultCheckedRowKeys:{type:Array,default:()=>[]},checkedRowKeys:Array,singleLine:{type:Boolean,default:!0},singleColumn:Boolean,size:{type:String,default:"medium"},remote:Boolean,defaultExpandedRowKeys:{type:Array,default:[]},defaultExpandAll:Boolean,expandedRowKeys:Array,stickyExpandedRows:Boolean,virtualScroll:Boolean,virtualScrollX:Boolean,virtualScrollHeader:Boolean,headerHeight:{type:Number,default:28},heightForRow:Function,minRowHeight:{type:Number,default:28},tableLayout:{type:String,default:"auto"},allowCheckingNotLoaded:Boolean,cascade:{type:Boolean,default:!0},childrenKey:{type:String,default:"children"},indent:{type:Number,default:16},flexHeight:Boolean,summaryPlacement:{type:String,default:"bottom"},paginationBehaviorOnFilter:{type:String,default:"current"},filterIconPopoverProps:Object,scrollbarProps:Object,renderCell:Function,renderExpandIcon:Function,spinProps:{type:Object,default:{}},getCsvCell:Function,getCsvHeader:Function,onLoad:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],"onUpdate:sorter":[Function,Array],onUpdateSorter:[Function,Array],"onUpdate:filters":[Function,Array],onUpdateFilters:[Function,Array],"onUpdate:checkedRowKeys":[Function,Array],onUpdateCheckedRowKeys:[Function,Array],"onUpdate:expandedRowKeys":[Function,Array],onUpdateExpandedRowKeys:[Function,Array],onScroll:Function,onPageChange:[Function,Array],onPageSizeChange:[Function,Array],onSorterChange:[Function,Array],onFiltersChange:[Function,Array],onCheckedRowKeysChange:[Function,Array]}),Bs="n-data-table",GD=40,YD=40;function C6(t){if(t.type==="selection")return t.width===void 0?GD:pr(t.width);if(t.type==="expand")return t.width===void 0?YD:pr(t.width);if(!("children"in t))return typeof t.width=="string"?pr(t.width):t.width}function yce(t){var e,n;if(t.type==="selection")return Ln((e=t.width)!==null&&e!==void 0?e:GD);if(t.type==="expand")return Ln((n=t.width)!==null&&n!==void 0?n:YD);if(!("children"in t))return Ln(t.width)}function ys(t){return t.type==="selection"?"__n_selection__":t.type==="expand"?"__n_expand__":t.key}function A6(t){return t&&(typeof t=="object"?Object.assign({},t):t)}function bce(t){return t==="ascend"?1:t==="descend"?-1:0}function xce(t,e,n){return n!==void 0&&(t=Math.min(t,typeof n=="number"?n:Number.parseFloat(n))),e!==void 0&&(t=Math.max(t,typeof e=="number"?e:Number.parseFloat(e))),t}function wce(t,e){if(e!==void 0)return{width:e,minWidth:e,maxWidth:e};const n=yce(t),{minWidth:r,maxWidth:i}=t;return{width:n,minWidth:Ln(r)||n,maxWidth:Ln(i)}}function Cce(t,e,n){return typeof n=="function"?n(t,e):n||""}function Xw(t){return t.filterOptionValues!==void 0||t.filterOptionValue===void 0&&t.defaultFilterOptionValues!==void 0}function Qw(t){return"children"in t?!1:!!t.sorter}function XD(t){return"children"in t&&t.children.length?!1:!!t.resizable}function S6(t){return"children"in t?!1:!!t.filter&&(!!t.filterOptions||!!t.renderFilterMenu)}function k6(t){if(t){if(t==="descend")return"ascend"}else return"descend";return!1}function Ace(t,e){if(t.sorter===void 0)return null;const{customNextSortOrder:n}=t;return e===null||e.columnKey!==t.key?{columnKey:t.key,sorter:t.sorter,order:k6(!1)}:Object.assign(Object.assign({},e),{order:(n||k6)(e.order)})}function QD(t,e){return e.find(n=>n.columnKey===t.key&&n.order)!==void 0}function Sce(t){return typeof t=="string"?t.replace(/,/g,"\\,"):t==null?"":`${t}`.replace(/,/g,"\\,")}function kce(t,e,n,r){const i=t.filter(s=>s.type!=="expand"&&s.type!=="selection"&&s.allowExport!==!1),o=i.map(s=>r?r(s):s.title).join(","),a=e.map(s=>i.map(l=>n?n(s[l.key],s,l):Sce(s[l.key])).join(","));return[o,...a].join(`
`)}const Ece=le({name:"DataTableBodyCheckbox",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(t){const{mergedCheckedRowKeySetRef:e,mergedInderminateRowKeySetRef:n}=ut(Bs);return()=>{const{rowKey:r}=t;return v(Lc,{privateInsideTable:!0,disabled:t.disabled,indeterminate:n.value.has(r),checked:e.value.has(r),onUpdateChecked:t.onUpdateChecked})}}}),Tce=R("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[U("checked",[H("dot",`
 background-color: var(--n-color-active);
 `)]),H("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),R("radio-input",`
 position: absolute;
 border: 0;
 width: 0;
 height: 0;
 opacity: 0;
 margin: 0;
 `),H("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[B("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),U("checked",{boxShadow:"var(--n-box-shadow-active)"},[B("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),H("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),an("disabled",`
 cursor: pointer;
 `,[B("&:hover",[H("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),U("focus",[B("&:not(:active)",[H("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),U("disabled",`
 cursor: not-allowed;
 `,[H("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[B("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),U("checked",`
 opacity: 1;
 `)]),H("label",{color:"var(--n-text-color-disabled)"}),R("radio-input",`
 cursor: not-allowed;
 `)])]),A4={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},ZD="n-radio-group";function JD(t){const e=ut(ZD,null),n=di(t,{mergedSize(b){const{size:x}=t;if(x!==void 0)return x;if(e){const{mergedSizeRef:{value:w}}=e;if(w!==void 0)return w}return b?b.mergedSize.value:"medium"},mergedDisabled(b){return!!(t.disabled||e!=null&&e.disabledRef.value||b!=null&&b.disabled.value)}}),{mergedSizeRef:r,mergedDisabledRef:i}=n,o=V(null),a=V(null),s=V(t.defaultChecked),c=Cn($e(t,"checked"),s),u=Yt(()=>e?e.valueRef.value===t.value:c.value),d=Yt(()=>{const{name:b}=t;if(b!==void 0)return b;if(e)return e.nameRef.value}),h=V(!1);function f(){if(e){const{doUpdateValue:b}=e,{value:x}=t;Fe(b,x)}else{const{onUpdateChecked:b,"onUpdate:checked":x}=t,{nTriggerFormInput:w,nTriggerFormChange:C}=n;b&&Fe(b,!0),x&&Fe(x,!0),w(),C(),s.value=!0}}function p(){i.value||u.value||f()}function g(){p(),o.value&&(o.value.checked=u.value)}function m(){h.value=!1}function y(){h.value=!0}return{mergedClsPrefix:e?e.mergedClsPrefixRef:gt(t).mergedClsPrefixRef,inputRef:o,labelRef:a,mergedName:d,mergedDisabled:i,renderSafeChecked:u,focus:h,mergedSize:r,handleRadioInputChange:g,handleRadioInputBlur:m,handleRadioInputFocus:y}}const e9=Object.assign(Object.assign({},Ve.props),A4),S4=le({name:"Radio",props:e9,setup(t){const e=JD(t),n=Ve("Radio","-radio",Tce,C4,t,e.mergedClsPrefix),r=L(()=>{const{mergedSize:{value:c}}=e,{common:{cubicBezierEaseInOut:u},self:{boxShadow:d,boxShadowActive:h,boxShadowDisabled:f,boxShadowFocus:p,boxShadowHover:g,color:m,colorDisabled:y,colorActive:b,textColor:x,textColorDisabled:w,dotColorActive:C,dotColorDisabled:S,labelPadding:A,labelLineHeight:T,labelFontWeight:k,[We("fontSize",c)]:E,[We("radioSize",c)]:P}}=n.value;return{"--n-bezier":u,"--n-label-line-height":T,"--n-label-font-weight":k,"--n-box-shadow":d,"--n-box-shadow-active":h,"--n-box-shadow-disabled":f,"--n-box-shadow-focus":p,"--n-box-shadow-hover":g,"--n-color":m,"--n-color-active":b,"--n-color-disabled":y,"--n-dot-color-active":C,"--n-dot-color-disabled":S,"--n-font-size":E,"--n-radio-size":P,"--n-text-color":x,"--n-text-color-disabled":w,"--n-label-padding":A}}),{inlineThemeDisabled:i,mergedClsPrefixRef:o,mergedRtlRef:a}=gt(t),s=or("Radio",a,o),l=i?Ot("radio",L(()=>e.mergedSize.value[0]),r,t):void 0;return Object.assign(e,{rtlEnabled:s,cssVars:i?void 0:r,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender})},render(){const{$slots:t,mergedClsPrefix:e,onRender:n,label:r}=this;return n==null||n(),v("label",{class:[`${e}-radio`,this.themeClass,this.rtlEnabled&&`${e}-radio--rtl`,this.mergedDisabled&&`${e}-radio--disabled`,this.renderSafeChecked&&`${e}-radio--checked`,this.focus&&`${e}-radio--focus`],style:this.cssVars},v("div",{class:`${e}-radio__dot-wrapper`},"",v("div",{class:[`${e}-radio__dot`,this.renderSafeChecked&&`${e}-radio__dot--checked`]}),v("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur})),bn(t.default,i=>!i&&!r?null:v("div",{ref:"labelRef",class:`${e}-radio__label`},i||r)))}}),Rce=A4,_ce=le({name:"RadioButton",props:A4,setup:JD,render(){const{mergedClsPrefix:t}=this;return v("label",{class:[`${t}-radio-button`,this.mergedDisabled&&`${t}-radio-button--disabled`,this.renderSafeChecked&&`${t}-radio-button--checked`,this.focus&&[`${t}-radio-button--focus`]]},v("input",{ref:"inputRef",type:"radio",class:`${t}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),v("div",{class:`${t}-radio-button__state-border`}),bn(this.$slots.default,e=>!e&&!this.label?null:v("div",{ref:"labelRef",class:`${t}-radio__label`},e||this.label)))}}),Pce=R("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[H("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[U("checked",{backgroundColor:"var(--n-button-border-color-active)"}),U("disabled",{opacity:"var(--n-opacity-disabled)"})]),U("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[R("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),H("splitor",{height:"var(--n-height)"})]),R("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background: var(--n-button-color);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[R("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),H("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),B("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[H("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),B("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[H("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),an("disabled",`
 cursor: pointer;
 `,[B("&:hover",[H("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),an("checked",{color:"var(--n-button-text-color-hover)"})]),U("focus",[B("&:not(:active)",[H("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),U("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Ice(t,e,n){var r;const i=[];let o=!1;for(let a=0;a<t.length;++a){const s=t[a],l=(r=s.type)===null||r===void 0?void 0:r.name;l==="RadioButton"&&(o=!0);const c=s.props;if(l!=="RadioButton"){i.push(s);continue}if(a===0)i.push(s);else{const u=i[i.length-1].props,d=e===u.value,h=u.disabled,f=e===c.value,p=c.disabled,g=(d?2:0)+(h?0:1),m=(f?2:0)+(p?0:1),y={[`${n}-radio-group__splitor--disabled`]:h,[`${n}-radio-group__splitor--checked`]:d},b={[`${n}-radio-group__splitor--disabled`]:p,[`${n}-radio-group__splitor--checked`]:f},x=g<m?b:y;i.push(v("div",{class:[`${n}-radio-group__splitor`,x]}),s)}}return{children:i,isButtonGroup:o}}const t9=Object.assign(Object.assign({},Ve.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),n9=le({name:"RadioGroup",props:t9,setup(t){const e=V(null),{mergedSizeRef:n,mergedDisabledRef:r,nTriggerFormChange:i,nTriggerFormInput:o,nTriggerFormBlur:a,nTriggerFormFocus:s}=di(t),{mergedClsPrefixRef:l,inlineThemeDisabled:c,mergedRtlRef:u}=gt(t),d=Ve("Radio","-radio-group",Pce,C4,t,l),h=V(t.defaultValue),p=Cn($e(t,"value"),h);function g(C){const{onUpdateValue:S,"onUpdate:value":A}=t;S&&Fe(S,C),A&&Fe(A,C),h.value=C,i(),o()}function m(C){const{value:S}=e;S&&(S.contains(C.relatedTarget)||s())}function y(C){const{value:S}=e;S&&(S.contains(C.relatedTarget)||a())}zt(ZD,{mergedClsPrefixRef:l,nameRef:$e(t,"name"),valueRef:p,disabledRef:r,mergedSizeRef:n,doUpdateValue:g});const b=or("Radio",u,l),x=L(()=>{const{value:C}=n,{common:{cubicBezierEaseInOut:S},self:{buttonBorderColor:A,buttonBorderColorActive:T,buttonBorderRadius:k,buttonBoxShadow:E,buttonBoxShadowFocus:P,buttonBoxShadowHover:_,buttonColor:F,buttonColorActive:N,buttonTextColor:W,buttonTextColorActive:G,buttonTextColorHover:Z,opacityDisabled:ie,[We("buttonHeight",C)]:he,[We("fontSize",C)]:xe}}=d.value;return{"--n-font-size":xe,"--n-bezier":S,"--n-button-border-color":A,"--n-button-border-color-active":T,"--n-button-border-radius":k,"--n-button-box-shadow":E,"--n-button-box-shadow-focus":P,"--n-button-box-shadow-hover":_,"--n-button-color":F,"--n-button-color-active":N,"--n-button-text-color":W,"--n-button-text-color-hover":Z,"--n-button-text-color-active":G,"--n-height":he,"--n-opacity-disabled":ie}}),w=c?Ot("radio-group",L(()=>n.value[0]),x,t):void 0;return{selfElRef:e,rtlEnabled:b,mergedClsPrefix:l,mergedValue:p,handleFocusout:y,handleFocusin:m,cssVars:c?void 0:x,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender}},render(){var t;const{mergedValue:e,mergedClsPrefix:n,handleFocusin:r,handleFocusout:i}=this,{children:o,isButtonGroup:a}=Ice(pa(up(this)),e,n);return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{onFocusin:r,onFocusout:i,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,a&&`${n}-radio-group--button-group`],style:this.cssVars},o)}}),Lce=le({name:"DataTableBodyRadio",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(t){const{mergedCheckedRowKeySetRef:e,componentId:n}=ut(Bs);return()=>{const{rowKey:r}=t;return v(S4,{name:n,disabled:t.disabled,checked:e.value.has(r),onUpdateChecked:t.onUpdateChecked})}}}),r9=Object.assign(Object.assign({},ah),Ve.props),Wg=le({name:"Tooltip",props:r9,slots:Object,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=Ve("Tooltip","-tooltip",void 0,dx,t,e),r=V(null);return Object.assign(Object.assign({},{syncPosition(){r.value.syncPosition()},setShow(o){r.value.setShow(o)}}),{popoverRef:r,mergedTheme:n,popoverThemeOverrides:L(()=>n.value.self)})},render(){const{mergedTheme:t,internalExtraClass:e}=this;return v(Ch,Object.assign(Object.assign({},this.$props),{theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:e.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),i9=R("ellipsis",{overflow:"hidden"},[an("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),U("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),U("cursor-pointer",`
 cursor: pointer;
 `)]);function EA(t){return`${t}-ellipsis--line-clamp`}function TA(t,e){return`${t}-ellipsis--cursor-${e}`}const k4=Object.assign(Object.assign({},Ve.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),hx=le({name:"Ellipsis",inheritAttrs:!1,props:k4,slots:Object,setup(t,{slots:e,attrs:n}){const r=JL(),i=Ve("Ellipsis","-ellipsis",i9,qD,t,r),o=V(null),a=V(null),s=V(null),l=V(!1),c=L(()=>{const{lineClamp:m}=t,{value:y}=l;return m!==void 0?{textOverflow:"","-webkit-line-clamp":y?"":m}:{textOverflow:y?"":"ellipsis","-webkit-line-clamp":""}});function u(){let m=!1;const{value:y}=l;if(y)return!0;const{value:b}=o;if(b){const{lineClamp:x}=t;if(f(b),x!==void 0)m=b.scrollHeight<=b.offsetHeight;else{const{value:w}=a;w&&(m=w.getBoundingClientRect().width<=b.getBoundingClientRect().width)}p(b,m)}return m}const d=L(()=>t.expandTrigger==="click"?()=>{var m;const{value:y}=l;y&&((m=s.value)===null||m===void 0||m.setShow(!1)),l.value=!y}:void 0);V1(()=>{var m;t.tooltip&&((m=s.value)===null||m===void 0||m.setShow(!1))});const h=()=>v("span",Object.assign({},Xi(n,{class:[`${r.value}-ellipsis`,t.lineClamp!==void 0?EA(r.value):void 0,t.expandTrigger==="click"?TA(r.value,"pointer"):void 0],style:c.value}),{ref:"triggerRef",onClick:d.value,onMouseenter:t.expandTrigger==="click"?u:void 0}),t.lineClamp?e:v("span",{ref:"triggerInnerRef"},e));function f(m){if(!m)return;const y=c.value,b=EA(r.value);t.lineClamp!==void 0?g(m,b,"add"):g(m,b,"remove");for(const x in y)m.style[x]!==y[x]&&(m.style[x]=y[x])}function p(m,y){const b=TA(r.value,"pointer");t.expandTrigger==="click"&&!y?g(m,b,"add"):g(m,b,"remove")}function g(m,y,b){b==="add"?m.classList.contains(y)||m.classList.add(y):m.classList.contains(y)&&m.classList.remove(y)}return{mergedTheme:i,triggerRef:o,triggerInnerRef:a,tooltipRef:s,handleClick:d,renderTrigger:h,getTooltipDisabled:u}},render(){var t;const{tooltip:e,renderTrigger:n,$slots:r}=this;if(e){const{mergedTheme:i}=this;return v(Wg,Object.assign({ref:"tooltipRef",placement:"top"},e,{getDisabled:this.getTooltipDisabled,theme:i.peers.Tooltip,themeOverrides:i.peerOverrides.Tooltip}),{trigger:n,default:(t=r.tooltip)!==null&&t!==void 0?t:r.default})}else return n()}}),o9=le({name:"PerformantEllipsis",props:k4,inheritAttrs:!1,setup(t,{attrs:e,slots:n}){const r=V(!1),i=JL();return Wa("-ellipsis",i9,i),{mouseEntered:r,renderTrigger:()=>{const{lineClamp:a}=t,s=i.value;return v("span",Object.assign({},Xi(e,{class:[`${s}-ellipsis`,a!==void 0?EA(s):void 0,t.expandTrigger==="click"?TA(s,"pointer"):void 0],style:a===void 0?{textOverflow:"ellipsis"}:{"-webkit-line-clamp":a}}),{onMouseenter:()=>{r.value=!0}}),a?n:v("span",null,n))}}},render(){return this.mouseEntered?v(hx,Xi({},this.$attrs,this.$props),this.$slots):this.renderTrigger()}}),Mce=le({name:"DataTableCell",props:{clsPrefix:{type:String,required:!0},row:{type:Object,required:!0},index:{type:Number,required:!0},column:{type:Object,required:!0},isSummary:Boolean,mergedTheme:{type:Object,required:!0},renderCell:Function},render(){var t;const{isSummary:e,column:n,row:r,renderCell:i}=this;let o;const{render:a,key:s,ellipsis:l}=n;if(a&&!e?o=a(r,this.index):e?o=(t=r[s])===null||t===void 0?void 0:t.value:o=i?i(Jm(r,s),r,n):Jm(r,s),l)if(typeof l=="object"){const{mergedTheme:c}=this;return n.ellipsisComponent==="performant-ellipsis"?v(o9,Object.assign({},l,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>o}):v(hx,Object.assign({},l,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>o})}else return v("span",{class:`${this.clsPrefix}-data-table-td__ellipsis`},o);return o}}),E6=le({name:"DataTableExpandTrigger",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,loading:Boolean,onClick:{type:Function,required:!0},renderExpandIcon:{type:Function},rowData:{type:Object,required:!0}},render(){const{clsPrefix:t}=this;return v("div",{class:[`${t}-data-table-expand-trigger`,this.expanded&&`${t}-data-table-expand-trigger--expanded`],onClick:this.onClick,onMousedown:e=>{e.preventDefault()}},v(Ll,null,{default:()=>this.loading?v($s,{key:"loading",clsPrefix:this.clsPrefix,radius:85,strokeWidth:15,scale:.88}):this.renderExpandIcon?this.renderExpandIcon({expanded:this.expanded,rowData:this.rowData}):v(Jt,{clsPrefix:t,key:"base-icon"},{default:()=>v(yh,null)})}))}}),Oce=le({name:"DataTableFilterMenu",props:{column:{type:Object,required:!0},radioGroupName:{type:String,required:!0},multiple:{type:Boolean,required:!0},value:{type:[Array,String,Number],default:null},options:{type:Array,required:!0},onConfirm:{type:Function,required:!0},onClear:{type:Function,required:!0},onChange:{type:Function,required:!0}},setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=or("DataTable",n,e),{mergedClsPrefixRef:i,mergedThemeRef:o,localeRef:a}=ut(Bs),s=V(t.value),l=L(()=>{const{value:p}=s;return Array.isArray(p)?p:null}),c=L(()=>{const{value:p}=s;return Xw(t.column)?Array.isArray(p)&&p.length&&p[0]||null:Array.isArray(p)?null:p});function u(p){t.onChange(p)}function d(p){t.multiple&&Array.isArray(p)?s.value=p:Xw(t.column)&&!Array.isArray(p)?s.value=[p]:s.value=p}function h(){u(s.value),t.onConfirm()}function f(){t.multiple||Xw(t.column)?u([]):u(null),t.onClear()}return{mergedClsPrefix:i,rtlEnabled:r,mergedTheme:o,locale:a,checkboxGroupValue:l,radioGroupValue:c,handleChange:d,handleConfirmClick:h,handleClearClick:f}},render(){const{mergedTheme:t,locale:e,mergedClsPrefix:n}=this;return v("div",{class:[`${n}-data-table-filter-menu`,this.rtlEnabled&&`${n}-data-table-filter-menu--rtl`]},v(Hr,null,{default:()=>{const{checkboxGroupValue:r,handleChange:i}=this;return this.multiple?v(wD,{value:r,class:`${n}-data-table-filter-menu__group`,onUpdateValue:i},{default:()=>this.options.map(o=>v(Lc,{key:o.value,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,value:o.value},{default:()=>o.label}))}):v(n9,{name:this.radioGroupName,class:`${n}-data-table-filter-menu__group`,value:this.radioGroupValue,onUpdateValue:this.handleChange},{default:()=>this.options.map(o=>v(S4,{key:o.value,value:o.value,theme:t.peers.Radio,themeOverrides:t.peerOverrides.Radio},{default:()=>o.label}))})}}),v("div",{class:`${n}-data-table-filter-menu__action`},v(Qn,{size:"tiny",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,onClick:this.handleClearClick},{default:()=>e.clear}),v(Qn,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,type:"primary",size:"tiny",onClick:this.handleConfirmClick},{default:()=>e.confirm})))}}),Dce=le({name:"DataTableRenderFilter",props:{render:{type:Function,required:!0},active:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},render(){const{render:t,active:e,show:n}=this;return t({active:e,show:n})}});function Fce(t,e,n){const r=Object.assign({},t);return r[e]=n,r}const $ce=le({name:"DataTableFilterButton",props:{column:{type:Object,required:!0},options:{type:Array,default:()=>[]}},setup(t){const{mergedComponentPropsRef:e}=gt(),{mergedThemeRef:n,mergedClsPrefixRef:r,mergedFilterStateRef:i,filterMenuCssVarsRef:o,paginationBehaviorOnFilterRef:a,doUpdatePage:s,doUpdateFilters:l,filterIconPopoverPropsRef:c}=ut(Bs),u=V(!1),d=i,h=L(()=>t.column.filterMultiple!==!1),f=L(()=>{const x=d.value[t.column.key];if(x===void 0){const{value:w}=h;return w?[]:null}return x}),p=L(()=>{const{value:x}=f;return Array.isArray(x)?x.length>0:x!==null}),g=L(()=>{var x,w;return((w=(x=e==null?void 0:e.value)===null||x===void 0?void 0:x.DataTable)===null||w===void 0?void 0:w.renderFilter)||t.column.renderFilter});function m(x){const w=Fce(d.value,t.column.key,x);l(w,t.column),a.value==="first"&&s(1)}function y(){u.value=!1}function b(){u.value=!1}return{mergedTheme:n,mergedClsPrefix:r,active:p,showPopover:u,mergedRenderFilter:g,filterIconPopoverProps:c,filterMultiple:h,mergedFilterValue:f,filterMenuCssVars:o,handleFilterChange:m,handleFilterMenuConfirm:b,handleFilterMenuCancel:y}},render(){const{mergedTheme:t,mergedClsPrefix:e,handleFilterMenuCancel:n,filterIconPopoverProps:r}=this;return v(Ch,Object.assign({show:this.showPopover,onUpdateShow:i=>this.showPopover=i,trigger:"click",theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,placement:"bottom"},r,{style:{padding:0}}),{trigger:()=>{const{mergedRenderFilter:i}=this;if(i)return v(Dce,{"data-data-table-filter":!0,render:i,active:this.active,show:this.showPopover});const{renderFilterIcon:o}=this.column;return v("div",{"data-data-table-filter":!0,class:[`${e}-data-table-filter`,{[`${e}-data-table-filter--active`]:this.active,[`${e}-data-table-filter--show`]:this.showPopover}]},o?o({active:this.active,show:this.showPopover}):v(Jt,{clsPrefix:e},{default:()=>v(rre,null)}))},default:()=>{const{renderFilterMenu:i}=this.column;return i?i({hide:n}):v(Oce,{style:this.filterMenuCssVars,radioGroupName:String(this.column.key),multiple:this.filterMultiple,value:this.mergedFilterValue,options:this.options,column:this.column,onChange:this.handleFilterChange,onClear:this.handleFilterMenuCancel,onConfirm:this.handleFilterMenuConfirm})}})}}),Bce=le({name:"ColumnResizeButton",props:{onResizeStart:Function,onResize:Function,onResizeEnd:Function},setup(t){const{mergedClsPrefixRef:e}=ut(Bs),n=V(!1);let r=0;function i(l){return l.clientX}function o(l){var c;l.preventDefault();const u=n.value;r=i(l),n.value=!0,u||(wn("mousemove",window,a),wn("mouseup",window,s),(c=t.onResizeStart)===null||c===void 0||c.call(t))}function a(l){var c;(c=t.onResize)===null||c===void 0||c.call(t,i(l)-r)}function s(){var l;n.value=!1,(l=t.onResizeEnd)===null||l===void 0||l.call(t),xn("mousemove",window,a),xn("mouseup",window,s)}return ir(()=>{xn("mousemove",window,a),xn("mouseup",window,s)}),{mergedClsPrefix:e,active:n,handleMousedown:o}},render(){const{mergedClsPrefix:t}=this;return v("span",{"data-data-table-resizable":!0,class:[`${t}-data-table-resize-button`,this.active&&`${t}-data-table-resize-button--active`],onMousedown:this.handleMousedown})}}),Nce=le({name:"DataTableRenderSorter",props:{render:{type:Function,required:!0},order:{type:[String,Boolean],default:!1}},render(){const{render:t,order:e}=this;return t({order:e})}}),zce=le({name:"SortIcon",props:{column:{type:Object,required:!0}},setup(t){const{mergedComponentPropsRef:e}=gt(),{mergedSortStateRef:n,mergedClsPrefixRef:r}=ut(Bs),i=L(()=>n.value.find(l=>l.columnKey===t.column.key)),o=L(()=>i.value!==void 0),a=L(()=>{const{value:l}=i;return l&&o.value?l.order:!1}),s=L(()=>{var l,c;return((c=(l=e==null?void 0:e.value)===null||l===void 0?void 0:l.DataTable)===null||c===void 0?void 0:c.renderSorter)||t.column.renderSorter});return{mergedClsPrefix:r,active:o,mergedSortOrder:a,mergedRenderSorter:s}},render(){const{mergedRenderSorter:t,mergedSortOrder:e,mergedClsPrefix:n}=this,{renderSorterIcon:r}=this.column;return t?v(Nce,{render:t,order:e}):v("span",{class:[`${n}-data-table-sorter`,e==="ascend"&&`${n}-data-table-sorter--asc`,e==="descend"&&`${n}-data-table-sorter--desc`]},r?r({order:e}):v(Jt,{clsPrefix:n},{default:()=>v(QM,null)}))}}),E4="n-dropdown-menu",fx="n-dropdown",T6="n-dropdown-option",a9=le({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return v("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),Hce=le({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:t,hasSubmenuRef:e}=ut(E4),{renderLabelRef:n,labelFieldRef:r,nodePropsRef:i,renderOptionRef:o}=ut(fx);return{labelField:r,showIcon:t,hasSubmenu:e,renderLabel:n,nodeProps:i,renderOption:o}},render(){var t;const{clsPrefix:e,hasSubmenu:n,showIcon:r,nodeProps:i,renderLabel:o,renderOption:a}=this,{rawNode:s}=this.tmNode,l=v("div",Object.assign({class:`${e}-dropdown-option`},i==null?void 0:i(s)),v("div",{class:`${e}-dropdown-option-body ${e}-dropdown-option-body--group`},v("div",{"data-dropdown-option":!0,class:[`${e}-dropdown-option-body__prefix`,r&&`${e}-dropdown-option-body__prefix--show-icon`]},Sr(s.icon)),v("div",{class:`${e}-dropdown-option-body__label`,"data-dropdown-option":!0},o?o(s):Sr((t=s.title)!==null&&t!==void 0?t:s[this.labelField])),v("div",{class:[`${e}-dropdown-option-body__suffix`,n&&`${e}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return a?a({node:l,option:s}):l}});function Uce(t){const{textColorBase:e,opacity1:n,opacity2:r,opacity3:i,opacity4:o,opacity5:a}=t;return{color:e,opacity1Depth:n,opacity2Depth:r,opacity3Depth:i,opacity4Depth:o,opacity5Depth:a}}const jce={common:Bt,self:Uce},Vce=R("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[U("color-transition",{transition:"color .3s var(--n-bezier)"}),U("depth",{color:"var(--n-color)"},[B("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),B("svg",{height:"1em",width:"1em"})]),s9=Object.assign(Object.assign({},Ve.props),{depth:[String,Number],size:[Number,String],color:String,component:[Object,Function]}),l9=le({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:s9,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Icon","-icon",Vce,jce,t,e),i=L(()=>{const{depth:a}=t,{common:{cubicBezierEaseInOut:s},self:l}=r.value;if(a!==void 0){const{color:c,[`opacity${a}Depth`]:u}=l;return{"--n-bezier":s,"--n-color":c,"--n-opacity":u}}return{"--n-bezier":s,"--n-color":"","--n-opacity":""}}),o=n?Ot("icon",L(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:L(()=>{const{size:a,color:s}=t;return{fontSize:Ln(a),color:s}}),cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{$parent:e,depth:n,mergedClsPrefix:r,component:i,onRender:o,themeClass:a}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&go("icon","don't wrap `n-icon` inside `n-icon`"),o==null||o(),v("i",Xi(this.$attrs,{role:"img",class:[`${r}-icon`,a,{[`${r}-icon--depth`]:n,[`${r}-icon--color-transition`]:n!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?v(i):this.$slots)}});function RA(t,e){return t.type==="submenu"||t.type===void 0&&t[e]!==void 0}function Wce(t){return t.type==="group"}function c9(t){return t.type==="divider"}function qce(t){return t.type==="render"}const u9=le({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(t){const e=ut(fx),{hoverKeyRef:n,keyboardKeyRef:r,lastToggledSubmenuKeyRef:i,pendingKeyPathRef:o,activeKeyPathRef:a,animatedRef:s,mergedShowRef:l,renderLabelRef:c,renderIconRef:u,labelFieldRef:d,childrenFieldRef:h,renderOptionRef:f,nodePropsRef:p,menuPropsRef:g}=e,m=ut(T6,null),y=ut(E4),b=ut(cp),x=L(()=>t.tmNode.rawNode),w=L(()=>{const{value:Z}=h;return RA(t.tmNode.rawNode,Z)}),C=L(()=>{const{disabled:Z}=t.tmNode;return Z}),S=L(()=>{if(!w.value)return!1;const{key:Z,disabled:ie}=t.tmNode;if(ie)return!1;const{value:he}=n,{value:xe}=r,{value:Q}=i,{value:X}=o;return he!==null?X.includes(Z):xe!==null?X.includes(Z)&&X[X.length-1]!==Z:Q!==null?X.includes(Z):!1}),A=L(()=>r.value===null&&!s.value),T=SY(S,300,A),k=L(()=>!!(m!=null&&m.enteringSubmenuRef.value)),E=V(!1);zt(T6,{enteringSubmenuRef:E});function P(){E.value=!0}function _(){E.value=!1}function F(){const{parentKey:Z,tmNode:ie}=t;ie.disabled||l.value&&(i.value=Z,r.value=null,n.value=ie.key)}function N(){const{tmNode:Z}=t;Z.disabled||l.value&&n.value!==Z.key&&F()}function W(Z){if(t.tmNode.disabled||!l.value)return;const{relatedTarget:ie}=Z;ie&&!Zr({target:ie},"dropdownOption")&&!Zr({target:ie},"scrollbarRail")&&(n.value=null)}function G(){const{value:Z}=w,{tmNode:ie}=t;l.value&&!Z&&!ie.disabled&&(e.doSelect(ie.key,ie.rawNode),e.doUpdateShow(!1))}return{labelField:d,renderLabel:c,renderIcon:u,siblingHasIcon:y.showIconRef,siblingHasSubmenu:y.hasSubmenuRef,menuProps:g,popoverBody:b,animated:s,mergedShowSubmenu:L(()=>T.value&&!k.value),rawNode:x,hasSubmenu:w,pending:Yt(()=>{const{value:Z}=o,{key:ie}=t.tmNode;return Z.includes(ie)}),childActive:Yt(()=>{const{value:Z}=a,{key:ie}=t.tmNode,he=Z.findIndex(xe=>ie===xe);return he===-1?!1:he<Z.length-1}),active:Yt(()=>{const{value:Z}=a,{key:ie}=t.tmNode,he=Z.findIndex(xe=>ie===xe);return he===-1?!1:he===Z.length-1}),mergedDisabled:C,renderOption:f,nodeProps:p,handleClick:G,handleMouseMove:N,handleMouseEnter:F,handleMouseLeave:W,handleSubmenuBeforeEnter:P,handleSubmenuAfterEnter:_}},render(){var t,e;const{animated:n,rawNode:r,mergedShowSubmenu:i,clsPrefix:o,siblingHasIcon:a,siblingHasSubmenu:s,renderLabel:l,renderIcon:c,renderOption:u,nodeProps:d,props:h,scrollable:f}=this;let p=null;if(i){const b=(t=this.menuProps)===null||t===void 0?void 0:t.call(this,r,r.children);p=v(d9,Object.assign({},b,{clsPrefix:o,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const g={class:[`${o}-dropdown-option-body`,this.pending&&`${o}-dropdown-option-body--pending`,this.active&&`${o}-dropdown-option-body--active`,this.childActive&&`${o}-dropdown-option-body--child-active`,this.mergedDisabled&&`${o}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},m=d==null?void 0:d(r),y=v("div",Object.assign({class:[`${o}-dropdown-option`,m==null?void 0:m.class],"data-dropdown-option":!0},m),v("div",Xi(g,h),[v("div",{class:[`${o}-dropdown-option-body__prefix`,a&&`${o}-dropdown-option-body__prefix--show-icon`]},[c?c(r):Sr(r.icon)]),v("div",{"data-dropdown-option":!0,class:`${o}-dropdown-option-body__label`},l?l(r):Sr((e=r[this.labelField])!==null&&e!==void 0?e:r.title)),v("div",{"data-dropdown-option":!0,class:[`${o}-dropdown-option-body__suffix`,s&&`${o}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?v(l9,null,{default:()=>v(yh,null)}):null)]),this.hasSubmenu?v(us,null,{default:()=>[v(ds,null,{default:()=>v("div",{class:`${o}-dropdown-offset-container`},v(Na,{show:this.mergedShowSubmenu,placement:this.placement,to:f&&this.popoverBody||void 0,teleportDisabled:!f},{default:()=>v("div",{class:`${o}-dropdown-menu-wrapper`},n?v(hr,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>p}):p)}))})]}):null);return u?u({node:y,option:r}):y}}),Kce=le({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:t,parentKey:e,clsPrefix:n}=this,{children:r}=t;return v(qn,null,v(Hce,{clsPrefix:n,tmNode:t,key:t.key}),r==null?void 0:r.map(i=>{const{rawNode:o}=i;return o.show===!1?null:c9(o)?v(a9,{clsPrefix:n,key:i.key}):i.isGroup?(go("dropdown","`group` node is not allowed to be put in `group` node."),null):v(u9,{clsPrefix:n,tmNode:i,parentKey:e,key:i.key})}))}}),Gce=le({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:t,props:e}}=this.tmNode;return v("div",e,[t==null?void 0:t()])}}),d9=le({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(t){const{renderIconRef:e,childrenFieldRef:n}=ut(fx);zt(E4,{showIconRef:L(()=>{const i=e.value;return t.tmNodes.some(o=>{var a;if(o.isGroup)return(a=o.children)===null||a===void 0?void 0:a.some(({rawNode:l})=>i?i(l):l.icon);const{rawNode:s}=o;return i?i(s):s.icon})}),hasSubmenuRef:L(()=>{const{value:i}=n;return t.tmNodes.some(o=>{var a;if(o.isGroup)return(a=o.children)===null||a===void 0?void 0:a.some(({rawNode:l})=>RA(l,i));const{rawNode:s}=o;return RA(s,i)})})});const r=V(null);return zt(Fg,null),zt(Dg,null),zt(cp,r),{bodyRef:r}},render(){const{parentKey:t,clsPrefix:e,scrollable:n}=this,r=this.tmNodes.map(i=>{const{rawNode:o}=i;return o.show===!1?null:qce(o)?v(Gce,{tmNode:i,key:i.key}):c9(o)?v(a9,{clsPrefix:e,key:i.key}):Wce(o)?v(Kce,{clsPrefix:e,tmNode:i,parentKey:t,key:i.key}):v(u9,{clsPrefix:e,tmNode:i,parentKey:t,key:i.key,props:o.props,scrollable:n})});return v("div",{class:[`${e}-dropdown-menu`,n&&`${e}-dropdown-menu--scrollable`],ref:"bodyRef"},n?v(Xf,{contentClass:`${e}-dropdown-menu__content`},{default:()=>r}):r,this.showArrow?dO({clsPrefix:e,arrowStyle:this.arrowStyle,arrowClass:void 0,arrowWrapperClass:void 0,arrowWrapperStyle:void 0}):null)}}),Yce=R("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[Qi(),R("dropdown-option",`
 position: relative;
 `,[B("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[B("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),R("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[B("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),an("disabled",[U("pending",`
 color: var(--n-option-text-color-hover);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),B("&::before","background-color: var(--n-option-color-hover);")]),U("active",`
 color: var(--n-option-text-color-active);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),B("&::before","background-color: var(--n-option-color-active);")]),U("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),U("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[H("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[U("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),H("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[U("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),R("icon",`
 font-size: var(--n-option-icon-size);
 `)]),H("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),H("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[U("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),R("icon",`
 font-size: var(--n-option-icon-size);
 `)]),R("dropdown-menu","pointer-events: all;")]),R("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),R("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),R("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),B(">",[R("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),an("scrollable",`
 padding: var(--n-padding);
 `),U("scrollable",[H("content",`
 padding: var(--n-padding);
 `)])]),Xce={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},Qce=Object.keys(ah),h9=Object.assign(Object.assign(Object.assign({},ah),Xce),Ve.props),T4=le({name:"Dropdown",inheritAttrs:!1,props:h9,setup(t){const e=V(!1),n=Cn($e(t,"show"),e),r=L(()=>{const{keyField:_,childrenField:F}=t;return ma(t.options,{getKey(N){return N[_]},getDisabled(N){return N.disabled===!0},getIgnored(N){return N.type==="divider"||N.type==="render"},getChildren(N){return N[F]}})}),i=L(()=>r.value.treeNodes),o=V(null),a=V(null),s=V(null),l=L(()=>{var _,F,N;return(N=(F=(_=o.value)!==null&&_!==void 0?_:a.value)!==null&&F!==void 0?F:s.value)!==null&&N!==void 0?N:null}),c=L(()=>r.value.getPath(l.value).keyPath),u=L(()=>r.value.getPath(t.value).keyPath),d=Yt(()=>t.keyboard&&n.value);Bk({keydown:{ArrowUp:{prevent:!0,handler:C},ArrowRight:{prevent:!0,handler:w},ArrowDown:{prevent:!0,handler:S},ArrowLeft:{prevent:!0,handler:x},Enter:{prevent:!0,handler:A},Escape:b}},d);const{mergedClsPrefixRef:h,inlineThemeDisabled:f}=gt(t),p=Ve("Dropdown","-dropdown",Yce,w4,t,h);zt(fx,{labelFieldRef:$e(t,"labelField"),childrenFieldRef:$e(t,"childrenField"),renderLabelRef:$e(t,"renderLabel"),renderIconRef:$e(t,"renderIcon"),hoverKeyRef:o,keyboardKeyRef:a,lastToggledSubmenuKeyRef:s,pendingKeyPathRef:c,activeKeyPathRef:u,animatedRef:$e(t,"animated"),mergedShowRef:n,nodePropsRef:$e(t,"nodeProps"),renderOptionRef:$e(t,"renderOption"),menuPropsRef:$e(t,"menuProps"),doSelect:g,doUpdateShow:m}),qt(n,_=>{!t.animated&&!_&&y()});function g(_,F){const{onSelect:N}=t;N&&Fe(N,_,F)}function m(_){const{"onUpdate:show":F,onUpdateShow:N}=t;F&&Fe(F,_),N&&Fe(N,_),e.value=_}function y(){o.value=null,a.value=null,s.value=null}function b(){m(!1)}function x(){k("left")}function w(){k("right")}function C(){k("up")}function S(){k("down")}function A(){const _=T();_!=null&&_.isLeaf&&n.value&&(g(_.key,_.rawNode),m(!1))}function T(){var _;const{value:F}=r,{value:N}=l;return!F||N===null?null:(_=F.getNode(N))!==null&&_!==void 0?_:null}function k(_){const{value:F}=l,{value:{getFirstAvailableNode:N}}=r;let W=null;if(F===null){const G=N();G!==null&&(W=G.key)}else{const G=T();if(G){let Z;switch(_){case"down":Z=G.getNext();break;case"up":Z=G.getPrev();break;case"right":Z=G.getChild();break;case"left":Z=G.getParent();break}Z&&(W=Z.key)}}W!==null&&(o.value=null,a.value=W)}const E=L(()=>{const{size:_,inverted:F}=t,{common:{cubicBezierEaseInOut:N},self:W}=p.value,{padding:G,dividerColor:Z,borderRadius:ie,optionOpacityDisabled:he,[We("optionIconSuffixWidth",_)]:xe,[We("optionSuffixWidth",_)]:Q,[We("optionIconPrefixWidth",_)]:X,[We("optionPrefixWidth",_)]:K,[We("fontSize",_)]:ne,[We("optionHeight",_)]:ve,[We("optionIconSize",_)]:Se}=W,ye={"--n-bezier":N,"--n-font-size":ne,"--n-padding":G,"--n-border-radius":ie,"--n-option-height":ve,"--n-option-prefix-width":K,"--n-option-icon-prefix-width":X,"--n-option-suffix-width":Q,"--n-option-icon-suffix-width":xe,"--n-option-icon-size":Se,"--n-divider-color":Z,"--n-option-opacity-disabled":he};return F?(ye["--n-color"]=W.colorInverted,ye["--n-option-color-hover"]=W.optionColorHoverInverted,ye["--n-option-color-active"]=W.optionColorActiveInverted,ye["--n-option-text-color"]=W.optionTextColorInverted,ye["--n-option-text-color-hover"]=W.optionTextColorHoverInverted,ye["--n-option-text-color-active"]=W.optionTextColorActiveInverted,ye["--n-option-text-color-child-active"]=W.optionTextColorChildActiveInverted,ye["--n-prefix-color"]=W.prefixColorInverted,ye["--n-suffix-color"]=W.suffixColorInverted,ye["--n-group-header-text-color"]=W.groupHeaderTextColorInverted):(ye["--n-color"]=W.color,ye["--n-option-color-hover"]=W.optionColorHover,ye["--n-option-color-active"]=W.optionColorActive,ye["--n-option-text-color"]=W.optionTextColor,ye["--n-option-text-color-hover"]=W.optionTextColorHover,ye["--n-option-text-color-active"]=W.optionTextColorActive,ye["--n-option-text-color-child-active"]=W.optionTextColorChildActive,ye["--n-prefix-color"]=W.prefixColor,ye["--n-suffix-color"]=W.suffixColor,ye["--n-group-header-text-color"]=W.groupHeaderTextColor),ye}),P=f?Ot("dropdown",L(()=>`${t.size[0]}${t.inverted?"i":""}`),E,t):void 0;return{mergedClsPrefix:h,mergedTheme:p,tmNodes:i,mergedShow:n,handleAfterLeave:()=>{t.animated&&y()},doUpdateShow:m,cssVars:f?void 0:E,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){const t=(r,i,o,a,s)=>{var l;const{mergedClsPrefix:c,menuProps:u}=this;(l=this.onRender)===null||l===void 0||l.call(this);const d=(u==null?void 0:u(void 0,this.tmNodes.map(f=>f.rawNode)))||{},h={ref:QL(i),class:[r,`${c}-dropdown`,this.themeClass],clsPrefix:c,tmNodes:this.tmNodes,style:[...o,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:a,onMouseleave:s};return v(d9,Xi(this.$attrs,h,d))},{mergedTheme:e}=this,n={show:this.mergedShow,theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:t,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return v(Ch,Object.assign({},Ri(this.$props,Qce),n),{trigger:()=>{var r,i;return(i=(r=this.$slots).default)===null||i===void 0?void 0:i.call(r)}})}}),f9="_n_all__",p9="_n_none__";function Zce(t,e,n,r){return t?i=>{for(const o of t)switch(i){case f9:n(!0);return;case p9:r(!0);return;default:if(typeof o=="object"&&o.key===i){o.onSelect(e.value);return}}}:()=>{}}function Jce(t,e){return t?t.map(n=>{switch(n){case"all":return{label:e.checkTableAll,key:f9};case"none":return{label:e.uncheckTableAll,key:p9};default:return n}}):[]}const eue=le({name:"DataTableSelectionMenu",props:{clsPrefix:{type:String,required:!0}},setup(t){const{props:e,localeRef:n,checkOptionsRef:r,rawPaginatedDataRef:i,doCheckAll:o,doUncheckAll:a}=ut(Bs),s=L(()=>Zce(r.value,i,o,a)),l=L(()=>Jce(r.value,n.value));return()=>{var c,u,d,h;const{clsPrefix:f}=t;return v(T4,{theme:(u=(c=e.theme)===null||c===void 0?void 0:c.peers)===null||u===void 0?void 0:u.Dropdown,themeOverrides:(h=(d=e.themeOverrides)===null||d===void 0?void 0:d.peers)===null||h===void 0?void 0:h.Dropdown,options:l.value,onSelect:s.value},{default:()=>v(Jt,{clsPrefix:f,class:`${f}-data-table-check-extra`},{default:()=>v(ZM,null)})})}}});function Zw(t){return typeof t.title=="function"?t.title(t):t.title}const tue=le({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},width:String},render(){const{clsPrefix:t,id:e,cols:n,width:r}=this;return v("table",{style:{tableLayout:"fixed",width:r},class:`${t}-data-table-table`},v("colgroup",null,n.map(i=>v("col",{key:i.key,style:i.style}))),v("thead",{"data-n-id":e,class:`${t}-data-table-thead`},this.$slots))}}),m9=le({name:"DataTableHeader",props:{discrete:{type:Boolean,default:!0}},setup(){const{mergedClsPrefixRef:t,scrollXRef:e,fixedColumnLeftMapRef:n,fixedColumnRightMapRef:r,mergedCurrentPageRef:i,allRowsCheckedRef:o,someRowsCheckedRef:a,rowsRef:s,colsRef:l,mergedThemeRef:c,checkOptionsRef:u,mergedSortStateRef:d,componentId:h,mergedTableLayoutRef:f,headerCheckboxDisabledRef:p,virtualScrollHeaderRef:g,headerHeightRef:m,onUnstableColumnResize:y,doUpdateResizableWidth:b,handleTableHeaderScroll:x,deriveNextSorter:w,doUncheckAll:C,doCheckAll:S}=ut(Bs),A=V(),T=V({});function k(W){const G=T.value[W];return G==null?void 0:G.getBoundingClientRect().width}function E(){o.value?C():S()}function P(W,G){if(Zr(W,"dataTableFilter")||Zr(W,"dataTableResizable")||!Qw(G))return;const Z=d.value.find(he=>he.columnKey===G.key)||null,ie=Ace(G,Z);w(ie)}const _=new Map;function F(W){_.set(W.key,k(W.key))}function N(W,G){const Z=_.get(W.key);if(Z===void 0)return;const ie=Z+G,he=xce(ie,W.minWidth,W.maxWidth);y(ie,he,W,k),b(W,he)}return{cellElsRef:T,componentId:h,mergedSortState:d,mergedClsPrefix:t,scrollX:e,fixedColumnLeftMap:n,fixedColumnRightMap:r,currentPage:i,allRowsChecked:o,someRowsChecked:a,rows:s,cols:l,mergedTheme:c,checkOptions:u,mergedTableLayout:f,headerCheckboxDisabled:p,headerHeight:m,virtualScrollHeader:g,virtualListRef:A,handleCheckboxUpdateChecked:E,handleColHeaderClick:P,handleTableHeaderScroll:x,handleColumnResizeStart:F,handleColumnResize:N}},render(){const{cellElsRef:t,mergedClsPrefix:e,fixedColumnLeftMap:n,fixedColumnRightMap:r,currentPage:i,allRowsChecked:o,someRowsChecked:a,rows:s,cols:l,mergedTheme:c,checkOptions:u,componentId:d,discrete:h,mergedTableLayout:f,headerCheckboxDisabled:p,mergedSortState:g,virtualScrollHeader:m,handleColHeaderClick:y,handleCheckboxUpdateChecked:b,handleColumnResizeStart:x,handleColumnResize:w}=this,C=(k,E,P)=>k.map(({column:_,colIndex:F,colSpan:N,rowSpan:W,isLast:G})=>{var Z,ie;const he=ys(_),{ellipsis:xe}=_,Q=()=>_.type==="selection"?_.multiple!==!1?v(qn,null,v(Lc,{key:i,privateInsideTable:!0,checked:o,indeterminate:a,disabled:p,onUpdateChecked:b}),u?v(eue,{clsPrefix:e}):null):null:v(qn,null,v("div",{class:`${e}-data-table-th__title-wrapper`},v("div",{class:`${e}-data-table-th__title`},xe===!0||xe&&!xe.tooltip?v("div",{class:`${e}-data-table-th__ellipsis`},Zw(_)):xe&&typeof xe=="object"?v(hx,Object.assign({},xe,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>Zw(_)}):Zw(_)),Qw(_)?v(zce,{column:_}):null),S6(_)?v($ce,{column:_,options:_.filterOptions}):null,XD(_)?v(Bce,{onResizeStart:()=>{x(_)},onResize:ve=>{w(_,ve)}}):null),X=he in n,K=he in r,ne=E&&!_.fixed?"div":"th";return v(ne,{ref:ve=>t[he]=ve,key:he,style:[E&&!_.fixed?{position:"absolute",left:br(E(F)),top:0,bottom:0}:{left:br((Z=n[he])===null||Z===void 0?void 0:Z.start),right:br((ie=r[he])===null||ie===void 0?void 0:ie.start)},{width:br(_.width),textAlign:_.titleAlign||_.align,height:P}],colspan:N,rowspan:W,"data-col-key":he,class:[`${e}-data-table-th`,(X||K)&&`${e}-data-table-th--fixed-${X?"left":"right"}`,{[`${e}-data-table-th--sorting`]:QD(_,g),[`${e}-data-table-th--filterable`]:S6(_),[`${e}-data-table-th--sortable`]:Qw(_),[`${e}-data-table-th--selection`]:_.type==="selection",[`${e}-data-table-th--last`]:G},_.className],onClick:_.type!=="selection"&&_.type!=="expand"&&!("children"in _)?ve=>{y(ve,_)}:void 0},Q())});if(m){const{headerHeight:k}=this;let E=0,P=0;return l.forEach(_=>{_.column.fixed==="left"?E++:_.column.fixed==="right"&&P++}),v(Os,{ref:"virtualListRef",class:`${e}-data-table-base-table-header`,style:{height:br(k)},onScroll:this.handleTableHeaderScroll,columns:l,itemSize:k,showScrollbar:!1,items:[{}],itemResizable:!1,visibleItemsTag:tue,visibleItemsProps:{clsPrefix:e,id:d,cols:l,width:Ln(this.scrollX)},renderItemWithCols:({startColIndex:_,endColIndex:F,getLeft:N})=>{const W=l.map((Z,ie)=>({column:Z.column,isLast:ie===l.length-1,colIndex:Z.index,colSpan:1,rowSpan:1})).filter(({column:Z},ie)=>!!(_<=ie&&ie<=F||Z.fixed)),G=C(W,N,br(k));return G.splice(E,0,v("th",{colspan:l.length-E-P,style:{pointerEvents:"none",visibility:"hidden",height:0}})),v("tr",{style:{position:"relative"}},G)}},{default:({renderedItemWithCols:_})=>_})}const S=v("thead",{class:`${e}-data-table-thead`,"data-n-id":d},s.map(k=>v("tr",{class:`${e}-data-table-tr`},C(k,null,void 0))));if(!h)return S;const{handleTableHeaderScroll:A,scrollX:T}=this;return v("div",{class:`${e}-data-table-base-table-header`,onScroll:A},v("table",{class:`${e}-data-table-table`,style:{minWidth:Ln(T),tableLayout:f}},v("colgroup",null,l.map(k=>v("col",{key:k.key,style:k.style}))),S))}});function nue(t,e){const n=[];function r(i,o){i.forEach(a=>{a.children&&e.has(a.key)?(n.push({tmNode:a,striped:!1,key:a.key,index:o}),r(a.children,o)):n.push({key:a.key,tmNode:a,striped:!1,index:o})})}return t.forEach(i=>{n.push(i);const{children:o}=i.tmNode;o&&e.has(i.key)&&r(o,i.index)}),n}const rue=le({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},onMouseenter:Function,onMouseleave:Function},render(){const{clsPrefix:t,id:e,cols:n,onMouseenter:r,onMouseleave:i}=this;return v("table",{style:{tableLayout:"fixed"},class:`${t}-data-table-table`,onMouseenter:r,onMouseleave:i},v("colgroup",null,n.map(o=>v("col",{key:o.key,style:o.style}))),v("tbody",{"data-n-id":e,class:`${t}-data-table-tbody`},this.$slots))}}),iue=le({name:"DataTableBody",props:{onResize:Function,showHeader:Boolean,flexHeight:Boolean,bodyStyle:Object},setup(t){const{slots:e,bodyWidthRef:n,mergedExpandedRowKeysRef:r,mergedClsPrefixRef:i,mergedThemeRef:o,scrollXRef:a,colsRef:s,paginatedDataRef:l,rawPaginatedDataRef:c,fixedColumnLeftMapRef:u,fixedColumnRightMapRef:d,mergedCurrentPageRef:h,rowClassNameRef:f,leftActiveFixedColKeyRef:p,leftActiveFixedChildrenColKeysRef:g,rightActiveFixedColKeyRef:m,rightActiveFixedChildrenColKeysRef:y,renderExpandRef:b,hoverKeyRef:x,summaryRef:w,mergedSortStateRef:C,virtualScrollRef:S,virtualScrollXRef:A,heightForRowRef:T,minRowHeightRef:k,componentId:E,mergedTableLayoutRef:P,childTriggerColIndexRef:_,indentRef:F,rowPropsRef:N,maxHeightRef:W,stripedRef:G,loadingRef:Z,onLoadRef:ie,loadingKeySetRef:he,expandableRef:xe,stickyExpandedRowsRef:Q,renderExpandIconRef:X,summaryPlacementRef:K,treeMateRef:ne,scrollbarPropsRef:ve,setHeaderScrollLeft:Se,doUpdateExpandedRowKeys:ye,handleTableBodyScroll:Be,doCheck:J,doUncheck:Ue,renderCell:Qe}=ut(Bs),ae=ut(Jo),fe=V(null),ke=V(null),Ke=V(null),Ne=Yt(()=>l.value.length===0),Ae=Yt(()=>t.showHeader||!Ne.value),se=Yt(()=>t.showHeader||Ne.value);let be="";const re=L(()=>new Set(r.value));function me(wt){var _t;return(_t=ne.value.getNode(wt))===null||_t===void 0?void 0:_t.rawNode}function De(wt,_t,ce){const ue=me(wt.key);if(!ue){go("data-table",`fail to get row data with key ${wt.key}`);return}if(ce){const je=l.value.findIndex(st=>st.key===be);if(je!==-1){const st=l.value.findIndex(Re=>Re.key===wt.key),lt=Math.min(je,st),_e=Math.max(je,st),tt=[];l.value.slice(lt,_e+1).forEach(Re=>{Re.disabled||tt.push(Re.key)}),_t?J(tt,!1,ue):Ue(tt,ue),be=wt.key;return}}_t?J(wt.key,!1,ue):Ue(wt.key,ue),be=wt.key}function ge(wt){const _t=me(wt.key);if(!_t){go("data-table",`fail to get row data with key ${wt.key}`);return}J(wt.key,!0,_t)}function pe(){if(!Ae.value){const{value:_t}=Ke;return _t||null}if(S.value)return Oe();const{value:wt}=fe;return wt?wt.containerRef:null}function Te(wt,_t){var ce;if(he.value.has(wt))return;const{value:ue}=r,je=ue.indexOf(wt),st=Array.from(ue);~je?(st.splice(je,1),ye(st)):_t&&!_t.isLeaf&&!_t.shallowLoaded?(he.value.add(wt),(ce=ie.value)===null||ce===void 0||ce.call(ie,_t.rawNode).then(()=>{const{value:lt}=r,_e=Array.from(lt);~_e.indexOf(wt)||_e.push(wt),ye(_e)}).finally(()=>{he.value.delete(wt)})):(st.push(wt),ye(st))}function Xe(){x.value=null}function Oe(){const{value:wt}=ke;return(wt==null?void 0:wt.listElRef)||null}function ft(){const{value:wt}=ke;return(wt==null?void 0:wt.itemsElRef)||null}function Lt(wt){var _t;Be(wt),(_t=fe.value)===null||_t===void 0||_t.sync()}function Kt(wt){var _t;const{onResize:ce}=t;ce&&ce(wt),(_t=fe.value)===null||_t===void 0||_t.sync()}const Dt={getScrollContainer:pe,scrollTo(wt,_t){var ce,ue;S.value?(ce=ke.value)===null||ce===void 0||ce.scrollTo(wt,_t):(ue=fe.value)===null||ue===void 0||ue.scrollTo(wt,_t)}},Ge=B([({props:wt})=>{const _t=ue=>ue===null?null:B(`[data-n-id="${wt.componentId}"] [data-col-key="${ue}"]::after`,{boxShadow:"var(--n-box-shadow-after)"}),ce=ue=>ue===null?null:B(`[data-n-id="${wt.componentId}"] [data-col-key="${ue}"]::before`,{boxShadow:"var(--n-box-shadow-before)"});return B([_t(wt.leftActiveFixedColKey),ce(wt.rightActiveFixedColKey),wt.leftActiveFixedChildrenColKeys.map(ue=>_t(ue)),wt.rightActiveFixedChildrenColKeys.map(ue=>ce(ue))])}]);let en=!1;return er(()=>{const{value:wt}=p,{value:_t}=g,{value:ce}=m,{value:ue}=y;if(!en&&wt===null&&ce===null)return;const je={leftActiveFixedColKey:wt,leftActiveFixedChildrenColKeys:_t,rightActiveFixedColKey:ce,rightActiveFixedChildrenColKeys:ue,componentId:E};Ge.mount({id:`n-${E}`,force:!0,props:je,anchorMetaName:Gf,parent:ae==null?void 0:ae.styleMountTarget}),en=!0}),Rl(()=>{Ge.unmount({id:`n-${E}`,parent:ae==null?void 0:ae.styleMountTarget})}),Object.assign({bodyWidth:n,summaryPlacement:K,dataTableSlots:e,componentId:E,scrollbarInstRef:fe,virtualListRef:ke,emptyElRef:Ke,summary:w,mergedClsPrefix:i,mergedTheme:o,scrollX:a,cols:s,loading:Z,bodyShowHeaderOnly:se,shouldDisplaySomeTablePart:Ae,empty:Ne,paginatedDataAndInfo:L(()=>{const{value:wt}=G;let _t=!1;return{data:l.value.map(wt?(ue,je)=>(ue.isLeaf||(_t=!0),{tmNode:ue,key:ue.key,striped:je%2===1,index:je}):(ue,je)=>(ue.isLeaf||(_t=!0),{tmNode:ue,key:ue.key,striped:!1,index:je})),hasChildren:_t}}),rawPaginatedData:c,fixedColumnLeftMap:u,fixedColumnRightMap:d,currentPage:h,rowClassName:f,renderExpand:b,mergedExpandedRowKeySet:re,hoverKey:x,mergedSortState:C,virtualScroll:S,virtualScrollX:A,heightForRow:T,minRowHeight:k,mergedTableLayout:P,childTriggerColIndex:_,indent:F,rowProps:N,maxHeight:W,loadingKeySet:he,expandable:xe,stickyExpandedRows:Q,renderExpandIcon:X,scrollbarProps:ve,setHeaderScrollLeft:Se,handleVirtualListScroll:Lt,handleVirtualListResize:Kt,handleMouseleaveTable:Xe,virtualListContainer:Oe,virtualListContent:ft,handleTableBodyScroll:Be,handleCheckboxUpdateChecked:De,handleRadioUpdateChecked:ge,handleUpdateExpanded:Te,renderCell:Qe},Dt)},render(){const{mergedTheme:t,scrollX:e,mergedClsPrefix:n,virtualScroll:r,maxHeight:i,mergedTableLayout:o,flexHeight:a,loadingKeySet:s,onResize:l,setHeaderScrollLeft:c}=this,u=e!==void 0||i!==void 0||a,d=!u&&o==="auto",h=e!==void 0||d,f={minWidth:Ln(e)||"100%"};e&&(f.width="100%");const p=v(Hr,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",scrollable:u||d,class:`${n}-data-table-base-table-body`,style:this.empty?void 0:this.bodyStyle,theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,contentStyle:f,container:r?this.virtualListContainer:void 0,content:r?this.virtualListContent:void 0,horizontalRailStyle:{zIndex:3},verticalRailStyle:{zIndex:3},xScrollable:h,onScroll:r?void 0:this.handleTableBodyScroll,internalOnUpdateScrollLeft:c,onResize:l}),{default:()=>{const g={},m={},{cols:y,paginatedDataAndInfo:b,mergedTheme:x,fixedColumnLeftMap:w,fixedColumnRightMap:C,currentPage:S,rowClassName:A,mergedSortState:T,mergedExpandedRowKeySet:k,stickyExpandedRows:E,componentId:P,childTriggerColIndex:_,expandable:F,rowProps:N,handleMouseleaveTable:W,renderExpand:G,summary:Z,handleCheckboxUpdateChecked:ie,handleRadioUpdateChecked:he,handleUpdateExpanded:xe,heightForRow:Q,minRowHeight:X,virtualScrollX:K}=this,{length:ne}=y;let ve;const{data:Se,hasChildren:ye}=b,Be=ye?nue(Se,k):Se;if(Z){const be=Z(this.rawPaginatedData);if(Array.isArray(be)){const re=be.map((me,De)=>({isSummaryRow:!0,key:`__n_summary__${De}`,tmNode:{rawNode:me,disabled:!0},index:-1}));ve=this.summaryPlacement==="top"?[...re,...Be]:[...Be,...re]}else{const re={isSummaryRow:!0,key:"__n_summary__",tmNode:{rawNode:be,disabled:!0},index:-1};ve=this.summaryPlacement==="top"?[re,...Be]:[...Be,re]}}else ve=Be;const J=ye?{width:br(this.indent)}:void 0,Ue=[];ve.forEach(be=>{G&&k.has(be.key)&&(!F||F(be.tmNode.rawNode))?Ue.push(be,{isExpandedRow:!0,key:`${be.key}-expand`,tmNode:be.tmNode,index:be.index}):Ue.push(be)});const{length:Qe}=Ue,ae={};Se.forEach(({tmNode:be},re)=>{ae[re]=be.key});const fe=E?this.bodyWidth:null,ke=fe===null?void 0:`${fe}px`,Ke=this.virtualScrollX?"div":"td";let Ne=0,Ae=0;K&&y.forEach(be=>{be.column.fixed==="left"?Ne++:be.column.fixed==="right"&&Ae++});const se=({rowInfo:be,displayedRowIndex:re,isVirtual:me,isVirtualX:De,startColIndex:ge,endColIndex:pe,getLeft:Te})=>{const{index:Xe}=be;if("isExpandedRow"in be){const{tmNode:{key:st,rawNode:lt}}=be;return v("tr",{class:`${n}-data-table-tr ${n}-data-table-tr--expanded`,key:`${st}__expand`},v("td",{class:[`${n}-data-table-td`,`${n}-data-table-td--last-col`,re+1===Qe&&`${n}-data-table-td--last-row`],colspan:ne},E?v("div",{class:`${n}-data-table-expand`,style:{width:ke}},G(lt,Xe)):G(lt,Xe)))}const Oe="isSummaryRow"in be,ft=!Oe&&be.striped,{tmNode:Lt,key:Kt}=be,{rawNode:Dt}=Lt,Ge=k.has(Kt),en=N?N(Dt,Xe):void 0,wt=typeof A=="string"?A:Cce(Dt,Xe,A),_t=De?y.filter((st,lt)=>!!(ge<=lt&&lt<=pe||st.column.fixed)):y,ce=De?br((Q==null?void 0:Q(Dt,Xe))||X):void 0,ue=_t.map(st=>{var lt,_e,tt,Re,Je;const St=st.index;if(re in g){const Et=g[re],Nt=Et.indexOf(St);if(~Nt)return Et.splice(Nt,1),null}const{column:Rt}=st,ze=ys(st),{rowSpan:dt,colSpan:Ie}=Rt,rt=Oe?((lt=be.tmNode.rawNode[ze])===null||lt===void 0?void 0:lt.colSpan)||1:Ie?Ie(Dt,Xe):1,mt=Oe?((_e=be.tmNode.rawNode[ze])===null||_e===void 0?void 0:_e.rowSpan)||1:dt?dt(Dt,Xe):1,Ft=St+rt===ne,Ht=re+mt===Qe,Le=mt>1;if(Le&&(m[re]={[St]:[]}),rt>1||Le)for(let Et=re;Et<re+mt;++Et){Le&&m[re][St].push(ae[Et]);for(let Nt=St;Nt<St+rt;++Nt)Et===re&&Nt===St||(Et in g?g[Et].push(Nt):g[Et]=[Nt])}const ot=Le?this.hoverKey:null,{cellProps:kt}=Rt,He=kt==null?void 0:kt(Dt,Xe),at={"--indent-offset":""},xt=Rt.fixed?"td":Ke;return v(xt,Object.assign({},He,{key:ze,style:[{textAlign:Rt.align||void 0,width:br(Rt.width)},De&&{height:ce},De&&!Rt.fixed?{position:"absolute",left:br(Te(St)),top:0,bottom:0}:{left:br((tt=w[ze])===null||tt===void 0?void 0:tt.start),right:br((Re=C[ze])===null||Re===void 0?void 0:Re.start)},at,(He==null?void 0:He.style)||""],colspan:rt,rowspan:me?void 0:mt,"data-col-key":ze,class:[`${n}-data-table-td`,Rt.className,He==null?void 0:He.class,Oe&&`${n}-data-table-td--summary`,ot!==null&&m[re][St].includes(ot)&&`${n}-data-table-td--hover`,QD(Rt,T)&&`${n}-data-table-td--sorting`,Rt.fixed&&`${n}-data-table-td--fixed-${Rt.fixed}`,Rt.align&&`${n}-data-table-td--${Rt.align}-align`,Rt.type==="selection"&&`${n}-data-table-td--selection`,Rt.type==="expand"&&`${n}-data-table-td--expand`,Ft&&`${n}-data-table-td--last-col`,Ht&&`${n}-data-table-td--last-row`]}),ye&&St===_?[Iu(at["--indent-offset"]=Oe?0:be.tmNode.level,v("div",{class:`${n}-data-table-indent`,style:J})),Oe||be.tmNode.isLeaf?v("div",{class:`${n}-data-table-expand-placeholder`}):v(E6,{class:`${n}-data-table-expand-trigger`,clsPrefix:n,expanded:Ge,rowData:Dt,renderExpandIcon:this.renderExpandIcon,loading:s.has(be.key),onClick:()=>{xe(Kt,be.tmNode)}})]:null,Rt.type==="selection"?Oe?null:Rt.multiple===!1?v(Lce,{key:S,rowKey:Kt,disabled:be.tmNode.disabled,onUpdateChecked:()=>{he(be.tmNode)}}):v(Ece,{key:S,rowKey:Kt,disabled:be.tmNode.disabled,onUpdateChecked:(Et,Nt)=>{ie(be.tmNode,Et,Nt.shiftKey)}}):Rt.type==="expand"?Oe?null:!Rt.expandable||!((Je=Rt.expandable)===null||Je===void 0)&&Je.call(Rt,Dt)?v(E6,{clsPrefix:n,rowData:Dt,expanded:Ge,renderExpandIcon:this.renderExpandIcon,onClick:()=>{xe(Kt,null)}}):null:v(Mce,{clsPrefix:n,index:Xe,row:Dt,column:Rt,isSummary:Oe,mergedTheme:x,renderCell:this.renderCell}))});return De&&Ne&&Ae&&ue.splice(Ne,0,v("td",{colspan:y.length-Ne-Ae,style:{pointerEvents:"none",visibility:"hidden",height:0}})),v("tr",Object.assign({},en,{onMouseenter:st=>{var lt;this.hoverKey=Kt,(lt=en==null?void 0:en.onMouseenter)===null||lt===void 0||lt.call(en,st)},key:Kt,class:[`${n}-data-table-tr`,Oe&&`${n}-data-table-tr--summary`,ft&&`${n}-data-table-tr--striped`,Ge&&`${n}-data-table-tr--expanded`,wt,en==null?void 0:en.class],style:[en==null?void 0:en.style,De&&{height:ce}]}),ue)};return r?v(Os,{ref:"virtualListRef",items:Ue,itemSize:this.minRowHeight,visibleItemsTag:rue,visibleItemsProps:{clsPrefix:n,id:P,cols:y,onMouseleave:W},showScrollbar:!1,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemsStyle:f,itemResizable:!K,columns:y,renderItemWithCols:K?({itemIndex:be,item:re,startColIndex:me,endColIndex:De,getLeft:ge})=>se({displayedRowIndex:be,isVirtual:!0,isVirtualX:!0,rowInfo:re,startColIndex:me,endColIndex:De,getLeft:ge}):void 0},{default:({item:be,index:re,renderedItemWithCols:me})=>me||se({rowInfo:be,displayedRowIndex:re,isVirtual:!0,isVirtualX:!1,startColIndex:0,endColIndex:0,getLeft(De){return 0}})}):v("table",{class:`${n}-data-table-table`,onMouseleave:W,style:{tableLayout:this.mergedTableLayout}},v("colgroup",null,y.map(be=>v("col",{key:be.key,style:be.style}))),this.showHeader?v(m9,{discrete:!1}):null,this.empty?null:v("tbody",{"data-n-id":P,class:`${n}-data-table-tbody`},Ue.map((be,re)=>se({rowInfo:be,displayedRowIndex:re,isVirtual:!1,isVirtualX:!1,startColIndex:-1,endColIndex:-1,getLeft(me){return-1}}))))}});if(this.empty){const g=()=>v("div",{class:[`${n}-data-table-empty`,this.loading&&`${n}-data-table-empty--hide`],style:this.bodyStyle,ref:"emptyElRef"},sn(this.dataTableSlots.empty,()=>[v(yc,{theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]));return this.shouldDisplaySomeTablePart?v(qn,null,p,g()):v($o,{onResize:this.onResize},{default:g})}return p}}),oue=le({name:"MainTable",setup(){const{mergedClsPrefixRef:t,rightFixedColumnsRef:e,leftFixedColumnsRef:n,bodyWidthRef:r,maxHeightRef:i,minHeightRef:o,flexHeightRef:a,virtualScrollHeaderRef:s,syncScrollState:l}=ut(Bs),c=V(null),u=V(null),d=V(null),h=V(!(n.value.length||e.value.length)),f=L(()=>({maxHeight:Ln(i.value),minHeight:Ln(o.value)}));function p(b){r.value=b.contentRect.width,l(),h.value||(h.value=!0)}function g(){var b;const{value:x}=c;return x?s.value?((b=x.virtualListRef)===null||b===void 0?void 0:b.listElRef)||null:x.$el:null}function m(){const{value:b}=u;return b?b.getScrollContainer():null}const y={getBodyElement:m,getHeaderElement:g,scrollTo(b,x){var w;(w=u.value)===null||w===void 0||w.scrollTo(b,x)}};return er(()=>{const{value:b}=d;if(!b)return;const x=`${t.value}-data-table-base-table--transition-disabled`;h.value?setTimeout(()=>{b.classList.remove(x)},0):b.classList.add(x)}),Object.assign({maxHeight:i,mergedClsPrefix:t,selfElRef:d,headerInstRef:c,bodyInstRef:u,bodyStyle:f,flexHeight:a,handleBodyResize:p},y)},render(){const{mergedClsPrefix:t,maxHeight:e,flexHeight:n}=this,r=e===void 0&&!n;return v("div",{class:`${t}-data-table-base-table`,ref:"selfElRef"},r?null:v(m9,{ref:"headerInstRef"}),v(iue,{ref:"bodyInstRef",bodyStyle:this.bodyStyle,showHeader:r,flexHeight:n,onResize:this.handleBodyResize}))}}),R6=sue(),aue=B([R("data-table",`
 width: 100%;
 font-size: var(--n-font-size);
 display: flex;
 flex-direction: column;
 position: relative;
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 --n-merged-th-color-hover: var(--n-th-color-hover);
 --n-merged-th-color-sorting: var(--n-th-color-sorting);
 --n-merged-td-color-hover: var(--n-td-color-hover);
 --n-merged-td-color-sorting: var(--n-td-color-sorting);
 --n-merged-td-color-striped: var(--n-td-color-striped);
 `,[R("data-table-wrapper",`
 flex-grow: 1;
 display: flex;
 flex-direction: column;
 `),U("flex-height",[B(">",[R("data-table-wrapper",[B(">",[R("data-table-base-table",`
 display: flex;
 flex-direction: column;
 flex-grow: 1;
 `,[B(">",[R("data-table-base-table-body","flex-basis: 0;",[B("&:last-child","flex-grow: 1;")])])])])])])]),B(">",[R("data-table-loading-wrapper",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Qi({originalTransform:"translateX(-50%) translateY(-50%)"})])]),R("data-table-expand-placeholder",`
 margin-right: 8px;
 display: inline-block;
 width: 16px;
 height: 1px;
 `),R("data-table-indent",`
 display: inline-block;
 height: 1px;
 `),R("data-table-expand-trigger",`
 display: inline-flex;
 margin-right: 8px;
 cursor: pointer;
 font-size: 16px;
 vertical-align: -0.2em;
 position: relative;
 width: 16px;
 height: 16px;
 color: var(--n-td-text-color);
 transition: color .3s var(--n-bezier);
 `,[U("expanded",[R("icon","transform: rotate(90deg);",[mo({originalTransform:"rotate(90deg)"})]),R("base-icon","transform: rotate(90deg);",[mo({originalTransform:"rotate(90deg)"})])]),R("base-loading",`
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[mo()]),R("icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[mo()]),R("base-icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[mo()])]),R("data-table-thead",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-merged-th-color);
 `),R("data-table-tr",`
 position: relative;
 box-sizing: border-box;
 background-clip: padding-box;
 transition: background-color .3s var(--n-bezier);
 `,[R("data-table-expand",`
 position: sticky;
 left: 0;
 overflow: hidden;
 margin: calc(var(--n-th-padding) * -1);
 padding: var(--n-th-padding);
 box-sizing: border-box;
 `),U("striped","background-color: var(--n-merged-td-color-striped);",[R("data-table-td","background-color: var(--n-merged-td-color-striped);")]),an("summary",[B("&:hover","background-color: var(--n-merged-td-color-hover);",[B(">",[R("data-table-td","background-color: var(--n-merged-td-color-hover);")])])])]),R("data-table-th",`
 padding: var(--n-th-padding);
 position: relative;
 text-align: start;
 box-sizing: border-box;
 background-color: var(--n-merged-th-color);
 border-color: var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 color: var(--n-th-text-color);
 transition:
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 font-weight: var(--n-th-font-weight);
 `,[U("filterable",`
 padding-right: 36px;
 `,[U("sortable",`
 padding-right: calc(var(--n-th-padding) + 36px);
 `)]),R6,U("selection",`
 padding: 0;
 text-align: center;
 line-height: 0;
 z-index: 3;
 `),H("title-wrapper",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 max-width: 100%;
 `,[H("title",`
 flex: 1;
 min-width: 0;
 `)]),H("ellipsis",`
 display: inline-block;
 vertical-align: bottom;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 `),U("hover",`
 background-color: var(--n-merged-th-color-hover);
 `),U("sorting",`
 background-color: var(--n-merged-th-color-sorting);
 `),U("sortable",`
 cursor: pointer;
 `,[H("ellipsis",`
 max-width: calc(100% - 18px);
 `),B("&:hover",`
 background-color: var(--n-merged-th-color-hover);
 `)]),R("data-table-sorter",`
 height: var(--n-sorter-size);
 width: var(--n-sorter-size);
 margin-left: 4px;
 position: relative;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 vertical-align: -0.2em;
 color: var(--n-th-icon-color);
 transition: color .3s var(--n-bezier);
 `,[R("base-icon","transition: transform .3s var(--n-bezier)"),U("desc",[R("base-icon",`
 transform: rotate(0deg);
 `)]),U("asc",[R("base-icon",`
 transform: rotate(-180deg);
 `)]),U("asc, desc",`
 color: var(--n-th-icon-color-active);
 `)]),R("data-table-resize-button",`
 width: var(--n-resizable-container-size);
 position: absolute;
 top: 0;
 right: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 cursor: col-resize;
 user-select: none;
 `,[B("&::after",`
 width: var(--n-resizable-size);
 height: 50%;
 position: absolute;
 top: 50%;
 left: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 background-color: var(--n-merged-border-color);
 transform: translateY(-50%);
 transition: background-color .3s var(--n-bezier);
 z-index: 1;
 content: '';
 `),U("active",[B("&::after",` 
 background-color: var(--n-th-icon-color-active);
 `)]),B("&:hover::after",`
 background-color: var(--n-th-icon-color-active);
 `)]),R("data-table-filter",`
 position: absolute;
 z-index: auto;
 right: 0;
 width: 36px;
 top: 0;
 bottom: 0;
 cursor: pointer;
 display: flex;
 justify-content: center;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: var(--n-filter-size);
 color: var(--n-th-icon-color);
 `,[B("&:hover",`
 background-color: var(--n-th-button-color-hover);
 `),U("show",`
 background-color: var(--n-th-button-color-hover);
 `),U("active",`
 background-color: var(--n-th-button-color-hover);
 color: var(--n-th-icon-color-active);
 `)])]),R("data-table-td",`
 padding: var(--n-td-padding);
 text-align: start;
 box-sizing: border-box;
 border: none;
 background-color: var(--n-merged-td-color);
 color: var(--n-td-text-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[U("expand",[R("data-table-expand-trigger",`
 margin-right: 0;
 `)]),U("last-row",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[B("&::after",`
 bottom: 0 !important;
 `),B("&::before",`
 bottom: 0 !important;
 `)]),U("summary",`
 background-color: var(--n-merged-th-color);
 `),U("hover",`
 background-color: var(--n-merged-td-color-hover);
 `),U("sorting",`
 background-color: var(--n-merged-td-color-sorting);
 `),H("ellipsis",`
 display: inline-block;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 vertical-align: bottom;
 max-width: calc(100% - var(--indent-offset, -1.5) * 16px - 24px);
 `),U("selection, expand",`
 text-align: center;
 padding: 0;
 line-height: 0;
 `),R6]),R("data-table-empty",`
 box-sizing: border-box;
 padding: var(--n-empty-padding);
 flex-grow: 1;
 flex-shrink: 0;
 opacity: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: opacity .3s var(--n-bezier);
 `,[U("hide",`
 opacity: 0;
 `)]),H("pagination",`
 margin: var(--n-pagination-margin);
 display: flex;
 justify-content: flex-end;
 `),R("data-table-wrapper",`
 position: relative;
 opacity: 1;
 transition: opacity .3s var(--n-bezier), border-color .3s var(--n-bezier);
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 line-height: var(--n-line-height);
 `),U("loading",[R("data-table-wrapper",`
 opacity: var(--n-opacity-loading);
 pointer-events: none;
 `)]),U("single-column",[R("data-table-td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[B("&::after, &::before",`
 bottom: 0 !important;
 `)])]),an("single-line",[R("data-table-th",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[U("last",`
 border-right: 0 solid var(--n-merged-border-color);
 `)]),R("data-table-td",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[U("last-col",`
 border-right: 0 solid var(--n-merged-border-color);
 `)])]),U("bordered",[R("data-table-wrapper",`
 border: 1px solid var(--n-merged-border-color);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 overflow: hidden;
 `)]),R("data-table-base-table",[U("transition-disabled",[R("data-table-th",[B("&::after, &::before","transition: none;")]),R("data-table-td",[B("&::after, &::before","transition: none;")])])]),U("bottom-bordered",[R("data-table-td",[U("last-row",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),R("data-table-table",`
 font-variant-numeric: tabular-nums;
 width: 100%;
 word-break: break-word;
 transition: background-color .3s var(--n-bezier);
 border-collapse: separate;
 border-spacing: 0;
 background-color: var(--n-merged-td-color);
 `),R("data-table-base-table-header",`
 border-top-left-radius: calc(var(--n-border-radius) - 1px);
 border-top-right-radius: calc(var(--n-border-radius) - 1px);
 z-index: 3;
 overflow: scroll;
 flex-shrink: 0;
 transition: border-color .3s var(--n-bezier);
 scrollbar-width: none;
 `,[B("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 display: none;
 width: 0;
 height: 0;
 `)]),R("data-table-check-extra",`
 transition: color .3s var(--n-bezier);
 color: var(--n-th-icon-color);
 position: absolute;
 font-size: 14px;
 right: -4px;
 top: 50%;
 transform: translateY(-50%);
 z-index: 1;
 `)]),R("data-table-filter-menu",[R("scrollbar",`
 max-height: 240px;
 `),H("group",`
 display: flex;
 flex-direction: column;
 padding: 12px 12px 0 12px;
 `,[R("checkbox",`
 margin-bottom: 12px;
 margin-right: 0;
 `),R("radio",`
 margin-bottom: 12px;
 margin-right: 0;
 `)]),H("action",`
 padding: var(--n-action-padding);
 display: flex;
 flex-wrap: nowrap;
 justify-content: space-evenly;
 border-top: 1px solid var(--n-action-divider-color);
 `,[R("button",[B("&:not(:last-child)",`
 margin: var(--n-action-button-margin);
 `),B("&:last-child",`
 margin-right: 0;
 `)])]),R("divider",`
 margin: 0 !important;
 `)]),_l(R("data-table",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 --n-merged-th-color-hover: var(--n-th-color-hover-modal);
 --n-merged-td-color-hover: var(--n-td-color-hover-modal);
 --n-merged-th-color-sorting: var(--n-th-color-hover-modal);
 --n-merged-td-color-sorting: var(--n-td-color-hover-modal);
 --n-merged-td-color-striped: var(--n-td-color-striped-modal);
 `)),Tc(R("data-table",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 --n-merged-th-color-hover: var(--n-th-color-hover-popover);
 --n-merged-td-color-hover: var(--n-td-color-hover-popover);
 --n-merged-th-color-sorting: var(--n-th-color-hover-popover);
 --n-merged-td-color-sorting: var(--n-td-color-hover-popover);
 --n-merged-td-color-striped: var(--n-td-color-striped-popover);
 `))]);function sue(){return[U("fixed-left",`
 left: 0;
 position: sticky;
 z-index: 2;
 `,[B("&::after",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 right: -36px;
 `)]),U("fixed-right",`
 right: 0;
 position: sticky;
 z-index: 1;
 `,[B("&::before",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 left: -36px;
 `)])]}function lue(t,e){const{paginatedDataRef:n,treeMateRef:r,selectionColumnRef:i}=e,o=V(t.defaultCheckedRowKeys),a=L(()=>{var C;const{checkedRowKeys:S}=t,A=S===void 0?o.value:S;return((C=i.value)===null||C===void 0?void 0:C.multiple)===!1?{checkedKeys:A.slice(0,1),indeterminateKeys:[]}:r.value.getCheckedKeys(A,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded})}),s=L(()=>a.value.checkedKeys),l=L(()=>a.value.indeterminateKeys),c=L(()=>new Set(s.value)),u=L(()=>new Set(l.value)),d=L(()=>{const{value:C}=c;return n.value.reduce((S,A)=>{const{key:T,disabled:k}=A;return S+(!k&&C.has(T)?1:0)},0)}),h=L(()=>n.value.filter(C=>C.disabled).length),f=L(()=>{const{length:C}=n.value,{value:S}=u;return d.value>0&&d.value<C-h.value||n.value.some(A=>S.has(A.key))}),p=L(()=>{const{length:C}=n.value;return d.value!==0&&d.value===C-h.value}),g=L(()=>n.value.length===0);function m(C,S,A){const{"onUpdate:checkedRowKeys":T,onUpdateCheckedRowKeys:k,onCheckedRowKeysChange:E}=t,P=[],{value:{getNode:_}}=r;C.forEach(F=>{var N;const W=(N=_(F))===null||N===void 0?void 0:N.rawNode;P.push(W)}),T&&Fe(T,C,P,{row:S,action:A}),k&&Fe(k,C,P,{row:S,action:A}),E&&Fe(E,C,P,{row:S,action:A}),o.value=C}function y(C,S=!1,A){if(!t.loading){if(S){m(Array.isArray(C)?C.slice(0,1):[C],A,"check");return}m(r.value.check(C,s.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,A,"check")}}function b(C,S){t.loading||m(r.value.uncheck(C,s.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,S,"uncheck")}function x(C=!1){const{value:S}=i;if(!S||t.loading)return;const A=[];(C?r.value.treeNodes:n.value).forEach(T=>{T.disabled||A.push(T.key)}),m(r.value.check(A,s.value,{cascade:!0,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,void 0,"checkAll")}function w(C=!1){const{value:S}=i;if(!S||t.loading)return;const A=[];(C?r.value.treeNodes:n.value).forEach(T=>{T.disabled||A.push(T.key)}),m(r.value.uncheck(A,s.value,{cascade:!0,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,void 0,"uncheckAll")}return{mergedCheckedRowKeySetRef:c,mergedCheckedRowKeysRef:s,mergedInderminateRowKeySetRef:u,someRowsCheckedRef:f,allRowsCheckedRef:p,headerCheckboxDisabledRef:g,doUpdateCheckedRowKeys:m,doCheckAll:x,doUncheckAll:w,doCheck:y,doUncheck:b}}function cue(t,e){const n=Yt(()=>{for(const c of t.columns)if(c.type==="expand")return c.renderExpand}),r=Yt(()=>{let c;for(const u of t.columns)if(u.type==="expand"){c=u.expandable;break}return c}),i=V(t.defaultExpandAll?n!=null&&n.value?(()=>{const c=[];return e.value.treeNodes.forEach(u=>{var d;!((d=r.value)===null||d===void 0)&&d.call(r,u.rawNode)&&c.push(u.key)}),c})():e.value.getNonLeafKeys():t.defaultExpandedRowKeys),o=$e(t,"expandedRowKeys"),a=$e(t,"stickyExpandedRows"),s=Cn(o,i);function l(c){const{onUpdateExpandedRowKeys:u,"onUpdate:expandedRowKeys":d}=t;u&&Fe(u,c),d&&Fe(d,c),i.value=c}return{stickyExpandedRowsRef:a,mergedExpandedRowKeysRef:s,renderExpandRef:n,expandableRef:r,doUpdateExpandedRowKeys:l}}function uue(t,e){const n=[],r=[],i=[],o=new WeakMap;let a=-1,s=0,l=!1,c=0;function u(h,f){f>a&&(n[f]=[],a=f),h.forEach(p=>{if("children"in p)u(p.children,f+1);else{const g="key"in p?p.key:void 0;r.push({key:ys(p),style:wce(p,g!==void 0?Ln(e(g)):void 0),column:p,index:c++,width:p.width===void 0?128:Number(p.width)}),s+=1,l||(l=!!p.ellipsis),i.push(p)}})}u(t,0),c=0;function d(h,f){let p=0;h.forEach(g=>{var m;if("children"in g){const y=c,b={column:g,colIndex:c,colSpan:0,rowSpan:1,isLast:!1};d(g.children,f+1),g.children.forEach(x=>{var w,C;b.colSpan+=(C=(w=o.get(x))===null||w===void 0?void 0:w.colSpan)!==null&&C!==void 0?C:0}),y+b.colSpan===s&&(b.isLast=!0),o.set(g,b),n[f].push(b)}else{if(c<p){c+=1;return}let y=1;"titleColSpan"in g&&(y=(m=g.titleColSpan)!==null&&m!==void 0?m:1),y>1&&(p=c+y);const b=c+y===s,x={column:g,colSpan:y,colIndex:c,rowSpan:a-f+1,isLast:b};o.set(g,x),n[f].push(x),c+=1}})}return d(t,0),{hasEllipsis:l,rows:n,cols:r,dataRelatedCols:i}}function due(t,e){const n=L(()=>uue(t.columns,e));return{rowsRef:L(()=>n.value.rows),colsRef:L(()=>n.value.cols),hasEllipsisRef:L(()=>n.value.hasEllipsis),dataRelatedColsRef:L(()=>n.value.dataRelatedCols)}}function hue(){const t=V({});function e(i){return t.value[i]}function n(i,o){XD(i)&&"key"in i&&(t.value[i.key]=o)}function r(){t.value={}}return{getResizableWidth:e,doUpdateResizableWidth:n,clearResizableWidth:r}}function fue(t,{mainTableInstRef:e,mergedCurrentPageRef:n,bodyWidthRef:r}){let i=0;const o=V(),a=V(null),s=V([]),l=V(null),c=V([]),u=L(()=>Ln(t.scrollX)),d=L(()=>t.columns.filter(k=>k.fixed==="left")),h=L(()=>t.columns.filter(k=>k.fixed==="right")),f=L(()=>{const k={};let E=0;function P(_){_.forEach(F=>{const N={start:E,end:0};k[ys(F)]=N,"children"in F?(P(F.children),N.end=E):(E+=C6(F)||0,N.end=E)})}return P(d.value),k}),p=L(()=>{const k={};let E=0;function P(_){for(let F=_.length-1;F>=0;--F){const N=_[F],W={start:E,end:0};k[ys(N)]=W,"children"in N?(P(N.children),W.end=E):(E+=C6(N)||0,W.end=E)}}return P(h.value),k});function g(){var k,E;const{value:P}=d;let _=0;const{value:F}=f;let N=null;for(let W=0;W<P.length;++W){const G=ys(P[W]);if(i>(((k=F[G])===null||k===void 0?void 0:k.start)||0)-_)N=G,_=((E=F[G])===null||E===void 0?void 0:E.end)||0;else break}a.value=N}function m(){s.value=[];let k=t.columns.find(E=>ys(E)===a.value);for(;k&&"children"in k;){const E=k.children.length;if(E===0)break;const P=k.children[E-1];s.value.push(ys(P)),k=P}}function y(){var k,E;const{value:P}=h,_=Number(t.scrollX),{value:F}=r;if(F===null)return;let N=0,W=null;const{value:G}=p;for(let Z=P.length-1;Z>=0;--Z){const ie=ys(P[Z]);if(Math.round(i+(((k=G[ie])===null||k===void 0?void 0:k.start)||0)+F-N)<_)W=ie,N=((E=G[ie])===null||E===void 0?void 0:E.end)||0;else break}l.value=W}function b(){c.value=[];let k=t.columns.find(E=>ys(E)===l.value);for(;k&&"children"in k&&k.children.length;){const E=k.children[0];c.value.push(ys(E)),k=E}}function x(){const k=e.value?e.value.getHeaderElement():null,E=e.value?e.value.getBodyElement():null;return{header:k,body:E}}function w(){const{body:k}=x();k&&(k.scrollTop=0)}function C(){o.value!=="body"?th(A):o.value=void 0}function S(k){var E;(E=t.onScroll)===null||E===void 0||E.call(t,k),o.value!=="head"?th(A):o.value=void 0}function A(){const{header:k,body:E}=x();if(!E)return;const{value:P}=r;if(P!==null){if(t.maxHeight||t.flexHeight){if(!k)return;const _=i-k.scrollLeft;o.value=_!==0?"head":"body",o.value==="head"?(i=k.scrollLeft,E.scrollLeft=i):(i=E.scrollLeft,k.scrollLeft=i)}else i=E.scrollLeft;g(),m(),y(),b()}}function T(k){const{header:E}=x();E&&(E.scrollLeft=k,A())}return qt(n,()=>{w()}),{styleScrollXRef:u,fixedColumnLeftMapRef:f,fixedColumnRightMapRef:p,leftFixedColumnsRef:d,rightFixedColumnsRef:h,leftActiveFixedColKeyRef:a,leftActiveFixedChildrenColKeysRef:s,rightActiveFixedColKeyRef:l,rightActiveFixedChildrenColKeysRef:c,syncScrollState:A,handleTableBodyScroll:S,handleTableHeaderScroll:C,setHeaderScrollLeft:T}}function Uv(t){return typeof t=="object"&&typeof t.multiple=="number"?t.multiple:!1}function pue(t,e){return e&&(t===void 0||t==="default"||typeof t=="object"&&t.compare==="default")?mue(e):typeof t=="function"?t:t&&typeof t=="object"&&t.compare&&t.compare!=="default"?t.compare:!1}function mue(t){return(e,n)=>{const r=e[t],i=n[t];return r==null?i==null?0:-1:i==null?1:typeof r=="number"&&typeof i=="number"?r-i:typeof r=="string"&&typeof i=="string"?r.localeCompare(i):0}}function gue(t,{dataRelatedColsRef:e,filteredDataRef:n}){const r=[];e.value.forEach(f=>{var p;f.sorter!==void 0&&h(r,{columnKey:f.key,sorter:f.sorter,order:(p=f.defaultSortOrder)!==null&&p!==void 0?p:!1})});const i=V(r),o=L(()=>{const f=e.value.filter(m=>m.type!=="selection"&&m.sorter!==void 0&&(m.sortOrder==="ascend"||m.sortOrder==="descend"||m.sortOrder===!1)),p=f.filter(m=>m.sortOrder!==!1);if(p.length)return p.map(m=>({columnKey:m.key,order:m.sortOrder,sorter:m.sorter}));if(f.length)return[];const{value:g}=i;return Array.isArray(g)?g:g?[g]:[]}),a=L(()=>{const f=o.value.slice().sort((p,g)=>{const m=Uv(p.sorter)||0;return(Uv(g.sorter)||0)-m});return f.length?n.value.slice().sort((g,m)=>{let y=0;return f.some(b=>{const{columnKey:x,sorter:w,order:C}=b,S=pue(w,x);return S&&C&&(y=S(g.rawNode,m.rawNode),y!==0)?(y=y*bce(C),!0):!1}),y}):n.value});function s(f){let p=o.value.slice();return f&&Uv(f.sorter)!==!1?(p=p.filter(g=>Uv(g.sorter)!==!1),h(p,f),p):f||null}function l(f){const p=s(f);c(p)}function c(f){const{"onUpdate:sorter":p,onUpdateSorter:g,onSorterChange:m}=t;p&&Fe(p,f),g&&Fe(g,f),m&&Fe(m,f),i.value=f}function u(f,p="ascend"){if(!f)d();else{const g=e.value.find(y=>y.type!=="selection"&&y.type!=="expand"&&y.key===f);if(!(g!=null&&g.sorter))return;const m=g.sorter;l({columnKey:f,sorter:m,order:p})}}function d(){c(null)}function h(f,p){const g=f.findIndex(m=>(p==null?void 0:p.columnKey)&&m.columnKey===p.columnKey);g!==void 0&&g>=0?f[g]=p:f.push(p)}return{clearSorter:d,sort:u,sortedDataRef:a,mergedSortStateRef:o,deriveNextSorter:l}}function vue(t,{dataRelatedColsRef:e}){const n=L(()=>{const Q=X=>{for(let K=0;K<X.length;++K){const ne=X[K];if("children"in ne)return Q(ne.children);if(ne.type==="selection")return ne}return null};return Q(t.columns)}),r=L(()=>{const{childrenKey:Q}=t;return ma(t.data,{ignoreEmptyChildren:!0,getKey:t.rowKey,getChildren:X=>X[Q],getDisabled:X=>{var K,ne;return!!(!((ne=(K=n.value)===null||K===void 0?void 0:K.disabled)===null||ne===void 0)&&ne.call(K,X))}})}),i=Yt(()=>{const{columns:Q}=t,{length:X}=Q;let K=null;for(let ne=0;ne<X;++ne){const ve=Q[ne];if(!ve.type&&K===null&&(K=ne),"tree"in ve&&ve.tree)return ne}return K||0}),o=V({}),{pagination:a}=t,s=V(a&&a.defaultPage||1),l=V(jD(a)),c=L(()=>{const Q=e.value.filter(ne=>ne.filterOptionValues!==void 0||ne.filterOptionValue!==void 0),X={};return Q.forEach(ne=>{var ve;ne.type==="selection"||ne.type==="expand"||(ne.filterOptionValues===void 0?X[ne.key]=(ve=ne.filterOptionValue)!==null&&ve!==void 0?ve:null:X[ne.key]=ne.filterOptionValues)}),Object.assign(A6(o.value),X)}),u=L(()=>{const Q=c.value,{columns:X}=t;function K(Se){return(ye,Be)=>!!~String(Be[Se]).indexOf(String(ye))}const{value:{treeNodes:ne}}=r,ve=[];return X.forEach(Se=>{Se.type==="selection"||Se.type==="expand"||"children"in Se||ve.push([Se.key,Se])}),ne?ne.filter(Se=>{const{rawNode:ye}=Se;for(const[Be,J]of ve){let Ue=Q[Be];if(Ue==null||(Array.isArray(Ue)||(Ue=[Ue]),!Ue.length))continue;const Qe=J.filter==="default"?K(Be):J.filter;if(J&&typeof Qe=="function")if(J.filterMode==="and"){if(Ue.some(ae=>!Qe(ae,ye)))return!1}else{if(Ue.some(ae=>Qe(ae,ye)))continue;return!1}}return!0}):[]}),{sortedDataRef:d,deriveNextSorter:h,mergedSortStateRef:f,sort:p,clearSorter:g}=gue(t,{dataRelatedColsRef:e,filteredDataRef:u});e.value.forEach(Q=>{var X;if(Q.filter){const K=Q.defaultFilterOptionValues;Q.filterMultiple?o.value[Q.key]=K||[]:K!==void 0?o.value[Q.key]=K===null?[]:K:o.value[Q.key]=(X=Q.defaultFilterOptionValue)!==null&&X!==void 0?X:null}});const m=L(()=>{const{pagination:Q}=t;if(Q!==!1)return Q.page}),y=L(()=>{const{pagination:Q}=t;if(Q!==!1)return Q.pageSize}),b=Cn(m,s),x=Cn(y,l),w=Yt(()=>{const Q=b.value;return t.remote?Q:Math.max(1,Math.min(Math.ceil(u.value.length/x.value),Q))}),C=L(()=>{const{pagination:Q}=t;if(Q){const{pageCount:X}=Q;if(X!==void 0)return X}}),S=L(()=>{if(t.remote)return r.value.treeNodes;if(!t.pagination)return d.value;const Q=x.value,X=(w.value-1)*Q;return d.value.slice(X,X+Q)}),A=L(()=>S.value.map(Q=>Q.rawNode));function T(Q){const{pagination:X}=t;if(X){const{onChange:K,"onUpdate:page":ne,onUpdatePage:ve}=X;K&&Fe(K,Q),ve&&Fe(ve,Q),ne&&Fe(ne,Q),_(Q)}}function k(Q){const{pagination:X}=t;if(X){const{onPageSizeChange:K,"onUpdate:pageSize":ne,onUpdatePageSize:ve}=X;K&&Fe(K,Q),ve&&Fe(ve,Q),ne&&Fe(ne,Q),F(Q)}}const E=L(()=>{if(t.remote){const{pagination:Q}=t;if(Q){const{itemCount:X}=Q;if(X!==void 0)return X}return}return u.value.length}),P=L(()=>Object.assign(Object.assign({},t.pagination),{onChange:void 0,onUpdatePage:void 0,onUpdatePageSize:void 0,onPageSizeChange:void 0,"onUpdate:page":T,"onUpdate:pageSize":k,page:w.value,pageSize:x.value,pageCount:E.value===void 0?C.value:void 0,itemCount:E.value}));function _(Q){const{"onUpdate:page":X,onPageChange:K,onUpdatePage:ne}=t;ne&&Fe(ne,Q),X&&Fe(X,Q),K&&Fe(K,Q),s.value=Q}function F(Q){const{"onUpdate:pageSize":X,onPageSizeChange:K,onUpdatePageSize:ne}=t;K&&Fe(K,Q),ne&&Fe(ne,Q),X&&Fe(X,Q),l.value=Q}function N(Q,X){const{onUpdateFilters:K,"onUpdate:filters":ne,onFiltersChange:ve}=t;K&&Fe(K,Q,X),ne&&Fe(ne,Q,X),ve&&Fe(ve,Q,X),o.value=Q}function W(Q,X,K,ne){var ve;(ve=t.onUnstableColumnResize)===null||ve===void 0||ve.call(t,Q,X,K,ne)}function G(Q){_(Q)}function Z(){ie()}function ie(){he({})}function he(Q){xe(Q)}function xe(Q){Q?Q&&(o.value=A6(Q)):o.value={}}return{treeMateRef:r,mergedCurrentPageRef:w,mergedPaginationRef:P,paginatedDataRef:S,rawPaginatedDataRef:A,mergedFilterStateRef:c,mergedSortStateRef:f,hoverKeyRef:V(null),selectionColumnRef:n,childTriggerColIndexRef:i,doUpdateFilters:N,deriveNextSorter:h,doUpdatePageSize:F,doUpdatePage:_,onUnstableColumnResize:W,filter:xe,filters:he,clearFilter:Z,clearFilters:ie,clearSorter:g,page:G,sort:p}}const yue=le({name:"DataTable",alias:["AdvancedTable"],props:KD,slots:Object,setup(t,{slots:e}){const{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:i,mergedRtlRef:o}=gt(t),a=or("DataTable",o,r),s=L(()=>{const{bottomBordered:ce}=t;return n.value?!1:ce!==void 0?ce:!0}),l=Ve("DataTable","-data-table",aue,vce,t,r),c=V(null),u=V(null),{getResizableWidth:d,clearResizableWidth:h,doUpdateResizableWidth:f}=hue(),{rowsRef:p,colsRef:g,dataRelatedColsRef:m,hasEllipsisRef:y}=due(t,d),{treeMateRef:b,mergedCurrentPageRef:x,paginatedDataRef:w,rawPaginatedDataRef:C,selectionColumnRef:S,hoverKeyRef:A,mergedPaginationRef:T,mergedFilterStateRef:k,mergedSortStateRef:E,childTriggerColIndexRef:P,doUpdatePage:_,doUpdateFilters:F,onUnstableColumnResize:N,deriveNextSorter:W,filter:G,filters:Z,clearFilter:ie,clearFilters:he,clearSorter:xe,page:Q,sort:X}=vue(t,{dataRelatedColsRef:m}),K=ce=>{const{fileName:ue="data.csv",keepOriginalData:je=!1}=ce||{},st=je?t.data:C.value,lt=kce(t.columns,st,t.getCsvCell,t.getCsvHeader),_e=new Blob([lt],{type:"text/csv;charset=utf-8"}),tt=URL.createObjectURL(_e);nx(tt,ue.endsWith(".csv")?ue:`${ue}.csv`),URL.revokeObjectURL(tt)},{doCheckAll:ne,doUncheckAll:ve,doCheck:Se,doUncheck:ye,headerCheckboxDisabledRef:Be,someRowsCheckedRef:J,allRowsCheckedRef:Ue,mergedCheckedRowKeySetRef:Qe,mergedInderminateRowKeySetRef:ae}=lue(t,{selectionColumnRef:S,treeMateRef:b,paginatedDataRef:w}),{stickyExpandedRowsRef:fe,mergedExpandedRowKeysRef:ke,renderExpandRef:Ke,expandableRef:Ne,doUpdateExpandedRowKeys:Ae}=cue(t,b),{handleTableBodyScroll:se,handleTableHeaderScroll:be,syncScrollState:re,setHeaderScrollLeft:me,leftActiveFixedColKeyRef:De,leftActiveFixedChildrenColKeysRef:ge,rightActiveFixedColKeyRef:pe,rightActiveFixedChildrenColKeysRef:Te,leftFixedColumnsRef:Xe,rightFixedColumnsRef:Oe,fixedColumnLeftMapRef:ft,fixedColumnRightMapRef:Lt}=fue(t,{bodyWidthRef:c,mainTableInstRef:u,mergedCurrentPageRef:x}),{localeRef:Kt}=li("DataTable"),Dt=L(()=>t.virtualScroll||t.flexHeight||t.maxHeight!==void 0||y.value?"fixed":t.tableLayout);zt(Bs,{props:t,treeMateRef:b,renderExpandIconRef:$e(t,"renderExpandIcon"),loadingKeySetRef:V(new Set),slots:e,indentRef:$e(t,"indent"),childTriggerColIndexRef:P,bodyWidthRef:c,componentId:Zo(),hoverKeyRef:A,mergedClsPrefixRef:r,mergedThemeRef:l,scrollXRef:L(()=>t.scrollX),rowsRef:p,colsRef:g,paginatedDataRef:w,leftActiveFixedColKeyRef:De,leftActiveFixedChildrenColKeysRef:ge,rightActiveFixedColKeyRef:pe,rightActiveFixedChildrenColKeysRef:Te,leftFixedColumnsRef:Xe,rightFixedColumnsRef:Oe,fixedColumnLeftMapRef:ft,fixedColumnRightMapRef:Lt,mergedCurrentPageRef:x,someRowsCheckedRef:J,allRowsCheckedRef:Ue,mergedSortStateRef:E,mergedFilterStateRef:k,loadingRef:$e(t,"loading"),rowClassNameRef:$e(t,"rowClassName"),mergedCheckedRowKeySetRef:Qe,mergedExpandedRowKeysRef:ke,mergedInderminateRowKeySetRef:ae,localeRef:Kt,expandableRef:Ne,stickyExpandedRowsRef:fe,rowKeyRef:$e(t,"rowKey"),renderExpandRef:Ke,summaryRef:$e(t,"summary"),virtualScrollRef:$e(t,"virtualScroll"),virtualScrollXRef:$e(t,"virtualScrollX"),heightForRowRef:$e(t,"heightForRow"),minRowHeightRef:$e(t,"minRowHeight"),virtualScrollHeaderRef:$e(t,"virtualScrollHeader"),headerHeightRef:$e(t,"headerHeight"),rowPropsRef:$e(t,"rowProps"),stripedRef:$e(t,"striped"),checkOptionsRef:L(()=>{const{value:ce}=S;return ce==null?void 0:ce.options}),rawPaginatedDataRef:C,filterMenuCssVarsRef:L(()=>{const{self:{actionDividerColor:ce,actionPadding:ue,actionButtonMargin:je}}=l.value;return{"--n-action-padding":ue,"--n-action-button-margin":je,"--n-action-divider-color":ce}}),onLoadRef:$e(t,"onLoad"),mergedTableLayoutRef:Dt,maxHeightRef:$e(t,"maxHeight"),minHeightRef:$e(t,"minHeight"),flexHeightRef:$e(t,"flexHeight"),headerCheckboxDisabledRef:Be,paginationBehaviorOnFilterRef:$e(t,"paginationBehaviorOnFilter"),summaryPlacementRef:$e(t,"summaryPlacement"),filterIconPopoverPropsRef:$e(t,"filterIconPopoverProps"),scrollbarPropsRef:$e(t,"scrollbarProps"),syncScrollState:re,doUpdatePage:_,doUpdateFilters:F,getResizableWidth:d,onUnstableColumnResize:N,clearResizableWidth:h,doUpdateResizableWidth:f,deriveNextSorter:W,doCheck:Se,doUncheck:ye,doCheckAll:ne,doUncheckAll:ve,doUpdateExpandedRowKeys:Ae,handleTableHeaderScroll:be,handleTableBodyScroll:se,setHeaderScrollLeft:me,renderCell:$e(t,"renderCell")});const Ge={filter:G,filters:Z,clearFilters:he,clearSorter:xe,page:Q,sort:X,clearFilter:ie,downloadCsv:K,scrollTo:(ce,ue)=>{var je;(je=u.value)===null||je===void 0||je.scrollTo(ce,ue)}},en=L(()=>{const{size:ce}=t,{common:{cubicBezierEaseInOut:ue},self:{borderColor:je,tdColorHover:st,tdColorSorting:lt,tdColorSortingModal:_e,tdColorSortingPopover:tt,thColorSorting:Re,thColorSortingModal:Je,thColorSortingPopover:St,thColor:Rt,thColorHover:ze,tdColor:dt,tdTextColor:Ie,thTextColor:rt,thFontWeight:mt,thButtonColorHover:Ft,thIconColor:Ht,thIconColorActive:Le,filterSize:ot,borderRadius:kt,lineHeight:He,tdColorModal:at,thColorModal:xt,borderColorModal:Et,thColorHoverModal:Nt,tdColorHoverModal:Mn,borderColorPopover:wr,thColorPopover:Pr,tdColorPopover:qi,tdColorHoverPopover:Ci,thColorHoverPopover:ai,paginationMargin:rr,emptyPadding:Ye,boxShadowAfter:Ct,boxShadowBefore:Tt,sorterSize:On,resizableContainerSize:Kr,resizableSize:Yn,loadingColor:Eo,loadingSize:ia,opacityLoading:To,tdColorStriped:zs,tdColorStripedModal:id,tdColorStripedPopover:Dc,[We("fontSize",ce)]:od,[We("thPadding",ce)]:Fc,[We("tdPadding",ce)]:Rh}}=l.value;return{"--n-font-size":od,"--n-th-padding":Fc,"--n-td-padding":Rh,"--n-bezier":ue,"--n-border-radius":kt,"--n-line-height":He,"--n-border-color":je,"--n-border-color-modal":Et,"--n-border-color-popover":wr,"--n-th-color":Rt,"--n-th-color-hover":ze,"--n-th-color-modal":xt,"--n-th-color-hover-modal":Nt,"--n-th-color-popover":Pr,"--n-th-color-hover-popover":ai,"--n-td-color":dt,"--n-td-color-hover":st,"--n-td-color-modal":at,"--n-td-color-hover-modal":Mn,"--n-td-color-popover":qi,"--n-td-color-hover-popover":Ci,"--n-th-text-color":rt,"--n-td-text-color":Ie,"--n-th-font-weight":mt,"--n-th-button-color-hover":Ft,"--n-th-icon-color":Ht,"--n-th-icon-color-active":Le,"--n-filter-size":ot,"--n-pagination-margin":rr,"--n-empty-padding":Ye,"--n-box-shadow-before":Tt,"--n-box-shadow-after":Ct,"--n-sorter-size":On,"--n-resizable-container-size":Kr,"--n-resizable-size":Yn,"--n-loading-size":ia,"--n-loading-color":Eo,"--n-opacity-loading":To,"--n-td-color-striped":zs,"--n-td-color-striped-modal":id,"--n-td-color-striped-popover":Dc,"--n-td-color-sorting":lt,"--n-td-color-sorting-modal":_e,"--n-td-color-sorting-popover":tt,"--n-th-color-sorting":Re,"--n-th-color-sorting-modal":Je,"--n-th-color-sorting-popover":St}}),wt=i?Ot("data-table",L(()=>t.size[0]),en,t):void 0,_t=L(()=>{if(!t.pagination)return!1;if(t.paginateSinglePage)return!0;const ce=T.value,{pageCount:ue}=ce;return ue!==void 0?ue>1:ce.itemCount&&ce.pageSize&&ce.itemCount>ce.pageSize});return Object.assign({mainTableInstRef:u,mergedClsPrefix:r,rtlEnabled:a,mergedTheme:l,paginatedData:w,mergedBordered:n,mergedBottomBordered:s,mergedPagination:T,mergedShowPagination:_t,cssVars:i?void 0:en,themeClass:wt==null?void 0:wt.themeClass,onRender:wt==null?void 0:wt.onRender},Ge)},render(){const{mergedClsPrefix:t,themeClass:e,onRender:n,$slots:r,spinProps:i}=this;return n==null||n(),v("div",{class:[`${t}-data-table`,this.rtlEnabled&&`${t}-data-table--rtl`,e,{[`${t}-data-table--bordered`]:this.mergedBordered,[`${t}-data-table--bottom-bordered`]:this.mergedBottomBordered,[`${t}-data-table--single-line`]:this.singleLine,[`${t}-data-table--single-column`]:this.singleColumn,[`${t}-data-table--loading`]:this.loading,[`${t}-data-table--flex-height`]:this.flexHeight}],style:this.cssVars},v("div",{class:`${t}-data-table-wrapper`},v(oue,{ref:"mainTableInstRef"})),this.mergedShowPagination?v("div",{class:`${t}-data-table__pagination`},v(WD,Object.assign({theme:this.mergedTheme.peers.Pagination,themeOverrides:this.mergedTheme.peerOverrides.Pagination,disabled:this.loading},this.mergedPagination))):null,v(hr,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?v("div",{class:`${t}-data-table-loading-wrapper`},sn(r.loading,()=>[v($s,Object.assign({clsPrefix:t,strokeWidth:20},i))])):null}))}}),bue={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};function xue(t){const{popoverColor:e,textColor2:n,primaryColor:r,hoverColor:i,dividerColor:o,opacityDisabled:a,boxShadow2:s,borderRadius:l,iconColor:c,iconColorDisabled:u}=t;return Object.assign(Object.assign({},bue),{panelColor:e,panelBoxShadow:s,panelDividerColor:o,itemTextColor:n,itemTextColorActive:r,itemColorHover:i,itemOpacityDisabled:a,itemBorderRadius:l,borderRadius:l,iconColor:c,iconColorDisabled:u})}const g9={name:"TimePicker",common:Bt,peers:{Scrollbar:Bo,Button:Aa,Input:Ca},self:xue},wue={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarLeftPaddingWeek:"6px 12px 4px 12px",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0",calendarRightPaddingWeek:"0"};function Cue(t){const{hoverColor:e,fontSize:n,textColor2:r,textColorDisabled:i,popoverColor:o,primaryColor:a,borderRadiusSmall:s,iconColor:l,iconColorDisabled:c,textColor1:u,dividerColor:d,boxShadow2:h,borderRadius:f,fontWeightStrong:p}=t;return Object.assign(Object.assign({},wue),{itemFontSize:n,calendarDaysFontSize:n,calendarTitleFontSize:n,itemTextColor:r,itemTextColorDisabled:i,itemTextColorActive:o,itemTextColorCurrent:a,itemColorIncluded:dn(a,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:a,itemBorderRadius:s,panelColor:o,panelTextColor:r,arrowColor:l,calendarTitleTextColor:u,calendarTitleColorHover:e,calendarDaysTextColor:r,panelHeaderDividerColor:d,calendarDaysDividerColor:d,calendarDividerColor:d,panelActionDividerColor:d,panelBoxShadow:h,panelBorderRadius:f,calendarTitleFontWeight:p,scrollItemBorderRadius:f,iconColor:l,iconColorDisabled:c})}const Aue={name:"DatePicker",common:Bt,peers:{Input:Ca,Button:Aa,TimePicker:g9,Scrollbar:Bo},self:Cue},px="n-date-picker",sh=40,Sue="HH:mm:ss",v9={active:Boolean,dateFormat:String,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,required:!0},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},timePickerFormat:{type:String,value:Sue},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array,Function],inputReadonly:Boolean,onClear:Function,onConfirm:Function,onClose:Function,onTabOut:Function,onKeydown:Function,actions:Array,onUpdateValue:{type:Function,required:!0},themeClass:String,onRender:Function,panel:Boolean,onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function};function y9(t){const{dateLocaleRef:e,timePickerSizeRef:n,timePickerPropsRef:r,localeRef:i,mergedClsPrefixRef:o,mergedThemeRef:a}=ut(px),s=L(()=>({locale:e.value.locale})),l=V(null),c=Bk();function u(){const{onClear:_}=t;_&&_()}function d(){const{onConfirm:_,value:F}=t;_&&_(F)}function h(_,F){const{onUpdateValue:N}=t;N(_,F)}function f(_=!1){const{onClose:F}=t;F&&F(_)}function p(){const{onTabOut:_}=t;_&&_()}function g(){h(null,!0),f(!0),u()}function m(){p()}function y(){(t.active||t.panel)&&vn(()=>{const{value:_}=l;if(!_)return;const F=_.querySelectorAll("[data-n-date]");F.forEach(N=>{N.classList.add("transition-disabled")}),_.offsetWidth,F.forEach(N=>{N.classList.remove("transition-disabled")})})}function b(_){_.key==="Tab"&&_.target===l.value&&c.shift&&(_.preventDefault(),p())}function x(_){const{value:F}=l;c.tab&&_.target===F&&(F!=null&&F.contains(_.relatedTarget))&&p()}let w=null,C=!1;function S(){w=t.value,C=!0}function A(){C=!1}function T(){C&&(h(w,!1),C=!1)}function k(_){return typeof _=="function"?_():_}const E=V(!1);function P(){E.value=!E.value}return{mergedTheme:a,mergedClsPrefix:o,dateFnsOptions:s,timePickerSize:n,timePickerProps:r,selfRef:l,locale:i,doConfirm:d,doClose:f,doUpdateValue:h,doTabOut:p,handleClearClick:g,handleFocusDetectorFocus:m,disableTransitionOneTick:y,handlePanelKeyDown:b,handlePanelFocus:x,cachePendingValue:S,clearPendingValue:A,restorePendingValue:T,getShortcutValue:k,handleShortcutMouseleave:T,showMonthYearPanel:E,handleOpenQuickSelectMonthPanel:P}}const R4=Object.assign(Object.assign({},v9),{defaultCalendarStartTime:Number,actions:{type:Array,default:()=>["now","clear","confirm"]}});function _4(t,e){var n;const r=y9(t),{isValueInvalidRef:i,isDateDisabledRef:o,isDateInvalidRef:a,isTimeInvalidRef:s,isDateTimeInvalidRef:l,isHourDisabledRef:c,isMinuteDisabledRef:u,isSecondDisabledRef:d,localeRef:h,firstDayOfWeekRef:f,datePickerSlots:p,yearFormatRef:g,monthFormatRef:m,quarterFormatRef:y,yearRangeRef:b}=ut(px),x={isValueInvalid:i,isDateDisabled:o,isDateInvalid:a,isTimeInvalid:s,isDateTimeInvalid:l,isHourDisabled:c,isMinuteDisabled:u,isSecondDisabled:d},w=L(()=>t.dateFormat||h.value.dateFormat),C=L(()=>t.calendarDayFormat||h.value.dayFormat),S=V(t.value===null||Array.isArray(t.value)?"":dr(t.value,w.value)),A=V(t.value===null||Array.isArray(t.value)?(n=t.defaultCalendarStartTime)!==null&&n!==void 0?n:Date.now():t.value),T=V(null),k=V(null),E=V(null),P=V(Date.now()),_=L(()=>{var Oe;return Wb(A.value,t.value,P.value,(Oe=f.value)!==null&&Oe!==void 0?Oe:h.value.firstDayOfWeek,!1,e==="week")}),F=L(()=>{const{value:Oe}=t;return CA(A.value,Array.isArray(Oe)?null:Oe,P.value,{monthFormat:m.value})}),N=L(()=>{const{value:Oe}=t;return SA(Array.isArray(Oe)?null:Oe,P.value,{yearFormat:g.value},b)}),W=L(()=>{const{value:Oe}=t;return AA(A.value,Array.isArray(Oe)?null:Oe,P.value,{quarterFormat:y.value})}),G=L(()=>_.value.slice(0,7).map(Oe=>{const{ts:ft}=Oe;return dr(ft,C.value,r.dateFnsOptions.value)})),Z=L(()=>dr(A.value,t.calendarHeaderMonthFormat||h.value.monthFormat,r.dateFnsOptions.value)),ie=L(()=>dr(A.value,t.calendarHeaderYearFormat||h.value.yearFormat,r.dateFnsOptions.value)),he=L(()=>{var Oe;return(Oe=t.calendarHeaderMonthBeforeYear)!==null&&Oe!==void 0?Oe:h.value.monthBeforeYear});qt(A,(Oe,ft)=>{(e==="date"||e==="datetime")&&(jg(Oe,ft)||r.disableTransitionOneTick())}),qt(L(()=>t.value),Oe=>{Oe!==null&&!Array.isArray(Oe)?(S.value=dr(Oe,w.value,r.dateFnsOptions.value),A.value=Oe):S.value=""});function xe(Oe){var ft;if(e==="datetime")return Wt(f4(Oe));if(e==="month")return Wt(es(Oe));if(e==="year")return Wt(fp(Oe));if(e==="quarter")return Wt(eg(Oe));if(e==="week"){const Lt=(((ft=f.value)!==null&&ft!==void 0?ft:h.value.firstDayOfWeek)+1)%7;return Wt(za(Oe,{weekStartsOn:Lt}))}return Wt(Sl(Oe))}function Q(Oe,ft){const{isDateDisabled:{value:Lt}}=x;return Lt?Lt(Oe,ft):!1}function X(Oe){const ft=ha(Oe,w.value,new Date,r.dateFnsOptions.value);if(ns(ft)){if(t.value===null)r.doUpdateValue(Wt(xe(Date.now())),t.panel);else if(!Array.isArray(t.value)){const Lt=bo(t.value,{year:Mr(ft),month:Rr(ft),date:Ja(ft)});r.doUpdateValue(Wt(xe(Wt(Lt))),t.panel)}}else S.value=Oe}function K(){const Oe=ha(S.value,w.value,new Date,r.dateFnsOptions.value);if(ns(Oe)){if(t.value===null)r.doUpdateValue(Wt(xe(Date.now())),!1);else if(!Array.isArray(t.value)){const ft=bo(t.value,{year:Mr(Oe),month:Rr(Oe),date:Ja(Oe)});r.doUpdateValue(Wt(xe(Wt(ft))),!1)}}else ae()}function ne(){r.doUpdateValue(null,!0),S.value="",r.doClose(!0),r.handleClearClick()}function ve(){r.doUpdateValue(Wt(xe(Date.now())),!0);const Oe=Date.now();A.value=Oe,r.doClose(!0),t.panel&&(e==="month"||e==="quarter"||e==="year")&&(r.disableTransitionOneTick(),Te(Oe))}const Se=V(null);function ye(Oe){Oe.type==="date"&&e==="week"&&(Se.value=xe(Wt(Oe.ts)))}function Be(Oe){return Oe.type==="date"&&e==="week"?xe(Wt(Oe.ts))===Se.value:!1}function J(Oe){if(Q(Oe.ts,Oe.type==="date"?{type:"date",year:Oe.dateObject.year,month:Oe.dateObject.month,date:Oe.dateObject.date}:Oe.type==="month"?{type:"month",year:Oe.dateObject.year,month:Oe.dateObject.month}:Oe.type==="year"?{type:"year",year:Oe.dateObject.year}:{type:"quarter",year:Oe.dateObject.year,quarter:Oe.dateObject.quarter}))return;let ft;if(t.value!==null&&!Array.isArray(t.value)?ft=t.value:ft=Date.now(),e==="datetime"&&t.defaultTime!==null&&!Array.isArray(t.defaultTime)){let Lt;typeof t.defaultTime=="function"?Lt=Ese(Oe.ts,t.defaultTime):Lt=Tf(t.defaultTime),Lt&&(ft=Wt(bo(ft,Lt)))}switch(ft=Wt(Oe.type==="quarter"&&Oe.dateObject.quarter?vse(wA(ft,Oe.dateObject.year),Oe.dateObject.quarter):bo(ft,Oe.dateObject)),r.doUpdateValue(xe(ft),t.panel||e==="date"||e==="week"||e==="year"),e){case"date":case"week":r.doClose();break;case"year":t.panel&&r.disableTransitionOneTick(),r.doClose();break;case"month":r.disableTransitionOneTick(),Te(ft);break;case"quarter":r.disableTransitionOneTick(),Te(ft);break}}function Ue(Oe,ft){let Lt;t.value!==null&&!Array.isArray(t.value)?Lt=t.value:Lt=Date.now(),Lt=Wt(Oe.type==="month"?p4(Lt,Oe.dateObject.month):wA(Lt,Oe.dateObject.year)),ft(Lt),Te(Lt)}function Qe(Oe){A.value=Oe}function ae(Oe){if(t.value===null||Array.isArray(t.value)){S.value="";return}Oe===void 0&&(Oe=t.value),S.value=dr(Oe,w.value,r.dateFnsOptions.value)}function fe(){x.isDateInvalid.value||x.isTimeInvalid.value||(r.doConfirm(),ke())}function ke(){t.active&&r.doClose()}function Ke(){var Oe;A.value=Wt(Hb(A.value,1)),(Oe=t.onNextYear)===null||Oe===void 0||Oe.call(t)}function Ne(){var Oe;A.value=Wt(Hb(A.value,-1)),(Oe=t.onPrevYear)===null||Oe===void 0||Oe.call(t)}function Ae(){var Oe;A.value=Wt(io(A.value,1)),(Oe=t.onNextMonth)===null||Oe===void 0||Oe.call(t)}function se(){var Oe;A.value=Wt(io(A.value,-1)),(Oe=t.onPrevMonth)===null||Oe===void 0||Oe.call(t)}function be(){const{value:Oe}=T;return(Oe==null?void 0:Oe.listElRef)||null}function re(){const{value:Oe}=T;return(Oe==null?void 0:Oe.itemsElRef)||null}function me(){var Oe;(Oe=k.value)===null||Oe===void 0||Oe.sync()}function De(Oe){Oe!==null&&r.doUpdateValue(Oe,t.panel)}function ge(Oe){r.cachePendingValue();const ft=r.getShortcutValue(Oe);typeof ft=="number"&&r.doUpdateValue(ft,!1)}function pe(Oe){const ft=r.getShortcutValue(Oe);typeof ft=="number"&&(r.doUpdateValue(ft,t.panel),r.clearPendingValue(),fe())}function Te(Oe){const{value:ft}=t;if(E.value){const Lt=Rr(Oe===void 0?ft===null?Date.now():ft:Oe);E.value.scrollTo({top:Lt*sh})}if(T.value){const Lt=Mr(Oe===void 0?ft===null?Date.now():ft:Oe)-b.value[0];T.value.scrollTo({top:Lt*sh})}}const Xe={monthScrollbarRef:E,yearScrollbarRef:k,yearVlRef:T};return Object.assign(Object.assign(Object.assign(Object.assign({dateArray:_,monthArray:F,yearArray:N,quarterArray:W,calendarYear:ie,calendarMonth:Z,weekdays:G,calendarMonthBeforeYear:he,mergedIsDateDisabled:Q,nextYear:Ke,prevYear:Ne,nextMonth:Ae,prevMonth:se,handleNowClick:ve,handleConfirmClick:fe,handleSingleShortcutMouseenter:ge,handleSingleShortcutClick:pe},x),r),Xe),{handleDateClick:J,handleDateInputBlur:K,handleDateInput:X,handleDateMouseEnter:ye,isWeekHovered:Be,handleTimePickerChange:De,clearSelectedDateTime:ne,virtualListContainer:be,virtualListContent:re,handleVirtualListScroll:me,timePickerSize:r.timePickerSize,dateInputValue:S,datePickerSlots:p,handleQuickMonthClick:Ue,justifyColumnsScrollState:Te,calendarValue:A,onUpdateCalendarValue:Qe})}const b9=le({name:"MonthPanel",props:Object.assign(Object.assign({},R4),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(t){const e=_4(t,t.type),{dateLocaleRef:n}=li("DatePicker"),r=a=>{switch(a.type){case"year":return dD(a.dateObject.year,a.yearFormat,n.value.locale);case"month":return uD(a.dateObject.month,a.monthFormat,n.value.locale);case"quarter":return hD(a.dateObject.quarter,a.quarterFormat,n.value.locale)}},{useAsQuickJump:i}=t,o=(a,s,l)=>{const{mergedIsDateDisabled:c,handleDateClick:u,handleQuickMonthClick:d}=e;return v("div",{"data-n-date":!0,key:s,class:[`${l}-date-panel-month-calendar__picker-col-item`,a.isCurrent&&`${l}-date-panel-month-calendar__picker-col-item--current`,a.selected&&`${l}-date-panel-month-calendar__picker-col-item--selected`,!i&&c(a.ts,a.type==="year"?{type:"year",year:a.dateObject.year}:a.type==="month"?{type:"month",year:a.dateObject.year,month:a.dateObject.month}:a.type==="quarter"?{type:"month",year:a.dateObject.year,month:a.dateObject.quarter}:null)&&`${l}-date-panel-month-calendar__picker-col-item--disabled`],onClick:()=>{i?d(a,h=>{t.onUpdateValue(h,!1)}):u(a)}},r(a))};return jn(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:o})},render(){const{mergedClsPrefix:t,mergedTheme:e,shortcuts:n,actions:r,renderItem:i,type:o,onRender:a}=this;return a==null||a(),v("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--month`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},v("div",{class:`${t}-date-panel-month-calendar`},v(Hr,{ref:"yearScrollbarRef",class:`${t}-date-panel-month-calendar__picker-col`,theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>v(Os,{ref:"yearVlRef",items:this.yearArray,itemSize:sh,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:s,index:l})=>i(s,l,t)})}),o==="month"||o==="quarter"?v("div",{class:`${t}-date-panel-month-calendar__picker-col`},v(Hr,{ref:"monthScrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar},{default:()=>[(o==="month"?this.monthArray:this.quarterArray).map((s,l)=>i(s,l,t)),v("div",{class:`${t}-date-panel-${o}-calendar__padding`})]})):null),bn(this.datePickerSlots.footer,s=>s?v("div",{class:`${t}-date-panel-footer`},s):null),r!=null&&r.length||n?v("div",{class:`${t}-date-panel-actions`},v("div",{class:`${t}-date-panel-actions__prefix`},n&&Object.keys(n).map(s=>{const l=n[s];return Array.isArray(l)?null:v(_s,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(l)},onClick:()=>{this.handleSingleShortcutClick(l)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s})})),v("div",{class:`${t}-date-panel-actions__suffix`},r!=null&&r.includes("clear")?ui(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[v(Qn,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,r!=null&&r.includes("now")?ui(this.datePickerSlots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[v(Qn,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,r!=null&&r.includes("confirm")?ui(this.datePickerSlots.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[v(Qn,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}}),Jf=le({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},monthYearSeparator:{type:String,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const t=V(null),e=V(null),n=V(!1);function r(o){var a;n.value&&!(!((a=t.value)===null||a===void 0)&&a.contains(ba(o)))&&(n.value=!1)}function i(){n.value=!n.value}return{show:n,triggerRef:t,monthPanelRef:e,handleHeaderClick:i,handleClickOutside:r}},render(){const{handleClickOutside:t,mergedClsPrefix:e}=this;return v("div",{class:`${e}-date-panel-month__month-year`,ref:"triggerRef"},v(us,null,{default:()=>[v(ds,null,{default:()=>v("div",{class:[`${e}-date-panel-month__text`,this.show&&`${e}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth,this.monthYearSeparator,this.calendarYear]:[this.calendarYear,this.monthYearSeparator,this.calendarMonth])}),v(Na,{show:this.show,teleportDisabled:!0},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?ii(v(b9,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],calendarHeaderMonthYearSeparator:this.monthYearSeparator,type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[xa,t,void 0,{capture:!0}]]):null})})]}))}}),kue=le({name:"DatePanel",props:Object.assign(Object.assign({},R4),{type:{type:String,required:!0}}),setup(t){return _4(t,t.type)},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:i,shortcuts:o,onRender:a,datePickerSlots:s,type:l}=this;return a==null||a(),v("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--${l}`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},v("div",{class:`${r}-date-panel-calendar`},v("div",{class:`${r}-date-panel-month`},v("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.prevYear},sn(s["prev-year"],()=>[v($u,null)])),v("div",{class:`${r}-date-panel-month__prev`,onClick:this.prevMonth},sn(s["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:r,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),v("div",{class:`${r}-date-panel-month__next`,onClick:this.nextMonth},sn(s["next-month"],()=>[v(Nu,null)])),v("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.nextYear},sn(s["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>v("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),v("div",{class:`${r}-date-panel-dates`},this.dateArray.map((c,u)=>v("div",{"data-n-date":!0,key:u,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(c.ts,{type:"date",year:c.dateObject.year,month:c.dateObject.month,date:c.dateObject.date}),[`${r}-date-panel-date--week-hovered`]:this.isWeekHovered(c),[`${r}-date-panel-date--week-selected`]:c.inSelectedWeek}],onClick:()=>{this.handleDateClick(c)},onMouseenter:()=>{this.handleDateMouseEnter(c)}},v("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?v("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?v("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||o?v("div",{class:`${r}-date-panel-actions`},v("div",{class:`${r}-date-panel-actions__prefix`},o&&Object.keys(o).map(c=>{const u=o[c];return Array.isArray(u)?null:v(_s,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(u)},onClick:()=>{this.handleSingleShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c})})),v("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?ui(this.$slots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?ui(this.$slots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}}),P4=Object.assign(Object.assign({},v9),{defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,actions:{type:Array,default:()=>["clear","confirm"]}});function I4(t,e){var n,r;const{isDateDisabledRef:i,isStartHourDisabledRef:o,isEndHourDisabledRef:a,isStartMinuteDisabledRef:s,isEndMinuteDisabledRef:l,isStartSecondDisabledRef:c,isEndSecondDisabledRef:u,isStartDateInvalidRef:d,isEndDateInvalidRef:h,isStartTimeInvalidRef:f,isEndTimeInvalidRef:p,isStartValueInvalidRef:g,isEndValueInvalidRef:m,isRangeInvalidRef:y,localeRef:b,rangesRef:x,closeOnSelectRef:w,updateValueOnCloseRef:C,firstDayOfWeekRef:S,datePickerSlots:A,monthFormatRef:T,yearFormatRef:k,quarterFormatRef:E,yearRangeRef:P}=ut(px),_={isDateDisabled:i,isStartHourDisabled:o,isEndHourDisabled:a,isStartMinuteDisabled:s,isEndMinuteDisabled:l,isStartSecondDisabled:c,isEndSecondDisabled:u,isStartDateInvalid:d,isEndDateInvalid:h,isStartTimeInvalid:f,isEndTimeInvalid:p,isStartValueInvalid:g,isEndValueInvalid:m,isRangeInvalid:y},F=y9(t),N=V(null),W=V(null),G=V(null),Z=V(null),ie=V(null),he=V(null),xe=V(null),Q=V(null),{value:X}=t,K=(n=t.defaultCalendarStartTime)!==null&&n!==void 0?n:Array.isArray(X)&&typeof X[0]=="number"?X[0]:Date.now(),ne=V(K),ve=V((r=t.defaultCalendarEndTime)!==null&&r!==void 0?r:Array.isArray(X)&&typeof X[1]=="number"?X[1]:Wt(io(K,1)));Ge(!0);const Se=V(Date.now()),ye=V(!1),Be=V(0),J=L(()=>t.dateFormat||b.value.dateFormat),Ue=L(()=>t.calendarDayFormat||b.value.dayFormat),Qe=V(Array.isArray(X)?dr(X[0],J.value,F.dateFnsOptions.value):""),ae=V(Array.isArray(X)?dr(X[1],J.value,F.dateFnsOptions.value):""),fe=L(()=>ye.value?"end":"start"),ke=L(()=>{var Ye;return Wb(ne.value,t.value,Se.value,(Ye=S.value)!==null&&Ye!==void 0?Ye:b.value.firstDayOfWeek)}),Ke=L(()=>{var Ye;return Wb(ve.value,t.value,Se.value,(Ye=S.value)!==null&&Ye!==void 0?Ye:b.value.firstDayOfWeek)}),Ne=L(()=>ke.value.slice(0,7).map(Ye=>{const{ts:Ct}=Ye;return dr(Ct,Ue.value,F.dateFnsOptions.value)})),Ae=L(()=>dr(ne.value,t.calendarHeaderMonthFormat||b.value.monthFormat,F.dateFnsOptions.value)),se=L(()=>dr(ve.value,t.calendarHeaderMonthFormat||b.value.monthFormat,F.dateFnsOptions.value)),be=L(()=>dr(ne.value,t.calendarHeaderYearFormat||b.value.yearFormat,F.dateFnsOptions.value)),re=L(()=>dr(ve.value,t.calendarHeaderYearFormat||b.value.yearFormat,F.dateFnsOptions.value)),me=L(()=>{const{value:Ye}=t;return Array.isArray(Ye)?Ye[0]:null}),De=L(()=>{const{value:Ye}=t;return Array.isArray(Ye)?Ye[1]:null}),ge=L(()=>{const{shortcuts:Ye}=t;return Ye||x.value}),pe=L(()=>SA(qh(t.value,"start"),Se.value,{yearFormat:k.value},P)),Te=L(()=>SA(qh(t.value,"end"),Se.value,{yearFormat:k.value},P)),Xe=L(()=>{const Ye=qh(t.value,"start");return AA(Ye??Date.now(),Ye,Se.value,{quarterFormat:E.value})}),Oe=L(()=>{const Ye=qh(t.value,"end");return AA(Ye??Date.now(),Ye,Se.value,{quarterFormat:E.value})}),ft=L(()=>{const Ye=qh(t.value,"start");return CA(Ye??Date.now(),Ye,Se.value,{monthFormat:T.value})}),Lt=L(()=>{const Ye=qh(t.value,"end");return CA(Ye??Date.now(),Ye,Se.value,{monthFormat:T.value})}),Kt=L(()=>{var Ye;return(Ye=t.calendarHeaderMonthBeforeYear)!==null&&Ye!==void 0?Ye:b.value.monthBeforeYear});qt(L(()=>t.value),Ye=>{if(Ye!==null&&Array.isArray(Ye)){const[Ct,Tt]=Ye;Qe.value=dr(Ct,J.value,F.dateFnsOptions.value),ae.value=dr(Tt,J.value,F.dateFnsOptions.value),ye.value||Je(Ye)}else Qe.value="",ae.value=""});function Dt(Ye,Ct){(e==="daterange"||e==="datetimerange")&&(Mr(Ye)!==Mr(Ct)||Rr(Ye)!==Rr(Ct))&&F.disableTransitionOneTick()}qt(ne,Dt),qt(ve,Dt);function Ge(Ye){const Ct=es(ne.value),Tt=es(ve.value);(t.bindCalendarMonths||Ct>=Tt)&&(Ye?ve.value=Wt(io(Ct,1)):ne.value=Wt(io(Tt,-1)))}function en(){ne.value=Wt(io(ne.value,12)),Ge(!0)}function wt(){ne.value=Wt(io(ne.value,-12)),Ge(!0)}function _t(){ne.value=Wt(io(ne.value,1)),Ge(!0)}function ce(){ne.value=Wt(io(ne.value,-1)),Ge(!0)}function ue(){ve.value=Wt(io(ve.value,12)),Ge(!1)}function je(){ve.value=Wt(io(ve.value,-12)),Ge(!1)}function st(){ve.value=Wt(io(ve.value,1)),Ge(!1)}function lt(){ve.value=Wt(io(ve.value,-1)),Ge(!1)}function _e(Ye){ne.value=Ye,Ge(!0)}function tt(Ye){ve.value=Ye,Ge(!1)}function Re(Ye){const Ct=i.value;if(!Ct)return!1;if(!Array.isArray(t.value)||fe.value==="start")return Ct(Ye,"start",null);{const{value:Tt}=Be;return Ye<Be.value?Ct(Ye,"start",[Tt,Tt]):Ct(Ye,"end",[Tt,Tt])}}function Je(Ye){if(Ye===null)return;const[Ct,Tt]=Ye;ne.value=Ct,es(Tt)<=es(Ct)?ve.value=Wt(es(io(Ct,1))):ve.value=Wt(es(Tt))}function St(Ye){if(!ye.value)ye.value=!0,Be.value=Ye.ts,mt(Ye.ts,Ye.ts,"done");else{ye.value=!1;const{value:Ct}=t;t.panel&&Array.isArray(Ct)?mt(Ct[0],Ct[1],"done"):w.value&&e==="daterange"&&(C.value?dt():ze())}}function Rt(Ye){if(ye.value){if(Re(Ye.ts))return;Ye.ts>=Be.value?mt(Be.value,Ye.ts,"wipPreview"):mt(Ye.ts,Be.value,"wipPreview")}}function ze(){y.value||(F.doConfirm(),dt())}function dt(){ye.value=!1,t.active&&F.doClose()}function Ie(Ye){typeof Ye!="number"&&(Ye=Wt(Ye)),t.value===null?F.doUpdateValue([Ye,Ye],t.panel):Array.isArray(t.value)&&F.doUpdateValue([Ye,Math.max(t.value[1],Ye)],t.panel)}function rt(Ye){typeof Ye!="number"&&(Ye=Wt(Ye)),t.value===null?F.doUpdateValue([Ye,Ye],t.panel):Array.isArray(t.value)&&F.doUpdateValue([Math.min(t.value[0],Ye),Ye],t.panel)}function mt(Ye,Ct,Tt){if(typeof Ye!="number"&&(Ye=Wt(Ye)),Tt!=="shortcutPreview"&&Tt!=="shortcutDone"){let On,Kr;if(e==="datetimerange"){const{defaultTime:Yn}=t;typeof Yn=="function"?(On=d6(Ye,Yn,"start",[Ye,Ct]),Kr=d6(Ct,Yn,"end",[Ye,Ct])):Array.isArray(Yn)?(On=Tf(Yn[0]),Kr=Tf(Yn[1])):(On=Tf(Yn),Kr=On)}On&&(Ye=Wt(bo(Ye,On))),Kr&&(Ct=Wt(bo(Ct,Kr)))}F.doUpdateValue([Ye,Ct],t.panel&&(Tt==="done"||Tt==="shortcutDone"))}function Ft(Ye){return Wt(e==="datetimerange"?f4(Ye):e==="monthrange"?es(Ye):Sl(Ye))}function Ht(Ye){const Ct=ha(Ye,J.value,new Date,F.dateFnsOptions.value);if(ns(Ct))if(t.value){if(Array.isArray(t.value)){const Tt=bo(t.value[0],{year:Mr(Ct),month:Rr(Ct),date:Ja(Ct)});Ie(Ft(Wt(Tt)))}}else{const Tt=bo(new Date,{year:Mr(Ct),month:Rr(Ct),date:Ja(Ct)});Ie(Ft(Wt(Tt)))}else Qe.value=Ye}function Le(Ye){const Ct=ha(Ye,J.value,new Date,F.dateFnsOptions.value);if(ns(Ct)){if(t.value===null){const Tt=bo(new Date,{year:Mr(Ct),month:Rr(Ct),date:Ja(Ct)});rt(Ft(Wt(Tt)))}else if(Array.isArray(t.value)){const Tt=bo(t.value[1],{year:Mr(Ct),month:Rr(Ct),date:Ja(Ct)});rt(Ft(Wt(Tt)))}}else ae.value=Ye}function ot(){const Ye=ha(Qe.value,J.value,new Date,F.dateFnsOptions.value),{value:Ct}=t;if(ns(Ye)){if(Ct===null){const Tt=bo(new Date,{year:Mr(Ye),month:Rr(Ye),date:Ja(Ye)});Ie(Ft(Wt(Tt)))}else if(Array.isArray(Ct)){const Tt=bo(Ct[0],{year:Mr(Ye),month:Rr(Ye),date:Ja(Ye)});Ie(Ft(Wt(Tt)))}}else He()}function kt(){const Ye=ha(ae.value,J.value,new Date,F.dateFnsOptions.value),{value:Ct}=t;if(ns(Ye)){if(Ct===null){const Tt=bo(new Date,{year:Mr(Ye),month:Rr(Ye),date:Ja(Ye)});rt(Ft(Wt(Tt)))}else if(Array.isArray(Ct)){const Tt=bo(Ct[1],{year:Mr(Ye),month:Rr(Ye),date:Ja(Ye)});rt(Ft(Wt(Tt)))}}else He()}function He(Ye){const{value:Ct}=t;if(Ct===null||!Array.isArray(Ct)){Qe.value="",ae.value="";return}Ye===void 0&&(Ye=Ct),Qe.value=dr(Ye[0],J.value,F.dateFnsOptions.value),ae.value=dr(Ye[1],J.value,F.dateFnsOptions.value)}function at(Ye){Ye!==null&&Ie(Ye)}function xt(Ye){Ye!==null&&rt(Ye)}function Et(Ye){F.cachePendingValue();const Ct=F.getShortcutValue(Ye);Array.isArray(Ct)&&mt(Ct[0],Ct[1],"shortcutPreview")}function Nt(Ye){const Ct=F.getShortcutValue(Ye);Array.isArray(Ct)&&(mt(Ct[0],Ct[1],"shortcutDone"),F.clearPendingValue(),ze())}function Mn(Ye,Ct){const Tt=Ye===void 0?t.value:Ye;if(Ye===void 0||Ct==="start"){if(xe.value){const On=Array.isArray(Tt)?Rr(Tt[0]):Rr(Date.now());xe.value.scrollTo({debounce:!1,index:On,elSize:sh})}if(ie.value){const On=(Array.isArray(Tt)?Mr(Tt[0]):Mr(Date.now()))-P.value[0];ie.value.scrollTo({index:On,debounce:!1})}}if(Ye===void 0||Ct==="end"){if(Q.value){const On=Array.isArray(Tt)?Rr(Tt[1]):Rr(Date.now());Q.value.scrollTo({debounce:!1,index:On,elSize:sh})}if(he.value){const On=(Array.isArray(Tt)?Mr(Tt[1]):Mr(Date.now()))-P.value[0];he.value.scrollTo({index:On,debounce:!1})}}}function wr(Ye,Ct){const{value:Tt}=t,On=!Array.isArray(Tt),Kr=Ye.type==="year"&&e!=="yearrange"?On?bo(Ye.ts,{month:Rr(e==="quarterrange"?eg(new Date):new Date)}).valueOf():bo(Ye.ts,{month:Rr(e==="quarterrange"?eg(Tt[Ct==="start"?0:1]):Tt[Ct==="start"?0:1])}).valueOf():Ye.ts;if(On){const ia=Ft(Kr),To=[ia,ia];F.doUpdateValue(To,t.panel),Mn(To,"start"),Mn(To,"end"),F.disableTransitionOneTick();return}const Yn=[Tt[0],Tt[1]];let Eo=!1;switch(Ct==="start"?(Yn[0]=Ft(Kr),Yn[0]>Yn[1]&&(Yn[1]=Yn[0],Eo=!0)):(Yn[1]=Ft(Kr),Yn[0]>Yn[1]&&(Yn[0]=Yn[1],Eo=!0)),F.doUpdateValue(Yn,t.panel),e){case"monthrange":case"quarterrange":F.disableTransitionOneTick(),Eo?(Mn(Yn,"start"),Mn(Yn,"end")):Mn(Yn,Ct);break;case"yearrange":F.disableTransitionOneTick(),Mn(Yn,"start"),Mn(Yn,"end")}}function Pr(){var Ye;(Ye=G.value)===null||Ye===void 0||Ye.sync()}function qi(){var Ye;(Ye=Z.value)===null||Ye===void 0||Ye.sync()}function Ci(Ye){var Ct,Tt;return Ye==="start"?((Ct=ie.value)===null||Ct===void 0?void 0:Ct.listElRef)||null:((Tt=he.value)===null||Tt===void 0?void 0:Tt.listElRef)||null}function ai(Ye){var Ct,Tt;return Ye==="start"?((Ct=ie.value)===null||Ct===void 0?void 0:Ct.itemsElRef)||null:((Tt=he.value)===null||Tt===void 0?void 0:Tt.itemsElRef)||null}const rr={startYearVlRef:ie,endYearVlRef:he,startMonthScrollbarRef:xe,endMonthScrollbarRef:Q,startYearScrollbarRef:G,endYearScrollbarRef:Z};return Object.assign(Object.assign(Object.assign(Object.assign({startDatesElRef:N,endDatesElRef:W,handleDateClick:St,handleColItemClick:wr,handleDateMouseEnter:Rt,handleConfirmClick:ze,startCalendarPrevYear:wt,startCalendarPrevMonth:ce,startCalendarNextYear:en,startCalendarNextMonth:_t,endCalendarPrevYear:je,endCalendarPrevMonth:lt,endCalendarNextMonth:st,endCalendarNextYear:ue,mergedIsDateDisabled:Re,changeStartEndTime:mt,ranges:x,calendarMonthBeforeYear:Kt,startCalendarMonth:Ae,startCalendarYear:be,endCalendarMonth:se,endCalendarYear:re,weekdays:Ne,startDateArray:ke,endDateArray:Ke,startYearArray:pe,startMonthArray:ft,startQuarterArray:Xe,endYearArray:Te,endMonthArray:Lt,endQuarterArray:Oe,isSelecting:ye,handleRangeShortcutMouseenter:Et,handleRangeShortcutClick:Nt},F),_),rr),{startDateDisplayString:Qe,endDateInput:ae,timePickerSize:F.timePickerSize,startTimeValue:me,endTimeValue:De,datePickerSlots:A,shortcuts:ge,startCalendarDateTime:ne,endCalendarDateTime:ve,justifyColumnsScrollState:Mn,handleFocusDetectorFocus:F.handleFocusDetectorFocus,handleStartTimePickerChange:at,handleEndTimePickerChange:xt,handleStartDateInput:Ht,handleStartDateInputBlur:ot,handleEndDateInput:Le,handleEndDateInputBlur:kt,handleStartYearVlScroll:Pr,handleEndYearVlScroll:qi,virtualListContainer:Ci,virtualListContent:ai,onUpdateStartCalendarValue:_e,onUpdateEndCalendarValue:tt})}const Eue=le({name:"DateRangePanel",props:P4,setup(t){return I4(t,"daterange")},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:i,shortcuts:o,onRender:a,datePickerSlots:s}=this;return a==null||a(),v("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},v("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},v("div",{class:`${r}-date-panel-month`},v("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},sn(s["prev-year"],()=>[v($u,null)])),v("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},sn(s["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),v("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},sn(s["next-month"],()=>[v(Nu,null)])),v("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},sn(s["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(l=>v("div",{key:l,class:`${r}-date-panel-weekdays__day`},l))),v("div",{class:`${r}-date-panel__divider`}),v("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((l,c)=>v("div",{"data-n-date":!0,key:c,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${r}-date-panel-date--current`]:l.isCurrentDate,[`${r}-date-panel-date--selected`]:l.selected,[`${r}-date-panel-date--covered`]:l.inSpan,[`${r}-date-panel-date--start`]:l.startOfSpan,[`${r}-date-panel-date--end`]:l.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>{this.handleDateClick(l)},onMouseenter:()=>{this.handleDateMouseEnter(l)}},v("div",{class:`${r}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?v("div",{class:`${r}-date-panel-date__sup`}):null)))),v("div",{class:`${r}-date-panel__vertical-divider`}),v("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},v("div",{class:`${r}-date-panel-month`},v("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},sn(s["prev-year"],()=>[v($u,null)])),v("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},sn(s["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),v("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},sn(s["next-month"],()=>[v(Nu,null)])),v("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},sn(s["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(l=>v("div",{key:l,class:`${r}-date-panel-weekdays__day`},l))),v("div",{class:`${r}-date-panel__divider`}),v("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((l,c)=>v("div",{"data-n-date":!0,key:c,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${r}-date-panel-date--current`]:l.isCurrentDate,[`${r}-date-panel-date--selected`]:l.selected,[`${r}-date-panel-date--covered`]:l.inSpan,[`${r}-date-panel-date--start`]:l.startOfSpan,[`${r}-date-panel-date--end`]:l.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>{this.handleDateClick(l)},onMouseenter:()=>{this.handleDateMouseEnter(l)}},v("div",{class:`${r}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?v("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?v("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||o?v("div",{class:`${r}-date-panel-actions`},v("div",{class:`${r}-date-panel-actions__prefix`},o&&Object.keys(o).map(l=>{const c=o[l];return Array.isArray(c)||typeof c=="function"?v(_s,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(c)},onClick:()=>{this.handleRangeShortcutClick(c)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>l}):null})),v("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?ui(s.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?ui(s.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}});function _6(t,e,n){const r=nD(),i=_ue(t,n.timeZone,n.locale??r.locale);return"formatToParts"in i?Tue(i,e):Rue(i,e)}function Tue(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function Rue(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function _ue(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function Pue(t,e){const n=Due(e);return"formatToParts"in n?Lue(n,t):Mue(n,t)}const Iue={year:0,month:1,day:2,hour:3,minute:4,second:5};function Lue(t,e){try{const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const o=Iue[n[i].type];o!==void 0&&(r[o]=parseInt(n[i].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Mue(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Jw={},P6=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Oue=P6==="06/25/2014, 00:00:00"||P6==="06/25/2014 00:00:00";function Due(t){return Jw[t]||(Jw[t]=Oue?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Jw[t]}function x9(t,e,n,r,i,o,a){const s=new Date(0);return s.setUTCFullYear(t,e,n),s.setUTCHours(r,i,o,a),s}const I6=36e5,Fue=6e4,e2={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function L4(t,e,n){if(!t)return 0;let r=e2.timezoneZ.exec(t);if(r)return 0;let i,o;if(r=e2.timezoneHH.exec(t),r)return i=parseInt(r[1],10),L6(i)?-(i*I6):NaN;if(r=e2.timezoneHHMM.exec(t),r){i=parseInt(r[2],10);const a=parseInt(r[3],10);return L6(i,a)?(o=Math.abs(i)*I6+a*Fue,r[1]==="+"?-o:o):NaN}if(Nue(t)){e=new Date(e||Date.now());const a=n?e:$ue(e),s=_A(a,t);return-(n?s:Bue(e,s,t))}return NaN}function $ue(t){return x9(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function _A(t,e){const n=Pue(t,e),r=x9(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let i=t.getTime();const o=i%1e3;return i-=o>=0?o:1e3+o,r-i}function Bue(t,e,n){let i=t.getTime()-e;const o=_A(new Date(i),n);if(e===o)return e;i-=o-e;const a=_A(new Date(i),n);return o===a?o:Math.max(o,a)}function L6(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const M6={};function Nue(t){if(M6[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),M6[t]=!0,!0}catch{return!1}}const zue=60*1e3,Hue={X:function(t,e,n){const r=t2(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return O6(r);case"XXXX":case"XX":return ff(r);case"XXXXX":case"XXX":default:return ff(r,":")}},x:function(t,e,n){const r=t2(n.timeZone,t);switch(e){case"x":return O6(r);case"xxxx":case"xx":return ff(r);case"xxxxx":case"xxx":default:return ff(r,":")}},O:function(t,e,n){const r=t2(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+Uue(r,":");case"OOOO":default:return"GMT"+ff(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return _6("short",t,n);case"zzzz":default:return _6("long",t,n)}}};function t2(t,e){const n=t?L4(t,e,!0)/zue:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function qb(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function ff(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=qb(Math.floor(r/60),2),o=qb(Math.floor(r%60),2);return n+i+e+o}function O6(t,e){return t%60===0?(t>0?"-":"+")+qb(Math.abs(t)/60,2):ff(t,e)}function Uue(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+qb(o,2)}function D6(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const jue=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,n2=36e5,F6=6e4,Vue=2,Ko={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:jue};function w9(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?Vue:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=Wue(t),{year:i,restDateString:o}=que(r.date,n),a=Kue(o,i);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const s=a.getTime();let l=0,c;if(r.time&&(l=Gue(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(c=L4(r.timeZone||e.timeZone,new Date(s+l)),isNaN(c))return new Date(NaN)}else c=D6(new Date(s+l)),c=D6(new Date(s+l+c));return new Date(s+l+c)}else return new Date(NaN)}function Wue(t){const e={};let n=Ko.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ko.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const i=Ko.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function que(t,e){if(t){const n=Ko.YYY[e],r=Ko.YYYYY[e];let i=Ko.YYYY.exec(t)||r.exec(t);if(i){const o=i[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(i=Ko.YY.exec(t)||n.exec(t),i){const o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}}return{year:null}}function Kue(t,e){if(e===null)return null;let n,r,i;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let o=Ko.MM.exec(t);if(o)return n=new Date(0),r=parseInt(o[1],10)-1,B6(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(o=Ko.DDD.exec(t),o){n=new Date(0);const a=parseInt(o[1],10);return Que(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(o=Ko.MMDD.exec(t),o){n=new Date(0),r=parseInt(o[1],10)-1;const a=parseInt(o[2],10);return B6(e,r,a)?(n.setUTCFullYear(e,r,a),n):new Date(NaN)}if(o=Ko.Www.exec(t),o)return i=parseInt(o[1],10)-1,N6(i)?$6(e,i):new Date(NaN);if(o=Ko.WwwD.exec(t),o){i=parseInt(o[1],10)-1;const a=parseInt(o[2],10)-1;return N6(i,a)?$6(e,i,a):new Date(NaN)}return null}function Gue(t){let e,n,r=Ko.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),r2(e)?e%24*n2:NaN;if(r=Ko.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),r2(e,n)?e%24*n2+n*F6:NaN;if(r=Ko.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const i=parseFloat(r[3].replace(",","."));return r2(e,n,i)?e%24*n2+n*F6+i*1e3:NaN}return null}function $6(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Yue=[31,28,31,30,31,30,31,31,30,31,30,31],Xue=[31,29,31,30,31,30,31,31,30,31,30,31];function C9(t){return t%400===0||t%4===0&&t%100!==0}function B6(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=C9(t);if(r&&n>Xue[e]||!r&&n>Yue[e])return!1}return!0}function Que(t,e){if(e<1)return!1;const n=C9(t);return!(n&&e>366||!n&&e>365)}function N6(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function r2(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const Zue=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Jue(t,e,n={}){e=String(e);const r=e.match(Zue);if(r){const i=w9(n.originalDate||t,n);e=r.reduce(function(o,a){if(a[0]==="'")return o;const s=o.indexOf(a),l=o[s-1]==="'",c=o.replace(a,"'"+Hue[a[0]](i,a,n)+"'");return l?c.substring(0,s-1)+c.substring(s+1):c},e)}return dr(t,e,n)}function ede(t,e,n){t=w9(t,n);const r=L4(e,t,!0),i=new Date(t.getTime()-r),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}function A9(t,e,n,r){return r={...r,timeZone:e,originalDate:t},Jue(ede(t,e,{timeZone:r.timeZone}),n,r)}const S9="n-time-picker",jv=le({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:[Number,String],default:null},onItemClick:Function},render(){const{activeValue:t,onItemClick:e,clsPrefix:n}=this;return this.data.map(r=>{const{label:i,disabled:o,value:a}=r,s=t===a;return v("div",{key:i,"data-active":s?"":null,class:[`${n}-time-picker-col__item`,s&&`${n}-time-picker-col__item--active`,o&&`${n}-time-picker-col__item--disabled`],onClick:e&&!o?()=>{e(a)}:void 0},i)})}}),y0={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function i2(t){return`00${t}`.slice(-2)}function b0(t,e,n){return Array.isArray(e)?(n==="am"?e.filter(r=>r<12):n==="pm"?e.filter(r=>r>=12).map(r=>r===12?12:r-12):e).map(r=>i2(r)):typeof e=="number"?n==="am"?t.filter(r=>{const i=Number(r);return i<12&&i%e===0}):n==="pm"?t.filter(r=>{const i=Number(r);return i>=12&&i%e===0}).map(r=>{const i=Number(r);return i2(i===12?12:i-12)}):t.filter(r=>Number(r)%e===0):n==="am"?t.filter(r=>Number(r)<12):n==="pm"?t.map(r=>Number(r)).filter(r=>Number(r)>=12).map(r=>i2(r===12?12:r-12)):t}function Vv(t,e,n){return n?typeof n=="number"?t%n===0:n.includes(t):!0}function tde(t,e,n){const r=b0(y0[e],n).map(Number);let i,o;for(let a=0;a<r.length;++a){const s=r[a];if(s===t)return s;if(s>t){o=s;break}i=s}return i===void 0?(o||Ii("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),o):o===void 0||o-t>t-i?i:o}function nde(t){return cu(t)<12?"am":"pm"}const rde={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,clearText:String,nowText:String,confirmText:String,transitionDisabled:Boolean,onClearClick:Function,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean},ide=le({name:"TimePickerPanel",props:rde,setup(t){const{mergedThemeRef:e,mergedClsPrefixRef:n}=ut(S9),r=L(()=>{const{isHourDisabled:s,hours:l,use12Hours:c,amPmValue:u}=t;if(c){const d=u??nde(Date.now());return b0(y0.hours,l,d).map(h=>{const f=Number(h),p=d==="pm"&&f!==12?f+12:f;return{label:h,value:p,disabled:s?s(p):!1}})}else return b0(y0.hours,l).map(d=>({label:d,value:Number(d),disabled:s?s(Number(d)):!1}))}),i=L(()=>{const{isMinuteDisabled:s,minutes:l}=t;return b0(y0.minutes,l).map(c=>({label:c,value:Number(c),disabled:s?s(Number(c),t.hourValue):!1}))}),o=L(()=>{const{isSecondDisabled:s,seconds:l}=t;return b0(y0.seconds,l).map(c=>({label:c,value:Number(c),disabled:s?s(Number(c),t.minuteValue,t.hourValue):!1}))}),a=L(()=>{const{isHourDisabled:s}=t;let l=!0,c=!0;for(let u=0;u<12;++u)if(!(s!=null&&s(u))){l=!1;break}for(let u=12;u<24;++u)if(!(s!=null&&s(u))){c=!1;break}return[{label:"AM",value:"am",disabled:l},{label:"PM",value:"pm",disabled:c}]});return{mergedTheme:e,mergedClsPrefix:n,hours:r,minutes:i,seconds:o,amPm:a,hourScrollRef:V(null),minuteScrollRef:V(null),secondScrollRef:V(null),amPmScrollRef:V(null)}},render(){var t,e,n,r;const{mergedClsPrefix:i,mergedTheme:o}=this;return v("div",{tabindex:0,class:`${i}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},v("div",{class:`${i}-time-picker-cols`},this.showHour?v("div",{class:[`${i}-time-picker-col`,this.isHourInvalid&&`${i}-time-picker-col--invalid`,this.transitionDisabled&&`${i}-time-picker-col--transition-disabled`]},v(Hr,{ref:"hourScrollRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[v(jv,{clsPrefix:i,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),v("div",{class:`${i}-time-picker-col__padding`})]})):null,this.showMinute?v("div",{class:[`${i}-time-picker-col`,this.transitionDisabled&&`${i}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${i}-time-picker-col--invalid`]},v(Hr,{ref:"minuteScrollRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[v(jv,{clsPrefix:i,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),v("div",{class:`${i}-time-picker-col__padding`})]})):null,this.showSecond?v("div",{class:[`${i}-time-picker-col`,this.isSecondInvalid&&`${i}-time-picker-col--invalid`,this.transitionDisabled&&`${i}-time-picker-col--transition-disabled`]},v(Hr,{ref:"secondScrollRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[v(jv,{clsPrefix:i,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),v("div",{class:`${i}-time-picker-col__padding`})]})):null,this.use12Hours?v("div",{class:[`${i}-time-picker-col`,this.isAmPmInvalid&&`${i}-time-picker-col--invalid`,this.transitionDisabled&&`${i}-time-picker-col--transition-disabled`]},v(Hr,{ref:"amPmScrollRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[v(jv,{clsPrefix:i,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),v("div",{class:`${i}-time-picker-col__padding`})]})):null),!((t=this.actions)===null||t===void 0)&&t.length?v("div",{class:`${i}-time-picker-actions`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?v(Qn,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.onClearClick},{default:()=>this.clearText}):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?v(Qn,{size:"tiny",theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,!((r=this.actions)===null||r===void 0)&&r.includes("confirm")?v(Qn,{size:"tiny",type:"primary",class:`${i}-time-picker-actions__confirm`,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null):null,v(Ol,{onFocus:this.onFocusDetectorFocus}))}}),ode=B([R("time-picker",`
 z-index: auto;
 position: relative;
 `,[R("time-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),U("disabled",[R("time-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),R("time-picker-panel",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-border-radius);
 margin: 4px 0;
 min-width: 104px;
 overflow: hidden;
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 `,[Qi(),R("time-picker-actions",`
 padding: var(--n-panel-action-padding);
 align-items: center;
 display: flex;
 justify-content: space-evenly;
 `),R("time-picker-cols",`
 height: calc(var(--n-item-height) * 6);
 display: flex;
 position: relative;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-panel-divider-color);
 `),R("time-picker-col",`
 flex-grow: 1;
 min-width: var(--n-item-width);
 height: calc(var(--n-item-height) * 6);
 flex-direction: column;
 transition: box-shadow .3s var(--n-bezier);
 `,[U("transition-disabled",[H("item","transition: none;",[B("&::before","transition: none;")])]),H("padding",`
 height: calc(var(--n-item-height) * 5);
 `),B("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[H("item",[B("&::before","left: 4px;")])]),H("item",`
 cursor: pointer;
 height: var(--n-item-height);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 background: #0000;
 text-decoration-color: #0000;
 color: var(--n-item-text-color);
 z-index: 0;
 box-sizing: border-box;
 padding-top: 4px;
 position: relative;
 `,[B("&::before",`
 content: "";
 transition: background-color .3s var(--n-bezier);
 z-index: -1;
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-item-border-radius);
 `),an("disabled",[B("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `)]),U("active",`
 color: var(--n-item-text-color-active);
 `,[B("&::before",`
 background-color: var(--n-item-color-hover);
 `)]),U("disabled",`
 opacity: var(--n-item-opacity-disabled);
 cursor: not-allowed;
 `)]),U("invalid",[H("item",[U("active",`
 text-decoration: line-through;
 text-decoration-color: var(--n-item-text-color-active);
 `)])])])])]);function o2(t,e){return t===void 0?!0:Array.isArray(t)?t.every(n=>n>=0&&n<=e):t>=0&&t<=e}const k9=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onConfirm:[Function,Array],onClear:Function,onFocus:[Function,Array],timeZone:String,showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:t=>o2(t,23)},minutes:{type:[Number,Array],validator:t=>o2(t,59)},seconds:{type:[Number,Array],validator:t=>o2(t,59)},use12Hours:Boolean,stateful:{type:Boolean,default:!0},onChange:[Function,Array]}),Kb=le({name:"TimePicker",props:k9,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:i}=gt(t),{localeRef:o,dateLocaleRef:a}=li("TimePicker"),s=di(t),{mergedSizeRef:l,mergedDisabledRef:c,mergedStatusRef:u}=s,d=Ve("TimePicker","-time-picker",ode,g9,t,n),h=Bk(),f=V(null),p=V(null),g=L(()=>({locale:a.value.locale}));function m(ze){return ze===null?null:ha(ze,t.valueFormat||t.format,new Date,g.value).getTime()}const{defaultValue:y,defaultFormattedValue:b}=t,x=V(b!==void 0?m(b):y),w=L(()=>{const{formattedValue:ze}=t;if(ze!==void 0)return m(ze);const{value:dt}=t;return dt!==void 0?dt:x.value}),C=L(()=>{const{timeZone:ze}=t;return ze?(dt,Ie,rt)=>A9(dt,ze,Ie,rt):(dt,Ie,rt)=>dr(dt,Ie,rt)}),S=V("");qt(()=>t.timeZone,()=>{const ze=w.value;S.value=ze===null?"":C.value(ze,t.format,g.value)},{immediate:!0});const A=V(!1),k=Cn($e(t,"show"),A),E=V(w.value),P=V(!1),_=L(()=>o.value.clear),F=L(()=>o.value.now),N=L(()=>t.placeholder!==void 0?t.placeholder:o.value.placeholder),W=L(()=>o.value.negativeText),G=L(()=>o.value.positiveText),Z=L(()=>/H|h|K|k/.test(t.format)),ie=L(()=>t.format.includes("m")),he=L(()=>t.format.includes("s")),xe=L(()=>{const{value:ze}=w;return ze===null?null:Number(C.value(ze,"HH",g.value))}),Q=L(()=>{const{value:ze}=w;return ze===null?null:Number(C.value(ze,"mm",g.value))}),X=L(()=>{const{value:ze}=w;return ze===null?null:Number(C.value(ze,"ss",g.value))}),K=L(()=>{const{isHourDisabled:ze}=t;return xe.value===null?!1:Vv(xe.value,"hours",t.hours)?ze?ze(xe.value):!1:!0}),ne=L(()=>{const{value:ze}=Q,{value:dt}=xe;if(ze===null||dt===null)return!1;if(!Vv(ze,"minutes",t.minutes))return!0;const{isMinuteDisabled:Ie}=t;return Ie?Ie(ze,dt):!1}),ve=L(()=>{const{value:ze}=Q,{value:dt}=xe,{value:Ie}=X;if(Ie===null||ze===null||dt===null)return!1;if(!Vv(Ie,"seconds",t.seconds))return!0;const{isSecondDisabled:rt}=t;return rt?rt(Ie,ze,dt):!1}),Se=L(()=>K.value||ne.value||ve.value),ye=L(()=>t.format.length+4),Be=L(()=>{const{value:ze}=w;return ze===null?null:cu(ze)<12?"am":"pm"});function J(ze,dt){const{onUpdateFormattedValue:Ie,"onUpdate:formattedValue":rt}=t;Ie&&Fe(Ie,ze,dt),rt&&Fe(rt,ze,dt)}function Ue(ze){return ze===null?null:C.value(ze,t.valueFormat||t.format)}function Qe(ze){const{onUpdateValue:dt,"onUpdate:value":Ie,onChange:rt}=t,{nTriggerFormChange:mt,nTriggerFormInput:Ft}=s,Ht=Ue(ze);dt&&Fe(dt,ze,Ht),Ie&&Fe(Ie,ze,Ht),rt&&Fe(rt,ze,Ht),J(Ht,ze),x.value=ze,mt(),Ft()}function ae(ze){const{onFocus:dt}=t,{nTriggerFormFocus:Ie}=s;dt&&Fe(dt,ze),Ie()}function fe(ze){const{onBlur:dt}=t,{nTriggerFormBlur:Ie}=s;dt&&Fe(dt,ze),Ie()}function ke(){const{onConfirm:ze}=t;ze&&Fe(ze,w.value,Ue(w.value))}function Ke(ze){var dt;ze.stopPropagation(),Qe(null),Xe(null),(dt=t.onClear)===null||dt===void 0||dt.call(t)}function Ne(){ce({returnFocus:!0})}function Ae(){Qe(null),Xe(null),ce({returnFocus:!0})}function se(ze){ze.key==="Escape"&&k.value&&rh(ze)}function be(ze){var dt;switch(ze.key){case"Escape":k.value&&(rh(ze),ce({returnFocus:!0}));break;case"Tab":h.shift&&ze.target===((dt=p.value)===null||dt===void 0?void 0:dt.$el)&&(ze.preventDefault(),ce({returnFocus:!0}));break}}function re(){P.value=!0,vn(()=>{P.value=!1})}function me(ze){c.value||Zr(ze,"clear")||k.value||wt()}function De(ze){typeof ze!="string"&&(w.value===null?Qe(Wt(pd(Zae(new Date),ze))):Qe(Wt(pd(w.value,ze))))}function ge(ze){typeof ze!="string"&&(w.value===null?Qe(Wt(Ww(Jae(new Date),ze))):Qe(Wt(Ww(w.value,ze))))}function pe(ze){typeof ze!="string"&&(w.value===null?Qe(Wt(qw(f4(new Date),ze))):Qe(Wt(qw(w.value,ze))))}function Te(ze){const{value:dt}=w;if(dt===null){const Ie=new Date,rt=cu(Ie);ze==="pm"&&rt<12?Qe(Wt(pd(Ie,rt+12))):ze==="am"&&rt>=12&&Qe(Wt(pd(Ie,rt-12))),Qe(Wt(Ie))}else{const Ie=cu(dt);ze==="pm"&&Ie<12?Qe(Wt(pd(dt,Ie+12))):ze==="am"&&Ie>=12&&Qe(Wt(pd(dt,Ie-12)))}}function Xe(ze){ze===void 0&&(ze=w.value),ze===null?S.value="":S.value=C.value(ze,t.format,g.value)}function Oe(ze){en(ze)||ae(ze)}function ft(ze){var dt;if(!en(ze))if(k.value){const Ie=(dt=p.value)===null||dt===void 0?void 0:dt.$el;Ie!=null&&Ie.contains(ze.relatedTarget)||(Xe(),fe(ze),ce({returnFocus:!1}))}else Xe(),fe(ze)}function Lt(){c.value||k.value||wt()}function Kt(){c.value||(Xe(),ce({returnFocus:!1}))}function Dt(){if(!p.value)return;const{hourScrollRef:ze,minuteScrollRef:dt,secondScrollRef:Ie,amPmScrollRef:rt}=p.value;[ze,dt,Ie,rt].forEach(mt=>{var Ft;if(!mt)return;const Ht=(Ft=mt.contentRef)===null||Ft===void 0?void 0:Ft.querySelector("[data-active]");Ht&&mt.scrollTo({top:Ht.offsetTop})})}function Ge(ze){A.value=ze;const{onUpdateShow:dt,"onUpdate:show":Ie}=t;dt&&Fe(dt,ze),Ie&&Fe(Ie,ze)}function en(ze){var dt,Ie,rt;return!!(!((Ie=(dt=f.value)===null||dt===void 0?void 0:dt.wrapperElRef)===null||Ie===void 0)&&Ie.contains(ze.relatedTarget)||!((rt=p.value)===null||rt===void 0)&&rt.$el.contains(ze.relatedTarget))}function wt(){E.value=w.value,Ge(!0),vn(Dt)}function _t(ze){var dt,Ie;k.value&&!(!((Ie=(dt=f.value)===null||dt===void 0?void 0:dt.wrapperElRef)===null||Ie===void 0)&&Ie.contains(ba(ze)))&&ce({returnFocus:!1})}function ce({returnFocus:ze}){var dt;k.value&&(Ge(!1),ze&&((dt=f.value)===null||dt===void 0||dt.focus()))}function ue(ze){if(ze===""){Qe(null);return}const dt=ha(ze,t.format,new Date,g.value);if(S.value=ze,ns(dt)){const{value:Ie}=w;if(Ie!==null){const rt=bo(Ie,{hours:cu(dt),minutes:Ub(dt),seconds:jb(dt),milliseconds:tae(dt)});Qe(Wt(rt))}else Qe(Wt(dt))}}function je(){Qe(E.value),Ge(!1)}function st(){const ze=new Date,dt={hours:cu,minutes:Ub,seconds:jb},[Ie,rt,mt]=["hours","minutes","seconds"].map(Ht=>!t[Ht]||Vv(dt[Ht](ze),Ht,t[Ht])?dt[Ht](ze):tde(dt[Ht](ze),Ht,t[Ht])),Ft=qw(Ww(pd(w.value?w.value:Wt(ze),Ie),rt),mt);Qe(Wt(Ft))}function lt(){Xe(),ke(),ce({returnFocus:!0})}function _e(ze){en(ze)||(Xe(),fe(ze),ce({returnFocus:!1}))}qt(w,ze=>{Xe(ze),re(),vn(Dt)}),qt(k,()=>{Se.value&&Qe(E.value)}),zt(S9,{mergedThemeRef:d,mergedClsPrefixRef:n});const tt={focus:()=>{var ze;(ze=f.value)===null||ze===void 0||ze.focus()},blur:()=>{var ze;(ze=f.value)===null||ze===void 0||ze.blur()}},Re=L(()=>{const{common:{cubicBezierEaseInOut:ze},self:{iconColor:dt,iconColorDisabled:Ie}}=d.value;return{"--n-icon-color-override":dt,"--n-icon-color-disabled-override":Ie,"--n-bezier":ze}}),Je=i?Ot("time-picker-trigger",void 0,Re,t):void 0,St=L(()=>{const{self:{panelColor:ze,itemTextColor:dt,itemTextColorActive:Ie,itemColorHover:rt,panelDividerColor:mt,panelBoxShadow:Ft,itemOpacityDisabled:Ht,borderRadius:Le,itemFontSize:ot,itemWidth:kt,itemHeight:He,panelActionPadding:at,itemBorderRadius:xt},common:{cubicBezierEaseInOut:Et}}=d.value;return{"--n-bezier":Et,"--n-border-radius":Le,"--n-item-color-hover":rt,"--n-item-font-size":ot,"--n-item-height":He,"--n-item-opacity-disabled":Ht,"--n-item-text-color":dt,"--n-item-text-color-active":Ie,"--n-item-width":kt,"--n-panel-action-padding":at,"--n-panel-box-shadow":Ft,"--n-panel-color":ze,"--n-panel-divider-color":mt,"--n-item-border-radius":xt}}),Rt=i?Ot("time-picker",void 0,St,t):void 0;return{focus:tt.focus,blur:tt.blur,mergedStatus:u,mergedBordered:e,mergedClsPrefix:n,namespace:r,uncontrolledValue:x,mergedValue:w,isMounted:co(),inputInstRef:f,panelInstRef:p,adjustedTo:vr(t),mergedShow:k,localizedClear:_,localizedNow:F,localizedPlaceholder:N,localizedNegativeText:W,localizedPositiveText:G,hourInFormat:Z,minuteInFormat:ie,secondInFormat:he,mergedAttrSize:ye,displayTimeString:S,mergedSize:l,mergedDisabled:c,isValueInvalid:Se,isHourInvalid:K,isMinuteInvalid:ne,isSecondInvalid:ve,transitionDisabled:P,hourValue:xe,minuteValue:Q,secondValue:X,amPmValue:Be,handleInputKeydown:se,handleTimeInputFocus:Oe,handleTimeInputBlur:ft,handleNowClick:st,handleConfirmClick:lt,handleTimeInputUpdateValue:ue,handleMenuFocusOut:_e,handleCancelClick:je,handleClickOutside:_t,handleTimeInputActivate:Lt,handleTimeInputDeactivate:Kt,handleHourClick:De,handleMinuteClick:ge,handleSecondClick:pe,handleAmPmClick:Te,handleTimeInputClear:Ke,handleFocusDetectorFocus:Ne,handleMenuKeydown:be,handleTriggerClick:me,mergedTheme:d,triggerCssVars:i?void 0:Re,triggerThemeClass:Je==null?void 0:Je.themeClass,triggerOnRender:Je==null?void 0:Je.onRender,cssVars:i?void 0:St,themeClass:Rt==null?void 0:Rt.themeClass,onRender:Rt==null?void 0:Rt.onRender,clearSelectedValue:Ae}},render(){const{mergedClsPrefix:t,$slots:e,triggerOnRender:n}=this;return n==null||n(),v("div",{class:[`${t}-time-picker`,this.triggerThemeClass],style:this.triggerCssVars},v(us,null,{default:()=>[v(ds,null,{default:()=>v(_i,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown},this.showIcon?{[this.clearable?"clear-icon-placeholder":"suffix"]:()=>v(Jt,{clsPrefix:t,class:`${t}-time-picker-icon`},{default:()=>e.icon?e.icon():v(cre,null)})}:null)}),v(Na,{teleportDisabled:this.adjustedTo===vr.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var r;return this.mergedShow?((r=this.onRender)===null||r===void 0||r.call(this),ii(v(ide,{ref:"panelInstRef",actions:this.actions,class:this.themeClass,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,clearText:this.localizedClear,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeydown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onClearClick:this.clearSelectedValue,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[xa,this.handleClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),ade=le({name:"DateTimePanel",props:R4,setup(t){return _4(t,"datetime")},render(){var t,e,n,r;const{mergedClsPrefix:i,mergedTheme:o,shortcuts:a,timePickerProps:s,datePickerSlots:l,onRender:c}=this;return c==null||c(),v("div",{ref:"selfRef",tabindex:0,class:[`${i}-date-panel`,`${i}-date-panel--datetime`,!this.panel&&`${i}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},v("div",{class:`${i}-date-panel-header`},v(_i,{value:this.dateInputValue,theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${i}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),v(Kb,Object.assign({size:this.timePickerSize,placeholder:this.locale.selectTime,format:this.timePickerFormat},Array.isArray(s)?void 0:s,{showIcon:!1,to:!1,theme:o.peers.TimePicker,themeOverrides:o.peerOverrides.TimePicker,value:Array.isArray(this.value)?null:this.value,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange,stateful:!1}))),v("div",{class:`${i}-date-panel-calendar`},v("div",{class:`${i}-date-panel-month`},v("div",{class:`${i}-date-panel-month__fast-prev`,onClick:this.prevYear},sn(l["prev-year"],()=>[v($u,null)])),v("div",{class:`${i}-date-panel-month__prev`,onClick:this.prevMonth},sn(l["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:i,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),v("div",{class:`${i}-date-panel-month__next`,onClick:this.nextMonth},sn(l["next-month"],()=>[v(Nu,null)])),v("div",{class:`${i}-date-panel-month__fast-next`,onClick:this.nextYear},sn(l["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${i}-date-panel-weekdays`},this.weekdays.map(u=>v("div",{key:u,class:`${i}-date-panel-weekdays__day`},u))),v("div",{class:`${i}-date-panel-dates`},this.dateArray.map((u,d)=>v("div",{"data-n-date":!0,key:d,class:[`${i}-date-panel-date`,{[`${i}-date-panel-date--current`]:u.isCurrentDate,[`${i}-date-panel-date--selected`]:u.selected,[`${i}-date-panel-date--excluded`]:!u.inCurrentMonth,[`${i}-date-panel-date--disabled`]:this.mergedIsDateDisabled(u.ts,{type:"date",year:u.dateObject.year,month:u.dateObject.month,date:u.dateObject.date})}],onClick:()=>{this.handleDateClick(u)}},v("div",{class:`${i}-date-panel-date__trigger`}),u.dateObject.date,u.isCurrentDate?v("div",{class:`${i}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?v("div",{class:`${i}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||a?v("div",{class:`${i}-date-panel-actions`},v("div",{class:`${i}-date-panel-actions__prefix`},a&&Object.keys(a).map(u=>{const d=a[u];return Array.isArray(d)?null:v(_s,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(d)},onClick:()=>{this.handleSingleShortcutClick(d)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>u})})),v("div",{class:`${i}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?ui(this.datePickerSlots.clear,{onClear:this.clearSelectedDateTime,text:this.locale.clear},()=>[v(Qn,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?ui(l.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[v(Qn,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,!((r=this.actions)===null||r===void 0)&&r.includes("confirm")?ui(l.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[v(Qn,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}}),sde=le({name:"DateTimeRangePanel",props:P4,setup(t){return I4(t,"datetimerange")},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:i,shortcuts:o,timePickerProps:a,onRender:s,datePickerSlots:l}=this;return s==null||s(),v("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--datetimerange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},v("div",{class:`${r}-date-panel-header`},v(_i,{value:this.startDateDisplayString,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,size:this.timePickerSize,stateful:!1,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),v(Kb,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(a)?a[0]:a,{value:this.startTimeValue,to:!1,showIcon:!1,disabled:this.isSelecting,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,stateful:!1,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange})),v(_i,{value:this.endDateInput,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),v(Kb,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(a)?a[1]:a,{disabled:this.isSelecting,showIcon:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,to:!1,stateful:!1,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange}))),v("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},v("div",{class:`${r}-date-panel-month`},v("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},sn(l["prev-year"],()=>[v($u,null)])),v("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},sn(l["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),v("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},sn(l["next-month"],()=>[v(Nu,null)])),v("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},sn(l["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>v("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),v("div",{class:`${r}-date-panel__divider`}),v("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((c,u)=>{const d=this.mergedIsDateDisabled(c.ts);return v("div",{"data-n-date":!0,key:u,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--covered`]:c.inSpan,[`${r}-date-panel-date--start`]:c.startOfSpan,[`${r}-date-panel-date--end`]:c.endOfSpan,[`${r}-date-panel-date--disabled`]:d}],onClick:d?void 0:()=>{this.handleDateClick(c)},onMouseenter:d?void 0:()=>{this.handleDateMouseEnter(c)}},v("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?v("div",{class:`${r}-date-panel-date__sup`}):null)}))),v("div",{class:`${r}-date-panel__vertical-divider`}),v("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},v("div",{class:`${r}-date-panel-month`},v("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},sn(l["prev-year"],()=>[v($u,null)])),v("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},sn(l["prev-month"],()=>[v(Fu,null)])),v(Jf,{monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,monthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),v("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},sn(l["next-month"],()=>[v(Nu,null)])),v("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},sn(l["next-year"],()=>[v(Bu,null)]))),v("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>v("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),v("div",{class:`${r}-date-panel__divider`}),v("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((c,u)=>{const d=this.mergedIsDateDisabled(c.ts);return v("div",{"data-n-date":!0,key:u,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--covered`]:c.inSpan,[`${r}-date-panel-date--start`]:c.startOfSpan,[`${r}-date-panel-date--end`]:c.endOfSpan,[`${r}-date-panel-date--disabled`]:d}],onClick:d?void 0:()=>{this.handleDateClick(c)},onMouseenter:d?void 0:()=>{this.handleDateMouseEnter(c)}},v("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?v("div",{class:`${r}-date-panel-date__sup`}):null)}))),this.datePickerSlots.footer?v("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||o?v("div",{class:`${r}-date-panel-actions`},v("div",{class:`${r}-date-panel-actions__prefix`},o&&Object.keys(o).map(c=>{const u=o[c];return Array.isArray(u)||typeof u=="function"?v(_s,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(u)},onClick:()=>{this.handleRangeShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c}):null})),v("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?ui(l.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?ui(l.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[v(Qn,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}}),lde=le({name:"MonthRangePanel",props:Object.assign(Object.assign({},P4),{type:{type:String,required:!0}}),setup(t){const e=I4(t,t.type),{dateLocaleRef:n}=li("DatePicker"),r=(i,o,a,s)=>{const{handleColItemClick:l}=e;return v("div",{"data-n-date":!0,key:o,class:[`${a}-date-panel-month-calendar__picker-col-item`,i.isCurrent&&`${a}-date-panel-month-calendar__picker-col-item--current`,i.selected&&`${a}-date-panel-month-calendar__picker-col-item--selected`,!1],onClick:()=>{l(i,s)}},i.type==="month"?uD(i.dateObject.month,i.monthFormat,n.value.locale):i.type==="quarter"?hD(i.dateObject.quarter,i.quarterFormat,n.value.locale):dD(i.dateObject.year,i.yearFormat,n.value.locale))};return jn(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:r})},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:i,shortcuts:o,type:a,renderItem:s,onRender:l}=this;return l==null||l(),v("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},v("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},v("div",{class:`${r}-date-panel-month-calendar`},v(Hr,{ref:"startYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("start"),content:()=>this.virtualListContent("start"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>v(Os,{ref:"startYearVlRef",items:this.startYearArray,itemSize:sh,showScrollbar:!1,keyField:"ts",onScroll:this.handleStartYearVlScroll,paddingBottom:4},{default:({item:c,index:u})=>s(c,u,r,"start")})}),a==="monthrange"||a==="quarterrange"?v("div",{class:`${r}-date-panel-month-calendar__picker-col`},v(Hr,{ref:"startMonthScrollbarRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[(a==="monthrange"?this.startMonthArray:this.startQuarterArray).map((c,u)=>s(c,u,r,"start")),a==="monthrange"&&v("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),v("div",{class:`${r}-date-panel__vertical-divider`}),v("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},v("div",{class:`${r}-date-panel-month-calendar`},v(Hr,{ref:"endYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("end"),content:()=>this.virtualListContent("end"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>v(Os,{ref:"endYearVlRef",items:this.endYearArray,itemSize:sh,showScrollbar:!1,keyField:"ts",onScroll:this.handleEndYearVlScroll,paddingBottom:4},{default:({item:c,index:u})=>s(c,u,r,"end")})}),a==="monthrange"||a==="quarterrange"?v("div",{class:`${r}-date-panel-month-calendar__picker-col`},v(Hr,{ref:"endMonthScrollbarRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[(a==="monthrange"?this.endMonthArray:this.endQuarterArray).map((c,u)=>s(c,u,r,"end")),a==="monthrange"&&v("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),bn(this.datePickerSlots.footer,c=>c?v("div",{class:`${r}-date-panel-footer`},c):null),!((t=this.actions)===null||t===void 0)&&t.length||o?v("div",{class:`${r}-date-panel-actions`},v("div",{class:`${r}-date-panel-actions__prefix`},o&&Object.keys(o).map(c=>{const u=o[c];return Array.isArray(u)||typeof u=="function"?v(_s,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(u)},onClick:()=>{this.handleRangeShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c}):null})),v("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?ui(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[v(_s,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?ui(this.datePickerSlots.confirm,{disabled:this.isRangeInvalid,onConfirm:this.handleConfirmClick,text:this.locale.confirm},()=>[v(_s,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,v(Ol,{onFocus:this.handleFocusDetectorFocus}))}}),E9=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,default:" "},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array,Function],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timePickerFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},panel:Boolean,ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,status:String,timePickerProps:[Object,Array],onClear:Function,onConfirm:Function,defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,monthFormat:{type:String,default:"M"},yearFormat:{type:String,default:"y"},quarterFormat:{type:String,default:"'Q'Q"},yearRange:{type:Array,default:()=>[1901,2100]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function,onChange:[Function,Array]}),cde=B([R("date-picker",`
 position: relative;
 z-index: auto;
 `,[R("date-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),R("icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),U("disabled",[R("date-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `),R("icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),R("date-panel",`
 width: fit-content;
 outline: none;
 margin: 4px 0;
 display: grid;
 grid-template-columns: 0fr;
 border-radius: var(--n-panel-border-radius);
 background-color: var(--n-panel-color);
 color: var(--n-panel-text-color);
 user-select: none;
 `,[Qi(),U("shadow",`
 box-shadow: var(--n-panel-box-shadow);
 `),R("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[U("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),R("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[H("picker-col",`
 min-width: var(--n-scroll-item-width);
 height: calc(var(--n-scroll-item-height) * 6);
 user-select: none;
 -webkit-user-select: none;
 `,[B("&:first-child",`
 min-width: calc(var(--n-scroll-item-width) + 4px);
 `,[H("picker-col-item",[B("&::before","left: 4px;")])]),H("padding",`
 height: calc(var(--n-scroll-item-height) * 5)
 `)]),H("picker-col-item",`
 z-index: 0;
 cursor: pointer;
 height: var(--n-scroll-item-height);
 box-sizing: border-box;
 padding-top: 4px;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background: #0000;
 color: var(--n-item-text-color);
 `,[B("&::before",`
 z-index: -1;
 content: "";
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-scroll-item-border-radius);
 transition: 
 background-color .3s var(--n-bezier);
 `),an("disabled",[B("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `),U("selected",`
 color: var(--n-item-color-active);
 `,[B("&::before","background-color: var(--n-item-color-hover);")])]),U("disabled",`
 color: var(--n-item-text-color-disabled);
 cursor: not-allowed;
 `,[U("selected",[B("&::before",`
 background-color: var(--n-item-color-disabled);
 `)])])])]),U("date",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),U("week",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),U("daterange",{gridTemplateAreas:`
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),U("datetime",{gridTemplateAreas:`
 "header"
 "left-calendar"
 "footer"
 "action"
 `}),U("datetimerange",{gridTemplateAreas:`
 "header header header"
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),U("month",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),R("date-panel-footer",{gridArea:"footer"}),R("date-panel-actions",{gridArea:"action"}),R("date-panel-header",{gridArea:"header"}),R("date-panel-header",`
 box-sizing: border-box;
 width: 100%;
 align-items: center;
 padding: var(--n-panel-header-padding);
 display: flex;
 justify-content: space-between;
 border-bottom: 1px solid var(--n-panel-header-divider-color);
 `,[B(">",[B("*:not(:last-child)",{marginRight:"10px"}),B("*",{flex:1,width:0}),R("time-picker",{zIndex:1})])]),R("date-panel-month",`
 box-sizing: border-box;
 display: grid;
 grid-template-columns: var(--n-calendar-title-grid-template-columns);
 align-items: center;
 justify-items: center;
 padding: var(--n-calendar-title-padding);
 height: var(--n-calendar-title-height);
 `,[H("prev, next, fast-prev, fast-next",`
 line-height: 0;
 cursor: pointer;
 width: var(--n-arrow-size);
 height: var(--n-arrow-size);
 color: var(--n-arrow-color);
 `),H("month-year",`
 user-select: none;
 -webkit-user-select: none;
 flex-grow: 1;
 position: relative;
 `,[H("text",`
 font-size: var(--n-calendar-title-font-size);
 line-height: var(--n-calendar-title-font-size);
 font-weight: var(--n-calendar-title-font-weight);
 padding: 6px 8px;
 text-align: center;
 color: var(--n-calendar-title-text-color);
 cursor: pointer;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-panel-border-radius);
 `,[U("active",`
 background-color: var(--n-calendar-title-color-hover);
 `),B("&:hover",`
 background-color: var(--n-calendar-title-color-hover);
 `)])])]),R("date-panel-weekdays",`
 display: grid;
 margin: auto;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(1, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 margin-bottom: 4px;
 border-bottom: 1px solid var(--n-calendar-days-divider-color);
 `,[H("day",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 line-height: 15px;
 width: var(--n-item-size);
 text-align: center;
 font-size: var(--n-calendar-days-font-size);
 color: var(--n-item-text-color);
 display: flex;
 align-items: center;
 justify-content: center;
 `)]),R("date-panel-dates",`
 margin: auto;
 display: grid;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(6, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 flex-wrap: wrap;
 `,[R("date-panel-date",`
 user-select: none;
 -webkit-user-select: none;
 position: relative;
 width: var(--n-item-size);
 height: var(--n-item-size);
 line-height: var(--n-item-size);
 text-align: center;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-item-border-radius);
 z-index: 0;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color .2s var(--n-bezier);
 `,[H("trigger",`
 position: absolute;
 left: calc(var(--n-item-size) / 2 - var(--n-item-cell-width) / 2);
 top: calc(var(--n-item-size) / 2 - var(--n-item-cell-height) / 2);
 width: var(--n-item-cell-width);
 height: var(--n-item-cell-height);
 `),U("current",[H("sup",`
 position: absolute;
 top: 2px;
 right: 2px;
 content: "";
 height: 4px;
 width: 4px;
 border-radius: 2px;
 background-color: var(--n-item-color-active);
 transition:
 background-color .2s var(--n-bezier);
 `)]),B("&::after",`
 content: "";
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 transition: background-color .3s var(--n-bezier);
 `),U("covered, start, end",[an("excluded",[B("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 background-color: var(--n-item-color-included);
 `),B("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),B("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),U("selected",{color:"var(--n-item-text-color-active)"},[B("&::after",{backgroundColor:"var(--n-item-color-active)"}),U("start",[B("&::before",{left:"50%"})]),U("end",[B("&::before",{right:"50%"})]),H("sup",{backgroundColor:"var(--n-panel-color)"})]),U("excluded",{color:"var(--n-item-text-color-disabled)"},[U("selected",[B("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),U("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[U("covered",[B("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),U("selected",[B("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),B("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),U("week-hovered",[B("&::before",`
 background-color: var(--n-item-color-included);
 `),B("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),B("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)]),U("week-selected",`
 color: var(--n-item-text-color-active)
 `,[B("&::before",`
 background-color: var(--n-item-color-active);
 `),B("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),B("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)])])]),an("week",[R("date-panel-dates",[R("date-panel-date",[an("disabled",[an("selected",[B("&:hover",`
 background-color: var(--n-item-color-hover);
 `)])])])])]),U("week",[R("date-panel-dates",[R("date-panel-date",[B("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 transition: background-color .3s var(--n-bezier);
 `)])])]),H("vertical-divider",`
 grid-area: divider;
 height: 100%;
 width: 1px;
 background-color: var(--n-calendar-divider-color);
 `),R("date-panel-footer",`
 border-top: 1px solid var(--n-panel-action-divider-color);
 padding: var(--n-panel-extra-footer-padding);
 `),R("date-panel-actions",`
 flex: 1;
 padding: var(--n-panel-action-padding);
 display: flex;
 align-items: center;
 justify-content: space-between;
 border-top: 1px solid var(--n-panel-action-divider-color);
 `,[H("prefix, suffix",`
 display: flex;
 margin-bottom: -8px;
 `),H("suffix",`
 align-self: flex-end;
 `),H("prefix",`
 flex-wrap: wrap;
 `),R("button",`
 margin-bottom: 8px;
 `,[B("&:not(:last-child)",`
 margin-right: 8px;
 `)])])]),B("[data-n-date].transition-disabled",{transition:"none !important"},[B("&::before, &::after",{transition:"none !important"})])]);function ude(t,e){const n=L(()=>{const{isTimeDisabled:u}=t,{value:d}=e;if(!(d===null||Array.isArray(d)))return u==null?void 0:u(d)}),r=L(()=>{var u;return(u=n.value)===null||u===void 0?void 0:u.isHourDisabled}),i=L(()=>{var u;return(u=n.value)===null||u===void 0?void 0:u.isMinuteDisabled}),o=L(()=>{var u;return(u=n.value)===null||u===void 0?void 0:u.isSecondDisabled}),a=L(()=>{const{type:u,isDateDisabled:d}=t,{value:h}=e;return h===null||Array.isArray(h)||!["date","datetime"].includes(u)||!d?!1:d(h,{type:"input"})}),s=L(()=>{const{type:u}=t,{value:d}=e;if(d===null||u==="datetime"||Array.isArray(d))return!1;const h=new Date(d),f=h.getHours(),p=h.getMinutes(),g=h.getMinutes();return(r.value?r.value(f):!1)||(i.value?i.value(p,f):!1)||(o.value?o.value(g,p,f):!1)}),l=L(()=>a.value||s.value);return{isValueInvalidRef:L(()=>{const{type:u}=t;return u==="date"?a.value:u==="datetime"?l.value:!1}),isDateInvalidRef:a,isTimeInvalidRef:s,isDateTimeInvalidRef:l,isHourDisabledRef:r,isMinuteDisabledRef:i,isSecondDisabledRef:o}}function dde(t,e){const n=L(()=>{const{isTimeDisabled:d}=t,{value:h}=e;return!Array.isArray(h)||!d?[void 0,void 0]:[d==null?void 0:d(h[0],"start",h),d==null?void 0:d(h[1],"end",h)]}),r={isStartHourDisabledRef:L(()=>{var d;return(d=n.value[0])===null||d===void 0?void 0:d.isHourDisabled}),isEndHourDisabledRef:L(()=>{var d;return(d=n.value[1])===null||d===void 0?void 0:d.isHourDisabled}),isStartMinuteDisabledRef:L(()=>{var d;return(d=n.value[0])===null||d===void 0?void 0:d.isMinuteDisabled}),isEndMinuteDisabledRef:L(()=>{var d;return(d=n.value[1])===null||d===void 0?void 0:d.isMinuteDisabled}),isStartSecondDisabledRef:L(()=>{var d;return(d=n.value[0])===null||d===void 0?void 0:d.isSecondDisabled}),isEndSecondDisabledRef:L(()=>{var d;return(d=n.value[1])===null||d===void 0?void 0:d.isSecondDisabled})},i=L(()=>{const{type:d,isDateDisabled:h}=t,{value:f}=e;return f===null||!Array.isArray(f)||!["daterange","datetimerange"].includes(d)||!h?!1:h(f[0],"start",f)}),o=L(()=>{const{type:d,isDateDisabled:h}=t,{value:f}=e;return f===null||!Array.isArray(f)||!["daterange","datetimerange"].includes(d)||!h?!1:h(f[1],"end",f)}),a=L(()=>{const{type:d}=t,{value:h}=e;if(h===null||!Array.isArray(h)||d!=="datetimerange")return!1;const f=cu(h[0]),p=Ub(h[0]),g=jb(h[0]),{isStartHourDisabledRef:m,isStartMinuteDisabledRef:y,isStartSecondDisabledRef:b}=r;return(m.value?m.value(f):!1)||(y.value?y.value(p,f):!1)||(b.value?b.value(g,p,f):!1)}),s=L(()=>{const{type:d}=t,{value:h}=e;if(h===null||!Array.isArray(h)||d!=="datetimerange")return!1;const f=cu(h[1]),p=Ub(h[1]),g=jb(h[1]),{isEndHourDisabledRef:m,isEndMinuteDisabledRef:y,isEndSecondDisabledRef:b}=r;return(m.value?m.value(f):!1)||(y.value?y.value(p,f):!1)||(b.value?b.value(g,p,f):!1)}),l=L(()=>i.value||a.value),c=L(()=>o.value||s.value),u=L(()=>l.value||c.value);return Object.assign(Object.assign({},r),{isStartDateInvalidRef:i,isEndDateInvalidRef:o,isStartTimeInvalidRef:a,isEndTimeInvalidRef:s,isStartValueInvalidRef:l,isEndValueInvalidRef:c,isRangeInvalidRef:u})}const hde=le({name:"DatePicker",props:E9,slots:Object,setup(t,{slots:e}){var n;const{localeRef:r,dateLocaleRef:i}=li("DatePicker"),o=di(t),{mergedSizeRef:a,mergedDisabledRef:s,mergedStatusRef:l}=o,{mergedComponentPropsRef:c,mergedClsPrefixRef:u,mergedBorderedRef:d,namespaceRef:h,inlineThemeDisabled:f}=gt(t),p=V(null),g=V(null),m=V(null),y=V(!1),x=Cn($e(t,"show"),y),w=L(()=>({locale:i.value.locale,useAdditionalWeekYearTokens:!0})),C=L(()=>{const{format:_e}=t;if(_e)return _e;switch(t.type){case"date":case"daterange":return r.value.dateFormat;case"datetime":case"datetimerange":return r.value.dateTimeFormat;case"year":case"yearrange":return r.value.yearTypeFormat;case"month":case"monthrange":return r.value.monthTypeFormat;case"quarter":case"quarterrange":return r.value.quarterFormat;case"week":return r.value.weekFormat}}),S=L(()=>{var _e;return(_e=t.valueFormat)!==null&&_e!==void 0?_e:C.value});function A(_e){if(_e===null)return null;const{value:tt}=S,{value:Re}=w;return Array.isArray(_e)?[ha(_e[0],tt,new Date,Re).getTime(),ha(_e[1],tt,new Date,Re).getTime()]:ha(_e,tt,new Date,Re).getTime()}const{defaultFormattedValue:T,defaultValue:k}=t,E=V((n=T!==void 0?A(T):k)!==null&&n!==void 0?n:null),P=L(()=>{const{formattedValue:_e}=t;return _e!==void 0?A(_e):t.value}),_=Cn(P,E),F=V(null);er(()=>{F.value=_.value});const N=V(""),W=V(""),G=V(""),Z=Ve("DatePicker","-date-picker",cde,Aue,t,u),ie=L(()=>{var _e,tt;return((tt=(_e=c==null?void 0:c.value)===null||_e===void 0?void 0:_e.DatePicker)===null||tt===void 0?void 0:tt.timePickerSize)||"small"}),he=L(()=>["daterange","datetimerange","monthrange","quarterrange","yearrange"].includes(t.type)),xe=L(()=>{const{placeholder:_e}=t;if(_e===void 0){const{type:tt}=t;switch(tt){case"date":return r.value.datePlaceholder;case"datetime":return r.value.datetimePlaceholder;case"month":return r.value.monthPlaceholder;case"year":return r.value.yearPlaceholder;case"quarter":return r.value.quarterPlaceholder;case"week":return r.value.weekPlaceholder;default:return""}}else return _e}),Q=L(()=>t.startPlaceholder===void 0?t.type==="daterange"?r.value.startDatePlaceholder:t.type==="datetimerange"?r.value.startDatetimePlaceholder:t.type==="monthrange"?r.value.startMonthPlaceholder:"":t.startPlaceholder),X=L(()=>t.endPlaceholder===void 0?t.type==="daterange"?r.value.endDatePlaceholder:t.type==="datetimerange"?r.value.endDatetimePlaceholder:t.type==="monthrange"?r.value.endMonthPlaceholder:"":t.endPlaceholder),K=L(()=>{const{actions:_e,type:tt,clearable:Re}=t;if(_e===null)return[];if(_e!==void 0)return _e;const Je=Re?["clear"]:[];switch(tt){case"date":case"week":return Je.push("now"),Je;case"datetime":return Je.push("now","confirm"),Je;case"daterange":return Je.push("confirm"),Je;case"datetimerange":return Je.push("confirm"),Je;case"month":return Je.push("now","confirm"),Je;case"year":return Je.push("now"),Je;case"quarter":return Je.push("now","confirm"),Je;case"monthrange":case"yearrange":case"quarterrange":return Je.push("confirm"),Je;default:{go("date-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.");break}}});function ne(_e){if(_e===null)return null;if(Array.isArray(_e)){const{value:tt}=S,{value:Re}=w;return[dr(_e[0],tt,Re),dr(_e[1],tt,w.value)]}else return dr(_e,S.value,w.value)}function ve(_e){F.value=_e}function Se(_e,tt){const{"onUpdate:formattedValue":Re,onUpdateFormattedValue:Je}=t;Re&&Fe(Re,_e,tt),Je&&Fe(Je,_e,tt)}function ye(_e,tt){const{"onUpdate:value":Re,onUpdateValue:Je,onChange:St}=t,{nTriggerFormChange:Rt,nTriggerFormInput:ze}=o,dt=ne(_e);tt.doConfirm&&J(_e,dt),Je&&Fe(Je,_e,dt),Re&&Fe(Re,_e,dt),St&&Fe(St,_e,dt),E.value=_e,Se(dt,_e),Rt(),ze()}function Be(){const{onClear:_e}=t;_e==null||_e()}function J(_e,tt){const{onConfirm:Re}=t;Re&&Re(_e,tt)}function Ue(_e){const{onFocus:tt}=t,{nTriggerFormFocus:Re}=o;tt&&Fe(tt,_e),Re()}function Qe(_e){const{onBlur:tt}=t,{nTriggerFormBlur:Re}=o;tt&&Fe(tt,_e),Re()}function ae(_e){const{"onUpdate:show":tt,onUpdateShow:Re}=t;tt&&Fe(tt,_e),Re&&Fe(Re,_e),y.value=_e}function fe(_e){_e.key==="Escape"&&x.value&&(rh(_e),en({returnFocus:!0}))}function ke(_e){_e.key==="Escape"&&x.value&&rh(_e)}function Ke(){var _e;ae(!1),(_e=m.value)===null||_e===void 0||_e.deactivate(),Be()}function Ne(){var _e;(_e=m.value)===null||_e===void 0||_e.deactivate(),Be()}function Ae(){en({returnFocus:!0})}function se(_e){var tt;x.value&&!(!((tt=g.value)===null||tt===void 0)&&tt.contains(ba(_e)))&&en({returnFocus:!1})}function be(_e){en({returnFocus:!0,disableUpdateOnClose:_e})}function re(_e,tt){tt?ye(_e,{doConfirm:!1}):ve(_e)}function me(){const _e=F.value;ye(Array.isArray(_e)?[_e[0],_e[1]]:_e,{doConfirm:!0})}function De(){const{value:_e}=F;he.value?(Array.isArray(_e)||_e===null)&&pe(_e):Array.isArray(_e)||ge(_e)}function ge(_e){_e===null?N.value="":N.value=dr(_e,C.value,w.value)}function pe(_e){if(_e===null)W.value="",G.value="";else{const tt=w.value;W.value=dr(_e[0],C.value,tt),G.value=dr(_e[1],C.value,tt)}}function Te(){x.value||Ge()}function Xe(_e){var tt;!((tt=p.value)===null||tt===void 0)&&tt.$el.contains(_e.relatedTarget)||(Qe(_e),De(),en({returnFocus:!1}))}function Oe(){s.value||(De(),en({returnFocus:!1}))}function ft(_e){if(_e===""){ye(null,{doConfirm:!1}),F.value=null,N.value="";return}const tt=ha(_e,C.value,new Date,w.value);ns(tt)?(ye(Wt(tt),{doConfirm:!1}),De()):N.value=_e}function Lt(_e,{source:tt}){if(_e[0]===""&&_e[1]===""){ye(null,{doConfirm:!1}),F.value=null,W.value="",G.value="";return}const[Re,Je]=_e,St=ha(Re,C.value,new Date,w.value),Rt=ha(Je,C.value,new Date,w.value);if(ns(St)&&ns(Rt)){let ze=Wt(St),dt=Wt(Rt);Rt<St&&(tt===0?dt=ze:ze=dt),ye([ze,dt],{doConfirm:!1}),De()}else[W.value,G.value]=_e}function Kt(_e){s.value||Zr(_e,"clear")||x.value||Ge()}function Dt(_e){s.value||Ue(_e)}function Ge(){s.value||x.value||ae(!0)}function en({returnFocus:_e,disableUpdateOnClose:tt}){var Re;x.value&&(ae(!1),t.type!=="date"&&t.updateValueOnClose&&!tt&&me(),_e&&((Re=m.value)===null||Re===void 0||Re.focus()))}qt(F,()=>{De()}),De(),qt(x,_e=>{_e||(F.value=_.value)});const wt=ude(t,F),_t=dde(t,F);zt(px,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:u,mergedThemeRef:Z,timePickerSizeRef:ie,localeRef:r,dateLocaleRef:i,firstDayOfWeekRef:$e(t,"firstDayOfWeek"),isDateDisabledRef:$e(t,"isDateDisabled"),rangesRef:$e(t,"ranges"),timePickerPropsRef:$e(t,"timePickerProps"),closeOnSelectRef:$e(t,"closeOnSelect"),updateValueOnCloseRef:$e(t,"updateValueOnClose"),monthFormatRef:$e(t,"monthFormat"),yearFormatRef:$e(t,"yearFormat"),quarterFormatRef:$e(t,"quarterFormat"),yearRangeRef:$e(t,"yearRange")},wt),_t),{datePickerSlots:e}));const ce={focus:()=>{var _e;(_e=m.value)===null||_e===void 0||_e.focus()},blur:()=>{var _e;(_e=m.value)===null||_e===void 0||_e.blur()}},ue=L(()=>{const{common:{cubicBezierEaseInOut:_e},self:{iconColor:tt,iconColorDisabled:Re}}=Z.value;return{"--n-bezier":_e,"--n-icon-color-override":tt,"--n-icon-color-disabled-override":Re}}),je=f?Ot("date-picker-trigger",void 0,ue,t):void 0,st=L(()=>{const{type:_e}=t,{common:{cubicBezierEaseInOut:tt},self:{calendarTitleFontSize:Re,calendarDaysFontSize:Je,itemFontSize:St,itemTextColor:Rt,itemColorDisabled:ze,itemColorIncluded:dt,itemColorHover:Ie,itemColorActive:rt,itemBorderRadius:mt,itemTextColorDisabled:Ft,itemTextColorActive:Ht,panelColor:Le,panelTextColor:ot,arrowColor:kt,calendarTitleTextColor:He,panelActionDividerColor:at,panelHeaderDividerColor:xt,calendarDaysDividerColor:Et,panelBoxShadow:Nt,panelBorderRadius:Mn,calendarTitleFontWeight:wr,panelExtraFooterPadding:Pr,panelActionPadding:qi,itemSize:Ci,itemCellWidth:ai,itemCellHeight:rr,scrollItemWidth:Ye,scrollItemHeight:Ct,calendarTitlePadding:Tt,calendarTitleHeight:On,calendarDaysHeight:Kr,calendarDaysTextColor:Yn,arrowSize:Eo,panelHeaderPadding:ia,calendarDividerColor:To,calendarTitleGridTempateColumns:zs,iconColor:id,iconColorDisabled:Dc,scrollItemBorderRadius:od,calendarTitleColorHover:Fc,[We("calendarLeftPadding",_e)]:Rh,[We("calendarRightPadding",_e)]:ad}}=Z.value;return{"--n-bezier":tt,"--n-panel-border-radius":Mn,"--n-panel-color":Le,"--n-panel-box-shadow":Nt,"--n-panel-text-color":ot,"--n-panel-header-padding":ia,"--n-panel-header-divider-color":xt,"--n-calendar-left-padding":Rh,"--n-calendar-right-padding":ad,"--n-calendar-title-color-hover":Fc,"--n-calendar-title-height":On,"--n-calendar-title-padding":Tt,"--n-calendar-title-font-size":Re,"--n-calendar-title-font-weight":wr,"--n-calendar-title-text-color":He,"--n-calendar-title-grid-template-columns":zs,"--n-calendar-days-height":Kr,"--n-calendar-days-divider-color":Et,"--n-calendar-days-font-size":Je,"--n-calendar-days-text-color":Yn,"--n-calendar-divider-color":To,"--n-panel-action-padding":qi,"--n-panel-extra-footer-padding":Pr,"--n-panel-action-divider-color":at,"--n-item-font-size":St,"--n-item-border-radius":mt,"--n-item-size":Ci,"--n-item-cell-width":ai,"--n-item-cell-height":rr,"--n-item-text-color":Rt,"--n-item-color-included":dt,"--n-item-color-disabled":ze,"--n-item-color-hover":Ie,"--n-item-color-active":rt,"--n-item-text-color-disabled":Ft,"--n-item-text-color-active":Ht,"--n-scroll-item-width":Ye,"--n-scroll-item-height":Ct,"--n-scroll-item-border-radius":od,"--n-arrow-size":Eo,"--n-arrow-color":kt,"--n-icon-color":id,"--n-icon-color-disabled":Dc}}),lt=f?Ot("date-picker",L(()=>t.type),st,t):void 0;return Object.assign(Object.assign({},ce),{mergedStatus:l,mergedClsPrefix:u,mergedBordered:d,namespace:h,uncontrolledValue:E,pendingValue:F,panelInstRef:p,triggerElRef:g,inputInstRef:m,isMounted:co(),displayTime:N,displayStartTime:W,displayEndTime:G,mergedShow:x,adjustedTo:vr(t),isRange:he,localizedStartPlaceholder:Q,localizedEndPlaceholder:X,mergedSize:a,mergedDisabled:s,localizedPlacehoder:xe,isValueInvalid:wt.isValueInvalidRef,isStartValueInvalid:_t.isStartValueInvalidRef,isEndValueInvalid:_t.isEndValueInvalidRef,handleInputKeydown:ke,handleClickOutside:se,handleKeydown:fe,handleClear:Ke,handlePanelClear:Ne,handleTriggerClick:Kt,handleInputActivate:Te,handleInputDeactivate:Oe,handleInputFocus:Dt,handleInputBlur:Xe,handlePanelTabOut:Ae,handlePanelClose:be,handleRangeUpdateValue:Lt,handleSingleUpdateValue:ft,handlePanelUpdateValue:re,handlePanelConfirm:me,mergedTheme:Z,actions:K,triggerCssVars:f?void 0:ue,triggerThemeClass:je==null?void 0:je.themeClass,triggerOnRender:je==null?void 0:je.onRender,cssVars:f?void 0:st,themeClass:lt==null?void 0:lt.themeClass,onRender:lt==null?void 0:lt.onRender,onNextMonth:t.onNextMonth,onPrevMonth:t.onPrevMonth,onNextYear:t.onNextYear,onPrevYear:t.onPrevYear})},render(){const{clearable:t,triggerOnRender:e,mergedClsPrefix:n,$slots:r}=this,i={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onClear:this.handlePanelClear,onKeydown:this.handleKeydown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime,themeClass:this.themeClass,panel:this.panel,inputReadonly:this.inputReadonly||this.mergedDisabled,onRender:this.onRender,onNextMonth:this.onNextMonth,onPrevMonth:this.onPrevMonth,onNextYear:this.onNextYear,onPrevYear:this.onPrevYear,timePickerFormat:this.timePickerFormat,dateFormat:this.dateFormat,calendarDayFormat:this.calendarDayFormat,calendarHeaderYearFormat:this.calendarHeaderYearFormat,calendarHeaderMonthFormat:this.calendarHeaderMonthFormat,calendarHeaderMonthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarHeaderMonthBeforeYear:this.calendarHeaderMonthBeforeYear},o=()=>{const{type:s}=this;return s==="datetime"?v(ade,Object.assign({},i,{defaultCalendarStartTime:this.defaultCalendarStartTime}),r):s==="daterange"?v(Eue,Object.assign({},i,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):s==="datetimerange"?v(sde,Object.assign({},i,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):s==="month"||s==="year"||s==="quarter"?v(b9,Object.assign({},i,{type:s,key:s})):s==="monthrange"||s==="yearrange"||s==="quarterrange"?v(lde,Object.assign({},i,{type:s})):v(kue,Object.assign({},i,{type:s,defaultCalendarStartTime:this.defaultCalendarStartTime}),r)};if(this.panel)return o();e==null||e();const a={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:t,onClear:this.handleClear,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};return v("div",{ref:"triggerElRef",class:[`${n}-date-picker`,this.mergedDisabled&&`${n}-date-picker--disabled`,this.isRange&&`${n}-date-picker--range`,this.triggerThemeClass],style:this.triggerCssVars,onKeydown:this.handleKeydown},v(us,null,{default:()=>[v(ds,null,{default:()=>this.isRange?v(_i,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},a),{separator:()=>this.separator===void 0?sn(r.separator,()=>[v(Jt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>v(ure,null)})]):this.separator,[t?"clear-icon-placeholder":"suffix"]:()=>sn(r["date-icon"],()=>[v(Jt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>v(GT,null)})])}):v(_i,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},a),{[t?"clear-icon-placeholder":"suffix"]:()=>v(Jt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>sn(r["date-icon"],()=>[v(GT,null)])})})}),v(Na,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===vr.tdkey,placement:this.placement},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?ii(o(),[[xa,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),fde={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"};function pde(t){const{tableHeaderColor:e,textColor2:n,textColor1:r,cardColor:i,modalColor:o,popoverColor:a,dividerColor:s,borderRadius:l,fontWeightStrong:c,lineHeight:u,fontSizeSmall:d,fontSizeMedium:h,fontSizeLarge:f}=t;return Object.assign(Object.assign({},fde),{lineHeight:u,fontSizeSmall:d,fontSizeMedium:h,fontSizeLarge:f,titleTextColor:r,thColor:rn(i,e),thColorModal:rn(o,e),thColorPopover:rn(a,e),thTextColor:r,thFontWeight:c,tdTextColor:n,tdColor:i,tdColorModal:o,tdColorPopover:a,borderColor:rn(i,s),borderColorModal:rn(o,s),borderColorPopover:rn(a,s),borderRadius:l})}const mde={common:Bt,self:pde},gde=B([R("descriptions",{fontSize:"var(--n-font-size)"},[R("descriptions-separator",`
 display: inline-block;
 margin: 0 8px 0 2px;
 `),R("descriptions-table-wrapper",[R("descriptions-table",[R("descriptions-table-row",[R("descriptions-table-header",{padding:"var(--n-th-padding)"}),R("descriptions-table-content",{padding:"var(--n-td-padding)"})])])]),an("bordered",[R("descriptions-table-wrapper",[R("descriptions-table",[R("descriptions-table-row",[B("&:last-child",[R("descriptions-table-content",{paddingBottom:0})])])])])]),U("left-label-placement",[R("descriptions-table-content",[B("> *",{verticalAlign:"top"})])]),U("left-label-align",[B("th",{textAlign:"left"})]),U("center-label-align",[B("th",{textAlign:"center"})]),U("right-label-align",[B("th",{textAlign:"right"})]),U("bordered",[R("descriptions-table-wrapper",`
 border-radius: var(--n-border-radius);
 overflow: hidden;
 background: var(--n-merged-td-color);
 border: 1px solid var(--n-merged-border-color);
 `,[R("descriptions-table",[R("descriptions-table-row",[B("&:not(:last-child)",[R("descriptions-table-content",{borderBottom:"1px solid var(--n-merged-border-color)"}),R("descriptions-table-header",{borderBottom:"1px solid var(--n-merged-border-color)"})]),R("descriptions-table-header",`
 font-weight: 400;
 background-clip: padding-box;
 background-color: var(--n-merged-th-color);
 `,[B("&:not(:last-child)",{borderRight:"1px solid var(--n-merged-border-color)"})]),R("descriptions-table-content",[B("&:not(:last-child)",{borderRight:"1px solid var(--n-merged-border-color)"})])])])])]),R("descriptions-header",`
 font-weight: var(--n-th-font-weight);
 font-size: 18px;
 transition: color .3s var(--n-bezier);
 line-height: var(--n-line-height);
 margin-bottom: 16px;
 color: var(--n-title-text-color);
 `),R("descriptions-table-wrapper",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[R("descriptions-table",`
 width: 100%;
 border-collapse: separate;
 border-spacing: 0;
 box-sizing: border-box;
 `,[R("descriptions-table-row",`
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[R("descriptions-table-header",`
 font-weight: var(--n-th-font-weight);
 line-height: var(--n-line-height);
 display: table-cell;
 box-sizing: border-box;
 color: var(--n-th-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),R("descriptions-table-content",`
 vertical-align: top;
 line-height: var(--n-line-height);
 display: table-cell;
 box-sizing: border-box;
 color: var(--n-td-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[H("content",`
 transition: color .3s var(--n-bezier);
 display: inline-block;
 color: var(--n-td-text-color);
 `)]),H("label",`
 font-weight: var(--n-th-font-weight);
 transition: color .3s var(--n-bezier);
 display: inline-block;
 margin-right: 14px;
 color: var(--n-th-text-color);
 `)])])])]),R("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 `),_l(R("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Tc(R("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),T9="DESCRIPTION_ITEM_FLAG";function vde(t){return typeof t=="object"&&t&&!Array.isArray(t)?t.type&&t.type[T9]:!1}const R9=Object.assign(Object.assign({},Ve.props),{title:String,column:{type:Number,default:3},columns:Number,labelPlacement:{type:String,default:"top"},labelAlign:{type:String,default:"left"},separator:{type:String,default:":"},size:{type:String,default:"medium"},bordered:Boolean,labelClass:String,labelStyle:[Object,String],contentClass:String,contentStyle:[Object,String]}),yde=le({name:"Descriptions",props:R9,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Descriptions","-descriptions",gde,mde,t,e),i=L(()=>{const{size:a,bordered:s}=t,{common:{cubicBezierEaseInOut:l},self:{titleTextColor:c,thColor:u,thColorModal:d,thColorPopover:h,thTextColor:f,thFontWeight:p,tdTextColor:g,tdColor:m,tdColorModal:y,tdColorPopover:b,borderColor:x,borderColorModal:w,borderColorPopover:C,borderRadius:S,lineHeight:A,[We("fontSize",a)]:T,[We(s?"thPaddingBordered":"thPadding",a)]:k,[We(s?"tdPaddingBordered":"tdPadding",a)]:E}}=r.value;return{"--n-title-text-color":c,"--n-th-padding":k,"--n-td-padding":E,"--n-font-size":T,"--n-bezier":l,"--n-th-font-weight":p,"--n-line-height":A,"--n-th-text-color":f,"--n-td-text-color":g,"--n-th-color":u,"--n-th-color-modal":d,"--n-th-color-popover":h,"--n-td-color":m,"--n-td-color-modal":y,"--n-td-color-popover":b,"--n-border-radius":S,"--n-border-color":x,"--n-border-color-modal":w,"--n-border-color-popover":C}}),o=n?Ot("descriptions",L(()=>{let a="";const{size:s,bordered:l}=t;return l&&(a+="a"),a+=s[0],a}),i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender,compitableColumn:Lu(t,["columns","column"]),inlineThemeDisabled:n}},render(){const t=this.$slots.default,e=t?pa(t()):[];e.length;const{contentClass:n,labelClass:r,compitableColumn:i,labelPlacement:o,labelAlign:a,size:s,bordered:l,title:c,cssVars:u,mergedClsPrefix:d,separator:h,onRender:f}=this;f==null||f();const p=e.filter(b=>vde(b)),g={span:0,row:[],secondRow:[],rows:[]},y=p.reduce((b,x,w)=>{const C=x.props||{},S=p.length-1===w,A=["label"in C?C.label:hT(x,"label")],T=[hT(x)],k=C.span||1,E=b.span;b.span+=k;const P=C.labelStyle||C["label-style"]||this.labelStyle,_=C.contentStyle||C["content-style"]||this.contentStyle;if(o==="left")l?b.row.push(v("th",{class:[`${d}-descriptions-table-header`,r],colspan:1,style:P},A),v("td",{class:[`${d}-descriptions-table-content`,n],colspan:S?(i-E)*2+1:k*2-1,style:_},T)):b.row.push(v("td",{class:`${d}-descriptions-table-content`,colspan:S?(i-E)*2:k*2},v("span",{class:[`${d}-descriptions-table-content__label`,r],style:P},[...A,h&&v("span",{class:`${d}-descriptions-separator`},h)]),v("span",{class:[`${d}-descriptions-table-content__content`,n],style:_},T)));else{const F=S?(i-E)*2:k*2;b.row.push(v("th",{class:[`${d}-descriptions-table-header`,r],colspan:F,style:P},A)),b.secondRow.push(v("td",{class:[`${d}-descriptions-table-content`,n],colspan:F,style:_},T))}return(b.span>=i||S)&&(b.span=0,b.row.length&&(b.rows.push(b.row),b.row=[]),o!=="left"&&b.secondRow.length&&(b.rows.push(b.secondRow),b.secondRow=[])),b},g).rows.map(b=>v("tr",{class:`${d}-descriptions-table-row`},b));return v("div",{style:u,class:[`${d}-descriptions`,this.themeClass,`${d}-descriptions--${o}-label-placement`,`${d}-descriptions--${a}-label-align`,`${d}-descriptions--${s}-size`,l&&`${d}-descriptions--bordered`]},c||this.$slots.header?v("div",{class:`${d}-descriptions-header`},c||up(this,"header")):null,v("div",{class:`${d}-descriptions-table-wrapper`},v("table",{class:`${d}-descriptions-table`},v("tbody",null,o==="top"&&v("tr",{class:`${d}-descriptions-table-row`,style:{visibility:"collapse"}},Iu(i*2,v("td",null))),y))))}}),_9={label:String,span:{type:Number,default:1},labelClass:String,labelStyle:[Object,String],contentClass:String,contentStyle:[Object,String]},bde=le({name:"DescriptionsItem",[T9]:!0,props:_9,slots:Object,render(){return null}}),P9="n-dialog-provider",I9="n-dialog-api",L9="n-dialog-reactive-list";function M9(){const t=ut(I9,null);return t===null&&Ii("use-dialog","No outer <n-dialog-provider /> founded."),t}function xde(){const t=ut(L9,null);return t===null&&Ii("use-dialog-reactive-list","No outer <n-dialog-provider /> founded."),t}const wde={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"};function Cde(t){const{textColor1:e,textColor2:n,modalColor:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeColorHover:s,closeColorPressed:l,infoColor:c,successColor:u,warningColor:d,errorColor:h,primaryColor:f,dividerColor:p,borderRadius:g,fontWeightStrong:m,lineHeight:y,fontSize:b}=t;return Object.assign(Object.assign({},wde),{fontSize:b,lineHeight:y,border:`1px solid ${p}`,titleTextColor:e,textColor:n,color:r,closeColorHover:s,closeColorPressed:l,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeBorderRadius:g,iconColor:f,iconColorInfo:c,iconColorSuccess:u,iconColorWarning:d,iconColorError:h,borderRadius:g,titleFontWeight:m})}const O9={name:"Dialog",common:Bt,peers:{Button:Aa},self:Cde},qg={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,titleClass:[String,Array],titleStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],actionClass:[String,Array],actionStyle:[String,Object],onPositiveClick:Function,onNegativeClick:Function,onClose:Function,closeFocusable:Boolean},D9=vo(qg),Ade=B([R("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[H("icon",`
 color: var(--n-icon-color);
 `),U("bordered",`
 border: var(--n-border);
 `),U("icon-top",[H("close",`
 margin: var(--n-close-margin);
 `),H("icon",`
 margin: var(--n-icon-margin);
 `),H("content",`
 text-align: center;
 `),H("title",`
 justify-content: center;
 `),H("action",`
 justify-content: center;
 `)]),U("icon-left",[H("icon",`
 margin: var(--n-icon-margin);
 `),U("closable",[H("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),H("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),H("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[U("last","margin-bottom: 0;")]),H("action",`
 display: flex;
 justify-content: flex-end;
 `,[B("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),H("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),H("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),R("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),_l(R("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),R("dialog",[yL(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),Sde={default:()=>v(zu,null),info:()=>v(zu,null),success:()=>v(xh,null),warning:()=>v(Ju,null),error:()=>v(bh,null)},M4=le({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},Ve.props),qg),slots:Object,setup(t){const{mergedComponentPropsRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=or("Dialog",i,n),a=L(()=>{var f,p;const{iconPlacement:g}=t;return g||((p=(f=e==null?void 0:e.value)===null||f===void 0?void 0:f.Dialog)===null||p===void 0?void 0:p.iconPlacement)||"left"});function s(f){const{onPositiveClick:p}=t;p&&p(f)}function l(f){const{onNegativeClick:p}=t;p&&p(f)}function c(){const{onClose:f}=t;f&&f()}const u=Ve("Dialog","-dialog",Ade,O9,t,n),d=L(()=>{const{type:f}=t,p=a.value,{common:{cubicBezierEaseInOut:g},self:{fontSize:m,lineHeight:y,border:b,titleTextColor:x,textColor:w,color:C,closeBorderRadius:S,closeColorHover:A,closeColorPressed:T,closeIconColor:k,closeIconColorHover:E,closeIconColorPressed:P,closeIconSize:_,borderRadius:F,titleFontWeight:N,titleFontSize:W,padding:G,iconSize:Z,actionSpace:ie,contentMargin:he,closeSize:xe,[p==="top"?"iconMarginIconTop":"iconMargin"]:Q,[p==="top"?"closeMarginIconTop":"closeMargin"]:X,[We("iconColor",f)]:K}}=u.value,ne=wi(Q);return{"--n-font-size":m,"--n-icon-color":K,"--n-bezier":g,"--n-close-margin":X,"--n-icon-margin-top":ne.top,"--n-icon-margin-right":ne.right,"--n-icon-margin-bottom":ne.bottom,"--n-icon-margin-left":ne.left,"--n-icon-size":Z,"--n-close-size":xe,"--n-close-icon-size":_,"--n-close-border-radius":S,"--n-close-color-hover":A,"--n-close-color-pressed":T,"--n-close-icon-color":k,"--n-close-icon-color-hover":E,"--n-close-icon-color-pressed":P,"--n-color":C,"--n-text-color":w,"--n-border-radius":F,"--n-padding":G,"--n-line-height":y,"--n-border":b,"--n-content-margin":he,"--n-title-font-size":W,"--n-title-font-weight":N,"--n-title-text-color":x,"--n-action-space":ie}}),h=r?Ot("dialog",L(()=>`${t.type[0]}${a.value[0]}`),d,t):void 0;return{mergedClsPrefix:n,rtlEnabled:o,mergedIconPlacement:a,mergedTheme:u,handlePositiveClick:s,handleNegativeClick:l,handleCloseClick:c,cssVars:r?void 0:d,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){var t;const{bordered:e,mergedIconPlacement:n,cssVars:r,closable:i,showIcon:o,title:a,content:s,action:l,negativeText:c,positiveText:u,positiveButtonProps:d,negativeButtonProps:h,handlePositiveClick:f,handleNegativeClick:p,mergedTheme:g,loading:m,type:y,mergedClsPrefix:b}=this;(t=this.onRender)===null||t===void 0||t.call(this);const x=o?v(Jt,{clsPrefix:b,class:`${b}-dialog__icon`},{default:()=>bn(this.$slots.icon,C=>C||(this.icon?Sr(this.icon):Sde[this.type]()))}):null,w=bn(this.$slots.action,C=>C||u||c||l?v("div",{class:[`${b}-dialog__action`,this.actionClass],style:this.actionStyle},C||(l?[Sr(l)]:[this.negativeText&&v(Qn,Object.assign({theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,ghost:!0,size:"small",onClick:p},h),{default:()=>Sr(this.negativeText)}),this.positiveText&&v(Qn,Object.assign({theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:"small",type:y==="default"?"primary":y,disabled:m,loading:m,onClick:f},d),{default:()=>Sr(this.positiveText)})])):null);return v("div",{class:[`${b}-dialog`,this.themeClass,this.closable&&`${b}-dialog--closable`,`${b}-dialog--icon-${n}`,e&&`${b}-dialog--bordered`,this.rtlEnabled&&`${b}-dialog--rtl`],style:r,role:"dialog"},i?bn(this.$slots.close,C=>{const S=[`${b}-dialog__close`,this.rtlEnabled&&`${b}-dialog--rtl`];return C?v("div",{class:S},C):v(Ic,{focusable:this.closeFocusable,clsPrefix:b,class:S,onClick:this.handleCloseClick})}):null,o&&n==="top"?v("div",{class:`${b}-dialog-icon-container`},x):null,v("div",{class:[`${b}-dialog__title`,this.titleClass],style:this.titleStyle},o&&n==="left"?x:null,sn(this.$slots.header,()=>[Sr(a)])),v("div",{class:[`${b}-dialog__content`,w?"":`${b}-dialog__content--last`,this.contentClass],style:this.contentStyle},sn(this.$slots.default,()=>[Sr(s)])),w)}});function kde(t){const{modalColor:e,textColor2:n,boxShadow3:r}=t;return{color:e,textColor:n,boxShadow:r}}const Ede={name:"Modal",common:Bt,peers:{Scrollbar:Bo,Dialog:O9,Card:pD},self:kde},Tde="n-modal-provider",F9="n-modal-api",$9="n-modal-reactive-list";function B9(){const t=ut(F9,null);return t===null&&Ii("use-modal","No outer <n-modal-provider /> founded."),t}function Rde(){const t=ut($9,null);return t===null&&Ii("use-modal-reactive-list","No outer <n-modal-provider /> founded."),t}const PA="n-draggable";function _de(t,e){let n;const r=L(()=>t.value!==!1),i=L(()=>r.value?PA:""),o=L(()=>{const l=t.value;return l===!0||l===!1?!0:l?l.bounds!=="none":!0});function a(l){const c=l.querySelector(`.${PA}`);if(!c||!i.value)return;let u=0,d=0,h=0,f=0,p=0,g=0,m;function y(w){w.preventDefault(),m=w;const{x:C,y:S,right:A,bottom:T}=l.getBoundingClientRect();d=C,f=S,u=window.innerWidth-A,h=window.innerHeight-T;const{left:k,top:E}=l.style;p=+E.slice(0,-2),g=+k.slice(0,-2)}function b(w){if(!m)return;const{clientX:C,clientY:S}=m;let A=w.clientX-C,T=w.clientY-S;o.value&&(A>u?A=u:-A>d&&(A=-d),T>h?T=h:-T>f&&(T=-f));const k=A+g,E=T+p;l.style.top=`${E}px`,l.style.left=`${k}px`}function x(){m=void 0,e.onEnd(l)}wn("mousedown",c,y),wn("mousemove",window,b),wn("mouseup",window,x),n=()=>{xn("mousedown",c,y),wn("mousemove",window,b),wn("mouseup",window,x)}}function s(){n&&(n(),n=void 0)}return Rl(s),{stopDrag:s,startDrag:a,draggableRef:r,draggableClassRef:i}}const O4=Object.assign(Object.assign({},m4),qg),Pde=vo(O4),Ide=le({name:"ModalBody",inheritAttrs:!1,slots:Object,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean,draggable:{type:[Boolean,Object],default:!1},maskHidden:Boolean},O4),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(t){const e=V(null),n=V(null),r=V(t.show),i=V(null),o=V(null),a=ut(PL);let s=null;qt($e(t,"show"),T=>{T&&(s=a.getMousePosition())},{immediate:!0});const{stopDrag:l,startDrag:c,draggableRef:u,draggableClassRef:d}=_de($e(t,"draggable"),{onEnd:T=>{g(T)}}),h=L(()=>Hf([t.titleClass,d.value])),f=L(()=>Hf([t.headerClass,d.value]));qt($e(t,"show"),T=>{T&&(r.value=!0)}),ML(L(()=>t.blockScroll&&r.value));function p(){if(a.transformOriginRef.value==="center")return"";const{value:T}=i,{value:k}=o;if(T===null||k===null)return"";if(n.value){const E=n.value.containerScrollTop;return`${T}px ${k+E}px`}return""}function g(T){if(a.transformOriginRef.value==="center"||!s||!n.value)return;const k=n.value.containerScrollTop,{offsetLeft:E,offsetTop:P}=T,_=s.y,F=s.x;i.value=-(E-F),o.value=-(P-_-k),T.style.transformOrigin=p()}function m(T){vn(()=>{g(T)})}function y(T){T.style.transformOrigin=p(),t.onBeforeLeave()}function b(T){const k=T;u.value&&c(k),t.onAfterEnter&&t.onAfterEnter(k)}function x(){r.value=!1,i.value=null,o.value=null,l(),t.onAfterLeave()}function w(){const{onClose:T}=t;T&&T()}function C(){t.onNegativeClick()}function S(){t.onPositiveClick()}const A=V(null);return qt(A,T=>{T&&vn(()=>{const k=T.el;k&&e.value!==k&&(e.value=k)})}),zt(Fg,e),zt(Dg,null),zt(cp,null),{mergedTheme:a.mergedThemeRef,appear:a.appearRef,isMounted:a.isMountedRef,mergedClsPrefix:a.mergedClsPrefixRef,bodyRef:e,scrollbarRef:n,draggableClass:d,displayed:r,childNodeRef:A,cardHeaderClass:f,dialogTitleClass:h,handlePositiveClick:S,handleNegativeClick:C,handleCloseClick:w,handleAfterEnter:b,handleAfterLeave:x,handleBeforeLeave:y,handleEnter:m}},render(){const{$slots:t,$attrs:e,handleEnter:n,handleAfterEnter:r,handleAfterLeave:i,handleBeforeLeave:o,preset:a,mergedClsPrefix:s}=this;let l=null;if(!a){if(l=ZL("default",t.default,{draggableClass:this.draggableClass}),!l){go("modal","default slot is empty");return}l=Qo(l),l.props=Xi({class:`${s}-modal`},e,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?ii(v("div",{role:"none",class:[`${s}-modal-body-wrapper`,this.maskHidden&&`${s}-modal-body-wrapper--mask-hidden`]},v(Hr,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${s}-modal-scroll-content`},{default:()=>{var c;return[(c=this.renderMask)===null||c===void 0?void 0:c.call(this),v(Wk,{disabled:!this.trapFocus||this.maskHidden,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var u;return v(hr,{name:"fade-in-scale-up-transition",appear:(u=this.appear)!==null&&u!==void 0?u:this.isMounted,onEnter:n,onAfterEnter:r,onAfterLeave:i,onBeforeLeave:o},{default:()=>{const d=[[ya,this.show]],{onClickoutside:h}=this;return h&&d.push([xa,this.onClickoutside,void 0,{capture:!0}]),ii(this.preset==="confirm"||this.preset==="dialog"?v(M4,Object.assign({},this.$attrs,{class:[`${s}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Ri(this.$props,D9),{titleClass:this.dialogTitleClass,"aria-modal":"true"}),t):this.preset==="card"?v(g4,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${s}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Ri(this.$props,Dse),{headerClass:this.cardHeaderClass,"aria-modal":"true",role:"dialog"}),t):this.childNodeRef=l,d)}})}})]}})),[[ya,this.displayDirective==="if"||this.displayed||this.show]]):null}}),Lde=B([R("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),R("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[vc({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),R("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[R("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `),U("mask-hidden","pointer-events: none;",[R("modal-scroll-content",[B("> *",`
 pointer-events: all;
 `)])])]),R("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Qi({duration:".25s",enterScale:".5"}),B(`.${PA}`,`
 cursor: move;
 user-select: none;
 `)])]),D4=Object.assign(Object.assign(Object.assign(Object.assign({},Ve.props),{show:Boolean,showMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),O4),{draggable:[Boolean,Object],onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalModal:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function,unstableShowMask:{type:Boolean,default:void 0}}),F4=le({name:"Modal",inheritAttrs:!1,props:D4,slots:Object,setup(t){const e=V(null),{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:i}=gt(t),o=Ve("Modal","-modal",Lde,Ede,t,n),a=$k(64),s=Fk(),l=co(),c=t.internalDialog?ut(P9,null):null,u=t.internalModal?ut(xY,null):null,d=LL();function h(S){const{onUpdateShow:A,"onUpdate:show":T,onHide:k}=t;A&&Fe(A,S),T&&Fe(T,S),k&&!S&&k(S)}function f(){const{onClose:S}=t;S?Promise.resolve(S()).then(A=>{A!==!1&&h(!1)}):h(!1)}function p(){const{onPositiveClick:S}=t;S?Promise.resolve(S()).then(A=>{A!==!1&&h(!1)}):h(!1)}function g(){const{onNegativeClick:S}=t;S?Promise.resolve(S()).then(A=>{A!==!1&&h(!1)}):h(!1)}function m(){const{onBeforeLeave:S,onBeforeHide:A}=t;S&&Fe(S),A&&A()}function y(){const{onAfterLeave:S,onAfterHide:A}=t;S&&Fe(S),A&&A()}function b(S){var A;const{onMaskClick:T}=t;T&&T(S),t.maskClosable&&!((A=e.value)===null||A===void 0)&&A.contains(ba(S))&&h(!1)}function x(S){var A;(A=t.onEsc)===null||A===void 0||A.call(t),t.show&&t.closeOnEsc&&YL(S)&&(d.value||h(!1))}zt(PL,{getMousePosition:()=>{const S=c||u;if(S){const{clickedRef:A,clickedPositionRef:T}=S;if(A.value&&T.value)return T.value}return a.value?s.value:null},mergedClsPrefixRef:n,mergedThemeRef:o,isMountedRef:l,appearRef:$e(t,"internalAppear"),transformOriginRef:$e(t,"transformOrigin")});const w=L(()=>{const{common:{cubicBezierEaseOut:S},self:{boxShadow:A,color:T,textColor:k}}=o.value;return{"--n-bezier-ease-out":S,"--n-box-shadow":A,"--n-color":T,"--n-text-color":k}}),C=i?Ot("theme-class",void 0,w,t):void 0;return{mergedClsPrefix:n,namespace:r,isMounted:l,containerRef:e,presetProps:L(()=>Ri(t,Pde)),handleEsc:x,handleAfterLeave:y,handleClickoutside:b,handleBeforeLeave:m,doUpdateShow:h,handleNegativeClick:g,handlePositiveClick:p,handleCloseClick:f,cssVars:i?void 0:w,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){const{mergedClsPrefix:t}=this;return v(Bg,{to:this.to,show:this.show},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{showMask:n}=this;return ii(v("div",{role:"none",ref:"containerRef",class:[`${t}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},v(Ide,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,draggable:this.draggable,blockScroll:this.blockScroll,maskHidden:!n},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:n?void 0:this.handleClickoutside,renderMask:n?()=>{var r;return v(hr,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?v("div",{"aria-hidden":!0,ref:"containerRef",class:`${t}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[$g,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Mde=Object.assign(Object.assign({},qg),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},zIndex:Number,onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function,draggable:[Boolean,Object]}),Ode=le({name:"DialogEnvironment",props:Object.assign(Object.assign({},Mde),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const e=V(!0);function n(){const{onInternalAfterLeave:u,internalKey:d,onAfterLeave:h}=t;u&&u(d),h&&h()}function r(u){const{onPositiveClick:d}=t;d?Promise.resolve(d(u)).then(h=>{h!==!1&&l()}):l()}function i(u){const{onNegativeClick:d}=t;d?Promise.resolve(d(u)).then(h=>{h!==!1&&l()}):l()}function o(){const{onClose:u}=t;u?Promise.resolve(u()).then(d=>{d!==!1&&l()}):l()}function a(u){const{onMaskClick:d,maskClosable:h}=t;d&&(d(u),h&&l())}function s(){const{onEsc:u}=t;u&&u()}function l(){e.value=!1}function c(u){e.value=u}return{show:e,hide:l,handleUpdateShow:c,handleAfterLeave:n,handleCloseClick:o,handleNegativeClick:i,handlePositiveClick:r,handleMaskClick:a,handleEsc:s}},render(){const{handlePositiveClick:t,handleUpdateShow:e,handleNegativeClick:n,handleCloseClick:r,handleAfterLeave:i,handleMaskClick:o,handleEsc:a,to:s,zIndex:l,maskClosable:c,show:u}=this;return v(F4,{show:u,onUpdateShow:e,onMaskClick:o,onEsc:a,to:s,zIndex:l,maskClosable:c,onAfterEnter:this.onAfterEnter,onAfterLeave:i,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,draggable:this.draggable,internalAppear:!0,internalDialog:!0},{default:({draggableClass:d})=>v(M4,Object.assign({},Ri(this.$props,D9),{titleClass:Hf([this.titleClass,d]),style:this.internalStyle,onClose:r,onNegativeClick:n,onPositiveClick:t}))})}}),N9={injectionKey:String,to:[String,Object]},z9=le({name:"DialogProvider",props:N9,setup(){const t=V([]),e={};function n(s={}){const l=Zo(),c=Tl(Object.assign(Object.assign({},s),{key:l,destroy:()=>{var u;(u=e[`n-dialog-${l}`])===null||u===void 0||u.hide()}}));return t.value.push(c),c}const r=["info","success","warning","error"].map(s=>l=>n(Object.assign(Object.assign({},l),{type:s})));function i(s){const{value:l}=t;l.splice(l.findIndex(c=>c.key===s),1)}function o(){Object.values(e).forEach(s=>{s==null||s.hide()})}const a={create:n,destroyAll:o,info:r[0],success:r[1],warning:r[2],error:r[3]};return zt(I9,a),zt(P9,{clickedRef:$k(64),clickedPositionRef:Fk()}),zt(L9,t),Object.assign(Object.assign({},a),{dialogList:t,dialogInstRefs:e,handleAfterLeave:i})},render(){var t,e;return v(qn,null,[this.dialogList.map(n=>v(Ode,Xu(n,["destroy","style"],{internalStyle:n.style,to:this.to,ref:r=>{r===null?delete this.dialogInstRefs[`n-dialog-${n.key}`]:this.dialogInstRefs[`n-dialog-${n.key}`]=r},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave}))),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)])}}),H9="n-loading-bar",U9="n-loading-bar-api";function Dde(t){const{primaryColor:e,errorColor:n}=t;return{colorError:n,colorLoading:e,height:"2px"}}const Fde={common:Bt,self:Dde},$de=R("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[vc({enterDuration:"0.3s",leaveDuration:"0.8s"}),R("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[U("starting",`
 background: var(--n-color-loading);
 `),U("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),U("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var Wv=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function qv(t,e){return`${e}-loading-bar ${e}-loading-bar--${t}`}const Bde=le({name:"LoadingBar",props:{containerClass:String,containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:t}=gt(),{props:e,mergedClsPrefixRef:n}=ut(H9),r=V(null),i=V(!1),o=V(!1),a=V(!1),s=V(!1);let l=!1;const c=V(!1),u=L(()=>{const{loadingBarStyle:C}=e;return C?C[c.value?"error":"loading"]:""});function d(){return Wv(this,void 0,void 0,function*(){i.value=!1,a.value=!1,l=!1,c.value=!1,s.value=!0,yield vn(),s.value=!1})}function h(){return Wv(this,arguments,void 0,function*(C=0,S=80,A="starting"){if(o.value=!0,yield d(),l)return;a.value=!0,yield vn();const T=r.value;T&&(T.style.maxWidth=`${C}%`,T.style.transition="none",T.offsetWidth,T.className=qv(A,n.value),T.style.transition="",T.style.maxWidth=`${S}%`)})}function f(){return Wv(this,void 0,void 0,function*(){if(l||c.value)return;o.value&&(yield vn()),l=!0;const C=r.value;C&&(C.className=qv("finishing",n.value),C.style.maxWidth="100%",C.offsetWidth,a.value=!1)})}function p(){if(!(l||c.value))if(!a.value)h(100,100,"error").then(()=>{c.value=!0;const C=r.value;C&&(C.className=qv("error",n.value),C.offsetWidth,a.value=!1)});else{c.value=!0;const C=r.value;if(!C)return;C.className=qv("error",n.value),C.style.maxWidth="100%",C.offsetWidth,a.value=!1}}function g(){i.value=!0}function m(){i.value=!1}function y(){return Wv(this,void 0,void 0,function*(){yield d()})}const b=Ve("LoadingBar","-loading-bar",$de,Fde,e,n),x=L(()=>{const{self:{height:C,colorError:S,colorLoading:A}}=b.value;return{"--n-height":C,"--n-color-loading":A,"--n-color-error":S}}),w=t?Ot("loading-bar",void 0,x,e):void 0;return{mergedClsPrefix:n,loadingBarRef:r,started:o,loading:a,entering:i,transitionDisabled:s,start:h,error:p,finish:f,handleEnter:g,handleAfterEnter:m,handleAfterLeave:y,mergedLoadingBarStyle:u,cssVars:t?void 0:x,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:t}=this;return v(hr,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),ii(v("div",{class:[`${t}-loading-bar-container`,this.themeClass,this.containerClass],style:this.containerStyle},v("div",{ref:"loadingBarRef",class:[`${t}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[ya,this.loading||!this.loading&&this.entering]])}})}}),j9=Object.assign(Object.assign({},Ve.props),{to:{type:[String,Object,Boolean],default:void 0},containerClass:String,containerStyle:[String,Object],loadingBarStyle:{type:Object}}),V9=le({name:"LoadingBarProvider",props:j9,setup(t){const e=co(),n=V(null),r={start(){var o;e.value?(o=n.value)===null||o===void 0||o.start():vn(()=>{var a;(a=n.value)===null||a===void 0||a.start()})},error(){var o;e.value?(o=n.value)===null||o===void 0||o.error():vn(()=>{var a;(a=n.value)===null||a===void 0||a.error()})},finish(){var o;e.value?(o=n.value)===null||o===void 0||o.finish():vn(()=>{var a;(a=n.value)===null||a===void 0||a.finish()})}},{mergedClsPrefixRef:i}=gt(t);return zt(U9,r),zt(H9,{props:t,mergedClsPrefixRef:i}),Object.assign(r,{loadingBarRef:n})},render(){var t,e;return v(qn,null,v(fh,{disabled:this.to===!1,to:this.to||"body"},v(Bde,{ref:"loadingBarRef",containerStyle:this.containerStyle,containerClass:this.containerClass})),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});function W9(){const t=ut(U9,null);return t===null&&Ii("use-loading-bar","No outer <n-loading-bar-provider /> founded."),t}const q9="n-message-api",K9="n-message-provider",Nde={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"};function zde(t){const{textColor2:e,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:i,infoColor:o,successColor:a,errorColor:s,warningColor:l,popoverColor:c,boxShadow2:u,primaryColor:d,lineHeight:h,borderRadius:f,closeColorHover:p,closeColorPressed:g}=t;return Object.assign(Object.assign({},Nde),{closeBorderRadius:f,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:c,colorInfo:c,colorSuccess:c,colorError:c,colorWarning:c,colorLoading:c,boxShadow:u,boxShadowInfo:u,boxShadowSuccess:u,boxShadowError:u,boxShadowWarning:u,boxShadowLoading:u,iconColor:e,iconColorInfo:o,iconColorSuccess:a,iconColorWarning:l,iconColorError:s,iconColorLoading:d,closeColorHover:p,closeColorPressed:g,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:i,closeColorHoverInfo:p,closeColorPressedInfo:g,closeIconColorInfo:n,closeIconColorHoverInfo:r,closeIconColorPressedInfo:i,closeColorHoverSuccess:p,closeColorPressedSuccess:g,closeIconColorSuccess:n,closeIconColorHoverSuccess:r,closeIconColorPressedSuccess:i,closeColorHoverError:p,closeColorPressedError:g,closeIconColorError:n,closeIconColorHoverError:r,closeIconColorPressedError:i,closeColorHoverWarning:p,closeColorPressedWarning:g,closeIconColorWarning:n,closeIconColorHoverWarning:r,closeIconColorPressedWarning:i,closeColorHoverLoading:p,closeColorPressedLoading:g,closeIconColorLoading:n,closeIconColorHoverLoading:r,closeIconColorPressedLoading:i,loadingColor:d,lineHeight:h,borderRadius:f,border:"0"})}const Hde={common:Bt,self:zde},G9={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},Ude=B([R("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[bc({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),R("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 border: var(--n-border);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[H("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),H("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(t=>U(`${t}-type`,[B("> *",`
 color: var(--n-icon-color-${t});
 transition: color .3s var(--n-bezier);
 `)])),B("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[mo()])]),H("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[B("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),B("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),R("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[U("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),U("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),U("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),U("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),U("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),U("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),jde={info:()=>v(zu,null),success:()=>v(xh,null),warning:()=>v(Ju,null),error:()=>v(bh,null),default:()=>null},Vde=le({name:"Message",props:Object.assign(Object.assign({},G9),{render:Function}),setup(t){const{inlineThemeDisabled:e,mergedRtlRef:n}=gt(t),{props:r,mergedClsPrefixRef:i}=ut(K9),o=or("Message",n,i),a=Ve("Message","-message",Ude,Hde,r,i),s=L(()=>{const{type:c}=t,{common:{cubicBezierEaseInOut:u},self:{padding:d,margin:h,maxWidth:f,iconMargin:p,closeMargin:g,closeSize:m,iconSize:y,fontSize:b,lineHeight:x,borderRadius:w,border:C,iconColorInfo:S,iconColorSuccess:A,iconColorWarning:T,iconColorError:k,iconColorLoading:E,closeIconSize:P,closeBorderRadius:_,[We("textColor",c)]:F,[We("boxShadow",c)]:N,[We("color",c)]:W,[We("closeColorHover",c)]:G,[We("closeColorPressed",c)]:Z,[We("closeIconColor",c)]:ie,[We("closeIconColorPressed",c)]:he,[We("closeIconColorHover",c)]:xe}}=a.value;return{"--n-bezier":u,"--n-margin":h,"--n-padding":d,"--n-max-width":f,"--n-font-size":b,"--n-icon-margin":p,"--n-icon-size":y,"--n-close-icon-size":P,"--n-close-border-radius":_,"--n-close-size":m,"--n-close-margin":g,"--n-text-color":F,"--n-color":W,"--n-box-shadow":N,"--n-icon-color-info":S,"--n-icon-color-success":A,"--n-icon-color-warning":T,"--n-icon-color-error":k,"--n-icon-color-loading":E,"--n-close-color-hover":G,"--n-close-color-pressed":Z,"--n-close-icon-color":ie,"--n-close-icon-color-pressed":he,"--n-close-icon-color-hover":xe,"--n-line-height":x,"--n-border-radius":w,"--n-border":C}}),l=e?Ot("message",L(()=>t.type[0]),s,{}):void 0;return{mergedClsPrefix:i,rtlEnabled:o,messageProviderProps:r,handleClose(){var c;(c=t.onClose)===null||c===void 0||c.call(t)},cssVars:e?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender,placement:r.placement}},render(){const{render:t,type:e,closable:n,content:r,mergedClsPrefix:i,cssVars:o,themeClass:a,onRender:s,icon:l,handleClose:c,showIcon:u}=this;s==null||s();let d;return v("div",{class:[`${i}-message-wrapper`,a],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},o]},t?t(this.$props):v("div",{class:[`${i}-message ${i}-message--${e}-type`,this.rtlEnabled&&`${i}-message--rtl`]},(d=Wde(l,e,i))&&u?v("div",{class:`${i}-message__icon ${i}-message__icon--${e}-type`},v(Ll,null,{default:()=>d})):null,v("div",{class:`${i}-message__content`},Sr(r)),n?v(Ic,{clsPrefix:i,class:`${i}-message__close`,onClick:c,absolute:!0}):null))}});function Wde(t,e,n){if(typeof t=="function")return t();{const r=e==="loading"?v($s,{clsPrefix:n,strokeWidth:24,scale:.85}):jde[e]();return r?v(Jt,{clsPrefix:n,key:e},{default:()=>r}):null}}const qde=le({name:"MessageEnvironment",props:Object.assign(Object.assign({},G9),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(t){let e=null;const n=V(!0);jn(()=>{r()});function r(){const{duration:u}=t;u&&(e=window.setTimeout(a,u))}function i(u){u.currentTarget===u.target&&e!==null&&(window.clearTimeout(e),e=null)}function o(u){u.currentTarget===u.target&&r()}function a(){const{onHide:u}=t;n.value=!1,e&&(window.clearTimeout(e),e=null),u&&u()}function s(){const{onClose:u}=t;u&&u(),a()}function l(){const{onAfterLeave:u,onInternalAfterLeave:d,onAfterHide:h,internalKey:f}=t;u&&u(),d&&d(f),h&&h()}function c(){a()}return{show:n,hide:a,handleClose:s,handleAfterLeave:l,handleMouseleave:o,handleMouseenter:i,deactivate:c}},render(){return v(Ml,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?v(Vde,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),Y9=Object.assign(Object.assign({},Ve.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerClass:String,containerStyle:[String,Object]}),$4=le({name:"MessageProvider",props:Y9,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=V([]),r=V({}),i={create(l,c){return o(l,Object.assign({type:"default"},c))},info(l,c){return o(l,Object.assign(Object.assign({},c),{type:"info"}))},success(l,c){return o(l,Object.assign(Object.assign({},c),{type:"success"}))},warning(l,c){return o(l,Object.assign(Object.assign({},c),{type:"warning"}))},error(l,c){return o(l,Object.assign(Object.assign({},c),{type:"error"}))},loading(l,c){return o(l,Object.assign(Object.assign({},c),{type:"loading"}))},destroyAll:s};zt(K9,{props:t,mergedClsPrefixRef:e}),zt(q9,i);function o(l,c){const u=Zo(),d=Tl(Object.assign(Object.assign({},c),{content:l,key:u,destroy:()=>{var f;(f=r.value[u])===null||f===void 0||f.hide()}})),{max:h}=t;return h&&n.value.length>=h&&n.value.shift(),n.value.push(d),d}function a(l){n.value.splice(n.value.findIndex(c=>c.key===l),1),delete r.value[l]}function s(){Object.values(r.value).forEach(l=>{l.hide()})}return Object.assign({mergedClsPrefix:e,messageRefs:r,messageList:n,handleAfterLeave:a},i)},render(){var t,e,n;return v(qn,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),this.messageList.length?v(fh,{to:(n=this.to)!==null&&n!==void 0?n:"body"},v("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`,this.containerClass],key:"message-container",style:this.containerStyle},this.messageList.map(r=>v(qde,Object.assign({ref:i=>{i&&(this.messageRefs[r.key]=i)},internalKey:r.key,onInternalAfterLeave:this.handleAfterLeave},Xu(r,["destroy"],void 0),{duration:r.duration===void 0?this.duration:r.duration,keepAliveOnHover:r.keepAliveOnHover===void 0?this.keepAliveOnHover:r.keepAliveOnHover,closable:r.closable===void 0?this.closable:r.closable}))))):null)}});function B4(){const t=ut(q9,null);return t===null&&Ii("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),t}const Kde=le({name:"ModalEnvironment",props:Object.assign(Object.assign({},D4),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const e=V(!0);function n(){const{onInternalAfterLeave:u,internalKey:d,onAfterLeave:h}=t;u&&u(d),h&&h()}function r(){const{onPositiveClick:u}=t;u?Promise.resolve(u()).then(d=>{d!==!1&&l()}):l()}function i(){const{onNegativeClick:u}=t;u?Promise.resolve(u()).then(d=>{d!==!1&&l()}):l()}function o(){const{onClose:u}=t;u?Promise.resolve(u()).then(d=>{d!==!1&&l()}):l()}function a(u){const{onMaskClick:d,maskClosable:h}=t;d&&(d(u),h&&l())}function s(){const{onEsc:u}=t;u&&u()}function l(){e.value=!1}function c(u){e.value=u}return{show:e,hide:l,handleUpdateShow:c,handleAfterLeave:n,handleCloseClick:o,handleNegativeClick:i,handlePositiveClick:r,handleMaskClick:a,handleEsc:s}},render(){const{handleUpdateShow:t,handleAfterLeave:e,handleMaskClick:n,handleEsc:r,show:i}=this;return v(F4,Object.assign({},this.$props,{show:i,onUpdateShow:t,onMaskClick:n,onEsc:r,onAfterLeave:e,internalAppear:!0,internalModal:!0}),this.$slots)}}),X9={to:[String,Object]},Q9=le({name:"ModalProvider",props:X9,setup(){const t=V([]),e={};function n(a={}){const s=Zo(),l=Tl(Object.assign(Object.assign({},a),{key:s,destroy:()=>{var c;(c=e[`n-modal-${s}`])===null||c===void 0||c.hide()}}));return t.value.push(l),l}function r(a){const{value:s}=t;s.splice(s.findIndex(l=>l.key===a),1)}function i(){Object.values(e).forEach(a=>{a==null||a.hide()})}const o={create:n,destroyAll:i};return zt(F9,o),zt(Tde,{clickedRef:$k(64),clickedPositionRef:Fk()}),zt($9,t),Object.assign(Object.assign({},o),{modalList:t,modalInstRefs:e,handleAfterLeave:r})},render(){var t,e;return v(qn,null,[this.modalList.map(n=>{var r;return v(Kde,Xu(n,["destroy","render"],{to:(r=n.to)!==null&&r!==void 0?r:this.to,ref:i=>{i===null?delete this.modalInstRefs[`n-modal-${n.key}`]:this.modalInstRefs[`n-modal-${n.key}`]=i},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave}),{default:n.render})}),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)])}}),Gde={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"};function Yde(t){const{textColor2:e,successColor:n,infoColor:r,warningColor:i,errorColor:o,popoverColor:a,closeIconColor:s,closeIconColorHover:l,closeIconColorPressed:c,closeColorHover:u,closeColorPressed:d,textColor1:h,textColor3:f,borderRadius:p,fontWeightStrong:g,boxShadow2:m,lineHeight:y,fontSize:b}=t;return Object.assign(Object.assign({},Gde),{borderRadius:p,lineHeight:y,fontSize:b,headerFontWeight:g,iconColor:e,iconColorSuccess:n,iconColorInfo:r,iconColorWarning:i,iconColorError:o,color:a,textColor:e,closeIconColor:s,closeIconColorHover:l,closeIconColorPressed:c,closeBorderRadius:p,closeColorHover:u,closeColorPressed:d,headerTextColor:h,descriptionTextColor:f,actionTextColor:e,boxShadow:m})}const Xde={name:"Notification",common:Bt,peers:{Scrollbar:Bo},self:Yde},mx="n-notification-provider",Qde=le({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e,wipTransitionCountRef:n}=ut(mx),r=V(null);return er(()=>{var i,o;n.value>0?(i=r==null?void 0:r.value)===null||i===void 0||i.classList.add("transitioning"):(o=r==null?void 0:r.value)===null||o===void 0||o.classList.remove("transitioning")}),{selfRef:r,mergedTheme:t,mergedClsPrefix:e,transitioning:n}},render(){const{$slots:t,scrollable:e,mergedClsPrefix:n,mergedTheme:r,placement:i}=this;return v("div",{ref:"selfRef",class:[`${n}-notification-container`,e&&`${n}-notification-container--scrollable`,`${n}-notification-container--${i}`]},e?v(Hr,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},t):t)}}),Zde={info:()=>v(zu,null),success:()=>v(xh,null),warning:()=>v(Ju,null),error:()=>v(bh,null),default:()=>null},N4={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},Jde=vo(N4),ehe=le({name:"Notification",props:N4,setup(t){const{mergedClsPrefixRef:e,mergedThemeRef:n,props:r}=ut(mx),{inlineThemeDisabled:i,mergedRtlRef:o}=gt(),a=or("Notification",o,e),s=L(()=>{const{type:c}=t,{self:{color:u,textColor:d,closeIconColor:h,closeIconColorHover:f,closeIconColorPressed:p,headerTextColor:g,descriptionTextColor:m,actionTextColor:y,borderRadius:b,headerFontWeight:x,boxShadow:w,lineHeight:C,fontSize:S,closeMargin:A,closeSize:T,width:k,padding:E,closeIconSize:P,closeBorderRadius:_,closeColorHover:F,closeColorPressed:N,titleFontSize:W,metaFontSize:G,descriptionFontSize:Z,[We("iconColor",c)]:ie},common:{cubicBezierEaseOut:he,cubicBezierEaseIn:xe,cubicBezierEaseInOut:Q}}=n.value,{left:X,right:K,top:ne,bottom:ve}=wi(E);return{"--n-color":u,"--n-font-size":S,"--n-text-color":d,"--n-description-text-color":m,"--n-action-text-color":y,"--n-title-text-color":g,"--n-title-font-weight":x,"--n-bezier":Q,"--n-bezier-ease-out":he,"--n-bezier-ease-in":xe,"--n-border-radius":b,"--n-box-shadow":w,"--n-close-border-radius":_,"--n-close-color-hover":F,"--n-close-color-pressed":N,"--n-close-icon-color":h,"--n-close-icon-color-hover":f,"--n-close-icon-color-pressed":p,"--n-line-height":C,"--n-icon-color":ie,"--n-close-margin":A,"--n-close-size":T,"--n-close-icon-size":P,"--n-width":k,"--n-padding-left":X,"--n-padding-right":K,"--n-padding-top":ne,"--n-padding-bottom":ve,"--n-title-font-size":W,"--n-meta-font-size":G,"--n-description-font-size":Z}}),l=i?Ot("notification",L(()=>t.type[0]),s,r):void 0;return{mergedClsPrefix:e,showAvatar:L(()=>t.avatar||t.type!=="default"),handleCloseClick(){t.onClose()},rtlEnabled:a,cssVars:i?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},v("div",{class:[`${e}-notification`,this.rtlEnabled&&`${e}-notification--rtl`,this.themeClass,{[`${e}-notification--closable`]:this.closable,[`${e}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?v("div",{class:`${e}-notification__avatar`},this.avatar?Sr(this.avatar):this.type!=="default"?v(Jt,{clsPrefix:e},{default:()=>Zde[this.type]()}):null):null,this.closable?v(Ic,{clsPrefix:e,class:`${e}-notification__close`,onClick:this.handleCloseClick}):null,v("div",{ref:"bodyRef",class:`${e}-notification-main`},this.title?v("div",{class:`${e}-notification-main__header`},Sr(this.title)):null,this.description?v("div",{class:`${e}-notification-main__description`},Sr(this.description)):null,this.content?v("pre",{class:`${e}-notification-main__content`},Sr(this.content)):null,this.meta||this.action?v("div",{class:`${e}-notification-main-footer`},this.meta?v("div",{class:`${e}-notification-main-footer__meta`},Sr(this.meta)):null,this.action?v("div",{class:`${e}-notification-main-footer__action`},Sr(this.action)):null):null)))}}),the=Object.assign(Object.assign({},N4),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),nhe=le({name:"NotificationEnvironment",props:Object.assign(Object.assign({},the),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const{wipTransitionCountRef:e}=ut(mx),n=V(!0);let r=null;function i(){n.value=!1,r&&window.clearTimeout(r)}function o(p){e.value++,vn(()=>{p.style.height=`${p.offsetHeight}px`,p.style.maxHeight="0",p.style.transition="none",p.offsetHeight,p.style.transition="",p.style.maxHeight=p.style.height})}function a(p){e.value--,p.style.height="",p.style.maxHeight="";const{onAfterEnter:g,onAfterShow:m}=t;g&&g(),m&&m()}function s(p){e.value++,p.style.maxHeight=`${p.offsetHeight}px`,p.style.height=`${p.offsetHeight}px`,p.offsetHeight}function l(p){const{onHide:g}=t;g&&g(),p.style.maxHeight="0",p.offsetHeight}function c(){e.value--;const{onAfterLeave:p,onInternalAfterLeave:g,onAfterHide:m,internalKey:y}=t;p&&p(),g(y),m&&m()}function u(){const{duration:p}=t;p&&(r=window.setTimeout(i,p))}function d(p){p.currentTarget===p.target&&r!==null&&(window.clearTimeout(r),r=null)}function h(p){p.currentTarget===p.target&&u()}function f(){const{onClose:p}=t;p?Promise.resolve(p()).then(g=>{g!==!1&&i()}):i()}return jn(()=>{t.duration&&(r=window.setTimeout(i,t.duration))}),{show:n,hide:i,handleClose:f,handleAfterLeave:c,handleLeave:l,handleBeforeLeave:s,handleAfterEnter:a,handleBeforeEnter:o,handleMouseenter:d,handleMouseleave:h}},render(){return v(hr,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?v(ehe,Object.assign({},Ri(this.$props,Jde),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),rhe=B([R("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[B(">",[R("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[B(">",[R("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[R("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),U("top, top-right, top-left",`
 top: 12px;
 `,[B("&.transitioning >",[R("scrollbar",[B(">",[R("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),U("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[B(">",[R("scrollbar",[B(">",[R("scrollbar-container",[R("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),R("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),U("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[R("notification-wrapper",[B("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),B("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),U("top",[R("notification-wrapper",`
 transform-origin: top center;
 `)]),U("bottom",[R("notification-wrapper",`
 transform-origin: bottom center;
 `)]),U("top-right, bottom-right",[R("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),U("top-left, bottom-left",[R("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),U("top-right",`
 right: 0;
 `,[Kv("top-right")]),U("top-left",`
 left: 0;
 `,[Kv("top-left")]),U("bottom-right",`
 right: 0;
 `,[Kv("bottom-right")]),U("bottom-left",`
 left: 0;
 `,[Kv("bottom-left")]),U("scrollable",[U("top-right",`
 top: 0;
 `),U("top-left",`
 top: 0;
 `),U("bottom-right",`
 bottom: 0;
 `),U("bottom-left",`
 bottom: 0;
 `)]),R("notification-wrapper",`
 margin-bottom: 12px;
 `,[B("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),B("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),B("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),B("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),R("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 max-width: calc(100vw - 16px - 16px);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[H("avatar",[R("icon",`
 color: var(--n-icon-color);
 `),R("base-icon",`
 color: var(--n-icon-color);
 `)]),U("show-avatar",[R("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),U("closable",[R("notification-main",[B("> *:first-child",`
 padding-right: 20px;
 `)]),H("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),H("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[R("icon","transition: color .3s var(--n-bezier);")]),R("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[R("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[H("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),H("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),H("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),H("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),H("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[B("&:first-child","margin: 0;")])])])])]);function Kv(t){const n=t.split("-")[1]==="left"?"calc(-100%)":"calc(100%)";return R("notification-wrapper",[B("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${n}, 0);
 `),B("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(0, 0);
 `)])}const Z9="n-notification-api",J9=Object.assign(Object.assign({},Ve.props),{containerClass:String,containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),eF=le({name:"NotificationProvider",props:J9,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=V([]),r={},i=new Set;function o(f){const p=Zo(),g=()=>{i.add(p),r[p]&&r[p].hide()},m=Tl(Object.assign(Object.assign({},f),{key:p,destroy:g,hide:g,deactivate:g})),{max:y}=t;if(y&&n.value.length-i.size>=y){let b=!1,x=0;for(const w of n.value){if(!i.has(w.key)){r[w.key]&&(w.destroy(),b=!0);break}x++}b||n.value.splice(x,1)}return n.value.push(m),m}const a=["info","success","warning","error"].map(f=>p=>o(Object.assign(Object.assign({},p),{type:f})));function s(f){i.delete(f),n.value.splice(n.value.findIndex(p=>p.key===f),1)}const l=Ve("Notification","-notification",rhe,Xde,t,e),c={create:o,info:a[0],success:a[1],warning:a[2],error:a[3],open:d,destroyAll:h},u=V(0);zt(Z9,c),zt(mx,{props:t,mergedClsPrefixRef:e,mergedThemeRef:l,wipTransitionCountRef:u});function d(f){return o(f)}function h(){Object.values(n.value).forEach(f=>{f.hide()})}return Object.assign({mergedClsPrefix:e,notificationList:n,notificationRefs:r,handleAfterLeave:s},c)},render(){var t,e,n;const{placement:r}=this;return v(qn,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),this.notificationList.length?v(fh,{to:(n=this.to)!==null&&n!==void 0?n:"body"},v(Qde,{class:this.containerClass,style:this.containerStyle,scrollable:this.scrollable&&r!=="top"&&r!=="bottom",placement:r},{default:()=>this.notificationList.map(i=>v(nhe,Object.assign({ref:o=>{const a=i.key;o===null?delete this.notificationRefs[a]:this.notificationRefs[a]=o}},Xu(i,["destroy","hide","deactivate"]),{internalKey:i.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:i.keepAliveOnHover===void 0?this.keepAliveOnHover:i.keepAliveOnHover})))})):null)}});function tF(){const t=ut(Z9,null);return t===null&&Ii("use-notification","No outer `n-notification-provider` found."),t}const ihe=le({name:"InjectionExtractor",props:{onSetup:Function},setup(t,{slots:e}){var n;return(n=t.onSetup)===null||n===void 0||n.call(t),()=>{var r;return(r=e.default)===null||r===void 0?void 0:r.call(e)}}}),ohe={message:B4,notification:tF,loadingBar:W9,dialog:M9,modal:B9};function ahe({providersAndProps:t,configProviderProps:e}){let n=dL(i);const r={app:n};function i(){return v(OD,Di(e),{default:()=>t.map(({type:s,Provider:l,props:c})=>v(l,Di(c),{default:()=>v(ihe,{onSetup:()=>r[s]=ohe[s]()})}))})}let o;return na&&(o=document.createElement("div"),document.body.appendChild(o),n.mount(o)),Object.assign({unmount:()=>{var s;if(n===null||o===null){go("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=null,n=null}},r)}function nF(t,{configProviderProps:e,messageProviderProps:n,dialogProviderProps:r,notificationProviderProps:i,loadingBarProviderProps:o,modalProviderProps:a}={}){const s=[];return t.forEach(c=>{switch(c){case"message":s.push({type:c,Provider:$4,props:n});break;case"notification":s.push({type:c,Provider:eF,props:i});break;case"dialog":s.push({type:c,Provider:z9,props:r});break;case"loadingBar":s.push({type:c,Provider:V9,props:o});break;case"modal":s.push({type:c,Provider:Q9,props:a})}}),ahe({providersAndProps:s,configProviderProps:e})}function she(t){const{textColor1:e,dividerColor:n,fontWeightStrong:r}=t;return{textColor:e,color:n,fontWeight:r}}const lhe={common:Bt,self:she},che=R("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[an("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[an("no-title",`
 display: flex;
 align-items: center;
 `)]),H("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),U("title-position-left",[H("line",[U("left",{width:"28px"})])]),U("title-position-right",[H("line",[U("right",{width:"28px"})])]),U("dashed",[H("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),U("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),H("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),an("dashed",[H("line",{backgroundColor:"var(--n-color)"})]),U("dashed",[H("line",{borderColor:"var(--n-color)"})]),U("vertical",{backgroundColor:"var(--n-color)"})]),rF=Object.assign(Object.assign({},Ve.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),uhe=le({name:"Divider",props:rF,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Divider","-divider",che,lhe,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{color:s,textColor:l,fontWeight:c}}=r.value;return{"--n-bezier":a,"--n-color":s,"--n-text-color":l,"--n-font-weight":c}}),o=n?Ot("divider",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{$slots:e,titlePlacement:n,vertical:r,dashed:i,cssVars:o,mergedClsPrefix:a}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{role:"separator",class:[`${a}-divider`,this.themeClass,{[`${a}-divider--vertical`]:r,[`${a}-divider--no-title`]:!e.default,[`${a}-divider--dashed`]:i,[`${a}-divider--title-position-${n}`]:e.default&&n}],style:o},r?null:v("div",{class:`${a}-divider__line ${a}-divider__line--left`}),!r&&e.default?v(qn,null,v("div",{class:`${a}-divider__title`},this.$slots),v("div",{class:`${a}-divider__line ${a}-divider__line--right`})):null)}});function dhe(t){const{modalColor:e,textColor1:n,textColor2:r,boxShadow3:i,lineHeight:o,fontWeightStrong:a,dividerColor:s,closeColorHover:l,closeColorPressed:c,closeIconColor:u,closeIconColorHover:d,closeIconColorPressed:h,borderRadius:f,primaryColorHover:p}=t;return{bodyPadding:"16px 24px",borderRadius:f,headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:r,titleTextColor:n,titleFontSize:"18px",titleFontWeight:a,boxShadow:i,lineHeight:o,headerBorderBottom:`1px solid ${s}`,footerBorderTop:`1px solid ${s}`,closeIconColor:u,closeIconColorHover:d,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:c,closeBorderRadius:f,resizableTriggerColorHover:p}}const hhe={name:"Drawer",common:Bt,peers:{Scrollbar:Bo},self:dhe},fhe=le({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(t){const e=V(!!t.show),n=V(null),r=ut(zk);let i=0,o="",a=null;const s=V(!1),l=V(!1),c=L(()=>t.placement==="top"||t.placement==="bottom"),{mergedClsPrefixRef:u,mergedRtlRef:d}=gt(t),h=or("Drawer",d,u),f=S,p=k=>{l.value=!0,i=c.value?k.clientY:k.clientX,o=document.body.style.cursor,document.body.style.cursor=c.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",C),document.body.addEventListener("mouseleave",f),document.body.addEventListener("mouseup",S)},g=()=>{a!==null&&(window.clearTimeout(a),a=null),l.value?s.value=!0:a=window.setTimeout(()=>{s.value=!0},300)},m=()=>{a!==null&&(window.clearTimeout(a),a=null),s.value=!1},{doUpdateHeight:y,doUpdateWidth:b}=r,x=k=>{const{maxWidth:E}=t;if(E&&k>E)return E;const{minWidth:P}=t;return P&&k<P?P:k},w=k=>{const{maxHeight:E}=t;if(E&&k>E)return E;const{minHeight:P}=t;return P&&k<P?P:k};function C(k){var E,P;if(l.value)if(c.value){let _=((E=n.value)===null||E===void 0?void 0:E.offsetHeight)||0;const F=i-k.clientY;_+=t.placement==="bottom"?F:-F,_=w(_),y(_),i=k.clientY}else{let _=((P=n.value)===null||P===void 0?void 0:P.offsetWidth)||0;const F=i-k.clientX;_+=t.placement==="right"?F:-F,_=x(_),b(_),i=k.clientX}}function S(){l.value&&(i=0,l.value=!1,document.body.style.cursor=o,document.body.removeEventListener("mousemove",C),document.body.removeEventListener("mouseup",S),document.body.removeEventListener("mouseleave",f))}er(()=>{t.show&&(e.value=!0)}),qt(()=>t.show,k=>{k||S()}),ir(()=>{S()});const A=L(()=>{const{show:k}=t,E=[[ya,k]];return t.showMask||E.push([xa,t.onClickoutside,void 0,{capture:!0}]),E});function T(){var k;e.value=!1,(k=t.onAfterLeave)===null||k===void 0||k.call(t)}return ML(L(()=>t.blockScroll&&e.value)),zt(Dg,n),zt(cp,null),zt(Fg,null),{bodyRef:n,rtlEnabled:h,mergedClsPrefix:r.mergedClsPrefixRef,isMounted:r.isMountedRef,mergedTheme:r.mergedThemeRef,displayed:e,transitionName:L(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[t.placement]),handleAfterLeave:T,bodyDirectives:A,handleMousedownResizeTrigger:p,handleMouseenterResizeTrigger:g,handleMouseleaveResizeTrigger:m,isDragging:l,isHoverOnResizeTrigger:s}},render(){const{$slots:t,mergedClsPrefix:e}=this;return this.displayDirective==="show"||this.displayed||this.show?ii(v("div",{role:"none"},v(Wk,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>v(hr,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ii(v("div",Xi(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${e}-drawer`,this.rtlEnabled&&`${e}-drawer--rtl`,`${e}-drawer--${this.placement}-placement`,this.isDragging&&`${e}-drawer--unselectable`,this.nativeScrollbar&&`${e}-drawer--native-scrollbar`]}),[this.resizable?v("div",{class:[`${e}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${e}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?v("div",{class:[`${e}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},t):v(Hr,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${e}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),t)]),this.bodyDirectives)})})),[[ya,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:phe,cubicBezierEaseOut:mhe}=wa;function ghe({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-bottom"}={}){return[B(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${phe}`}),B(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${mhe}`}),B(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),B(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),B(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),B(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const{cubicBezierEaseIn:vhe,cubicBezierEaseOut:yhe}=wa;function bhe({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-left"}={}){return[B(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${vhe}`}),B(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${yhe}`}),B(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),B(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),B(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),B(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:xhe,cubicBezierEaseOut:whe}=wa;function Che({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-right"}={}){return[B(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${xhe}`}),B(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${whe}`}),B(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),B(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),B(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),B(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Ahe,cubicBezierEaseOut:She}=wa;function khe({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-top"}={}){return[B(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${Ahe}`}),B(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${She}`}),B(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),B(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),B(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),B(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const Ehe=B([R("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Che(),bhe(),khe(),ghe(),U("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),U("native-scrollbar",[R("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),H("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[U("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),R("drawer-content-wrapper",`
 box-sizing: border-box;
 `),R("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[U("native-scrollbar",[R("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),R("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),R("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),R("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[H("main",`
 flex: 1;
 `),H("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),R("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),U("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),U("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),U("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),U("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),B("body",[B(">",[R("drawer-container",`
 position: fixed;
 `)])]),R("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[B("> *",`
 pointer-events: all;
 `)]),R("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[U("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),vc({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),iF=Object.assign(Object.assign({},Ve.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),The=le({name:"Drawer",inheritAttrs:!1,props:iF,setup(t){const{mergedClsPrefixRef:e,namespaceRef:n,inlineThemeDisabled:r}=gt(t),i=co(),o=Ve("Drawer","-drawer",Ehe,hhe,t,e),a=V(t.defaultWidth),s=V(t.defaultHeight),l=Cn($e(t,"width"),a),c=Cn($e(t,"height"),s),u=L(()=>{const{placement:S}=t;return S==="top"||S==="bottom"?"":Ln(l.value)}),d=L(()=>{const{placement:S}=t;return S==="left"||S==="right"?"":Ln(c.value)}),h=S=>{const{onUpdateWidth:A,"onUpdate:width":T}=t;A&&Fe(A,S),T&&Fe(T,S),a.value=S},f=S=>{const{onUpdateHeight:A,"onUpdate:width":T}=t;A&&Fe(A,S),T&&Fe(T,S),s.value=S},p=L(()=>[{width:u.value,height:d.value},t.drawerStyle||""]);function g(S){const{onMaskClick:A,maskClosable:T}=t;T&&x(!1),A&&A(S)}function m(S){g(S)}const y=LL();function b(S){var A;(A=t.onEsc)===null||A===void 0||A.call(t),t.show&&t.closeOnEsc&&YL(S)&&(y.value||x(!1))}function x(S){const{onHide:A,onUpdateShow:T,"onUpdate:show":k}=t;T&&Fe(T,S),k&&Fe(k,S),A&&!S&&Fe(A,S)}zt(zk,{isMountedRef:i,mergedThemeRef:o,mergedClsPrefixRef:e,doUpdateShow:x,doUpdateHeight:f,doUpdateWidth:h});const w=L(()=>{const{common:{cubicBezierEaseInOut:S,cubicBezierEaseIn:A,cubicBezierEaseOut:T},self:{color:k,textColor:E,boxShadow:P,lineHeight:_,headerPadding:F,footerPadding:N,borderRadius:W,bodyPadding:G,titleFontSize:Z,titleTextColor:ie,titleFontWeight:he,headerBorderBottom:xe,footerBorderTop:Q,closeIconColor:X,closeIconColorHover:K,closeIconColorPressed:ne,closeColorHover:ve,closeColorPressed:Se,closeIconSize:ye,closeSize:Be,closeBorderRadius:J,resizableTriggerColorHover:Ue}}=o.value;return{"--n-line-height":_,"--n-color":k,"--n-border-radius":W,"--n-text-color":E,"--n-box-shadow":P,"--n-bezier":S,"--n-bezier-out":T,"--n-bezier-in":A,"--n-header-padding":F,"--n-body-padding":G,"--n-footer-padding":N,"--n-title-text-color":ie,"--n-title-font-size":Z,"--n-title-font-weight":he,"--n-header-border-bottom":xe,"--n-footer-border-top":Q,"--n-close-icon-color":X,"--n-close-icon-color-hover":K,"--n-close-icon-color-pressed":ne,"--n-close-size":Be,"--n-close-color-hover":ve,"--n-close-color-pressed":Se,"--n-close-icon-size":ye,"--n-close-border-radius":J,"--n-resize-trigger-color-hover":Ue}}),C=r?Ot("drawer",void 0,w,t):void 0;return{mergedClsPrefix:e,namespace:n,mergedBodyStyle:p,handleOutsideClick:m,handleMaskClick:g,handleEsc:b,mergedTheme:o,cssVars:r?void 0:w,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,isMounted:i}},render(){const{mergedClsPrefix:t}=this;return v(Bg,{to:this.to,show:this.show},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),ii(v("div",{class:[`${t}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?v(hr,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?v("div",{"aria-hidden":!0,class:[`${t}-drawer-mask`,this.showMask==="transparent"&&`${t}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,v(fhe,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[$g,{zIndex:this.zIndex,enabled:this.show}]])}})}}),oF={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Rhe=le({name:"DrawerContent",props:oF,slots:Object,setup(){const t=ut(zk,null);t||Ii("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:e}=t;function n(){e(!1)}return{handleCloseClick:n,mergedTheme:t.mergedThemeRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{title:t,mergedClsPrefix:e,nativeScrollbar:n,mergedTheme:r,bodyClass:i,bodyStyle:o,bodyContentClass:a,bodyContentStyle:s,headerClass:l,headerStyle:c,footerClass:u,footerStyle:d,scrollbarProps:h,closable:f,$slots:p}=this;return v("div",{role:"none",class:[`${e}-drawer-content`,n&&`${e}-drawer-content--native-scrollbar`]},p.header||t||f?v("div",{class:[`${e}-drawer-header`,l],style:c,role:"none"},v("div",{class:`${e}-drawer-header__main`,role:"heading","aria-level":"1"},p.header!==void 0?p.header():t),f&&v(Ic,{onClick:this.handleCloseClick,clsPrefix:e,class:`${e}-drawer-header__close`,absolute:!0})):null,n?v("div",{class:[`${e}-drawer-body`,i],style:o,role:"none"},v("div",{class:[`${e}-drawer-body-content-wrapper`,a],style:s,role:"none"},p)):v(Hr,Object.assign({themeOverrides:r.peerOverrides.Scrollbar,theme:r.peers.Scrollbar},h,{class:`${e}-drawer-body`,contentClass:[`${e}-drawer-body-content-wrapper`,a],contentStyle:s}),p),p.footer?v("div",{class:[`${e}-drawer-footer`,u],style:d,role:"none"},p.footer()):null)}}),_he={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"};function Phe(){return _he}const Ihe={name:"DynamicInput",common:Bt,peers:{Input:Ca,Button:Aa},self:Phe},z4="n-dynamic-input",Lhe=le({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,placeholderRef:e}=ut(z4);return{mergedTheme:t,placeholder:e}},render(){const{mergedTheme:t,placeholder:e,value:n,clsPrefix:r,onUpdateValue:i,disabled:o}=this;return v("div",{class:`${r}-dynamic-input-preset-input`},v(_i,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:n,placeholder:e,onUpdateValue:i,disabled:o}))}}),Mhe=le({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(t){const{mergedThemeRef:e,keyPlaceholderRef:n,valuePlaceholderRef:r}=ut(z4);return{mergedTheme:e,keyPlaceholder:n,valuePlaceholder:r,handleKeyInput(i){t.onUpdateValue({key:i,value:t.value.value})},handleValueInput(i){t.onUpdateValue({key:t.value.key,value:i})}}},render(){const{mergedTheme:t,keyPlaceholder:e,valuePlaceholder:n,value:r,clsPrefix:i,disabled:o}=this;return v("div",{class:`${i}-dynamic-input-preset-pair`},v(_i,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:r.key,class:`${i}-dynamic-input-pair-input`,placeholder:e,onUpdateValue:this.handleKeyInput,disabled:o}),v(_i,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:r.value,class:`${i}-dynamic-input-pair-input`,placeholder:n,onUpdateValue:this.handleValueInput,disabled:o}))}}),Ohe=R("dynamic-input",{width:"100%"},[R("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[R("dynamic-input-preset-input",{flex:1,alignItems:"center"}),R("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[R("dynamic-input-pair-input",[B("&:first-child",{"margin-right":"12px"})])]),H("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[U("icon",{cursor:"pointer"})]),B("&:last-child",{marginBottom:0})]),R("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[R("form-item-blank",{paddingTop:"0 !important"})])]),Gv=new WeakMap,aF=Object.assign(Object.assign({},Ve.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),Dhe=le({name:"DynamicInput",props:aF,setup(t,{slots:e}){const{mergedComponentPropsRef:n,mergedClsPrefixRef:r,mergedRtlRef:i,inlineThemeDisabled:o}=gt(),a=ut(Lb,null),s=V(t.defaultValue),c=Cn($e(t,"value"),s),u=Ve("DynamicInput","-dynamic-input",Ohe,Ihe,t,r),d=L(()=>{const{value:k}=c;if(Array.isArray(k)){const{max:E}=t;return E!==void 0&&k.length>=E}return!1}),h=L(()=>{const{value:k}=c;return Array.isArray(k)?k.length<=t.min:!0}),f=L(()=>{var k,E;return(E=(k=n==null?void 0:n.value)===null||k===void 0?void 0:k.DynamicInput)===null||E===void 0?void 0:E.buttonSize});function p(k){const{onInput:E,"onUpdate:value":P,onUpdateValue:_}=t;E&&Fe(E,k),P&&Fe(P,k),_&&Fe(_,k),s.value=k}function g(k,E){if(k==null||typeof k!="object")return E;const P=Au(k)?ur(k):k;let _=Gv.get(P);return _===void 0&&Gv.set(P,_=Zo()),_}function m(k,E){const{value:P}=c,_=Array.from(P??[]),F=_[k];if(_[k]=E,F&&E&&typeof F=="object"&&typeof E=="object"){const N=Au(F)?ur(F):F,W=Au(E)?ur(E):E,G=Gv.get(N);G!==void 0&&Gv.set(W,G)}p(_)}function y(){b(-1)}function b(k){const{value:E}=c,{onCreate:P}=t,_=Array.from(E??[]);if(P)_.splice(k+1,0,P(k+1)),p(_);else if(e.default)_.splice(k+1,0,null),p(_);else switch(t.preset){case"input":_.splice(k+1,0,""),p(_);break;case"pair":_.splice(k+1,0,{key:"",value:""}),p(_);break}}function x(k){const{value:E}=c;if(!Array.isArray(E))return;const{min:P}=t;if(E.length<=P)return;const{onRemove:_}=t;_&&_(k);const F=Array.from(E);F.splice(k,1),p(F)}function w(k,E,P){if(E<0||P<0||E>=k.length||P>=k.length||E===P)return;const _=k[E];k[E]=k[P],k[P]=_}function C(k,E){const{value:P}=c;if(!Array.isArray(P))return;const _=Array.from(P);k==="up"&&w(_,E,E-1),k==="down"&&w(_,E,E+1),p(_)}zt(z4,{mergedThemeRef:u,keyPlaceholderRef:$e(t,"keyPlaceholder"),valuePlaceholderRef:$e(t,"valuePlaceholder"),placeholderRef:$e(t,"placeholder")});const S=or("DynamicInput",i,r),A=L(()=>{const{self:{actionMargin:k,actionMarginRtl:E}}=u.value;return{"--action-margin":k,"--action-margin-rtl":E}}),T=o?Ot("dynamic-input",void 0,A,t):void 0;return{locale:li("DynamicInput").localeRef,rtlEnabled:S,buttonSize:f,mergedClsPrefix:r,NFormItem:a,uncontrolledValue:s,mergedValue:c,insertionDisabled:d,removeDisabled:h,handleCreateClick:y,ensureKey:g,handleValueChange:m,remove:x,move:C,createItem:b,mergedTheme:u,cssVars:o?void 0:A,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){const{$slots:t,itemClass:e,buttonSize:n,mergedClsPrefix:r,mergedValue:i,locale:o,mergedTheme:a,keyField:s,itemStyle:l,preset:c,showSortButton:u,NFormItem:d,ensureKey:h,handleValueChange:f,remove:p,createItem:g,move:m,onRender:y,disabled:b}=this;return y==null||y(),v("div",{class:[`${r}-dynamic-input`,this.rtlEnabled&&`${r}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(i)||i.length===0?v(Qn,Object.assign({block:!0,ghost:!0,dashed:!0,size:n},this.createButtonProps,{disabled:this.insertionDisabled||b,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>sn(t["create-button-default"],()=>[o.create]),icon:()=>sn(t["create-button-icon"],()=>[v(Jt,{clsPrefix:r},{default:()=>v(Yf,null)})])}):i.map((x,w)=>v("div",{key:s?x[s]:h(x,w),"data-key":s?x[s]:h(x,w),class:[`${r}-dynamic-input-item`,e],style:l},ui(t.default,{value:i[w],index:w},()=>[c==="input"?v(Lhe,{disabled:b,clsPrefix:r,value:i[w],parentPath:d?d.path.value:void 0,path:d!=null&&d.path.value?`${d.path.value}[${w}]`:void 0,onUpdateValue:C=>{f(w,C)}}):c==="pair"?v(Mhe,{disabled:b,clsPrefix:r,value:i[w],parentPath:d?d.path.value:void 0,path:d!=null&&d.path.value?`${d.path.value}[${w}]`:void 0,onUpdateValue:C=>{f(w,C)}}):null]),ui(t.action,{value:i[w],index:w,create:g,remove:p,move:m},()=>[v("div",{class:`${r}-dynamic-input-item__action`},v(c4,{size:n},{default:()=>[v(Qn,{disabled:this.removeDisabled||b,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,circle:!0,onClick:()=>{p(w)}},{icon:()=>v(Jt,{clsPrefix:r},{default:()=>v(tO,null)})}),v(Qn,{disabled:this.insertionDisabled||b,circle:!0,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,onClick:()=>{g(w)}},{icon:()=>v(Jt,{clsPrefix:r},{default:()=>v(Yf,null)})}),u?v(Qn,{disabled:w===0||b,circle:!0,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,onClick:()=>{m("up",w)}},{icon:()=>v(Jt,{clsPrefix:r},{default:()=>v(Xne,null)})}):null,u?v(Qn,{disabled:w===i.length-1||b,circle:!0,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,onClick:()=>{m("down",w)}},{icon:()=>v(Jt,{clsPrefix:r},{default:()=>v(QM,null)})}):null]}))]))))}}),Fhe={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function $he(){return Fhe}const sF={name:"Space",self:$he};let a2;function Bhe(){if(!na)return!0;if(a2===void 0){const t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t);const e=t.scrollHeight===1;return document.body.removeChild(t),a2=e}return a2}const lF=Object.assign(Object.assign({},Ve.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),cF=le({name:"Space",props:lF,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=Ve("Space","-space",void 0,sF,t,e),i=or("Space",n,e);return{useGap:Bhe(),rtlEnabled:i,mergedClsPrefix:e,margin:L(()=>{const{size:o}=t;if(Array.isArray(o))return{horizontal:o[0],vertical:o[1]};if(typeof o=="number")return{horizontal:o,vertical:o};const{self:{[We("gap",o)]:a}}=r.value,{row:s,col:l}=wL(a);return{horizontal:pr(l),vertical:pr(s)}})}},render(){const{vertical:t,reverse:e,align:n,inline:r,justify:i,itemClass:o,itemStyle:a,margin:s,wrap:l,mergedClsPrefix:c,rtlEnabled:u,useGap:d,wrapItem:h,internalUseGap:f}=this,p=pa(up(this),!1);if(!p.length)return null;const g=`${s.horizontal}px`,m=`${s.horizontal/2}px`,y=`${s.vertical}px`,b=`${s.vertical/2}px`,x=p.length-1,w=i.startsWith("space-");return v("div",{role:"none",class:[`${c}-space`,u&&`${c}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:t&&!e?"column":t&&e?"column-reverse":!t&&e?"row-reverse":"row",justifyContent:["start","end"].includes(i)?`flex-${i}`:i,flexWrap:!l||t?"nowrap":"wrap",marginTop:d||t?"":`-${b}`,marginBottom:d||t?"":`-${b}`,alignItems:n,gap:d?`${s.vertical}px ${s.horizontal}px`:""}},!h&&(d||f)?p:p.map((C,S)=>C.type===Ki?C:v("div",{role:"none",class:o,style:[a,{maxWidth:"100%"},d?"":t?{marginBottom:S!==x?y:""}:u?{marginLeft:w?i==="space-between"&&S===x?"":m:S!==x?g:"",marginRight:w?i==="space-between"&&S===0?"":m:"",paddingTop:b,paddingBottom:b}:{marginRight:w?i==="space-between"&&S===x?"":m:S!==x?g:"",marginLeft:w?i==="space-between"&&S===0?"":m:"",paddingTop:b,paddingBottom:b}]},C)))}}),Nhe={name:"DynamicTags",common:Bt,peers:{Input:Ca,Button:Aa,Tag:fO,Space:sF},self(){return{inputWidth:"64px"}}},zhe=R("dynamic-tags",[R("input",{minWidth:"var(--n-input-width)"})]),uF=Object.assign(Object.assign(Object.assign({},Ve.props),pO),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:t=>t},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),Hhe=le({name:"DynamicTags",props:uF,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),{localeRef:r}=li("DynamicTags"),i=di(t),{mergedDisabledRef:o}=i,a=V(""),s=V(!1),l=V(!0),c=V(null),u=Ve("DynamicTags","-dynamic-tags",zhe,Nhe,t,e),d=V(t.defaultValue),f=Cn($e(t,"value"),d),p=L(()=>r.value.add),g=L(()=>oA(t.size)),m=L(()=>o.value||!!t.max&&f.value.length>=t.max);function y(k){const{onChange:E,"onUpdate:value":P,onUpdateValue:_}=t,{nTriggerFormInput:F,nTriggerFormChange:N}=i;E&&Fe(E,k),_&&Fe(_,k),P&&Fe(P,k),d.value=k,F(),N()}function b(k){const E=f.value.slice(0);E.splice(k,1),y(E)}function x(k){switch(k.key){case"Enter":w()}}function w(k){const E=k??a.value;if(E){const P=f.value.slice(0);P.push(t.onCreate(E)),y(P)}s.value=!1,l.value=!0,a.value=""}function C(){w()}function S(){s.value=!0,vn(()=>{var k;(k=c.value)===null||k===void 0||k.focus(),l.value=!1})}const A=L(()=>{const{self:{inputWidth:k}}=u.value;return{"--n-input-width":k}}),T=n?Ot("dynamic-tags",void 0,A,t):void 0;return{mergedClsPrefix:e,inputInstRef:c,localizedAdd:p,inputSize:g,inputValue:a,showInput:s,inputForceFocused:l,mergedValue:f,mergedDisabled:o,triggerDisabled:m,handleInputKeyDown:x,handleAddClick:S,handleInputBlur:C,handleCloseClick:b,handleInputConfirm:w,mergedTheme:u,cssVars:n?void 0:A,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){const{mergedTheme:t,cssVars:e,mergedClsPrefix:n,onRender:r,renderTag:i}=this;return r==null||r(),v(cF,{class:[`${n}-dynamic-tags`,this.themeClass],size:"small",style:e,theme:t.peers.Space,themeOverrides:t.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{const{mergedTheme:o,tagClass:a,tagStyle:s,type:l,round:c,size:u,color:d,closable:h,mergedDisabled:f,showInput:p,inputValue:g,inputClass:m,inputStyle:y,inputSize:b,inputForceFocused:x,triggerDisabled:w,handleInputKeyDown:C,handleInputBlur:S,handleAddClick:A,handleCloseClick:T,handleInputConfirm:k,$slots:E}=this;return this.mergedValue.map((P,_)=>i?i(P,_):v(N0,{key:_,theme:o.peers.Tag,themeOverrides:o.peerOverrides.Tag,class:a,style:s,type:l,round:c,size:u,color:d,closable:h,disabled:f,onClose:()=>{T(_)}},{default:()=>typeof P=="string"?P:P.label})).concat(p?E.input?E.input({submit:k,deactivate:S}):v(_i,Object.assign({placeholder:"",size:b,style:y,class:m,autosize:!0},this.inputProps,{ref:"inputInstRef",value:g,onUpdateValue:P=>{this.inputValue=P},theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,onKeydown:C,onBlur:S,internalForceFocus:x})):E.trigger?E.trigger({activate:A,disabled:w}):v(Qn,{dashed:!0,disabled:w,theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:b,onClick:A},{icon:()=>v(Jt,{clsPrefix:n},{default:()=>v(Yf,null)})}))}})}}),Uhe={common:Bt},dF=Object.assign(Object.assign({},Ve.props),{tag:{type:String,default:"div"}}),z6=le({name:"Element",alias:["El"],props:dF,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Element","-element",void 0,Uhe,t,e),i=L(()=>{const{common:a}=r.value;return Object.keys(a).reduce((s,l)=>(s[`--${KM(l)}`]=a[l],s),{})}),o=n?Ot("element",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{tag:e,mergedClsPrefix:n,cssVars:r,themeClass:i,onRender:o,$slots:a}=this;return o==null||o(),v(e,{role:"none",class:[`${n}-element`,i],style:r},(t=a.default)===null||t===void 0?void 0:t.call(a))}}),hF={value:String,katex:Object,katexOptions:Object},jhe=le({name:"Equation",props:hF,setup(t){const e=ut(Jo),n=L(()=>{var r;const i=((r=t.katex||(e==null?void 0:e.mergedKatexRef.value))===null||r===void 0?void 0:r.renderToString(t.value||"",Object.assign({throwOnError:!1},t.katexOptions)))||"no katex provided",o=i.match(/^<([a-z]+)[^>]+class="([^"]+)"[^>]*>/),a=(o==null?void 0:o[1])||"span",s=o==null?void 0:o[2],l=i.replace(/^<[a-z]+[^>]*>/,"").replace(/<\/[a-z]+>$/,"");return{wrapperTag:a,innerHtml:l,wrapperClass:s}});return()=>{const{innerHtml:r,wrapperClass:i,wrapperTag:o}=n.value;return v(o,{class:i,innerHTML:r})}}}),Vhe={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function Whe(){return Vhe}const qhe={self:Whe},fF=Object.assign(Object.assign({},Ve.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),Khe=le({name:"Flex",props:fF,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t),r=Ve("Flex","-flex",void 0,qhe,t,e);return{rtlEnabled:or("Flex",n,e),mergedClsPrefix:e,margin:L(()=>{const{size:o}=t;if(Array.isArray(o))return{horizontal:o[0],vertical:o[1]};if(typeof o=="number")return{horizontal:o,vertical:o};const{self:{[We("gap",o)]:a}}=r.value,{row:s,col:l}=wL(a);return{horizontal:pr(l),vertical:pr(s)}})}},render(){const{vertical:t,reverse:e,align:n,inline:r,justify:i,margin:o,wrap:a,mergedClsPrefix:s,rtlEnabled:l}=this,c=pa(up(this),!1);return c.length?v("div",{role:"none",class:[`${s}-flex`,l&&`${s}-flex--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:t&&!e?"column":t&&e?"column-reverse":!t&&e?"row-reverse":"row",justifyContent:i,flexWrap:!a||t?"nowrap":"wrap",alignItems:n,gap:`${o.vertical}px ${o.horizontal}px`}},c):null}}),Ghe={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"};function Yhe(t){const{heightSmall:e,heightMedium:n,heightLarge:r,textColor1:i,errorColor:o,warningColor:a,lineHeight:s,textColor3:l}=t;return Object.assign(Object.assign({},Ghe),{blankHeightSmall:e,blankHeightMedium:n,blankHeightLarge:r,lineHeight:s,labelTextColor:i,asteriskColor:o,feedbackTextColorError:o,feedbackTextColorWarning:a,feedbackTextColor:l})}const pF={common:Bt,self:Yhe};function Xhe(t){const{primaryColor:e,successColor:n,warningColor:r,errorColor:i,infoColor:o,fontWeightStrong:a}=t;return{fontWeight:a,rotate:"252deg",colorStartPrimary:dn(e,{alpha:.6}),colorEndPrimary:e,colorStartInfo:dn(o,{alpha:.6}),colorEndInfo:o,colorStartWarning:dn(r,{alpha:.6}),colorEndWarning:r,colorStartError:dn(i,{alpha:.6}),colorEndError:i,colorStartSuccess:dn(n,{alpha:.6}),colorEndSuccess:n}}const Qhe={common:Bt,self:Xhe};function Zhe(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}const Jhe={name:"InputNumber",common:Bt,peers:{Button:Aa,Input:Ca},self:Zhe};function efe(){return{inputWidthSmall:"24px",inputWidthMedium:"30px",inputWidthLarge:"36px",gapSmall:"8px",gapMedium:"8px",gapLarge:"8px"}}const tfe={name:"InputOtp",common:Bt,peers:{Input:Ca},self:efe};function nfe(t){const{baseColor:e,textColor2:n,bodyColor:r,cardColor:i,dividerColor:o,actionColor:a,scrollbarColor:s,scrollbarColorHover:l,invertedColor:c}=t;return{textColor:n,textColorInverted:"#FFF",color:r,colorEmbedded:a,headerColor:i,headerColorInverted:c,footerColor:a,footerColorInverted:c,headerBorderColor:o,headerBorderColorInverted:c,footerBorderColor:o,footerBorderColorInverted:c,siderBorderColor:o,siderBorderColorInverted:c,siderColor:i,siderColorInverted:c,siderToggleButtonBorder:`1px solid ${o}`,siderToggleButtonColor:e,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:rn(r,s),siderToggleBarColorHover:rn(r,l),__invertScrollbar:"true"}}const gx={name:"Layout",common:Bt,peers:{Scrollbar:Bo},self:nfe};function rfe(t){const{textColor2:e,cardColor:n,modalColor:r,popoverColor:i,dividerColor:o,borderRadius:a,fontSize:s,hoverColor:l}=t;return{textColor:e,color:n,colorHover:l,colorModal:r,colorHoverModal:rn(r,l),colorPopover:i,colorHoverPopover:rn(i,l),borderColor:o,borderColorModal:rn(r,o),borderColorPopover:rn(i,o),borderRadius:a,fontSize:s}}const ife={common:Bt,self:rfe};function ofe(t){const{textColor2:e,modalColor:n,borderColor:r,fontSize:i,primaryColor:o}=t;return{loaderFontSize:i,loaderTextColor:e,loaderColor:n,loaderBorder:`1px solid ${r}`,loadingColor:o}}const afe={name:"Log",common:Bt,peers:{Scrollbar:Bo,Code:SD},self:ofe};function sfe(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const lfe={name:"Mention",common:Bt,peers:{InternalSelectMenu:hp,Input:Ca},self:sfe};function cfe(t,e,n,r){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:n,itemTextColorChildActiveInverted:n,itemTextColorChildActiveHoverInverted:n,itemTextColorActiveInverted:n,itemTextColorActiveHoverInverted:n,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:n,itemTextColorChildActiveHorizontalInverted:n,itemTextColorChildActiveHoverHorizontalInverted:n,itemTextColorActiveHorizontalInverted:n,itemTextColorActiveHoverHorizontalInverted:n,itemIconColorInverted:t,itemIconColorHoverInverted:n,itemIconColorActiveInverted:n,itemIconColorActiveHoverInverted:n,itemIconColorChildActiveInverted:n,itemIconColorChildActiveHoverInverted:n,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:n,itemIconColorActiveHorizontalInverted:n,itemIconColorActiveHoverHorizontalInverted:n,itemIconColorChildActiveHorizontalInverted:n,itemIconColorChildActiveHoverHorizontalInverted:n,arrowColorInverted:t,arrowColorHoverInverted:n,arrowColorActiveInverted:n,arrowColorActiveHoverInverted:n,arrowColorChildActiveInverted:n,arrowColorChildActiveHoverInverted:n,groupTextColorInverted:r}}function ufe(t){const{borderRadius:e,textColor3:n,primaryColor:r,textColor2:i,textColor1:o,fontSize:a,dividerColor:s,hoverColor:l,primaryColorHover:c}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:n,itemColorHover:l,itemColorActive:dn(r,{alpha:.1}),itemColorActiveHover:dn(r,{alpha:.1}),itemColorActiveCollapsed:dn(r,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:r,itemTextColorActiveHover:r,itemTextColorChildActive:r,itemTextColorChildActiveHover:r,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:c,itemTextColorActiveHorizontal:r,itemTextColorActiveHoverHorizontal:r,itemTextColorChildActiveHorizontal:r,itemTextColorChildActiveHoverHorizontal:r,itemIconColor:o,itemIconColorHover:o,itemIconColorActive:r,itemIconColorActiveHover:r,itemIconColorChildActive:r,itemIconColorChildActiveHover:r,itemIconColorCollapsed:o,itemIconColorHorizontal:o,itemIconColorHoverHorizontal:c,itemIconColorActiveHorizontal:r,itemIconColorActiveHoverHorizontal:r,itemIconColorChildActiveHorizontal:r,itemIconColorChildActiveHoverHorizontal:r,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:r,arrowColorActiveHover:r,arrowColorChildActive:r,arrowColorChildActiveHover:r,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:a,dividerColor:s},cfe("#BBB",r,"#FFF","#AAA"))}const dfe={name:"Menu",common:Bt,peers:{Tooltip:dx,Dropdown:w4},self:ufe},hfe={titleFontSize:"18px",backSize:"22px"};function ffe(t){const{textColor1:e,textColor2:n,textColor3:r,fontSize:i,fontWeightStrong:o,primaryColorHover:a,primaryColorPressed:s}=t;return Object.assign(Object.assign({},hfe),{titleFontWeight:o,fontSize:i,titleTextColor:e,backColor:n,backColorHover:a,backColorPressed:s,subtitleTextColor:r})}const pfe={name:"PageHeader",common:Bt,self:ffe},mfe={iconSize:"22px"};function gfe(t){const{fontSize:e,warningColor:n}=t;return Object.assign(Object.assign({},mfe),{fontSize:e,iconColor:n})}const vfe={name:"Popconfirm",common:Bt,peers:{Button:Aa,Popover:wh},self:gfe};function yfe(t){const{infoColor:e,successColor:n,warningColor:r,errorColor:i,textColor2:o,progressRailColor:a,fontSize:s,fontWeight:l}=t;return{fontSize:s,fontSizeCircle:"28px",fontWeightCircle:l,railColor:a,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:n,iconColorWarning:r,iconColorError:i,textColorCircle:o,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:o,fillColor:e,fillColorInfo:e,fillColorSuccess:n,fillColorWarning:r,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}}const mF={name:"Progress",common:Bt,self:yfe};function bfe(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#FFCC33",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}const xfe={common:Bt,self:bfe},wfe={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0};function Cfe(t){const{textColor2:e,textColor1:n,errorColor:r,successColor:i,infoColor:o,warningColor:a,lineHeight:s,fontWeightStrong:l}=t;return Object.assign(Object.assign({},wfe),{lineHeight:s,titleFontWeight:l,titleTextColor:n,textColor:e,iconColorError:r,iconColorSuccess:i,iconColorInfo:o,iconColorWarning:a})}const Afe={common:Bt,self:Cfe},Sfe={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"};function kfe(t){const e="rgba(0, 0, 0, .85)",n="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,primaryColor:i,baseColor:o,cardColor:a,modalColor:s,popoverColor:l,borderRadius:c,fontSize:u,opacityDisabled:d}=t;return Object.assign(Object.assign({},Sfe),{fontSize:u,markFontSize:u,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:d,handleColor:"#FFF",dotColor:a,dotColorModal:s,dotColorPopover:l,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:e,indicatorBoxShadow:n,indicatorTextColor:o,indicatorBorderRadius:c,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}const Efe={common:Bt,self:kfe};function Tfe(t){const{opacityDisabled:e,heightTiny:n,heightSmall:r,heightMedium:i,heightLarge:o,heightHuge:a,primaryColor:s,fontSize:l}=t;return{fontSize:l,textColor:s,sizeTiny:n,sizeSmall:r,sizeMedium:i,sizeLarge:o,sizeHuge:a,color:s,opacitySpinning:e}}const Rfe={common:Bt,self:Tfe};function _fe(t){const{textColor2:e,textColor3:n,fontSize:r,fontWeight:i}=t;return{labelFontSize:r,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:n,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}}const Pfe={common:Bt,self:_fe},Ife={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"};function Lfe(t){const{fontWeightStrong:e,baseColor:n,textColorDisabled:r,primaryColor:i,errorColor:o,textColor1:a,textColor2:s}=t;return Object.assign(Object.assign({},Ife),{stepHeaderFontWeight:e,indicatorTextColorProcess:n,indicatorTextColorWait:r,indicatorTextColorFinish:i,indicatorTextColorError:o,indicatorBorderColorProcess:i,indicatorBorderColorWait:r,indicatorBorderColorFinish:i,indicatorBorderColorError:o,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:r,splitorColorWait:r,splitorColorFinish:i,splitorColorError:r,headerTextColorProcess:a,headerTextColorWait:r,headerTextColorFinish:r,headerTextColorError:o,descriptionTextColorProcess:s,descriptionTextColorWait:r,descriptionTextColorFinish:r,descriptionTextColorError:o})}const Mfe={common:Bt,self:Lfe},Ofe={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};function Dfe(t){const{primaryColor:e,opacityDisabled:n,borderRadius:r,textColor3:i}=t;return Object.assign(Object.assign({},Ofe),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 0 2px ${dn(e,{alpha:.2})}`})}const Ffe={common:Bt,self:Dfe},$fe={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"};function Bfe(t){const{dividerColor:e,cardColor:n,modalColor:r,popoverColor:i,tableHeaderColor:o,tableColorStriped:a,textColor1:s,textColor2:l,borderRadius:c,fontWeightStrong:u,lineHeight:d,fontSizeSmall:h,fontSizeMedium:f,fontSizeLarge:p}=t;return Object.assign(Object.assign({},$fe),{fontSizeSmall:h,fontSizeMedium:f,fontSizeLarge:p,lineHeight:d,borderRadius:c,borderColor:rn(n,e),borderColorModal:rn(r,e),borderColorPopover:rn(i,e),tdColor:n,tdColorModal:r,tdColorPopover:i,tdColorStriped:rn(n,a),tdColorStripedModal:rn(r,a),tdColorStripedPopover:rn(i,a),thColor:rn(n,o),thColorModal:rn(r,o),thColorPopover:rn(i,o),thTextColor:s,tdTextColor:l,thFontWeight:u})}const Nfe={common:Bt,self:Bfe},zfe={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"};function Hfe(t){const{textColor2:e,primaryColor:n,textColorDisabled:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeColorHover:s,closeColorPressed:l,tabColor:c,baseColor:u,dividerColor:d,fontWeight:h,textColor1:f,borderRadius:p,fontSize:g,fontWeightStrong:m}=t;return Object.assign(Object.assign({},zfe),{colorSegment:c,tabFontSizeCard:g,tabTextColorLine:f,tabTextColorActiveLine:n,tabTextColorHoverLine:n,tabTextColorDisabledLine:r,tabTextColorSegment:f,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:r,tabTextColorBar:f,tabTextColorActiveBar:n,tabTextColorHoverBar:n,tabTextColorDisabledBar:r,tabTextColorCard:f,tabTextColorHoverCard:f,tabTextColorActiveCard:n,tabTextColorDisabledCard:r,barColor:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeColorHover:s,closeColorPressed:l,closeBorderRadius:p,tabColor:c,tabColorSegment:u,tabBorderColor:d,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:p,paneTextColor:e,fontWeightStrong:m})}const Ufe={common:Bt,self:Hfe};function jfe(t){const{textColor1:e,textColor2:n,fontWeightStrong:r,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:n,titleFontWeight:r}}const Vfe={common:Bt,self:jfe},Wfe={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"};function qfe(t){const{textColor3:e,infoColor:n,errorColor:r,successColor:i,warningColor:o,textColor1:a,textColor2:s,railColor:l,fontWeightStrong:c,fontSize:u}=t;return Object.assign(Object.assign({},Wfe),{contentFontSize:u,titleFontWeight:c,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${n}`,circleBorderError:`2px solid ${r}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${o}`,iconColor:e,iconColorInfo:n,iconColorError:r,iconColorSuccess:i,iconColorWarning:o,titleTextColor:a,contentTextColor:s,metaTextColor:e,lineColor:l})}const Kfe={common:Bt,self:qfe},Gfe={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"};function Yfe(t){const{fontWeight:e,fontSizeLarge:n,fontSizeMedium:r,fontSizeSmall:i,heightLarge:o,heightMedium:a,borderRadius:s,cardColor:l,tableHeaderColor:c,textColor1:u,textColorDisabled:d,textColor2:h,textColor3:f,borderColor:p,hoverColor:g,closeColorHover:m,closeColorPressed:y,closeIconColor:b,closeIconColorHover:x,closeIconColorPressed:w}=t;return Object.assign(Object.assign({},Gfe),{itemHeightSmall:a,itemHeightMedium:a,itemHeightLarge:o,fontSizeSmall:i,fontSizeMedium:r,fontSizeLarge:n,borderRadius:s,dividerColor:p,borderColor:p,listColor:l,headerColor:rn(l,c),titleTextColor:u,titleTextColorDisabled:d,extraTextColor:f,extraTextColorDisabled:d,itemTextColor:h,itemTextColorDisabled:d,itemColorPending:g,titleFontWeight:e,closeColorHover:m,closeColorPressed:y,closeIconColor:b,closeIconColorHover:x,closeIconColorPressed:w})}const Xfe={name:"Transfer",common:Bt,peers:{Checkbox:pp,Scrollbar:Bo,Input:Ca,Empty:ed,Button:Aa},self:Yfe};function Qfe(t){const{borderRadiusSmall:e,dividerColor:n,hoverColor:r,pressedColor:i,primaryColor:o,textColor3:a,textColor2:s,textColorDisabled:l,fontSize:c}=t;return{fontSize:c,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:i,nodeColorActive:dn(o,{alpha:.1}),arrowColor:a,nodeTextColor:s,nodeTextColorDisabled:l,loadingColor:o,dropMarkColor:o,lineColor:n}}const gF={name:"Tree",common:Bt,peers:{Checkbox:pp,Scrollbar:Bo,Empty:ed},self:Qfe};function Zfe(t){const{popoverColor:e,boxShadow2:n,borderRadius:r,heightMedium:i,dividerColor:o,textColor2:a}=t;return{menuPadding:"4px",menuColor:e,menuBoxShadow:n,menuBorderRadius:r,menuHeight:`calc(${i} * 7.6)`,actionDividerColor:o,actionTextColor:a,actionPadding:"8px 12px",headerDividerColor:o,headerTextColor:a,headerPadding:"8px 12px"}}const Jfe={name:"TreeSelect",common:Bt,peers:{Tree:gF,Empty:ed,InternalSelection:cx},self:Zfe},epe={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"};function tpe(t){const{primaryColor:e,textColor2:n,borderColor:r,lineHeight:i,fontSize:o,borderRadiusSmall:a,dividerColor:s,fontWeightStrong:l,textColor1:c,textColor3:u,infoColor:d,warningColor:h,errorColor:f,successColor:p,codeColor:g}=t;return Object.assign(Object.assign({},epe),{aTextColor:e,blockquoteTextColor:n,blockquotePrefixColor:r,blockquoteLineHeight:i,blockquoteFontSize:o,codeBorderRadius:a,liTextColor:n,liLineHeight:i,liFontSize:o,hrColor:s,headerFontWeight:l,headerTextColor:c,pTextColor:n,pTextColor1Depth:c,pTextColor2Depth:n,pTextColor3Depth:u,pLineHeight:i,pFontSize:o,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:d,headerBarColorError:f,headerBarColorWarning:h,headerBarColorSuccess:p,textColor:n,textColor1Depth:c,textColor2Depth:n,textColor3Depth:u,textColorPrimary:e,textColorInfo:d,textColorSuccess:p,textColorWarning:h,textColorError:f,codeTextColor:n,codeColor:g,codeBorder:"1px solid #0000"})}const td={common:Bt,self:tpe};function npe(t){const{iconColor:e,primaryColor:n,errorColor:r,textColor2:i,successColor:o,opacityDisabled:a,actionColor:s,borderColor:l,hoverColor:c,lineHeight:u,borderRadius:d,fontSize:h}=t;return{fontSize:h,lineHeight:u,borderRadius:d,draggerColor:s,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${n}`,itemColorHover:c,itemColorHoverError:dn(r,{alpha:.06}),itemTextColor:i,itemTextColorError:r,itemTextColorSuccess:o,itemIconColor:e,itemDisabledOpacity:a,itemBorderImageCardError:`1px solid ${r}`,itemBorderImageCard:`1px solid ${l}`}}const rpe={name:"Upload",common:Bt,peers:{Button:Aa,Progress:mF},self:npe},ipe={name:"Watermark",common:Bt,self(t){const{fontFamily:e}=t;return{fontFamily:e}}};function ope(t){const{popoverColor:e,dividerColor:n,borderRadius:r}=t;return{color:e,buttonBorderColor:n,borderRadiusSquare:r,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}const ape={common:Bt,self:ope},spe=R("float-button-group",[R("float-button",`
 position: relative;
 `),U("square-shape",`
 background-color: var(--n-color);
 cursor: pointer;
 display: flex;
 width: fit-content;
 align-items: center;
 justify-content: center;
 border-radius: var(--n-border-radius-square);
 flex-direction: column;
 box-shadow: var(--n-box-shadow);
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[R("float-button",`
 background-color: unset;
 border-radius: 0;
 box-shadow: none;
 box-sizing: content-box;
 `,[B("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-button-border-color); 
 `),B("&:first-child",`
 border-top-left-radius: 4px;
 border-top-right-radius: 4px;
 `),B("&:last-child",`
 border-bottom-left-radius: 4px;
 border-bottom-right-radius: 4px;
 `),H("fill",`
 top: 4px;
 right: 4px;
 bottom: 4px;
 left: 4px;
 border-radius: var(--n-border-radius-square); 
 `)])]),U("circle-shape",[B(">:not(:last-child)",`
 margin-bottom: 16px;
 `)])]),vF=Object.assign(Object.assign({},Ve.props),{left:[Number,String],right:[Number,String],top:[Number,String],bottom:[Number,String],shape:{type:String,default:"circle"},position:{type:String,default:"fixed"}}),yF="n-float-button-group",lpe=le({name:"FloatButtonGroup",props:vF,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("FloatButtonGroup","-float-button-group",spe,ape,t,e),i=L(()=>{const{self:{color:a,boxShadow:s,buttonBorderColor:l,borderRadiusSquare:c},common:{cubicBezierEaseInOut:u}}=r.value;return{"--n-bezier":u,"--n-box-shadow":s,"--n-color":a,"--n-button-border-color":l,"--n-border-radius-square":c,position:t.position,left:Ln(t.left)||"",right:Ln(t.right)||"",top:Ln(t.top)||"",bottom:Ln(t.bottom)||""}});zt(yF,{shapeRef:$e(t,"shape")});const o=n?Ot("float-button",void 0,i,t):void 0;return{cssVars:n?void 0:i,mergedClsPrefix:e,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){const{mergedClsPrefix:t,cssVars:e,shape:n}=this;return v("div",{class:[`${t}-float-button-group`,`${t}-float-button-group--${n}-shape`],style:e,role:"group"},this.$slots)}});function cpe(t){const{popoverColor:e,textColor2:n,buttonColor2Hover:r,buttonColor2Pressed:i,primaryColor:o,primaryColorHover:a,primaryColorPressed:s,borderRadius:l}=t;return{color:e,colorHover:r,colorPressed:i,colorPrimary:o,colorPrimaryHover:a,colorPrimaryPressed:s,textColor:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .16)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .24)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .24)",textColorPrimary:"#fff",borderRadiusSquare:l}}const upe={common:Bt,self:cpe},dpe=R("float-button",`
 user-select: none;
 cursor: pointer;
 color: var(--n-text-color);
 background-color: var(--n-color);
 font-size: 18px;
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-shadow: var(--n-box-shadow);
 display: flex;
 align-items: stretch;
 box-sizing: border-box;
`,[U("circle-shape",`
 border-radius: 4096px;
 `),U("square-shape",`
 border-radius: var(--n-border-radius-square);
 `),H("fill",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0
 left: 0;
 transition: background-color .3s var(--n-bezier);
 border-radius: inherit;
 `),H("body",`
 position: relative;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: transform .3s var(--n-bezier), opacity .3s var(--n-bezier);
 border-radius: inherit;
 flex-direction: column;
 box-sizing: border-box;
 padding: 2px 4px;
 gap: 2px;
 transform: scale(1);
 `,[H("description",`
 font-size: 12px;
 text-align: center;
 line-height: 14px;
 `)]),B("&:hover","box-shadow: var(--n-box-shadow-hover);",[B(">",[H("fill",`
 background-color: var(--n-color-hover);
 `)])]),B("&:active","box-shadow: var(--n-box-shadow-pressed);",[B(">",[H("fill",`
 background-color: var(--n-color-pressed);
 `)])]),U("show-menu",[B(">",[H("menu",`
 pointer-events: all;
 bottom: 100%;
 opacity: 1;
 `),H("close",`
 transform: scale(1);
 opacity: 1;
 `),H("body",`
 transform: scale(0.75);
 opacity: 0;
 `)])]),H("close",`
 opacity: 0;
 transform: scale(0.75);
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: transform .3s var(--n-bezier), opacity .3s var(--n-bezier);
 `),H("menu",`
 position: absolute;
 bottom: calc(100% - 8px);
 display: flex;
 flex-direction: column;
 opacity: 0;
 pointer-events: none;
 transition:
 opacity .3s var(--n-bezier),
 bottom .3s var(--n-bezier); 
 `,[B("> *",`
 margin-bottom: 16px;
 `),R("float-button",`
 position: relative !important;
 `)])]),bF=Object.assign(Object.assign({},Ve.props),{width:{type:[Number,String],default:40},height:{type:[Number,String],default:40},left:[Number,String],right:[Number,String],top:[Number,String],bottom:[Number,String],shape:{type:String,default:"circle"},position:{type:String,default:"fixed"},type:{type:String,default:"default"},menuTrigger:String,showMenu:{type:Boolean,default:void 0},onUpdateShowMenu:{type:[Function,Array],default:void 0},"onUpdate:showMenu":{type:[Function,Array],default:void 0}}),hpe=le({name:"FloatButton",props:bF,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=V(null),i=Ve("FloatButton","-float-button",dpe,upe,t,e),o=ut(yF,null),a=V(!1),l=Cn($e(t,"showMenu"),a);function c(y){const{onUpdateShowMenu:b,"onUpdate:showMenu":x}=t;a.value=y,b&&Fe(b,y),x&&Fe(x,y)}const u=L(()=>{const{self:{color:y,textColor:b,boxShadow:x,boxShadowHover:w,boxShadowPressed:C,colorHover:S,colorPrimary:A,colorPrimaryHover:T,textColorPrimary:k,borderRadiusSquare:E,colorPressed:P,colorPrimaryPressed:_},common:{cubicBezierEaseInOut:F}}=i.value,{type:N}=t;return{"--n-bezier":F,"--n-box-shadow":x,"--n-box-shadow-hover":w,"--n-box-shadow-pressed":C,"--n-color":N==="primary"?A:y,"--n-text-color":N==="primary"?k:b,"--n-color-hover":N==="primary"?T:S,"--n-color-pressed":N==="primary"?_:P,"--n-border-radius-square":E}}),d=L(()=>{const{width:y,height:b}=t;return Object.assign({position:o?void 0:t.position,width:Ln(y),minHeight:Ln(b)},o?null:{left:Ln(t.left),right:Ln(t.right),top:Ln(t.top),bottom:Ln(t.bottom)})}),h=L(()=>o?o.shapeRef.value:t.shape),f=()=>{t.menuTrigger==="hover"&&c(!0)},p=()=>{t.menuTrigger==="hover"&&l.value&&c(!1)},g=()=>{t.menuTrigger==="click"&&c(!l.value)},m=n?Ot("float-button",L(()=>t.type[0]),u,t):void 0;return jn(()=>{const y=r.value;y&&wn("mousemoveoutside",y,p)}),ir(()=>{const y=r.value;y&&xn("mousemoveoutside",y,p)}),{inlineStyle:d,selfElRef:r,cssVars:n?void 0:u,mergedClsPrefix:e,mergedShape:h,mergedShowMenu:l,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender,Mouseenter:f,handleMouseleave:p,handleClick:g}},render(){var t;const{mergedClsPrefix:e,cssVars:n,mergedShape:r,type:i,menuTrigger:o,mergedShowMenu:a,themeClass:s,$slots:l,inlineStyle:c,onRender:u}=this;return u==null||u(),v("div",{ref:"selfElRef",class:[`${e}-float-button`,`${e}-float-button--${r}-shape`,`${e}-float-button--${i}-type`,a&&`${e}-float-button--show-menu`,s],style:[n,c],onMouseenter:this.Mouseenter,onMouseleave:this.handleMouseleave,onClick:this.handleClick,role:"button"},v("div",{class:`${e}-float-button__fill`,"aria-hidden":!0}),v("div",{class:`${e}-float-button__body`},(t=l.default)===null||t===void 0?void 0:t.call(l),bn(l.description,d=>d?v("div",{class:`${e}-float-button__description`},d):null)),o?v("div",{class:`${e}-float-button__close`},v(Jt,{clsPrefix:e},{default:()=>v(o4,null)})):null,o?v("div",{onClick:d=>{d.stopPropagation()},"data-float-button-menu":!0,class:`${e}-float-button__menu`},sn(l.menu,()=>[])):null)}}),Kg="n-form",xF="n-form-item-insts",fpe=R("form",[U("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[R("form-item",{width:"auto",marginRight:"18px"},[B("&:last-child",{marginRight:0})])])]);var ppe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const wF=Object.assign(Object.assign({},Ve.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>{t.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),CF=le({name:"Form",props:wF,setup(t){const{mergedClsPrefixRef:e}=gt(t);Ve("Form","-form",fpe,pF,t,e);const n={},r=V(void 0),i=l=>{const c=r.value;(c===void 0||l>=c)&&(r.value=l)};function o(l){return ppe(this,arguments,void 0,function*(c,u=()=>!0){return yield new Promise((d,h)=>{const f=[];for(const p of vo(n)){const g=n[p];for(const m of g)m.path&&f.push(m.internalValidate(null,u))}Promise.all(f).then(p=>{const g=p.some(b=>!b.valid),m=[],y=[];p.forEach(b=>{var x,w;!((x=b.errors)===null||x===void 0)&&x.length&&m.push(b.errors),!((w=b.warnings)===null||w===void 0)&&w.length&&y.push(b.warnings)}),c&&c(m.length?m:void 0,{warnings:y.length?y:void 0}),g?h(m.length?m:void 0):d({warnings:y.length?y:void 0})})})})}function a(){for(const l of vo(n)){const c=n[l];for(const u of c)u.restoreValidation()}}return zt(Kg,{props:t,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:i}),zt(xF,{formItems:n}),Object.assign({validate:o,restoreValidation:a},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:t}=this;return v("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}function mpe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ng(t,e)}function IA(t){return IA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IA(t)}function ng(t,e){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ng(t,e)}function gpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wy(t,e,n){return gpe()?Wy=Reflect.construct.bind():Wy=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),c=new l;return a&&ng(c,a.prototype),c},Wy.apply(null,arguments)}function vpe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function LA(t){var e=typeof Map=="function"?new Map:void 0;return LA=function(r){if(r===null||!vpe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Wy(r,arguments,IA(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ng(i,r)},LA(t)}var ype=/%[sdj%]/g,bpe=function(){};function MA(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Oa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(ype,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function xpe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function so(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||xpe(e)&&typeof t=="string"&&!t)}function wpe(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,s||[]),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function H6(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function Cpe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var U6=function(t){mpe(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(LA(Error));function Ape(t,e,n,r,i){if(e.first){var o=new Promise(function(h,f){var p=function(y){return r(y),y.length?f(new U6(y,MA(y))):h(i)},g=Cpe(t);H6(g,n,p)});return o.catch(function(h){return h}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,u=[],d=new Promise(function(h,f){var p=function(m){if(u.push.apply(u,m),c++,c===l)return r(u),u.length?f(new U6(u,MA(u))):h(i)};s.length||(r(u),h(i)),s.forEach(function(g){var m=t[g];a.indexOf(g)!==-1?H6(m,n,p):wpe(m,n,p)})});return d.catch(function(h){return h}),d}function Spe(t){return!!(t&&t.message!==void 0)}function kpe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function j6(t,e){return function(n){var r;return t.fullFields?r=kpe(e,t.fullFields):r=e[n.field||t.fullField],Spe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function V6(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Od({},t[n],r):t[n]=r}}return t}var AF=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||so(n,a||e.type))&&i.push(Oa(o.messages.required,e.fullField))},Epe=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Oa(o.messages.whitespace,e.fullField))},Yv,Tpe=function(){if(Yv)return Yv;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+i+e(w)+")","g")};l.v4=function(x){return x&&x.exact?a:new RegExp(""+e(x)+n+e(x),"g")},l.v6=function(x){return x&&x.exact?s:new RegExp(""+e(x)+i+e(x),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,f="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',b="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+h+"|"+f+p+g+")"+m+y;return Yv=new RegExp("(?:^"+b+"$)","i"),Yv},W6={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},x0={integer:function(e){return x0.number(e)&&parseInt(e,10)===e},float:function(e){return x0.number(e)&&!x0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!x0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(W6.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Tpe())},hex:function(e){return typeof e=="string"&&!!e.match(W6.hex)}},Rpe=function(e,n,r,i,o){if(e.required&&n===void 0){AF(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?x0[s](n)||i.push(Oa(o.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&i.push(Oa(o.messages.types[s],e.fullField,e.type))},_pe=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,h=typeof n=="number",f=typeof n=="string",p=Array.isArray(n);if(h?d="number":f?d="string":p&&(d="array"),!d)return!1;p&&(u=n.length),f&&(u=n.replace(c,"_").length),a?u!==e.len&&i.push(Oa(o.messages[d].len,e.fullField,e.len)):s&&!l&&u<e.min?i.push(Oa(o.messages[d].min,e.fullField,e.min)):l&&!s&&u>e.max?i.push(Oa(o.messages[d].max,e.fullField,e.max)):s&&l&&(u<e.min||u>e.max)&&i.push(Oa(o.messages[d].range,e.fullField,e.min,e.max))},Gh="enum",Ppe=function(e,n,r,i,o){e[Gh]=Array.isArray(e[Gh])?e[Gh]:[],e[Gh].indexOf(n)===-1&&i.push(Oa(o.messages[Gh],e.fullField,e[Gh].join(", ")))},Ipe=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Oa(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(Oa(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},mr={required:AF,whitespace:Epe,type:Rpe,range:_pe,enum:Ppe,pattern:Ipe},Lpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n,"string")&&!e.required)return r();mr.required(e,n,i,a,o,"string"),so(n,"string")||(mr.type(e,n,i,a,o),mr.range(e,n,i,a,o),mr.pattern(e,n,i,a,o),e.whitespace===!0&&mr.whitespace(e,n,i,a,o))}r(a)},Mpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&mr.type(e,n,i,a,o)}r(a)},Ope=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&(mr.type(e,n,i,a,o),mr.range(e,n,i,a,o))}r(a)},Dpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&mr.type(e,n,i,a,o)}r(a)},Fpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),so(n)||mr.type(e,n,i,a,o)}r(a)},$pe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&(mr.type(e,n,i,a,o),mr.range(e,n,i,a,o))}r(a)},Bpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&(mr.type(e,n,i,a,o),mr.range(e,n,i,a,o))}r(a)},Npe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();mr.required(e,n,i,a,o,"array"),n!=null&&(mr.type(e,n,i,a,o),mr.range(e,n,i,a,o))}r(a)},zpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&mr.type(e,n,i,a,o)}r(a)},Hpe="enum",Upe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o),n!==void 0&&mr[Hpe](e,n,i,a,o)}r(a)},jpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n,"string")&&!e.required)return r();mr.required(e,n,i,a,o),so(n,"string")||mr.pattern(e,n,i,a,o)}r(a)},Vpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n,"date")&&!e.required)return r();if(mr.required(e,n,i,a,o),!so(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),mr.type(e,l,i,a,o),l&&mr.range(e,l.getTime(),i,a,o)}}r(a)},Wpe=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":typeof n;mr.required(e,n,i,a,o,s),r(a)},s2=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(so(n,a)&&!e.required)return r();mr.required(e,n,i,s,o,a),so(n,a)||mr.type(e,n,i,s,o)}r(s)},qpe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(so(n)&&!e.required)return r();mr.required(e,n,i,a,o)}r(a)},z0={string:Lpe,method:Mpe,number:Ope,boolean:Dpe,regexp:Fpe,integer:$pe,float:Bpe,array:Npe,object:zpe,enum:Upe,pattern:jpe,date:Vpe,url:s2,hex:s2,email:s2,required:Wpe,any:qpe};function OA(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var DA=OA(),ep=function(){function t(n){this.rules=null,this._messages=DA,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var a=r[o];i.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=V6(OA(),r)),this._messages},e.validate=function(r,i,o){var a=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var s=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,s),Promise.resolve(s);function u(g){var m=[],y={};function b(w){if(Array.isArray(w)){var C;m=(C=m).concat.apply(C,w)}else m.push(w)}for(var x=0;x<g.length;x++)b(g[x]);m.length?(y=MA(m),c(m,y)):c(null,s)}if(l.messages){var d=this.messages();d===DA&&(d=OA()),V6(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},f=l.keys||Object.keys(this.rules);f.forEach(function(g){var m=a.rules[g],y=s[g];m.forEach(function(b){var x=b;typeof x.transform=="function"&&(s===r&&(s=Od({},s)),y=s[g]=x.transform(y)),typeof x=="function"?x={validator:x}:x=Od({},x),x.validator=a.getValidationMethod(x),x.validator&&(x.field=g,x.fullField=x.fullField||g,x.type=a.getType(x),h[g]=h[g]||[],h[g].push({rule:x,value:y,source:s,field:g}))})});var p={};return Ape(h,l,function(g,m){var y=g.rule,b=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");b=b&&(y.required||!y.required&&g.value),y.field=g.field;function x(S,A){return Od({},A,{fullField:y.fullField+"."+S,fullFields:y.fullFields?[].concat(y.fullFields,[S]):[S]})}function w(S){S===void 0&&(S=[]);var A=Array.isArray(S)?S:[S];!l.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&y.message!==void 0&&(A=[].concat(y.message));var T=A.map(j6(y,s));if(l.first&&T.length)return p[y.field]=1,m(T);if(!b)m(T);else{if(y.required&&!g.value)return y.message!==void 0?T=[].concat(y.message).map(j6(y,s)):l.error&&(T=[l.error(y,Oa(l.messages.required,y.field))]),m(T);var k={};y.defaultField&&Object.keys(g.value).map(function(_){k[_]=y.defaultField}),k=Od({},k,g.rule.fields);var E={};Object.keys(k).forEach(function(_){var F=k[_],N=Array.isArray(F)?F:[F];E[_]=N.map(x.bind(null,_))});var P=new t(E);P.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),P.validate(g.value,g.rule.options||l,function(_){var F=[];T&&T.length&&F.push.apply(F,T),_&&_.length&&F.push.apply(F,_),m(F.length?F:null)})}}var C;if(y.asyncValidator)C=y.asyncValidator(y,g.value,w,g.source,l);else if(y.validator){try{C=y.validator(y,g.value,w,g.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),w(S.message)}C===!0?w():C===!1?w(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):C instanceof Array?w(C):C instanceof Error&&w(C.message)}C&&C.then&&C.then(function(){return w()},function(S){return w(S)})},function(g){u(g)},s)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!z0.hasOwnProperty(r.type))throw new Error(Oa("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?z0.required:z0[this.getType(r)]||void 0},t}();ep.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");z0[e]=n};ep.warning=bpe;ep.messages=DA;ep.validators=z0;const{cubicBezierEaseInOut:q6}=wa;function Kpe({name:t="fade-down",fromOffset:e="-4px",enterDuration:n=".3s",leaveDuration:r=".3s",enterCubicBezier:i=q6,leaveCubicBezier:o=q6}={}){return[B(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),B(`&.${t}-transition-enter-to, &.${t}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),B(`&.${t}-transition-leave-active`,{transition:`opacity ${r} ${o}, transform ${r} ${o}`}),B(`&.${t}-transition-enter-active`,{transition:`opacity ${n} ${i}, transform ${n} ${i}`})]}const Gpe=R("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[R("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[H("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),H("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),R("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),U("auto-label-width",[R("form-item-label","white-space: nowrap;")]),U("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: flex-start;
 `,[R("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[U("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),U("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),U("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),U("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),H("text",`
 grid-area: text; 
 `),H("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),U("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[U("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),R("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),R("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),R("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[B("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),R("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[U("warning",{color:"var(--n-feedback-text-color-warning)"}),U("error",{color:"var(--n-feedback-text-color-error)"}),Kpe({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);function Ype(t){const e=ut(Kg,null);return{mergedSize:L(()=>t.size!==void 0?t.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function Xpe(t){const e=ut(Kg,null),n=L(()=>{const{labelPlacement:p}=t;return p!==void 0?p:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),r=L(()=>n.value==="left"&&(t.labelWidth==="auto"||(e==null?void 0:e.props.labelWidth)==="auto")),i=L(()=>{if(n.value==="top")return;const{labelWidth:p}=t;if(p!==void 0&&p!=="auto")return Ln(p);if(r.value){const g=e==null?void 0:e.maxChildLabelWidthRef.value;return g!==void 0?Ln(g):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return Ln(e.props.labelWidth)}),o=L(()=>{const{labelAlign:p}=t;if(p)return p;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),a=L(()=>{var p;return[(p=t.labelProps)===null||p===void 0?void 0:p.style,t.labelStyle,{width:i.value}]}),s=L(()=>{const{showRequireMark:p}=t;return p!==void 0?p:e==null?void 0:e.props.showRequireMark}),l=L(()=>{const{requireMarkPlacement:p}=t;return p!==void 0?p:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),c=V(!1),u=V(!1),d=L(()=>{const{validationStatus:p}=t;if(p!==void 0)return p;if(c.value)return"error";if(u.value)return"warning"}),h=L(()=>{const{showFeedback:p}=t;return p!==void 0?p:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),f=L(()=>{const{showLabel:p}=t;return p!==void 0?p:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:c,validationWarned:u,mergedLabelStyle:a,mergedLabelPlacement:n,mergedLabelAlign:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:l,mergedValidationStatus:d,mergedShowFeedback:h,mergedShowLabel:f,isAutoLabelWidth:r}}function Qpe(t){const e=ut(Kg,null),n=L(()=>{const{rulePath:a}=t;if(a!==void 0)return a;const{path:s}=t;if(s!==void 0)return s}),r=L(()=>{const a=[],{rule:s}=t;if(s!==void 0&&(Array.isArray(s)?a.push(...s):a.push(s)),e){const{rules:l}=e.props,{value:c}=n;if(l!==void 0&&c!==void 0){const u=Jm(l,c);u!==void 0&&(Array.isArray(u)?a.push(...u):a.push(u))}}return a}),i=L(()=>r.value.some(a=>a.required)),o=L(()=>i.value||t.required);return{mergedRules:r,mergedRequired:o}}var K6=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const Gg=Object.assign(Object.assign({},Ve.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,feedbackClass:String,feedbackStyle:[String,Object],showLabel:{type:Boolean,default:void 0},labelProps:Object,contentClass:String,contentStyle:[String,Object]}),SF=vo(Gg);function G6(t,e){return(...n)=>{try{const r=t(...n);return!e&&(typeof r=="boolean"||r instanceof Error||Array.isArray(r))||r!=null&&r.then?r:(r===void 0||go("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use ${e?"`Promise`":"`boolean`, `Error` or `Promise`"} typed value instead.`),!0)}catch(r){go("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(r);return}}}const rg=le({name:"FormItem",props:Gg,setup(t){wY(xF,"formItems",$e(t,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=ut(Kg,null),i=Ype(t),o=Xpe(t),{validationErrored:a,validationWarned:s}=o,{mergedRequired:l,mergedRules:c}=Qpe(t),{mergedSize:u}=i,{mergedLabelPlacement:d,mergedLabelAlign:h,mergedRequireMarkPlacement:f}=o,p=V([]),g=V(Zo()),m=r?$e(r.props,"disabled"):V(!1),y=Ve("Form","-form-item",Gpe,pF,t,e);qt($e(t,"path"),()=>{t.ignorePathChange||b()});function b(){p.value=[],a.value=!1,s.value=!1,t.feedback&&(g.value=Zo())}const x=(...N)=>K6(this,[...N],void 0,function*(W=null,G=()=>!0,Z={suppressWarning:!0}){const{path:ie}=t;Z?Z.first||(Z.first=t.first):Z={};const{value:he}=c,xe=r?Jm(r.props.model,ie||""):void 0,Q={},X={},K=(W?he.filter(ae=>Array.isArray(ae.trigger)?ae.trigger.includes(W):ae.trigger===W):he).filter(G).map((ae,fe)=>{const ke=Object.assign({},ae);if(ke.validator&&(ke.validator=G6(ke.validator,!1)),ke.asyncValidator&&(ke.asyncValidator=G6(ke.asyncValidator,!0)),ke.renderMessage){const Ke=`__renderMessage__${fe}`;X[Ke]=ke.message,ke.message=Ke,Q[Ke]=ke.renderMessage}return ke}),ne=K.filter(ae=>ae.level!=="warning"),ve=K.filter(ae=>ae.level==="warning"),Se={valid:!0,errors:void 0,warnings:void 0};if(!K.length)return Se;const ye=ie??"__n_no_path__",Be=new ep({[ye]:ne}),J=new ep({[ye]:ve}),{validateMessages:Ue}=(r==null?void 0:r.props)||{};Ue&&(Be.messages(Ue),J.messages(Ue));const Qe=ae=>{p.value=ae.map(fe=>{const ke=(fe==null?void 0:fe.message)||"";return{key:ke,render:()=>ke.startsWith("__renderMessage__")?Q[ke]():ke}}),ae.forEach(fe=>{var ke;!((ke=fe.message)===null||ke===void 0)&&ke.startsWith("__renderMessage__")&&(fe.message=X[fe.message])})};if(ne.length){const ae=yield new Promise(fe=>{Be.validate({[ye]:xe},Z,fe)});ae!=null&&ae.length&&(Se.valid=!1,Se.errors=ae,Qe(ae))}if(ve.length&&!Se.errors){const ae=yield new Promise(fe=>{J.validate({[ye]:xe},Z,fe)});ae!=null&&ae.length&&(Qe(ae),Se.warnings=ae)}return!Se.errors&&!Se.warnings?b():(a.value=!!Se.errors,s.value=!!Se.warnings),Se});function w(){x("blur")}function C(){x("change")}function S(){x("focus")}function A(){x("input")}function T(N,W){return K6(this,void 0,void 0,function*(){let G,Z,ie,he;return typeof N=="string"?(G=N,Z=W):N!==null&&typeof N=="object"&&(G=N.trigger,Z=N.callback,ie=N.shouldRuleBeApplied,he=N.options),yield new Promise((xe,Q)=>{x(G,ie,he).then(({valid:X,errors:K,warnings:ne})=>{X?(Z&&Z(void 0,{warnings:ne}),xe({warnings:ne})):(Z&&Z(K,{warnings:ne}),Q(K))})})})}zt(Lb,{path:$e(t,"path"),disabled:m,mergedSize:i.mergedSize,mergedValidationStatus:o.mergedValidationStatus,restoreValidation:b,handleContentBlur:w,handleContentChange:C,handleContentFocus:S,handleContentInput:A});const k={validate:T,restoreValidation:b,internalValidate:x},E=V(null);jn(()=>{if(!o.isAutoLabelWidth.value)return;const N=E.value;if(N!==null){const W=N.style.whiteSpace;N.style.whiteSpace="nowrap",N.style.width="",r==null||r.deriveMaxChildLabelWidth(Number(getComputedStyle(N).width.slice(0,-2))),N.style.whiteSpace=W}});const P=L(()=>{var N;const{value:W}=u,{value:G}=d,Z=G==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:ie},self:{labelTextColor:he,asteriskColor:xe,lineHeight:Q,feedbackTextColor:X,feedbackTextColorWarning:K,feedbackTextColorError:ne,feedbackPadding:ve,labelFontWeight:Se,[We("labelHeight",W)]:ye,[We("blankHeight",W)]:Be,[We("feedbackFontSize",W)]:J,[We("feedbackHeight",W)]:Ue,[We("labelPadding",Z)]:Qe,[We("labelTextAlign",Z)]:ae,[We(We("labelFontSize",G),W)]:fe}}=y.value;let ke=(N=h.value)!==null&&N!==void 0?N:ae;return G==="top"&&(ke=ke==="right"?"flex-end":"flex-start"),{"--n-bezier":ie,"--n-line-height":Q,"--n-blank-height":Be,"--n-label-font-size":fe,"--n-label-text-align":ke,"--n-label-height":ye,"--n-label-padding":Qe,"--n-label-font-weight":Se,"--n-asterisk-color":xe,"--n-label-text-color":he,"--n-feedback-padding":ve,"--n-feedback-font-size":J,"--n-feedback-height":Ue,"--n-feedback-text-color":X,"--n-feedback-text-color-warning":K,"--n-feedback-text-color-error":ne}}),_=n?Ot("form-item",L(()=>{var N;return`${u.value[0]}${d.value[0]}${((N=h.value)===null||N===void 0?void 0:N[0])||""}`}),P,t):void 0,F=L(()=>d.value==="left"&&f.value==="left"&&h.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:E,mergedClsPrefix:e,mergedRequired:l,feedbackId:g,renderExplains:p,reverseColSpace:F},o),i),k),{cssVars:n?void 0:P,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender})},render(){const{$slots:t,mergedClsPrefix:e,mergedShowLabel:n,mergedShowRequireMark:r,mergedRequireMarkPlacement:i,onRender:o}=this,a=r!==void 0?r:this.mergedRequired;o==null||o();const s=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const c=v("span",{class:`${e}-form-item-label__text`},l),u=a?v("span",{class:`${e}-form-item-label__asterisk`},i!=="left"?"*":"*"):i==="right-hanging"&&v("span",{class:`${e}-form-item-label__asterisk-placeholder`},"*"),{labelProps:d}=this;return v("label",Object.assign({},d,{class:[d==null?void 0:d.class,`${e}-form-item-label`,`${e}-form-item-label--${i}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),i==="left"?[u,c]:[c,u])};return v("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!n&&`${e}-form-item--no-label`],style:this.cssVars},n&&s(),v("div",{class:[`${e}-form-item-blank`,this.contentClass,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`],style:this.contentStyle},t),this.mergedShowFeedback?v("div",{key:this.feedbackId,style:this.feedbackStyle,class:[`${e}-form-item-feedback-wrapper`,this.feedbackClass]},v(hr,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return bn(t.feedback,c=>{var u;const{feedback:d}=this,h=c||d?v("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},c||d):this.renderExplains.length?(u=this.renderExplains)===null||u===void 0?void 0:u.map(({key:f,render:p})=>v("div",{key:f,class:`${e}-form-item-feedback__line`},p())):null;return h?l==="warning"?v("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},h):l==="error"?v("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},h):l==="success"?v("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},h):v("div",{key:"controlled-default",class:`${e}-form-item-feedback`},h):null})}})):null)}}),Zpe=Iu(24,null).map((t,e)=>{const n=e+1,r=`calc(100% / 24 * ${n})`;return[U(`${n}-span`,{width:r}),U(`${n}-offset`,{marginLeft:r}),U(`${n}-push`,{left:r}),U(`${n}-pull`,{right:r})]}),Jpe=B([R("row",{width:"100%",display:"flex",flexWrap:"wrap"}),R("col",{verticalAlign:"top",boxSizing:"border-box",display:"inline-block",position:"relative",zIndex:"auto"},[H("box",{position:"relative",zIndex:"auto",width:"100%",height:"100%"}),Zpe])]),kF="n-row",vx={gutter:{type:[Array,Number,String],default:0},alignItems:String,justifyContent:String},e0e=vo(vx),EF=le({name:"Row",props:vx,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=gt(t);Wa("-legacy-grid",Jpe,e);const r=or("Row",n,e),i=Yt(()=>{const{gutter:a}=t;return Array.isArray(a)&&a[1]||0}),o=Yt(()=>{const{gutter:a}=t;return Array.isArray(a)?a[0]:Number(a)});return zt(kF,{mergedClsPrefixRef:e,gutterRef:$e(t,"gutter"),verticalGutterRef:i,horizontalGutterRef:o}),{mergedClsPrefix:e,rtlEnabled:r,styleMargin:Yt(()=>`-${Ln(i.value,{c:.5})} -${Ln(o.value,{c:.5})}`),styleWidth:Yt(()=>`calc(100% + ${Ln(o.value)})`)}},render(){return v("div",{class:[`${this.mergedClsPrefix}-row`,this.rtlEnabled&&`${this.mergedClsPrefix}-row--rtl`],style:{margin:this.styleMargin,width:this.styleWidth,alignItems:this.alignItems,justifyContent:this.justifyContent}},this.$slots)}}),yx={span:{type:[String,Number],default:1},push:{type:[String,Number],default:0},pull:{type:[String,Number],default:0},offset:{type:[String,Number],default:0}},t0e=vo(yx),TF=le({name:"Col",props:yx,setup(t){const e=ut(kF,null);return e||Ii("col","`n-col` must be placed inside `n-row`."),{mergedClsPrefix:e.mergedClsPrefixRef,gutter:e.gutterRef,stylePadding:L(()=>`${Ln(e.verticalGutterRef.value,{c:.5})} ${Ln(e.horizontalGutterRef.value,{c:.5})}`),mergedPush:L(()=>Number(t.push)-Number(t.pull))}},render(){const{$slots:t,span:e,mergedPush:n,offset:r,stylePadding:i,gutter:o,mergedClsPrefix:a}=this;return v("div",{class:[`${a}-col`,{[`${a}-col--${e}-span`]:!0,[`${a}-col--${n}-push`]:n>0,[`${a}-col--${-n}-pull`]:n<0,[`${a}-col--${r}-offset`]:r}],style:{padding:i}},o?v("div",null,t):t)}}),H4=Object.assign(Object.assign({},yx),Gg),n0e=vo(H4),RF=le({name:"FormItemCol",props:H4,setup(){const t=V(null);return{formItemInstRef:t,validate:(...r)=>{const{value:i}=t;if(i)return i.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return v(TF,Ri(this.$props,t0e),{default:()=>{const t=Ri(this.$props,SF);return v(rg,Object.assign({ref:"formItemInstRef"},t),this.$slots)}})}}),Y6=1,_F="n-grid",PF=1,ig={span:{type:[Number,String],default:PF},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},r0e=vo(ig),FA=le({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:ig,setup(){const{isSsrRef:t,xGapRef:e,itemStyleRef:n,overflowRef:r,layoutShiftDisabledRef:i}=ut(_F),o=Fs();return{overflow:r,itemStyle:n,layoutShiftDisabled:i,mergedXGap:L(()=>br(e.value||0)),deriveStyle:()=>{t.value;const{privateSpan:a=PF,privateShow:s=!0,privateColStart:l=void 0,privateOffset:c=0}=o.vnode.props,{value:u}=e,d=br(u||0);return{display:s?"":"none",gridColumn:`${l??`span ${a}`} / span ${a}`,marginLeft:c?`calc((100% - (${a} - 1) * ${d}) / ${a} * ${c} + ${d} * ${c})`:""}}}},render(){var t,e;if(this.layoutShiftDisabled){const{span:n,offset:r,mergedXGap:i}=this;return v("div",{style:{gridColumn:`span ${n} / span ${n}`,marginLeft:r?`calc((100% - (${n} - 1) * ${i}) / ${n} * ${r} + ${i} * ${r})`:""}},this.$slots)}return v("div",{style:[this.itemStyle,this.deriveStyle()]},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t,{overflow:this.overflow}))}}),$A=Object.assign(Object.assign({},ig),Gg),X6=le({__GRID_ITEM__:!0,name:"FormItemGridItem",alias:["FormItemGi"],props:$A,setup(){const t=V(null);return{formItemInstRef:t,validate:(...r)=>{const{value:i}=t;if(i)return i.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return v(FA,Ri(this.$.vnode.props||{},r0e),{default:()=>{const t=Ri(this.$props,SF);return v(rg,Object.assign({ref:"formItemInstRef"},t),this.$slots)}})}}),i0e=Object.assign(Object.assign({},vx),H4),o0e=le({name:"FormItemRow",props:i0e,setup(){const t=V(null);return{formItemColInstRef:t,validate:(...r)=>{const{value:i}=t;if(i)return i.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return v(EF,Ri(this.$props,e0e),{default:()=>{const t=Ri(this.$props,n0e);return v(RF,Object.assign(Object.assign({ref:"formItemColInstRef"},t),{span:24}),this.$slots)}})}}),a0e=le({name:"GlobalStyle",setup(){if(typeof document>"u")return;const t=ut(Jo,null),{body:e}=document,{style:n}=e;let r=!1,i=!0;Ec(()=>{er(()=>{var o,a;const{textColor2:s,fontSize:l,fontFamily:c,bodyColor:u,cubicBezierEaseInOut:d,lineHeight:h}=t?pl({},((o=t.mergedThemeRef.value)===null||o===void 0?void 0:o.common)||Bt,(a=t.mergedThemeOverridesRef.value)===null||a===void 0?void 0:a.common):Bt;if(r||!e.hasAttribute("n-styled")){n.setProperty("-webkit-text-size-adjust","100%"),n.setProperty("-webkit-tap-highlight-color","transparent"),n.padding="0",n.margin="0",n.backgroundColor=u,n.color=s,n.fontSize=l,n.fontFamily=c,n.lineHeight=h;const f=`color .3s ${d}, background-color .3s ${d}`;i?setTimeout(()=>{n.transition=f},0):n.transition=f,e.setAttribute("n-styled",""),r=!0,i=!1}})}),Rl(()=>{r&&e.removeAttribute("n-styled")})},render(){return null}}),s0e=R("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),IF=Object.assign(Object.assign({},Ve.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),l0e=le({name:"GradientText",props:IF,setup(t){Hk();const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=L(()=>{const{type:c}=t;return c==="danger"?"error":c}),i=L(()=>{let c=t.size||t.fontSize;return c&&(c=Ln(c)),c||void 0}),o=L(()=>{const c=t.color||t.gradient;if(typeof c=="string")return c;if(c){const u=c.deg||0,d=c.from,h=c.to;return`linear-gradient(${u}deg, ${d} 0%, ${h} 100%)`}}),a=Ve("GradientText","-gradient-text",s0e,Qhe,t,e),s=L(()=>{const{value:c}=r,{common:{cubicBezierEaseInOut:u},self:{rotate:d,[We("colorStart",c)]:h,[We("colorEnd",c)]:f,fontWeight:p}}=a.value;return{"--n-bezier":u,"--n-rotate":d,"--n-color-start":h,"--n-color-end":f,"--n-font-weight":p}}),l=n?Ot("gradient-text",L(()=>r.value[0]),s,t):void 0;return{mergedClsPrefix:e,compatibleType:r,styleFontSize:i,styleBgImage:o,cssVars:n?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),v("span",{class:[`${t}-gradient-text`,`${t}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}}),c0e={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},LF=24,l2="__ssr__",MF={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:LF},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},u0e=le({name:"Grid",inheritAttrs:!1,props:MF,setup(t){const{mergedClsPrefixRef:e,mergedBreakpointsRef:n}=gt(t),r=/^\d+$/,i=V(void 0),o=bY((n==null?void 0:n.value)||c0e),a=Yt(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),s=L(()=>{if(a.value)return t.responsive==="self"?i.value:o.value}),l=Yt(()=>{var y;return(y=Number($h(t.cols.toString(),s.value)))!==null&&y!==void 0?y:LF}),c=Yt(()=>$h(t.xGap.toString(),s.value)),u=Yt(()=>$h(t.yGap.toString(),s.value)),d=y=>{i.value=y.contentRect.width},h=y=>{th(d,y)},f=V(!1),p=L(()=>{if(t.responsive==="self")return h}),g=V(!1),m=V();return jn(()=>{const{value:y}=m;y&&y.hasAttribute(l2)&&(y.removeAttribute(l2),g.value=!0)}),zt(_F,{layoutShiftDisabledRef:$e(t,"layoutShiftDisabled"),isSsrRef:g,itemStyleRef:$e(t,"itemStyle"),xGapRef:c,overflowRef:f}),{isSsr:!na,contentEl:m,mergedClsPrefix:e,style:L(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:br(t.xGap),rowGap:br(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${l.value}, minmax(0, 1fr))`,columnGap:br(c.value),rowGap:br(u.value)}),isResponsive:a,responsiveQuery:s,responsiveCols:l,handleResize:p,overflow:f}},render(){if(this.layoutShiftDisabled)return v("div",Xi({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var e,n,r,i,o,a,s;this.overflow=!1;const l=pa(up(this)),c=[],{collapsed:u,collapsedRows:d,responsiveCols:h,responsiveQuery:f}=this;l.forEach(b=>{var x,w,C,S,A;if(((x=b==null?void 0:b.type)===null||x===void 0?void 0:x.__GRID_ITEM__)!==!0)return;if(AX(b)){const E=Qo(b);E.props?E.props.privateShow=!1:E.props={privateShow:!1},c.push({child:E,rawChildSpan:0});return}b.dirs=((w=b.dirs)===null||w===void 0?void 0:w.filter(({dir:E})=>E!==ya))||null,((C=b.dirs)===null||C===void 0?void 0:C.length)===0&&(b.dirs=null);const T=Qo(b),k=Number((A=$h((S=T.props)===null||S===void 0?void 0:S.span,f))!==null&&A!==void 0?A:Y6);k!==0&&c.push({child:T,rawChildSpan:k})});let p=0;const g=(e=c[c.length-1])===null||e===void 0?void 0:e.child;if(g!=null&&g.props){const b=(n=g.props)===null||n===void 0?void 0:n.suffix;b!==void 0&&b!==!1&&(p=Number((i=$h((r=g.props)===null||r===void 0?void 0:r.span,f))!==null&&i!==void 0?i:Y6),g.props.privateSpan=p,g.props.privateColStart=h+1-p,g.props.privateShow=(o=g.props.privateShow)!==null&&o!==void 0?o:!0)}let m=0,y=!1;for(const{child:b,rawChildSpan:x}of c){if(y&&(this.overflow=!0),!y){const w=Number((s=$h((a=b.props)===null||a===void 0?void 0:a.offset,f))!==null&&s!==void 0?s:0),C=Math.min(x+w,h);if(b.props?(b.props.privateSpan=C,b.props.privateOffset=w):b.props={privateSpan:C,privateOffset:w},u){const S=m%h;C+S>h&&(m+=h-S),C+m+p>d*h?y=!0:m+=C}}y&&(b.props?b.props.privateShow!==!0&&(b.props.privateShow=!1):b.props={privateShow:!1})}return v("div",Xi({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[l2]:this.isSsr||void 0},this.$attrs),c.map(({child:b})=>b))};return this.isResponsive&&this.responsive==="self"?v($o,{onResize:this.handleResize},{default:t}):t()}});function OF(t){const{borderRadius:e,fontSizeMini:n,fontSizeTiny:r,fontSizeSmall:i,fontWeight:o,textColor2:a,cardColor:s,buttonColor2Hover:l}=t;return{activeColors:["#9be9a8","#40c463","#30a14e","#216e39"],borderRadius:e,borderColor:s,textColor:a,mininumColor:l,fontWeight:o,loadingColorStart:"rgba(0, 0, 0, 0.06)",loadingColorEnd:"rgba(0, 0, 0, 0.12)",rectSizeSmall:"10px",rectSizeMedium:"11px",rectSizeLarge:"12px",borderRadiusSmall:"2px",borderRadiusMedium:"2px",borderRadiusLarge:"2px",xGapSmall:"2px",xGapMedium:"3px",xGapLarge:"3px",yGapSmall:"2px",yGapMedium:"3px",yGapLarge:"3px",fontSizeSmall:r,fontSizeMedium:n,fontSizeLarge:i}}const DF={name:"Heatmap",common:Bt,self:OF};function d0e(t,e){const n=V(""),r=Rc(),i=ut(Jo,null),o=i==null?void 0:i.styleMountTarget;return jn(()=>{er(()=>{if(!t.loading)return;const{self:{loadingColorStart:a,loadingColorEnd:s}}=e.value,l=_u(a)+_u(s),c=`heatmap-loading-${l}`,u=`heatmap-loading-animation-${l}`;n.value=c,B([B(`.${c}`,`
          animation: 2s ${u} infinite cubic-bezier(0.36, 0, 0.64, 1);
        `),B(`@keyframes ${u}`,`
          0% {
            background: ${a};
          }
          40% {
            background: ${s};
          }
          80% {
            background: ${a};
          }
          100% {
            background: ${a};
          }
        `)]).mount({id:l,ssr:r,parent:o})})}),n}const h0e=le({name:"HeatmapColorIndicator",slots:Object,props:{colors:{type:Array,required:!0},clsPrefix:{type:String,required:!0}},setup(t,{slots:e}){return()=>{var n,r;const{colors:i,clsPrefix:o}=t;return v("div",{class:`${o}-heatmap-color-indicator`},v("span",{class:`${o}-heatmap-color-indicator__label`},(n=e["leading-text"])===null||n===void 0?void 0:n.call(e)),v("div",{class:`${o}-heatmap-color-indicator__cells`},i.map((a,s)=>v("div",{key:s,class:`${o}-heatmap-color-indicator__cell`,style:{backgroundColor:a}}))),v("span",{class:`${o}-heatmap-color-indicator__label`},(r=e["trailing-text"])===null||r===void 0?void 0:r.call(e)))}}}),f0e=le({name:"HeatmapRect",slots:Object,props:{mergedClsPrefix:{type:String,required:!0},data:{type:Object,required:!0},color:{type:String,required:!0},style:Object,loading:Boolean,loadingClass:String,tooltip:{type:[Boolean,Object],default:!0}},setup(t){const e=L(()=>({"--n-rect-color":t.color})),n=L(()=>typeof t.tooltip=="object"?t.tooltip:{}),r=L(()=>{const i=new Date(t.data.timestamp).toLocaleDateString();return t.data.value!==null?`${i} ${t.data.value}`:i});return{cssVars:e,tooltipProps:n,defaultTooltipContent:r}},render(){const{mergedClsPrefix:t,style:e,cssVars:n,tooltip:r,tooltipProps:i,defaultTooltipContent:o,loading:a,data:s}=this,l=v("div",{class:[`${t}-heatmap-rect`,a&&`${t}-heatmap-rect--loading`,a&&this.loadingClass],style:[n,e]});return r===!1||a?l:v(Wg,Object.assign({trigger:"hover"},i),{default:()=>ui(this.$slots.tooltip,s,()=>[v("div",null,o)]),trigger:()=>l})}}),p0e=B([R("heatmap",`
 display: flex;
 flex-direction: column;
 max-width: fit-content;
 font-size: var(--n-font-size);
 `,[H("content",`
 display: block;
 `),H("calendar-table",`
 border-collapse: separate;
 border-spacing: var(--n-y-gap) var(--n-x-gap);
 font-size: var(--n-font-size);
 `),H("week-header-cell",`
 width: 27px;
 padding: 0;
 border: none;
 font-size: var(--n-font-size);
 `),H("month-label-cell",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 text-align: left;
 height: 15px;
 line-height: 15px;
 font-weight: var(--n-font-weight);
 padding: 0 2px 8px;
 vertical-align: bottom;
 transition: color .3s var(--n-bezier);
 `),H("week-label-cell",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 text-align: right;
 width: 27px;
 height: 11px;
 line-height: 11px;
 padding: 0 4px 0 0;
 border: none;
 vertical-align: middle;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 transition: color .3s var(--n-bezier);
 `),H("day-cell",`
 width: var(--n-rect-size);
 height: var(--n-rect-size);
 padding: 0;
 border: none;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `),H("empty-cell",`
 width: var(--n-rect-size);
 height: var(--n-rect-size);
 border-radius: var(--n-border-radius);
 `),H("footer",`
 display: flex;
 justify-content: space-between;
 margin-left: 17px;
 align-items: center;
 margin-top: 8px;
 &:has(> :only-child) {
 justify-content: flex-end;
 }
 `),H("indicator",`
 display: flex;
 align-items: center;
 justify-content: flex-end;
 `)]),R("heatmap-rect",`
 width: var(--n-rect-size);
 height: var(--n-rect-size);
 border-radius: var(--n-border-radius);
 background-color: var(--n-rect-color);
 transition: background-color .3s var(--n-bezier);
 `,[U("loading",`
 cursor: default;
 background: var(--n-loading-color-start);
 `)]),R("heatmap-color-indicator",`
 display: flex;
 align-items: center;
 justify-content: flex-end;
 gap: 4px;
 font-size: var(--n-font-size);
 `,[H("cells",`
 display: flex;
 gap: var(--n-x-gap);
 `),H("cell",`
 width: var(--n-rect-size);
 height: var(--n-rect-size);
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),H("label",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 `)])]),m0e={green:["#c6e48b","#7bc96f","#239a3b","#196127"],blue:["#c0e7ff","#73b3ff","#0969da","#0550ae"],orange:["#fed7aa","#fb923c","#ea580c","#c2410c"],purple:["#e9d5ff","#c084fc","#9333ea","#7c3aed"],red:["#fecaca","#f87171","#dc2626","#b91c1c"]};function g0e(t,e,n){if(n===0||e===null||e===void 0||e<=0)return t[0];const r=Math.min(e/n,1),i=t.length-1,o=Math.min(Math.ceil(r*i),i);return t[o]}function Q6(t,e,n){const r=[...t].sort((d,h)=>d.timestamp-h.timestamp),i=r[0].timestamp,o=r[r.length-1].timestamp,a=za(i,{weekStartsOn:e}),s=Boe(o,{weekStartsOn:e}),l=new Map(r.map(d=>[Sl(d.timestamp).getTime(),d])),c=YO({start:a,end:s}),u=n?a:i;return c.map(d=>{const h=Sl(d).getTime(),f=l.get(h);if(f)return f;const p=ese(d,{start:u,end:o})?0:null;return{timestamp:d.getTime(),value:p}})}function v0e(t,e,n,r,i){const o=GO(t.timestamp,e),a=Math.floor(o/7),s=tD(t.timestamp),l=(s-n+7)%7;return{timestamp:t.timestamp,value:t.value,color:g0e(r,t.value,i),dayOfWeek:s,rowIndex:l,colIndex:a}}function y0e(t,e,n,r){const i=qM(e,n);return Array.from({length:t},(o,a)=>{const s=i[a]||[],l=[];return s.forEach(c=>{l[r(c)]=c}),l})}function b0e(t){const r=Date.now();return Array.from({length:7},(i,o)=>Array.from({length:53},(a,s)=>({timestamp:r,value:0,color:"#000000",dayOfWeek:(t+o)%7,rowIndex:o,colIndex:s})))}function x0e(t){let e,n;if(t===void 0||t==="recent")n=new Date,e=yse(n);else{const i=Number(t);e=fp(new Date(i,0,1)),n=$oe(new Date(i,11,31))}return YO({start:e,end:n}).map(i=>{const o=i.getDay(),a=o===0||o===6;if(a&&Math.random()<.7)return{timestamp:i.getTime(),value:0};if(!a&&Math.random()<.15)return{timestamp:i.getTime(),value:0};const s=Math.floor(Math.pow(Math.random(),2)*40)+1;return{timestamp:i.getTime(),value:s}})}const FF=Object.assign(Object.assign({},Ve.props),{activeColors:Array,colorTheme:String,data:Array,loadingData:Object,fillCalendarLeading:Boolean,firstDayOfWeek:{type:Number,default:0},loading:Boolean,minimumColor:String,showColorIndicator:{type:Boolean,default:!0},showWeekLabels:{type:Boolean,default:!0},showMonthLabels:{type:Boolean,default:!0},size:{type:String,default:"medium"},tooltip:{type:[Boolean,Object],default:!1},xGap:[Number,String],yGap:[Number,String]}),w0e=le({name:"Heatmap",slots:Object,props:FF,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n,inlineThemeDisabled:r}=gt(t),{localeRef:i,dateLocaleRef:o}=li("Heatmap"),a=Ve("Heatmap","-heatmap",p0e,DF,t,e),s=or("Heatmap",n,e),l=L(()=>{const{xGap:C,yGap:S,size:A}=t,{common:{cubicBezierEaseInOut:T},self:{fontWeight:k,textColor:E,borderColor:P,loadingColorStart:_,[We("rectSize",A)]:F,[We("borderRadius",A)]:N,[We("xGap",A)]:W,[We("yGap",A)]:G,[We("fontSize",A)]:Z}}=a.value;return{"--n-bezier":T,"--n-font-size":Z,"--n-font-weight":k,"--n-text-color":E,"--n-border-radius":N,"--n-border-color":P,"--n-loading-color-start":_,"--n-rect-size":F,"--n-x-gap":C!==void 0?typeof C=="number"?br(C):C:W,"--n-y-gap":S!==void 0?typeof S=="number"?br(S):S:G}}),c=r?Ot("heatmap",L(()=>{const{size:C}=t;return C[0]}),l,t):void 0,u=L(()=>{const{mininumColor:C,activeColors:S}=a.value.self,A=t.minimumColor||C,T=t.colorTheme&&m0e[t.colorTheme],k=t.activeColors||T||S;return[A,...k]}),d=L(()=>!t.data||t.data.length===0?[]:Q6(t.data,hf(t.firstDayOfWeek),t.fillCalendarLeading)),h=L(()=>!t.loadingData||t.loadingData.length===0?[]:Q6(t.loadingData,hf(t.firstDayOfWeek),t.fillCalendarLeading)),f=L(()=>{var C,S;const A=d.value.filter(T=>T.value!==null);return(S=(C=Bne(A,T=>T.value))===null||C===void 0?void 0:C.value)!==null&&S!==void 0?S:0}),p=L(()=>{const C=d.value,S=h.value;if(t.loading&&!S.length)return b0e(hf(t.firstDayOfWeek));const A=t.loading?S:C;if(!A.length)return[];const T=f.value,k=u.value,E=A[0].timestamp,P=A.map(_=>v0e(_,E,hf(t.firstDayOfWeek),k,T));return y0e(7,P,_=>_.rowIndex,_=>_.colIndex)}),g=L(()=>{const{weekdayFormat:C}=i.value,{locale:S}=o.value,A=za(new Date,{weekStartsOn:hf(t.firstDayOfWeek)});return Array.from({length:7},(T,k)=>({label:dr(Md(A,k),C,{locale:S}),visible:k%2!==0}))}),m=L(()=>{const{monthFormat:C}=i.value,{locale:S}=o.value,A=new Date().getFullYear(),T=[5,4,5,4,5,4,5,4,4,5,4,4];return Array.from({length:12},(k,E)=>{const P=new Date(A,E,1);return{name:dr(P,C,{locale:S}),colSpan:T[E]}})});function y(C){const S=C[0].length,A=[];for(let T=0;T<S;T++)for(let k=0;k<C.length;k++){const E=C[k][T];if((E==null?void 0:E.value)!==null){A.push({week:T,month:dr(E.timestamp,"yyyy-MM")});break}}return A}const b=L(()=>{const{monthFormat:C}=i.value,{locale:S}=o.value,A=p.value;if(!A||A.length===0||!A[0])return[];const T=y(A),k=Fne(qM(T,"month"),E=>{const P=E.map(_=>_.week);return{weekCount:E.length,start:Math.min(...P),end:Math.max(...P)}});return Object.entries(k).filter(([,E])=>E.weekCount>=3).sort(([E],[P])=>E.localeCompare(P)).map(([E,P])=>{const _=new Date(tse(`${E}-01`));return{name:dr(_,C,{locale:S}),colSpan:P.end-P.start+1}})}),x=L(()=>t.loading&&!t.loadingData?m.value:b.value),w=d0e(t,a);return{weekLabels:g,monthLabels:x,mergedColors:u,mergedClsPrefix:e,rtlEnabled:s,locale:i,cssVars:r?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender,heatmapMatrix:p,loadingClass:w}},render(){const{loading:t,showWeekLabels:e,showMonthLabels:n,showColorIndicator:r,mergedClsPrefix:i,themeClass:o,cssVars:a,rtlEnabled:s,locale:l,weekLabels:c,monthLabels:u,mergedColors:d,$slots:h,heatmapMatrix:f,loadingClass:p,onRender:g}=this;return g==null||g(),v("div",{class:[o,`${i}-heatmap`,s&&`${i}-heatmap--rtl`],style:a},v("div",{class:`${i}-heatmap__content`},v("table",{class:`${i}-heatmap__calendar-table`},n&&v("thead",null,v("tr",null,e&&v("th",{class:`${i}-heatmap__week-header-cell`}),u.map((m,y)=>v("th",{key:`month-${y}`,colspan:m.colSpan,class:`${i}-heatmap__month-label-cell`},m.name)))),v("tbody",null,c.map((m,y)=>v("tr",{key:`row-${y}`},e&&v("td",{class:`${i}-heatmap__week-label-cell`},m.visible?m.label:null),(f[y]||[]).map((b,x)=>b.value!==null?v("td",{key:`day-${y}-${x}`,class:`${i}-heatmap__day-cell`},v(f0e,{mergedClsPrefix:i,data:b,color:b.color,tooltip:this.tooltip,loading:t,loadingClass:p},{tooltip:()=>{var w;return(w=h.tooltip)===null||w===void 0?void 0:w.call(h,b)}})):v("td",{key:`empty-${y}-${x}`,class:`${i}-heatmap__day-cell`},v("div",{class:`${i}-heatmap__empty-cell`})))))))),v("div",{class:`${i}-heatmap__footer`},bn(h.footer,m=>m&&v("div",{class:`${i}-heatmap__footer`},m)),v("div",{class:`${i}-heatmap__indicator`},sn(h.indicator,()=>[r&&v(h0e,{colors:d,clsPrefix:i},{"leading-text":()=>sn(h["indicator-leading-text"],()=>[l.less]),"trailing-text":()=>sn(h["indicator-trailing-text"],()=>[l.more])})]))))}}),C0e={name:"Heatmap",common:Sre,self(t){const e=OF(t);return Object.assign(Object.assign({},e),{activeColors:["#0d4429","#006d32","#26a641","#39d353"],mininumColor:"rgba(255, 255, 255, 0.1)",loadingColorStart:"rgba(255, 255, 255, 0.12)",loadingColorEnd:"rgba(255, 255, 255, 0.18)"})}};function A0e(t,e){if(!e.global)throw new Error('splitAndMarkByRegex requires a global regex (with "g" flag)');const n=[];let r=0;for(const i of t.matchAll(e)){const{index:o}=i;o>r&&n.push({text:t.slice(r,o),isMatch:!1}),n.push({text:i[0],isMatch:!0}),r=o+i[0].length}return r<t.length&&n.push({text:t.slice(r),isMatch:!1}),n}const $F={highlightTag:{type:String,default:"mark"},caseSensitive:Boolean,autoEscape:{type:Boolean,default:!0},text:String,patterns:{type:Array,default:()=>[]},highlightClass:String,highlightStyle:[Object,String]},S0e=le({name:"Highlight",props:$F,setup(t){const{mergedClsPrefixRef:e}=gt(),n=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{highlightedNode:L(()=>{const i=e.value;let o=[];const{patterns:a,text:s}=t;if(a.length===0||!s)o=[s];else{const{highlightTag:l,caseSensitive:c,autoEscape:u,highlightClass:d,highlightStyle:h}=t,f=a.map(m=>u?n(m):m).join("|"),p=new RegExp(`(${f})`,c?"g":"gi");o=A0e(s,p).map(({text:m,isMatch:y})=>y?v(l,{class:[`${i}-highlight__mark`,d],style:h},m):m)}return v("span",{class:`${i}-highlight`},o)}),mergedClsPrefix:e}},render(){return this.highlightedNode}});function k0e(t){const{primaryColor:e,baseColor:n}=t;return{color:e,iconColor:n}}const E0e={common:Bt,self:k0e},T0e=R("icon-wrapper",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
`),BF=Object.assign(Object.assign({},Ve.props),{size:{type:Number,default:24},borderRadius:{type:Number,default:6},color:String,iconColor:String}),R0e=le({name:"IconWrapper",props:BF,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("IconWrapper","-icon-wrapper",T0e,E0e,t,n),o=L(()=>{const{common:{cubicBezierEaseInOut:s},self:{color:l,iconColor:c}}=i.value;return{"--n-bezier":s,"--n-color":l,"--n-icon-color":c}}),a=r?Ot("icon-wrapper",void 0,o,t):void 0;return()=>{const s=Ln(t.size);return a==null||a.onRender(),v("div",{class:[`${n.value}-icon-wrapper`,a==null?void 0:a.themeClass.value],style:[o==null?void 0:o.value,{height:s,width:s,borderRadius:Ln(t.borderRadius),backgroundColor:t.color,color:t.iconColor}]},e)}}});function _0e(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const P0e={name:"Image",common:Bt,peers:{Tooltip:dx},self:_0e};function I0e(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function L0e(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function M0e(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const U4=Object.assign(Object.assign({},Ve.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),NF="n-image",O0e=B([B("body >",[R("image-container","position: fixed;")]),R("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),R("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[vc()]),R("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[R("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),vc()]),R("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Qi()]),R("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),R("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[an("preview-disabled",`
 cursor: pointer;
 `),B("img",`
 border-radius: inherit;
 `)])]),Xv=32,zF=Object.assign(Object.assign({},U4),{src:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onNext:Function,onPrev:Function,onClose:[Function,Array]}),j4=le({name:"ImagePreview",props:zF,setup(t){const{src:e}=Wq(t),{mergedClsPrefixRef:n}=gt(t),r=Ve("Image","-image",O0e,P0e,t,n);let i=null;const o=V(null),a=V(null),s=V(!1),{localeRef:l}=li("Image"),c=V(t.defaultShow),d=Cn($e(t,"show"),c);function h(){const{value:se}=a;if(!i||!se)return;const{style:be}=se,re=i.getBoundingClientRect(),me=re.left+re.width/2,De=re.top+re.height/2;be.transformOrigin=`${me}px ${De}px`}function f(se){var be,re;switch(se.key){case" ":se.preventDefault();break;case"ArrowLeft":(be=t.onPrev)===null||be===void 0||be.call(t);break;case"ArrowRight":(re=t.onNext)===null||re===void 0||re.call(t);break;case"ArrowUp":se.preventDefault(),Se();break;case"ArrowDown":se.preventDefault(),ye();break;case"Escape":Ue();break}}function p(se){const{onUpdateShow:be,"onUpdate:show":re}=t;be&&Fe(be,se),re&&Fe(re,se),c.value=se,s.value=!0}qt(d,se=>{se?wn("keydown",document,f):xn("keydown",document,f)}),ir(()=>{xn("keydown",document,f)});let g=0,m=0,y=0,b=0,x=0,w=0,C=0,S=0,A=!1;function T(se){const{clientX:be,clientY:re}=se;y=be-g,b=re-m,th(J)}function k(se){const{mouseUpClientX:be,mouseUpClientY:re,mouseDownClientX:me,mouseDownClientY:De}=se,ge=me-be,pe=De-re,Te=`vertical${pe>0?"Top":"Bottom"}`,Xe=`horizontal${ge>0?"Left":"Right"}`;return{moveVerticalDirection:Te,moveHorizontalDirection:Xe,deltaHorizontal:ge,deltaVertical:pe}}function E(se){const{value:be}=o;if(!be)return{offsetX:0,offsetY:0};const re=be.getBoundingClientRect(),{moveVerticalDirection:me,moveHorizontalDirection:De,deltaHorizontal:ge,deltaVertical:pe}=se||{};let Te=0,Xe=0;return re.width<=window.innerWidth?Te=0:re.left>0?Te=(re.width-window.innerWidth)/2:re.right<window.innerWidth?Te=-(re.width-window.innerWidth)/2:De==="horizontalRight"?Te=Math.min((re.width-window.innerWidth)/2,x-(ge??0)):Te=Math.max(-((re.width-window.innerWidth)/2),x-(ge??0)),re.height<=window.innerHeight?Xe=0:re.top>0?Xe=(re.height-window.innerHeight)/2:re.bottom<window.innerHeight?Xe=-(re.height-window.innerHeight)/2:me==="verticalBottom"?Xe=Math.min((re.height-window.innerHeight)/2,w-(pe??0)):Xe=Math.max(-((re.height-window.innerHeight)/2),w-(pe??0)),{offsetX:Te,offsetY:Xe}}function P(se){xn("mousemove",document,T),xn("mouseup",document,P);const{clientX:be,clientY:re}=se;A=!1;const me=k({mouseUpClientX:be,mouseUpClientY:re,mouseDownClientX:C,mouseDownClientY:S}),De=E(me);y=De.offsetX,b=De.offsetY,J()}const _=ut(NF,null);function F(se){var be,re;if((re=(be=_==null?void 0:_.previewedImgPropsRef.value)===null||be===void 0?void 0:be.onMousedown)===null||re===void 0||re.call(be,se),se.button!==0)return;const{clientX:me,clientY:De}=se;A=!0,g=me-y,m=De-b,x=y,w=b,C=me,S=De,J(),wn("mousemove",document,T),wn("mouseup",document,P)}const N=1.5;let W=0,G=1,Z=0;function ie(se){var be,re;(re=(be=_==null?void 0:_.previewedImgPropsRef.value)===null||be===void 0?void 0:be.onDblclick)===null||re===void 0||re.call(be,se);const me=ve();G=G===me?1:me,J()}function he(){G=1,W=0}function xe(){var se;he(),Z=0,(se=t.onPrev)===null||se===void 0||se.call(t)}function Q(){var se;he(),Z=0,(se=t.onNext)===null||se===void 0||se.call(t)}function X(){Z-=90,J()}function K(){Z+=90,J()}function ne(){const{value:se}=o;if(!se)return 1;const{innerWidth:be,innerHeight:re}=window,me=Math.max(1,se.naturalHeight/(re-Xv)),De=Math.max(1,se.naturalWidth/(be-Xv));return Math.max(3,me*2,De*2)}function ve(){const{value:se}=o;if(!se)return 1;const{innerWidth:be,innerHeight:re}=window,me=se.naturalHeight/(re-Xv),De=se.naturalWidth/(be-Xv);return me<1&&De<1?1:Math.max(me,De)}function Se(){const se=ne();G<se&&(W+=1,G=Math.min(se,Math.pow(N,W)),J())}function ye(){if(G>.5){const se=G;W-=1,G=Math.max(.5,Math.pow(N,W));const be=se-G;J(!1);const re=E();G+=be,J(!1),G-=be,y=re.offsetX,b=re.offsetY,J()}}function Be(){const se=e.value;se&&nx(se,void 0)}function J(se=!0){var be;const{value:re}=o;if(!re)return;const{style:me}=re,De=Ig((be=_==null?void 0:_.previewedImgPropsRef.value)===null||be===void 0?void 0:be.style);let ge="";if(typeof De=="string")ge=`${De};`;else for(const Te in De)ge+=`${KM(Te)}: ${De[Te]};`;const pe=`transform-origin: center; transform: translateX(${y}px) translateY(${b}px) rotate(${Z}deg) scale(${G});`;A?me.cssText=`${ge}cursor: grabbing; transition: none;${pe}`:me.cssText=`${ge}cursor: grab;${pe}${se?"":"transition: none;"}`,se||re.offsetHeight}function Ue(){if(d.value){const{onClose:se}=t;se&&Fe(se),p(!1),c.value=!1}}function Qe(){G=ve(),W=Math.ceil(Math.log(G)/Math.log(N)),y=0,b=0,J()}const ae={setThumbnailEl:se=>{i=se}};function fe(se,be){if(t.showToolbarTooltip){const{value:re}=r;return v(Wg,{to:!1,theme:re.peers.Tooltip,themeOverrides:re.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>l.value[be],trigger:()=>se})}else return se}const ke=L(()=>{const{common:{cubicBezierEaseInOut:se},self:{toolbarIconColor:be,toolbarBorderRadius:re,toolbarBoxShadow:me,toolbarColor:De}}=r.value;return{"--n-bezier":se,"--n-toolbar-icon-color":be,"--n-toolbar-color":De,"--n-toolbar-border-radius":re,"--n-toolbar-box-shadow":me}}),{inlineThemeDisabled:Ke}=gt(),Ne=Ke?Ot("image-preview",void 0,ke,t):void 0;function Ae(se){se.preventDefault()}return Object.assign({clsPrefix:n,previewRef:o,previewWrapperRef:a,previewSrc:e,mergedShow:d,appear:co(),displayed:s,previewedImgProps:_==null?void 0:_.previewedImgPropsRef,handleWheel:Ae,handlePreviewMousedown:F,handlePreviewDblclick:ie,syncTransformOrigin:h,handleAfterLeave:()=>{he(),Z=0,s.value=!1},handleDragStart:se=>{var be,re;(re=(be=_==null?void 0:_.previewedImgPropsRef.value)===null||be===void 0?void 0:be.onDragstart)===null||re===void 0||re.call(be,se),se.preventDefault()},zoomIn:Se,zoomOut:ye,handleDownloadClick:Be,rotateCounterclockwise:X,rotateClockwise:K,handleSwitchPrev:xe,handleSwitchNext:Q,withTooltip:fe,resizeToOrignalImageSize:Qe,cssVars:Ke?void 0:ke,themeClass:Ne==null?void 0:Ne.themeClass,onRender:Ne==null?void 0:Ne.onRender,doUpdateShow:p,close:Ue},ae)},render(){var t,e;const{clsPrefix:n,renderToolbar:r,withTooltip:i}=this,o=i(v(Jt,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:I0e}),"tipPrevious"),a=i(v(Jt,{clsPrefix:n,onClick:this.handleSwitchNext},{default:L0e}),"tipNext"),s=i(v(Jt,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>v(sre,null)}),"tipCounterclockwise"),l=i(v(Jt,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>v(are,null)}),"tipClockwise"),c=i(v(Jt,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>v(ire,null)}),"tipOriginalSize"),u=i(v(Jt,{clsPrefix:n,onClick:this.zoomOut},{default:()=>v(fre,null)}),"tipZoomOut"),d=i(v(Jt,{clsPrefix:n,onClick:this.handleDownloadClick},{default:()=>v(JM,null)}),"tipDownload"),h=i(v(Jt,{clsPrefix:n,onClick:()=>this.close()},{default:M0e}),"tipClose"),f=i(v(Jt,{clsPrefix:n,onClick:this.zoomIn},{default:()=>v(hre,null)}),"tipZoomIn");return v(qn,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),v(Bg,{show:this.mergedShow},{default:()=>{var p;return this.mergedShow||this.displayed?((p=this.onRender)===null||p===void 0||p.call(this),ii(v("div",{ref:"containerRef",class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},v(hr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?v("div",{class:`${n}-image-preview-overlay`,onClick:()=>this.close()}):null}),this.showToolbar?v(hr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?v("div",{class:`${n}-image-preview-toolbar`},r?r({nodes:{prev:o,next:a,rotateCounterclockwise:s,rotateClockwise:l,resizeToOriginalSize:c,zoomOut:u,zoomIn:f,download:d,close:h}}):v(qn,null,this.onPrev?v(qn,null,o,a):null,s,l,c,u,f,d,h)):null}):null,v(hr,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:g={}}=this;return ii(v("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},v("img",Object.assign({},g,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,g.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ya,this.mergedShow]])}})),[[$g,{enabled:this.mergedShow}]])):null}}))}}),HF="n-image-group",UF=Object.assign(Object.assign({},U4),{srcList:Array,current:Number,defaultCurrent:{type:Number,default:0},show:{type:Boolean,default:void 0},defaultShow:Boolean,onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],onUpdateCurrent:[Function,Array],"onUpdate:current":[Function,Array]}),jF=le({name:"ImageGroup",props:UF,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=`c${Zo()}`,r=V(null),i=V(t.defaultShow),a=Cn($e(t,"show"),i),s=V(new Map),l=L(()=>{if(t.srcList){const T=new Map;return t.srcList.forEach((k,E)=>{T.set(`p${E}`,k)}),T}return s.value}),c=L(()=>Array.from(l.value.keys())),u=()=>c.value.length;function d(T,k){t.srcList&&Ii("image-group","`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");const E=`r${T}`;return s.value.has(`r${E}`)||s.value.set(E,k),function(){s.value.has(E)||s.value.delete(E)}}const h=V(t.defaultCurrent),p=Cn($e(t,"current"),h),g=T=>{if(T!==p.value){const{onUpdateCurrent:k,"onUpdate:current":E}=t;k&&Fe(k,T),E&&Fe(E,T),h.value=T}},m=L(()=>c.value[p.value]),y=T=>{const k=c.value.indexOf(T);k!==p.value&&g(k)},b=L(()=>l.value.get(m.value));function x(T){const{onUpdateShow:k,"onUpdate:show":E}=t;k&&Fe(k,T),E&&Fe(E,T),i.value=T}function w(){x(!1)}const C=L(()=>{const T=(E,P)=>{for(let _=E;_<=P;_++){const F=c.value[_];if(l.value.get(F))return _}},k=T(p.value+1,u()-1);return k===void 0?T(0,p.value-1):k}),S=L(()=>{const T=(E,P)=>{for(let _=E;_>=P;_--){const F=c.value[_];if(l.value.get(F))return _}},k=T(p.value-1,0);return k===void 0?T(u()-1,p.value+1):k});function A(T){var k,E;T===1?(S.value!==void 0&&g(C.value),(k=t.onPreviewNext)===null||k===void 0||k.call(t)):(C.value!==void 0&&g(S.value),(E=t.onPreviewPrev)===null||E===void 0||E.call(t))}return zt(HF,{mergedClsPrefixRef:e,registerImageUrl:d,setThumbnailEl:T=>{var k;(k=r.value)===null||k===void 0||k.setThumbnailEl(T)},toggleShow:T=>{x(!0),y(T)},groupId:n,renderToolbarRef:$e(t,"renderToolbar")}),{mergedClsPrefix:e,previewInstRef:r,mergedShow:a,src:b,onClose:w,next:()=>{A(1)},prev:()=>{A(-1)}}},render(){return v(j4,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,src:this.src,show:this.mergedShow,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,onClose:this.onClose},this.$slots)}}),VF=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},U4);let D0e=0;const WF=le({name:"Image",props:VF,slots:Object,inheritAttrs:!1,setup(t){const e=V(null),n=V(!1),r=V(null),i=ut(HF,null),{mergedClsPrefixRef:o}=i||gt(t),a=L(()=>t.previewSrc||t.src),s=V(!1),l=D0e++,c=()=>{if(t.previewDisabled||n.value)return;if(i){i.setThumbnailEl(e.value),i.toggleShow(`r${l}`);return}const{value:g}=r;g&&(g.setThumbnailEl(e.value),s.value=!0)},u={click:()=>{c()},showPreview:c},d=V(!t.lazy);jn(()=>{var g;(g=e.value)===null||g===void 0||g.setAttribute("data-group-id",(i==null?void 0:i.groupId)||"")}),jn(()=>{if(t.lazy&&t.intersectionObserverOptions){let g;const m=er(()=>{g==null||g(),g=void 0,g=MO(e.value,t.intersectionObserverOptions,d)});ir(()=>{m(),g==null||g()})}}),er(()=>{var g;t.src||((g=t.imgProps)===null||g===void 0||g.src),n.value=!1}),er(g=>{var m;const y=(m=i==null?void 0:i.registerImageUrl)===null||m===void 0?void 0:m.call(i,l,a.value||"");g(()=>{y==null||y()})});function h(g){var m,y;u.showPreview(),(y=(m=t.imgProps)===null||m===void 0?void 0:m.onClick)===null||y===void 0||y.call(m,g)}function f(){s.value=!1}const p=V(!1);return zt(NF,{previewedImgPropsRef:$e(t,"previewedImgProps")}),Object.assign({mergedClsPrefix:o,groupId:i==null?void 0:i.groupId,previewInstRef:r,imageRef:e,mergedPreviewSrc:a,showError:n,shouldStartLoading:d,loaded:p,mergedOnClick:g=>{h(g)},onPreviewClose:f,mergedOnError:g=>{if(!d.value)return;n.value=!0;const{onError:m,imgProps:{onError:y}={}}=t;m==null||m(g),y==null||y(g)},mergedOnLoad:g=>{const{onLoad:m,imgProps:{onLoad:y}={}}=t;m==null||m(g),y==null||y(g),p.value=!0},previewShow:s},u)},render(){var t,e;const{mergedClsPrefix:n,imgProps:r={},loaded:i,$attrs:o,lazy:a}=this,s=sn(this.$slots.error,()=>[]),l=(e=(t=this.$slots).placeholder)===null||e===void 0?void 0:e.call(t),c=this.src||r.src,u=this.showError&&s.length?s:v("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:a&&this.intersectionObserverOptions?this.shouldStartLoading?c:void 0:c,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:LO&&a&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",l&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return v("div",Object.assign({},o,{role:"none",class:[o.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?u:v(j4,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,src:this.mergedPreviewSrc,show:!this.previewDisabled&&this.previewShow,onClose:this.onPreviewClose},{default:()=>u}),!i&&l)}});var F0e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const qF={distance:{type:Number,default:0},onLoad:Function,scrollbarProps:Object},$0e=le({name:"InfiniteScroll",props:qF,setup(t){const e=V(null);let n=!1;const r=()=>F0e(this,void 0,void 0,function*(){var a;const{value:s}=e;if(s){const{containerRef:l}=s,c=l==null?void 0:l.scrollHeight,u=l==null?void 0:l.clientHeight,d=l==null?void 0:l.scrollTop;if(l&&c!==void 0&&u!==void 0&&d!==void 0&&d+u>=c-t.distance){n=!0;try{yield(a=t.onLoad)===null||a===void 0?void 0:a.call(t)}catch{}n=!1}}});return{scrollbarInstRef:e,handleScroll:()=>{n||r()},handleWheel:a=>{a.deltaY<=0||n||r()}}},render(){return v(Xf,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",onWheel:this.handleWheel,onScroll:this.handleScroll}),{default:()=>sn(this.$slots.default,()=>[])})}}),B0e=B([R("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),R("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]);function N0e(t){return t==null||typeof t=="string"&&t.trim()===""?null:Number(t)}function z0e(t){return t.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(t)||/^-?\d*$/.test(t))||t==="-"||t==="-0"}function c2(t){return t==null?!0:!Number.isNaN(t)}function Z6(t,e){return typeof t!="number"?"":e===void 0?String(t):t.toFixed(e)}function u2(t){if(t===null)return null;if(typeof t=="number")return t;{const e=Number(t);return Number.isNaN(e)?null:e}}const J6=800,eR=100,KF=Object.assign(Object.assign({},Ve.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},round:{type:Boolean,default:void 0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),H0e=le({name:"InputNumber",props:KF,slots:Object,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,mergedRtlRef:r}=gt(t),i=Ve("InputNumber","-input-number",B0e,Jhe,t,n),{localeRef:o}=li("InputNumber"),a=di(t),{mergedSizeRef:s,mergedDisabledRef:l,mergedStatusRef:c}=a,u=V(null),d=V(null),h=V(null),f=V(t.defaultValue),g=Cn($e(t,"value"),f),m=V(""),y=Ae=>{const se=String(Ae).split(".")[1];return se?se.length:0},b=Ae=>{const se=[t.min,t.max,t.step,Ae].map(be=>be===void 0?0:y(be));return Math.max(...se)},x=Yt(()=>{const{placeholder:Ae}=t;return Ae!==void 0?Ae:o.value.placeholder}),w=Yt(()=>{const Ae=u2(t.step);return Ae!==null?Ae===0?1:Math.abs(Ae):1}),C=Yt(()=>{const Ae=u2(t.min);return Ae!==null?Ae:null}),S=Yt(()=>{const Ae=u2(t.max);return Ae!==null?Ae:null}),A=()=>{const{value:Ae}=g;if(c2(Ae)){const{format:se,precision:be}=t;se?m.value=se(Ae):Ae===null||be===void 0||y(Ae)>be?m.value=Z6(Ae,void 0):m.value=Z6(Ae,be)}else m.value=String(Ae)};A();const T=Ae=>{const{value:se}=g;if(Ae===se){A();return}const{"onUpdate:value":be,onUpdateValue:re,onChange:me}=t,{nTriggerFormInput:De,nTriggerFormChange:ge}=a;me&&Fe(me,Ae),re&&Fe(re,Ae),be&&Fe(be,Ae),f.value=Ae,De(),ge()},k=({offset:Ae,doUpdateIfValid:se,fixPrecision:be,isInputing:re})=>{const{value:me}=m;if(re&&z0e(me))return!1;const De=(t.parse||N0e)(me);if(De===null)return se&&T(null),null;if(c2(De)){const ge=y(De),{precision:pe}=t;if(pe!==void 0&&pe<ge&&!be)return!1;let Te=Number.parseFloat((De+Ae).toFixed(pe??b(De)));if(c2(Te)){const{value:Xe}=S,{value:Oe}=C;if(Xe!==null&&Te>Xe){if(!se||re)return!1;Te=Xe}if(Oe!==null&&Te<Oe){if(!se||re)return!1;Te=Oe}return t.validator&&!t.validator(Te)?!1:(se&&T(Te),Te)}}return!1},E=Yt(()=>k({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),P=Yt(()=>{const{value:Ae}=g;if(t.validator&&Ae===null)return!1;const{value:se}=w;return k({offset:-se,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),_=Yt(()=>{const{value:Ae}=g;if(t.validator&&Ae===null)return!1;const{value:se}=w;return k({offset:+se,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function F(Ae){const{onFocus:se}=t,{nTriggerFormFocus:be}=a;se&&Fe(se,Ae),be()}function N(Ae){var se,be;if(Ae.target===((se=u.value)===null||se===void 0?void 0:se.wrapperElRef))return;const re=k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(re!==!1){const ge=(be=u.value)===null||be===void 0?void 0:be.inputElRef;ge&&(ge.value=String(re||"")),g.value===re&&A()}else A();const{onBlur:me}=t,{nTriggerFormBlur:De}=a;me&&Fe(me,Ae),De(),vn(()=>{A()})}function W(Ae){const{onClear:se}=t;se&&Fe(se,Ae)}function G(){const{value:Ae}=_;if(!Ae){Be();return}const{value:se}=g;if(se===null)t.validator||T(xe());else{const{value:be}=w;k({offset:be,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function Z(){const{value:Ae}=P;if(!Ae){Se();return}const{value:se}=g;if(se===null)t.validator||T(xe());else{const{value:be}=w;k({offset:-be,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const ie=F,he=N;function xe(){if(t.validator)return null;const{value:Ae}=C,{value:se}=S;return Ae!==null?Math.max(0,Ae):se!==null?Math.min(0,se):0}function Q(Ae){W(Ae),T(null)}function X(Ae){var se,be,re;!((se=h.value)===null||se===void 0)&&se.$el.contains(Ae.target)&&Ae.preventDefault(),!((be=d.value)===null||be===void 0)&&be.$el.contains(Ae.target)&&Ae.preventDefault(),(re=u.value)===null||re===void 0||re.activate()}let K=null,ne=null,ve=null;function Se(){ve&&(window.clearTimeout(ve),ve=null),K&&(window.clearInterval(K),K=null)}let ye=null;function Be(){ye&&(window.clearTimeout(ye),ye=null),ne&&(window.clearInterval(ne),ne=null)}function J(){Se(),ve=window.setTimeout(()=>{K=window.setInterval(()=>{Z()},eR)},J6),wn("mouseup",document,Se,{once:!0})}function Ue(){Be(),ye=window.setTimeout(()=>{ne=window.setInterval(()=>{G()},eR)},J6),wn("mouseup",document,Be,{once:!0})}const Qe=()=>{ne||G()},ae=()=>{K||Z()};function fe(Ae){var se,be;if(Ae.key==="Enter"){if(Ae.target===((se=u.value)===null||se===void 0?void 0:se.wrapperElRef))return;k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((be=u.value)===null||be===void 0||be.deactivate())}else if(Ae.key==="ArrowUp"){if(!_.value||t.keyboard.ArrowUp===!1)return;Ae.preventDefault(),k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&G()}else if(Ae.key==="ArrowDown"){if(!P.value||t.keyboard.ArrowDown===!1)return;Ae.preventDefault(),k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&Z()}}function ke(Ae){m.value=Ae,t.updateValueOnInput&&!t.format&&!t.parse&&t.precision===void 0&&k({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}qt(g,()=>{A()});const Ke={focus:()=>{var Ae;return(Ae=u.value)===null||Ae===void 0?void 0:Ae.focus()},blur:()=>{var Ae;return(Ae=u.value)===null||Ae===void 0?void 0:Ae.blur()},select:()=>{var Ae;return(Ae=u.value)===null||Ae===void 0?void 0:Ae.select()}},Ne=or("InputNumber",r,n);return Object.assign(Object.assign({},Ke),{rtlEnabled:Ne,inputInstRef:u,minusButtonInstRef:d,addButtonInstRef:h,mergedClsPrefix:n,mergedBordered:e,uncontrolledValue:f,mergedValue:g,mergedPlaceholder:x,displayedValueInvalid:E,mergedSize:s,mergedDisabled:l,displayedValue:m,addable:_,minusable:P,mergedStatus:c,handleFocus:ie,handleBlur:he,handleClear:Q,handleMouseDown:X,handleAddClick:Qe,handleMinusClick:ae,handleAddMousedown:Ue,handleMinusMousedown:J,handleKeyDown:fe,handleUpdateDisplayedValue:ke,mergedTheme:i,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:L(()=>{const{self:{iconColorDisabled:Ae}}=i.value,[se,be,re,me]=$i(Ae);return{textColorTextDisabled:`rgb(${se}, ${be}, ${re})`,opacityDisabled:`${me}`}})})},render(){const{mergedClsPrefix:t,$slots:e}=this,n=()=>v(_s,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>sn(e["minus-icon"],()=>[v(Jt,{clsPrefix:t},{default:()=>v(tO,null)})])}),r=()=>v(_s,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>sn(e["add-icon"],()=>[v(Jt,{clsPrefix:t},{default:()=>v(Yf,null)})])});return v("div",{class:[`${t}-input-number`,this.rtlEnabled&&`${t}-input-number--rtl`]},v(_i,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,round:this.round,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var i;return this.showButton&&this.buttonPlacement==="both"?[n(),bn(e.prefix,o=>o?v("span",{class:`${t}-input-number-prefix`},o):null)]:(i=e.prefix)===null||i===void 0?void 0:i.call(e)},suffix:()=>{var i;return this.showButton?[bn(e.suffix,o=>o?v("span",{class:`${t}-input-number-suffix`},o):null),this.buttonPlacement==="right"?n():null,r()]:(i=e.suffix)===null||i===void 0?void 0:i.call(e)}}))}}),U0e=B([R("input-otp",`
 display: flex;
 align-items: center;
 gap: var(--n-gap);
 `,[U("block","",[R("input","",[an("autosize",`
 text-align: center;
 min-width: 0;
 `),U("autosize",`
 text-align: center;
 min-width: 0;
 `)])]),an("block","",[R("input","",[an("autosize",`
 width: var(--n-input-width);
 text-align: center;
 `),U("autosize",`
 width: var(--n-input-width);
 text-align: center;
 `)])])])]);var j0e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const GF=Object.assign(Object.assign({},Ve.props),{defaultValue:{type:Array,default:[]},value:Array,length:{type:Number,default:6},block:Boolean,size:String,disabled:Boolean,mask:Boolean,readonly:Boolean,status:String,gap:[String,Number],placeholder:{type:String,default:""},allowInput:Function,onBlur:[Function,Array],onFocus:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFinish:[Function,Array]}),V0e=le({name:"InputOtp",props:GF,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("InputOtp","-input-otp",U0e,tfe,t,e),o=or("InputOtp",n,e),a=di(t),{mergedSizeRef:s,mergedDisabledRef:l,mergedStatusRef:c}=a,u=L(()=>{const{value:F}=s,{gap:N}=t,{self:{[We("inputWidth",F)]:W,[We("gap",F)]:G}}=i.value;return{"--n-gap":N===void 0?G:typeof N=="number"?br(N):N,"--n-input-width":W}}),d=r?Ot("input-otp",L(()=>{const{value:F}=s;return F[0]}),u,t):void 0,h=V(t.defaultValue),p=Cn($e(t,"value"),h),g=V([]),m=L(()=>t.mask?"password":"text"),y=(F,N)=>{if(g!=null&&g.value.some(Z=>Z.inputElRef===F.relatedTarget))return;const{onFocus:W}=t;W&&Fe(W,F,N);const{nTriggerFormFocus:G}=a;G()},b=(F,N)=>{if(g!=null&&g.value.some(Z=>Z.inputElRef===F.relatedTarget))return;const{onBlur:W}=t,{nTriggerFormBlur:G}=a;W&&Fe(W,F,N),G()},x=F=>{F>=t.length||F<0||(g==null||g.value[F].focus(),g==null||g.value[F].select())},w=F=>{F>=t.length-1||x(F+1)},C=F=>{F<=0||x(F-1)},S=F=>{const N=F?Array.from(F):[],W=t.length;for(;N.length>W;)N.pop();for(;N.length<W;)N.push("");return N};function A(F,N){const{nTriggerFormInput:W,nTriggerFormChange:G}=a;if(xX(F,p.value)){W();return}const{"onUpdate:value":Z,onUpdateValue:ie,length:he,onFinish:xe}=t;Z&&Fe(Z,F,N),ie&&Fe(ie,F,N),F.filter(Q=>Q).length===he&&xe&&Fe(xe,F),h.value=F,W(),G()}const T=(F,N)=>{if(t.readonly||l.value)return;F.preventDefault();const{clipboardData:W}=F,G=W==null?void 0:W.getData("text");if(!G)return;const Z=S(p.value);let ie=N;const he=t.allowInput;let xe=!1,Q="";for(let X=0;X<G.length&&!(!(he&&!he(G[X],ie,Z))&&(xe=!0,Z[ie]=G[X],Q+=G[X],ie++,ie>=Z.length));++X);xe&&(x(ie),A(Z,{diff:Q,index:ie,source:"paste"}))},k=(F,N)=>{if(l.value)return;const W=F.code||F.key,G=S(p.value);W==="Backspace"&&!t.readonly?(F.preventDefault(),G[Math.max(N,0)]="",A(G,{diff:"",index:N,source:"delete"}),C(N)):W==="ArrowLeft"?(F.preventDefault(),C(N)):W==="ArrowRight"&&(F.preventDefault(),w(N))},E=(F,N)=>{const W=S(p.value),G=W[N],Z=F.replace(G,""),ie=Z[Z.length-1]||F[F.length-1]||"",he=t.allowInput;he&&!he(ie,N,W)||(W[N]=ie,A(W,{diff:ie,index:N,source:"input"}),w(N))},P=F=>({onInput:N=>E(N,F),onPaste:N=>T(N,F),onKeydown:N=>k(N,F),onFocus:N=>y(N,F),onBlur:N=>b(N,F)}),_={focusOnChar:x};return Object.assign({mergedTheme:i,perItemValueArray:L(()=>S(p.value)),mergedClsPrefix:e,inputRefList:g,inputType:m,rtlEnabled:o,mergedStatus:c,mergedDisabled:l,cssVars:r?void 0:u,themeClass:d==null?void 0:d.themeClass,getTemplateEvents:P,onRender:d==null?void 0:d.onRender},_)},render(){const{mergedTheme:t,mergedClsPrefix:e,perItemValueArray:n,size:r,placeholder:i,mergedDisabled:o,mergedStatus:a,readonly:s,inputType:l,$slots:c,getTemplateEvents:u,themeClass:d,onRender:h}=this;return h==null||h(),v("div",{style:this.cssVars,class:[`${e}-input-otp`,d,this.rtlEnabled&&`${e}-input-otp--rtl`,this.block&&`${e}-input-otp--block`]},Iu(this.length,void 0).map((f,p)=>ui(c.default,Object.assign({index:p,value:n[p],type:l,size:r,placeholder:i,disabled:o,readonly:s,status:a,builtinThemeOverrides:{paddingTiny:"0",paddingSmall:"0",paddingMedium:"0",paddingLarge:"0"},theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,ref:g=>this.inputRefList[p]=g},u(p)),g=>{var{index:m}=g,y=j0e(g,["index"]);return[v(_i,Object.assign({},y,{key:m}))]})))}}),YF="n-layout-sider",bx={type:String,default:"static"},W0e=R("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[R("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),U("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),BA={embedded:Boolean,position:bx,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentClass:String,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},XF="n-layout";function QF(t){return le({name:t?"LayoutContent":"Layout",props:Object.assign(Object.assign({},Ve.props),BA),setup(e){const n=V(null),r=V(null),{mergedClsPrefixRef:i,inlineThemeDisabled:o}=gt(e),a=Ve("Layout","-layout",W0e,gx,e,i);function s(g,m){if(e.nativeScrollbar){const{value:y}=n;y&&(m===void 0?y.scrollTo(g):y.scrollTo(g,m))}else{const{value:y}=r;y&&y.scrollTo(g,m)}}zt(XF,e);let l=0,c=0;const u=g=>{var m;const y=g.target;l=y.scrollLeft,c=y.scrollTop,(m=e.onScroll)===null||m===void 0||m.call(e,g)};jk(()=>{if(e.nativeScrollbar){const g=n.value;g&&(g.scrollTop=c,g.scrollLeft=l)}});const d={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},h={scrollTo:s},f=L(()=>{const{common:{cubicBezierEaseInOut:g},self:m}=a.value;return{"--n-bezier":g,"--n-color":e.embedded?m.colorEmbedded:m.color,"--n-text-color":m.textColor}}),p=o?Ot("layout",L(()=>e.embedded?"e":""),f,e):void 0;return Object.assign({mergedClsPrefix:i,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:d,mergedTheme:a,handleNativeElScroll:u,cssVars:o?void 0:f,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender},h)},render(){var e;const{mergedClsPrefix:n,hasSider:r}=this;(e=this.onRender)===null||e===void 0||e.call(this);const i=r?this.hasSiderStyle:void 0,o=[this.themeClass,t&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return v("div",{class:o,style:this.cssVars},this.nativeScrollbar?v("div",{ref:"scrollableElRef",class:[`${n}-layout-scroll-container`,this.contentClass],style:[this.contentStyle,i],onScroll:this.handleNativeElScroll},this.$slots):v(Hr,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:this.contentClass,contentStyle:[this.contentStyle,i]}),this.$slots))}})}const q0e=QF(!1),K0e=QF(!0),G0e=R("layout-footer",`
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
`,[U("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: 0;
 `),U("bordered",`
 border-top: solid 1px var(--n-border-color);
 `)]),ZF=Object.assign(Object.assign({},Ve.props),{inverted:Boolean,position:bx,bordered:Boolean}),Y0e=le({name:"LayoutFooter",props:ZF,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Layout","-layout-footer",G0e,gx,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:s}=r.value,l={"--n-bezier":a};return t.inverted?(l["--n-color"]=s.footerColorInverted,l["--n-text-color"]=s.textColorInverted,l["--n-border-color"]=s.footerBorderColorInverted):(l["--n-color"]=s.footerColor,l["--n-text-color"]=s.textColor,l["--n-border-color"]=s.footerBorderColor),l}),o=n?Ot("layout-footer",L(()=>t.inverted?"a":"b"),i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-layout-footer`,this.themeClass,this.position&&`${e}-layout-footer--${this.position}-positioned`,this.bordered&&`${e}-layout-footer--bordered`],style:this.cssVars},this.$slots)}}),X0e=R("layout-header",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 width: 100%;
 background-color: var(--n-color);
 color: var(--n-text-color);
`,[U("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 `),U("bordered",`
 border-bottom: solid 1px var(--n-border-color);
 `)]),JF={position:bx,inverted:Boolean,bordered:{type:Boolean,default:!1}},Q0e=le({name:"LayoutHeader",props:Object.assign(Object.assign({},Ve.props),JF),setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Layout","-layout-header",X0e,gx,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:s}=r.value,l={"--n-bezier":a};return t.inverted?(l["--n-color"]=s.headerColorInverted,l["--n-text-color"]=s.textColorInverted,l["--n-border-color"]=s.headerBorderColorInverted):(l["--n-color"]=s.headerColor,l["--n-text-color"]=s.textColor,l["--n-border-color"]=s.headerBorderColor),l}),o=n?Ot("layout-header",L(()=>t.inverted?"a":"b"),i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-layout-header`,this.themeClass,this.position&&`${e}-layout-header--${this.position}-positioned`,this.bordered&&`${e}-layout-header--bordered`],style:this.cssVars},this.$slots)}}),Z0e=R("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[U("bordered",[H("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),H("left-placement",[U("bordered",[H("border",`
 right: 0;
 `)])]),U("right-placement",`
 justify-content: flex-start;
 `,[U("bordered",[H("border",`
 left: 0;
 `)]),U("collapsed",[R("layout-toggle-button",[R("base-icon",`
 transform: rotate(180deg);
 `)]),R("layout-toggle-bar",[B("&:hover",[H("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),R("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[R("base-icon",`
 transform: rotate(0);
 `)]),R("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[B("&:hover",[H("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),U("collapsed",[R("layout-toggle-bar",[B("&:hover",[H("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),R("layout-toggle-button",[R("base-icon",`
 transform: rotate(0);
 `)])]),R("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[R("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),R("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[H("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),H("bottom",`
 position: absolute;
 top: 34px;
 `),B("&:hover",[H("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),H("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),B("&:hover",[H("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),H("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),R("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),U("show-content",[R("layout-sider-scroll-container",{opacity:1})]),U("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),J0e=le({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:t}=this;return v("div",{onClick:this.onClick,class:`${t}-layout-toggle-bar`},v("div",{class:`${t}-layout-toggle-bar__top`}),v("div",{class:`${t}-layout-toggle-bar__bottom`}))}}),eme=le({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-layout-toggle-button`,onClick:this.onClick},v(Jt,{clsPrefix:t},{default:()=>v(yh,null)}))}}),e$={position:bx,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentClass:String,contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerClass:String,triggerStyle:[String,Object],collapsedTriggerClass:String,collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},tme=le({name:"LayoutSider",props:Object.assign(Object.assign({},Ve.props),e$),setup(t){const e=ut(XF),n=V(null),r=V(null),i=V(t.defaultCollapsed),o=Cn($e(t,"collapsed"),i),a=L(()=>Ln(o.value?t.collapsedWidth:t.width)),s=L(()=>t.collapseMode!=="transform"?{}:{minWidth:Ln(t.width)}),l=L(()=>e?e.siderPlacement:"left");function c(C,S){if(t.nativeScrollbar){const{value:A}=n;A&&(S===void 0?A.scrollTo(C):A.scrollTo(C,S))}else{const{value:A}=r;A&&A.scrollTo(C,S)}}function u(){const{"onUpdate:collapsed":C,onUpdateCollapsed:S,onExpand:A,onCollapse:T}=t,{value:k}=o;S&&Fe(S,!k),C&&Fe(C,!k),i.value=!k,k?A&&Fe(A):T&&Fe(T)}let d=0,h=0;const f=C=>{var S;const A=C.target;d=A.scrollLeft,h=A.scrollTop,(S=t.onScroll)===null||S===void 0||S.call(t,C)};jk(()=>{if(t.nativeScrollbar){const C=n.value;C&&(C.scrollTop=h,C.scrollLeft=d)}}),zt(YF,{collapsedRef:o,collapseModeRef:$e(t,"collapseMode")});const{mergedClsPrefixRef:p,inlineThemeDisabled:g}=gt(t),m=Ve("Layout","-layout-sider",Z0e,gx,t,p);function y(C){var S,A;C.propertyName==="max-width"&&(o.value?(S=t.onAfterLeave)===null||S===void 0||S.call(t):(A=t.onAfterEnter)===null||A===void 0||A.call(t))}const b={scrollTo:c},x=L(()=>{const{common:{cubicBezierEaseInOut:C},self:S}=m.value,{siderToggleButtonColor:A,siderToggleButtonBorder:T,siderToggleBarColor:k,siderToggleBarColorHover:E}=S,P={"--n-bezier":C,"--n-toggle-button-color":A,"--n-toggle-button-border":T,"--n-toggle-bar-color":k,"--n-toggle-bar-color-hover":E};return t.inverted?(P["--n-color"]=S.siderColorInverted,P["--n-text-color"]=S.textColorInverted,P["--n-border-color"]=S.siderBorderColorInverted,P["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColorInverted,P.__invertScrollbar=S.__invertScrollbar):(P["--n-color"]=S.siderColor,P["--n-text-color"]=S.textColor,P["--n-border-color"]=S.siderBorderColor,P["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColor),P}),w=g?Ot("layout-sider",L(()=>t.inverted?"a":"b"),x,t):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:p,mergedTheme:m,styleMaxWidth:a,mergedCollapsed:o,scrollContainerStyle:s,siderPlacement:l,handleNativeElScroll:f,handleTransitionend:y,handleTriggerClick:u,inlineThemeDisabled:g,cssVars:x,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender},b)},render(){var t;const{mergedClsPrefix:e,mergedCollapsed:n,showTrigger:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("aside",{class:[`${e}-layout-sider`,this.themeClass,`${e}-layout-sider--${this.position}-positioned`,`${e}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${e}-layout-sider--bordered`,n&&`${e}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${e}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:Ln(this.width)}]},this.nativeScrollbar?v("div",{class:[`${e}-layout-sider-scroll-container`,this.contentClass],onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):v(Hr,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,contentClass:this.contentClass,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?v(J0e,{clsPrefix:e,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):v(eme,{clsPrefix:e,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?v("div",{class:`${e}-layout-sider__border`}):null)}}),nme={extraFontSize:"12px",width:"440px"};function rme(t){const{fontWeight:e,iconColorDisabled:n,iconColor:r,fontSizeLarge:i,fontSizeMedium:o,fontSizeSmall:a,heightLarge:s,heightMedium:l,heightSmall:c,borderRadius:u,cardColor:d,tableHeaderColor:h,textColor1:f,textColorDisabled:p,textColor2:g,borderColor:m,hoverColor:y}=t;return Object.assign(Object.assign({},nme),{itemHeightSmall:c,itemHeightMedium:l,itemHeightLarge:s,fontSizeSmall:a,fontSizeMedium:o,fontSizeLarge:i,borderRadius:u,borderColor:m,listColor:d,headerColor:rn(d,h),titleTextColor:f,titleTextColorDisabled:p,extraTextColor:g,filterDividerColor:m,itemTextColor:g,itemTextColorDisabled:p,itemColorPending:y,titleFontWeight:e,iconColor:r,iconColorDisabled:n})}const ime={name:"Transfer",common:Bt,peers:{Checkbox:pp,Scrollbar:Bo,Input:Ca,Empty:ed,Button:Aa},self:rme},Yg="n-transfer",ome=B([B("@keyframes legacy-transfer-slide-in-from-left",`
 0% {
 transform: translateX(-150%);
 }
 100% {
 transform: translateX(0);
 }
 `),B("@keyframes legacy-transfer-slide-out-to-right",`
 0% {
 transform: translateX(0);
 }
 100% {
 transform: translateX(150%);
 }
 `),B("@keyframes legacy-transfer-slide-in-from-right",`
 0% {
 transform: translateX(150%);
 }
 100% {
 transform: translateX(0);
 }
 `),B("@keyframes legacy-transfer-slide-out-to-left",`
 0% {
 transform: translateX(0);
 }
 100% {
 transform: translateX(-150%);
 }
 `),B("@keyframes legacy-transfer-height-collapse",`
 0% {
 max-height: var(--n-item-height);
 }
 100% {
 max-height: 0;
 }
 `),B("@keyframes legacy-transfer-height-expand",`
 0% {
 max-height: 0;
 }
 100% {
 max-height: var(--n-item-height);
 }
 `)]),ame=B([R("legacy-transfer",`
 display: flex;
 width: var(--n-width);
 font-size: var(--n-font-size);
 height: 240px;
 display: flex;
 flex-wrap: nowrap;
 `,[R("legacy-transfer-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),U("disabled",[R("legacy-transfer-icon",{color:"var(--n-icon-color-disabled)"})]),R("legacy-transfer-list",`
 height: inherit;
 display: flex;
 flex-direction: column;
 background-clip: padding-box;
 width: calc(50% - 36px);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 background-color: var(--n-list-color);
 `,[H("border",`
 border: 1px solid var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),R("legacy-transfer-list-header",`
 height: calc(var(--n-item-height) + 4px);
 box-sizing: border-box;
 display: flex;
 align-items: center;
 background-clip: padding-box;
 border-radius: inherit;
 border-bottom-left-radius: 0;
 border-bottom-right-radius: 0;
 background-color: var(--n-header-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[H("checkbox",`
 display: flex;
 align-items: center;
 position: relative;
 padding: 0 9px 0 14px;
 `),H("header",`
 flex: 1;
 line-height: 1;
 font-weight: var(--n-header-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-header-text-color);
 `,[U("disabled",{color:"var(--n-header-text-color-disabled)"})]),H("extra",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-extra-font-size);
 justify-self: flex-end;
 margin-right: 14px;
 white-space: nowrap;
 color: var(--n-header-extra-text-color);
 `)]),R("legacy-transfer-list-body",`
 flex-basis: 0;
 flex-grow: 1;
 box-sizing: border-box;
 position: relative;
 display: flex;
 flex-direction: column;
 border-radius: inherit;
 border-top-left-radius: 0;
 border-top-right-radius: 0;
 `,[R("legacy-transfer-filter",`
 padding: 0 8px 8px 8px;
 box-sizing: border-box;
 background-color: var(--n-header-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-filter-divider-color);
 `),R("legacy-transfer-list-flex-container",`
 flex: 1;
 position: relative;
 `,[R("scrollbar",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 height: unset;
 `,[R("scrollbar-content",{width:"100%"})]),R("empty",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 `,[vc()]),R("legacy-transfer-list-content",`
 padding: 0;
 margin: 0;
 position: relative;
 `,[U("transition-disabled",[R("legacy-transfer-list-item",{animation:"none !important"})]),R("legacy-transfer-list-item",`
 height: var(--n-item-height);
 max-height: var(--n-item-height);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 cursor: pointer;
 display: flex;
 align-items: center;
 color: var(--n-item-text-color);
 `,[an("disabled",[B("&:hover",{backgroundColor:"var(--n-item-color-pending)"})]),H("extra",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 padding-right: 4px;
 `),H("checkbox",`
 display: flex;
 align-items: center;
 position: relative;
 padding: 0 9px 0 14px;
 `),U("disabled",`
 cursor: not-allowed
 background-color: #0000;
 color: var(--n-item-text-color-disabled);
 `),U("source",{animationFillMode:"forwards"},[B("&.item-enter-active",`
 transform: translateX(150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-out);
 animation-delay: 0s, .25s;
 animation-name: legacy-transfer-height-expand, legacy-transfer-slide-in-from-right;
 `),B("&.item-leave-active",`
 transform: translateX(-150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-in);
 animation-delay: .25s, 0s;
 animation-name: legacy-transfer-height-collapse, legacy-transfer-slide-out-to-right;
 `)]),U("target",{animationFillMode:"forwards"},[B("&.item-enter-active",`
 transform: translateX(-150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-out);
 animation-delay: 0s, .25s;
 animation-name: legacy-transfer-height-expand, legacy-transfer-slide-in-from-left;
 `),B("&.item-leave-active",`
 transform: translateX(150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-in);
 animation-delay: .25s, 0s;
 animation-name: legacy-transfer-height-collapse, legacy-transfer-slide-out-to-left;
 `)])])])])])]),R("legacy-transfer-gap",{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),R("button",[B("&:first-child",{marginBottom:"12px"})])]),ome]),tR=le({name:"TransferFilter",props:{value:String,placeholder:String,disabled:Boolean,onFocus:{type:Function,required:!0},onBlur:{type:Function,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=ut(Yg);return{mergedClsPrefix:e,mergedTheme:t}},render(){const{mergedTheme:t,mergedClsPrefix:e}=this;return v("div",{class:`${e}-legacy-transfer-filter`},v(_i,{value:this.value,onUpdateValue:this.onUpdateValue,disabled:this.disabled,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,clearable:!0,size:"small",placeholder:this.placeholder,onFocus:this.onFocus,onBlur:this.onBlur},{"clear-icon-placeholder":()=>v(Jt,{clsPrefix:e,class:`${e}-legacy-transfer-icon`},{default:()=>v(nO,null)})}))}}),nR=le({name:"TransferHeader",props:{source:{type:Boolean,default:!1},onChange:{type:Function,required:!0},title:String},setup(t){const{srcOptsRef:e,tgtOptsRef:n,srcCheckedStatusRef:r,tgtCheckedStatusRef:i,srcCheckedValuesRef:o,tgtCheckedValuesRef:a,mergedThemeRef:s,disabledRef:l,mergedClsPrefixRef:c}=ut(Yg),u=L(()=>{const{source:d}=t;return d?r.value:i.value});return()=>{const{source:d}=t,{value:h}=u,{value:f}=s,{value:p}=c;return v("div",{class:`${p}-legacy-transfer-list-header`},v("div",{class:`${p}-legacy-transfer-list-header__checkbox`},v(Lc,{theme:f.peers.Checkbox,themeOverrides:f.peerOverrides.Checkbox,checked:h.checked,indeterminate:h.indeterminate,disabled:h.disabled||l.value,onUpdateChecked:t.onChange})),v("div",{class:`${p}-legacy-transfer-list-header__header`},t.title),v("div",{class:`${p}-legacy-transfer-list-header__extra`},d?o.value.length:a.value.length,"/",d?e.value.length:n.value.length))}}}),rR=le({name:"NTransferListItem",props:{source:{type:Boolean,default:!1},label:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},setup(t){const{source:e}=t,{mergedClsPrefixRef:n,mergedThemeRef:r,srcCheckedValuesRef:i,tgtCheckedValuesRef:o,handleSrcCheckboxClick:a,handleTgtCheckboxClick:s}=ut(Yg),l=Yt(e?()=>i.value.includes(t.value):()=>o.value.includes(t.value));return{mergedClsPrefix:n,mergedTheme:r,checked:l,handleClick:e?()=>{t.disabled||a(!l.value,t.value)}:()=>{t.disabled||s(!l.value,t.value)}}},render(){const{disabled:t,mergedTheme:e,mergedClsPrefix:n,label:r,checked:i,source:o}=this;return v("div",{class:[`${n}-legacy-transfer-list-item`,t&&`${n}-legacy-transfer-list-item--disabled`,o?`${n}-legacy-transfer-list-item--source`:`${n}-legacy-transfer-list-item--target`],onClick:this.handleClick},v("div",{class:`${n}-legacy-transfer-list-item__checkbox`},v(Lc,{theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,disabled:t,checked:i})),v("div",{class:`${n}-legacy-transfer-list-item__label`,title:Kf(r)},r))}}),iR=le({name:"TransferList",props:{virtualScroll:{type:Boolean,required:!0},itemSize:{type:Number,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0},isMounted:{type:Boolean,required:!0},isInputing:{type:Boolean,required:!0},source:{type:Boolean,default:!1}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=ut(Yg),n=V(null),r=V(null);function i(){var s;(s=n.value)===null||s===void 0||s.sync()}function o(){const{value:s}=r;if(!s)return null;const{listElRef:l}=s;return l}function a(){const{value:s}=r;if(!s)return null;const{itemsElRef:l}=s;return l}return{mergedTheme:t,mergedClsPrefix:e,scrollerInstRef:n,vlInstRef:r,syncVLScroller:i,scrollContainer:o,scrollContent:a}},render(){const{mergedTheme:t,mergedClsPrefix:e,virtualScroll:n,syncVLScroller:r}=this;return v(qn,null,v(Hr,{ref:"scrollerInstRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:n?this.scrollContainer:void 0,content:n?this.scrollContent:void 0},{default:()=>n?v(Os,{ref:"vlInstRef",style:{height:"100%"},class:`${e}-legacy-transfer-list-content`,items:this.options,itemSize:this.itemSize,showScrollbar:!1,onResize:r,onScroll:r,keyField:"value"},{default:({item:i})=>{const{source:o,disabled:a}=this;return v(rR,{source:o,key:i.value,value:i.value,disabled:i.disabled||a,label:i.label})}}):v("div",{class:`${e}-legacy-transfer-list-content`},v(X1,{name:"item",appear:this.isMounted,css:!this.isInputing},{default:()=>{const{source:i,disabled:o}=this;return this.options.map(a=>v(rR,{source:i,key:a.value,value:a.value,disabled:a.disabled||o,label:a.label}))}}))}),v(hr,{name:"fade-in-transition",appear:this.isMounted,css:!this.isInputing},{default:()=>this.options.length?null:v(yc,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})}))}});function sme(t,e){const n=V(t.defaultValue),i=Cn($e(t,"value"),n),o=L(()=>{const E=new Map;return(t.options||[]).forEach(P=>E.set(P.value,P)),E}),a=L(()=>new Set(i.value||[])),s=L(()=>t.options.filter(E=>!a.value.has(E.value))),l=L(()=>{const E=o.value;return(i.value||[]).map(P=>E.get(P))}),c=V(""),u=V(""),d=L(()=>{if(!t.filterable)return s.value;const{filter:E}=t;return s.value.filter(P=>E(c.value,P,"source"))}),h=L(()=>{if(!t.filterable)return l.value;const{filter:E}=t;return l.value.filter(P=>E(u.value,P,"target"))}),f=L(()=>new Set(d.value.filter(E=>!E.disabled).map(E=>E.value))),p=L(()=>new Set(h.value.filter(E=>!E.disabled).map(E=>E.value))),g=V([]),m=V([]),y=L(()=>{const E=g.value.filter(_=>f.value.has(_)).length,P=f.value.size;return P===0?{checked:!1,indeterminate:!1,disabled:!0}:E===0?{checked:!1,indeterminate:!1}:E===P?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}}),b=L(()=>{const E=m.value.filter(_=>p.value.has(_)).length,P=p.value.size;return P===0?{checked:!1,indeterminate:!1,disabled:!0}:E===0?{checked:!1,indeterminate:!1}:E===P?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}}),x=Yt(()=>e.value?!0:m.value.length===0),w=Yt(()=>e.value?!0:g.value.length===0),C=V(!1);function S(){C.value=!0}function A(){C.value=!1}function T(E){c.value=E??""}function k(E){u.value=E??""}return{uncontrolledValue:n,mergedValue:i,avlSrcValueSet:f,avlTgtValueSet:p,tgtOpts:l,srcOpts:s,filteredSrcOpts:d,filteredTgtOpts:h,srcCheckedValues:g,tgtCheckedValues:m,srcCheckedStatus:y,tgtCheckedStatus:b,srcPattern:c,tgtPattern:u,isInputing:C,fromButtonDisabled:x,toButtonDisabled:w,handleInputFocus:S,handleInputBlur:A,handleTgtFilterUpdateValue:k,handleSrcFilterUpdateValue:T}}const t$=Object.assign(Object.assign({},Ve.props),{value:Array,defaultValue:{type:Array,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:void 0},virtualScroll:Boolean,sourceTitle:String,targetTitle:String,filterable:Boolean,sourceFilterPlaceholder:String,targetFilterPlaceholder:String,filter:{type:Function,default:(t,e)=>t?~`${e.label}`.toLowerCase().indexOf(`${t}`.toLowerCase()):!0},size:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),lme=le({name:"LegacyTransfer",props:t$,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=Ve("LegacyTransfer","-legacy-transfer",ame,ime,t,e),r=di(t),{mergedSizeRef:i,mergedDisabledRef:o}=r,a=L(()=>{const{value:xe}=i,{self:{[We("itemHeight",xe)]:Q}}=n.value;return pr(Q)}),{uncontrolledValue:s,mergedValue:l,avlSrcValueSet:c,avlTgtValueSet:u,tgtOpts:d,srcOpts:h,filteredSrcOpts:f,filteredTgtOpts:p,srcCheckedValues:g,tgtCheckedValues:m,srcCheckedStatus:y,tgtCheckedStatus:b,srcPattern:x,tgtPattern:w,isInputing:C,fromButtonDisabled:S,toButtonDisabled:A,handleInputFocus:T,handleInputBlur:k,handleTgtFilterUpdateValue:E,handleSrcFilterUpdateValue:P}=sme(t,o);function _(xe){const{onUpdateValue:Q,"onUpdate:value":X,onChange:K}=t,{nTriggerFormInput:ne,nTriggerFormChange:ve}=r;Q&&Fe(Q,xe),X&&Fe(X,xe),K&&Fe(K,xe),s.value=xe,ne(),ve()}function F(){const{value:{checked:xe,indeterminate:Q}}=y;Q||xe?g.value=[]:g.value=Array.from(c.value)}function N(){const{value:{checked:xe,indeterminate:Q}}=b;Q||xe?m.value=[]:m.value=Array.from(u.value)}function W(xe,Q){if(xe)m.value.push(Q);else{const X=m.value.findIndex(K=>K===Q);~X&&m.value.splice(X,1)}}function G(xe,Q){if(xe)g.value.push(Q);else{const X=g.value.findIndex(K=>K===Q);~X&&g.value.splice(X,1)}}function Z(){_(g.value.concat(l.value||[])),g.value=[]}function ie(){const xe=new Set(m.value);_((l.value||[]).filter(Q=>!xe.has(Q))),m.value=[]}zt(Yg,{mergedClsPrefixRef:e,mergedSizeRef:i,disabledRef:o,mergedThemeRef:n,srcCheckedValuesRef:g,tgtCheckedValuesRef:m,srcOptsRef:h,tgtOptsRef:d,srcCheckedStatusRef:y,tgtCheckedStatusRef:b,handleSrcCheckboxClick:G,handleTgtCheckboxClick:W});const{localeRef:he}=li("LegacyTransfer");return{locale:he,mergedClsPrefix:e,mergedDisabled:o,itemSize:a,isMounted:co(),isInputing:C,mergedTheme:n,filteredSrcOpts:f,filteredTgtOpts:p,srcPattern:x,tgtPattern:w,toButtonDisabled:A,fromButtonDisabled:S,handleSrcHeaderCheck:F,handleTgtHeaderCheck:N,handleToSrcClick:ie,handleToTgtClick:Z,handleInputFocus:T,handleInputBlur:k,handleTgtFilterUpdateValue:E,handleSrcFilterUpdateValue:P,cssVars:L(()=>{const{value:xe}=i,{common:{cubicBezierEaseInOut:Q,cubicBezierEaseIn:X,cubicBezierEaseOut:K},self:{width:ne,borderRadius:ve,borderColor:Se,listColor:ye,headerColor:Be,titleTextColor:J,titleTextColorDisabled:Ue,extraTextColor:Qe,filterDividerColor:ae,itemTextColor:fe,itemColorPending:ke,itemTextColorDisabled:Ke,extraFontSize:Ne,titleFontWeight:Ae,iconColor:se,iconColorDisabled:be,[We("fontSize",xe)]:re,[We("itemHeight",xe)]:me}}=n.value;return{"--n-bezier":Q,"--n-bezier-ease-in":X,"--n-bezier-ease-out":K,"--n-border-color":Se,"--n-border-radius":ve,"--n-extra-font-size":Ne,"--n-filter-divider-color":ae,"--n-font-size":re,"--n-header-color":Be,"--n-header-extra-text-color":Qe,"--n-header-font-weight":Ae,"--n-header-text-color":J,"--n-header-text-color-disabled":Ue,"--n-item-color-pending":ke,"--n-item-height":me,"--n-item-text-color":fe,"--n-item-text-color-disabled":Ke,"--n-list-color":ye,"--n-width":ne,"--n-icon-color":se,"--n-icon-color-disabled":be}})}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:[`${t}-legacy-transfer`,this.mergedDisabled&&`${t}-legacy-transfer--disabled`,this.filterable&&`${t}-legacy-transfer--filterable`],style:this.cssVars},v("div",{class:`${t}-legacy-transfer-list`},v(nR,{source:!0,onChange:this.handleSrcHeaderCheck,title:this.sourceTitle||this.locale.sourceTitle}),v("div",{class:`${t}-legacy-transfer-list-body`},this.filterable?v(tR,{onUpdateValue:this.handleSrcFilterUpdateValue,value:this.srcPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}):null,v("div",{class:`${t}-legacy-transfer-list-flex-container`},v(iR,{source:!0,options:this.filteredSrcOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,isMounted:this.isMounted,isInputing:this.isInputing,itemSize:this.itemSize}))),v("div",{class:`${t}-legacy-transfer-list__border`})),v("div",{class:`${t}-legacy-transfer-gap`},v(Qn,{disabled:this.toButtonDisabled||this.mergedDisabled,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,onClick:this.handleToTgtClick},{icon:()=>v(Jt,{clsPrefix:t},{default:()=>v(yh,null)})}),v(Qn,{disabled:this.fromButtonDisabled||this.mergedDisabled,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,onClick:this.handleToSrcClick},{icon:()=>v(Jt,{clsPrefix:t},{default:()=>v(i4,null)})})),v("div",{class:`${t}-legacy-transfer-list`},v(nR,{onChange:this.handleTgtHeaderCheck,title:this.targetTitle||this.locale.targetTitle}),v("div",{class:`${t}-legacy-transfer-list-body`},this.filterable?v(tR,{onUpdateValue:this.handleTgtFilterUpdateValue,value:this.tgtPattern,disabled:this.mergedDisabled,placeholder:this.targetFilterPlaceholder,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}):null,v("div",{class:`${t}-legacy-transfer-list-flex-container`},v(iR,{options:this.filteredTgtOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,isMounted:this.isMounted,isInputing:this.isInputing,itemSize:this.itemSize}))),v("div",{class:`${t}-legacy-transfer-list__border`})))}}),cme=B([R("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[U("show-divider",[R("list-item",[B("&:not(:last-child)",[H("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),U("clickable",[R("list-item",`
 cursor: pointer;
 `)]),U("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),U("hoverable",[R("list-item",`
 border-radius: var(--n-border-radius);
 `,[B("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[H("divider",`
 background-color: transparent;
 `)])])]),U("bordered, hoverable",[R("list-item",`
 padding: 12px 20px;
 `),H("header, footer",`
 padding: 12px 20px;
 `)]),H("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[B("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),R("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[H("prefix",`
 margin-right: 20px;
 flex: 0;
 `),H("suffix",`
 margin-left: 20px;
 flex: 0;
 `),H("main",`
 flex: 1;
 `),H("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),_l(R("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Tc(R("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),n$=Object.assign(Object.assign({},Ve.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),r$="n-list",ume=le({name:"List",props:n$,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=or("List",r,e),o=Ve("List","-list",cme,ife,t,e);zt(r$,{showDividerRef:$e(t,"showDivider"),mergedClsPrefixRef:e});const a=L(()=>{const{common:{cubicBezierEaseInOut:l},self:{fontSize:c,textColor:u,color:d,colorModal:h,colorPopover:f,borderColor:p,borderColorModal:g,borderColorPopover:m,borderRadius:y,colorHover:b,colorHoverModal:x,colorHoverPopover:w}}=o.value;return{"--n-font-size":c,"--n-bezier":l,"--n-text-color":u,"--n-color":d,"--n-border-radius":y,"--n-border-color":p,"--n-border-color-modal":g,"--n-border-color-popover":m,"--n-color-modal":h,"--n-color-popover":f,"--n-color-hover":b,"--n-color-hover-modal":x,"--n-color-hover-popover":w}}),s=n?Ot("list",void 0,a,t):void 0;return{mergedClsPrefix:e,rtlEnabled:i,cssVars:n?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{$slots:e,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),v("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},e.header?v("div",{class:`${n}-list__header`},e.header()):null,(t=e.default)===null||t===void 0?void 0:t.call(e),e.footer?v("div",{class:`${n}-list__footer`},e.footer()):null)}}),dme=le({name:"ListItem",slots:Object,setup(){const t=ut(r$,null);return t||Ii("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:t.showDividerRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{$slots:t,mergedClsPrefix:e}=this;return v("li",{class:`${e}-list-item`},t.prefix?v("div",{class:`${e}-list-item__prefix`},t.prefix()):null,t.default?v("div",{class:`${e}-list-item__main`},t):null,t.suffix?v("div",{class:`${e}-list-item__suffix`},t.suffix()):null,this.showDivider&&v("div",{class:`${e}-list-item__divider`}))}}),i$="n-log",hme=le({props:{line:{type:String,default:""}},setup(t){const{trimRef:e,highlightRef:n,languageRef:r,mergedHljsRef:i}=ut(i$),o=V(null),a=L(()=>e.value?t.line.trim():t.line);function s(){o.value&&(o.value.innerHTML=l(r.value,a.value))}function l(c,u){const{value:d}=i;return d&&c&&d.getLanguage(c)?d.highlight(u,{language:c}).value:u}return jn(()=>{n.value&&s()}),qt($e(t,"line"),()=>{n.value&&s()}),{highlight:n,selfRef:o,maybeTrimmedLines:a}},render(){const{highlight:t,maybeTrimmedLines:e}=this;return v("pre",{ref:"selfRef"},t?null:e)}}),fme=le({name:"LogLoader",props:{clsPrefix:{type:String,required:!0}},setup(){return{locale:li("Log").localeRef}},render(){const{clsPrefix:t}=this;return v("div",{class:`${t}-log-loader`},v($s,{clsPrefix:t,strokeWidth:24,scale:.85}),v("span",{class:`${t}-log-loader__content`},this.locale.loading))}}),pme=R("log",`
 position: relative;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
`,[B("pre",`
 white-space: pre-wrap;
 word-break: break-word;
 margin: 0;
 `),R("log-loader",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 position: absolute;
 right: 16px;
 top: 8px;
 height: 34px;
 border-radius: 17px;
 line-height: 34px;
 white-space: nowrap;
 overflow: hidden;
 border: var(--n-loader-border);
 color: var(--n-loader-text-color);
 background-color: var(--n-loader-color);
 font-size: var(--n-loader-font-size);
 `,[Qi(),H("content",`
 display: inline-block;
 vertical-align: bottom;
 line-height: 34px;
 padding-left: 40px;
 padding-right: 20px;
 white-space: nowrap;
 `),R("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 12px;
 top: calc(50% - 10px);
 font-size: 20px;
 width: 20px;
 height: 20px;
 display: inline-block;
 `)])]),mme=GM,o$=Object.assign(Object.assign({},Ve.props),{loading:Boolean,trim:Boolean,log:String,fontSize:{type:Number,default:14},lines:{type:Array,default:()=>[]},lineHeight:{type:Number,default:1.25},language:String,rows:{type:Number,default:15},offsetTop:{type:Number,default:0},offsetBottom:{type:Number,default:0},hljs:Object,onReachTop:Function,onReachBottom:Function,onRequireMore:Function}),gme=le({name:"Log",props:o$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=V(!1),i=L(()=>t.language!==void 0),o=L(()=>`calc(${Math.round(t.rows*t.lineHeight*t.fontSize)}px)`),a=L(()=>{const{log:b}=t;return b?b.split(`
`):t.lines}),s=V(null),l=Ve("Log","-log",pme,afe,t,e);function c(b){const x=b.target,w=x.firstElementChild;if(r.value){vn(()=>{r.value=!1});return}const C=x.offsetHeight,S=x.scrollTop,A=w.offsetHeight,T=S,k=A-S-C;if(T<=t.offsetTop){const{onReachTop:E,onRequireMore:P}=t;P&&P("top"),E&&E()}if(k<=t.offsetBottom){const{onReachBottom:E,onRequireMore:P}=t;P&&P("bottom"),E&&E()}}const u=mme(d,300);function d(b){if(r.value){vn(()=>{r.value=!1});return}if(s.value){const{containerRef:x,contentRef:w}=s.value;if(x&&w){const C=x.offsetHeight,S=x.scrollTop,A=w.offsetHeight,T=S,k=A-S-C,E=b.deltaY;if(T===0&&E<0){const{onRequireMore:P}=t;P&&P("top")}if(k<=0&&E>0){const{onRequireMore:P}=t;P&&P("bottom")}}}}function h(b){const{value:x}=s;if(!x)return;const{silent:w,top:C,position:S}=b;w&&(r.value=!0),C!==void 0?x.scrollTo({left:0,top:C}):(S==="bottom"||S==="top")&&x.scrollTo({position:S})}function f(b=!1){go("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'top'})` instead."),h({position:"top",silent:b})}function p(b=!1){go("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'bottom'})` instead."),h({position:"bottom",silent:b})}zt(i$,{languageRef:$e(t,"language"),mergedHljsRef:eM(t),trimRef:$e(t,"trim"),highlightRef:i});const g={scrollTo:h},m=L(()=>{const{self:{loaderFontSize:b,loaderTextColor:x,loaderColor:w,loaderBorder:C,loadingColor:S},common:{cubicBezierEaseInOut:A}}=l.value;return{"--n-bezier":A,"--n-loader-font-size":b,"--n-loader-border":C,"--n-loader-color":w,"--n-loader-text-color":x,"--n-loading-color":S}}),y=n?Ot("log",void 0,m,t):void 0;return Object.assign(Object.assign({},g),{mergedClsPrefix:e,scrollbarRef:s,mergedTheme:l,styleHeight:o,mergedLines:a,scrollToTop:f,scrollToBottom:p,handleWheel:u,handleScroll:c,cssVars:n?void 0:m,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender})},render(){const{mergedClsPrefix:t,mergedTheme:e,onRender:n}=this;return n==null||n(),v("div",{class:[`${t}-log`,this.themeClass],style:[{lineHeight:this.lineHeight,height:this.styleHeight},this.cssVars],onWheelPassive:this.handleWheel},[v(Hr,{ref:"scrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,onScroll:this.handleScroll},{default:()=>v(ED,{internalNoHighlight:!0,internalFontSize:this.fontSize,theme:e.peers.Code,themeOverrides:e.peerOverrides.Code},{default:()=>this.mergedLines.map((r,i)=>v(hme,{key:i,line:r}))})}),v(hr,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?v(fme,{clsPrefix:t}):null})])}});function vme(){return{}}const yme={common:Bt,self:vme},bme=Object.assign(Object.assign({},Ve.props),{autoFill:Boolean,speed:{type:Number,default:48}}),xme=B([R("marquee",`
 overflow: hidden;
 display: flex;
 `,[H("group",`
 flex: 0 0 auto;
 min-width: var(--n-min-width);
 z-index: 1;
 display: flex;
 flex-direction: row;
 align-items: center;
 animation: n-marquee var(--n-duration) linear var(--n-delay) var(--n-iteration-count);
 animation-play-state: var(--n-play);
 animation-delay: var(--n-delay);
 animation-direction: var(--n-direction);
 `),an("auto-fill",[H("group","min-width: 100%;"),H("item","min-width: 100%;")])]),B("@keyframes n-marquee",{from:{transform:"translateX(0)"},to:{transform:"translateX(-100%)"}})]),wme=le({name:"Marquee",props:bme,setup(t){const{mergedClsPrefixRef:e}=gt(t);Ve("Marquee","-marquee",xme,yme,t,e);const n=V(null),r=V(-1),i=V(-1),o=V("running"),a=L(()=>{if(!t.autoFill)return 1;const{value:f}=r,{value:p}=i;return f===-1||p===-1?1:Math.ceil(i.value/f)}),s=L(()=>{const{value:f}=r;return f===-1?0:f*a.value/t.speed}),l=L(()=>({"--n-play":o.value,"--n-direction":"normal","--n-duration":`${s.value}s`,"--n-delay":"0s","--n-iteration-count":"infinite","--n-min-width":"auto"}));function c(){o.value="paused",vn().then(()=>{var f;(f=n.value)===null||f===void 0||f.offsetTop,o.value="running"})}function u(f){i.value=f.contentRect.width}function d(f){r.value=f.contentRect.width}function h(){c()}return{mergedClsPrefix:e,animationCssVars:l,containerElRef:n,repeatCountInOneGroup:a,handleContainerResize:u,handleContentResize:d,handleAnimationIteration:h}},render(){const{$slots:t,mergedClsPrefix:e,animationCssVars:n,repeatCountInOneGroup:r,handleAnimationIteration:i}=this,o=v($o,{onResize:this.handleContentResize},v("div",{class:`${e}-marquee__item ${e}-marquee__original-item`},t)),a=v("div",{class:`${e}-marquee__item`},t);return this.autoFill?v($o,{onResize:this.handleContainerResize},{default:()=>v("div",{class:`${e}-marquee ${e}-marquee--auto-fill`,ref:"containerElRef",style:n},v("div",{class:`${e}-marquee__group`,onAnimationiteration:i},o,Iu(r-1,a)),v("div",{class:`${e}-marquee__group`},Iu(r,a)))}):v("div",{class:[`${e}-marquee`],ref:"containerElRef",style:n},v("div",{class:`${e}-marquee__group`,onAnimationiteration:i},o),v("div",{class:`${e}-marquee__group`},a))}}),Cme=B([R("mention","width: 100%; z-index: auto; position: relative;"),R("mention-menu",`
 box-shadow: var(--n-menu-box-shadow);
 `,[Qi({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function Ame(t,e={debug:!1,useSelectionEnd:!1,checkWidthOverflow:!0}){const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,i=e.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],a=navigator.userAgent.toLowerCase().includes("firefox");if(!na)throw new Error("textarea-caret-position#getCaretPosition should only be called in a browser");const s=e==null?void 0:e.debug;if(s){const p=document.querySelector("#input-textarea-caret-position-mirror-div");p!=null&&p.parentNode&&p.parentNode.removeChild(p)}const l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);const c=l.style,u=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,d=t.nodeName==="INPUT";c.whiteSpace=d?"nowrap":"pre-wrap",d||(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),o.forEach(p=>{if(d&&p==="lineHeight")if(u.boxSizing==="border-box"){const g=Number.parseInt(u.height),m=Number.parseInt(u.paddingTop)+Number.parseInt(u.paddingBottom)+Number.parseInt(u.borderTopWidth)+Number.parseInt(u.borderBottomWidth),y=m+Number.parseInt(u.lineHeight);g>y?c.lineHeight=`${g-m}px`:g===y?c.lineHeight=u.lineHeight:c.lineHeight="0"}else c.lineHeight=u.height;else c[p]=u[p]}),a?t.scrollHeight>Number.parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=t.value.substring(0,i),d&&l.textContent&&(l.textContent=l.textContent.replace(/\s/g,""));const h=document.createElement("span");h.textContent=t.value.substring(i)||".",h.style.position="relative",h.style.left=`${-t.scrollLeft}px`,h.style.top=`${-t.scrollTop}px`,l.appendChild(h);const f={top:h.offsetTop+Number.parseInt(u.borderTopWidth),left:h.offsetLeft+Number.parseInt(u.borderLeftWidth),absolute:!1,height:Number.parseInt(u.fontSize)*1.5};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),f.left>=t.clientWidth&&e.checkWidthOverflow&&(f.left=t.clientWidth),f}const a$=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,autosize:[Boolean,Object],options:{type:Array,default:[]},filter:{type:Function,default:(t,e)=>t?typeof e.label=="string"?e.label.startsWith(t):typeof e.value=="string"?e.value.startsWith(t):!1:!0},type:{type:String,default:"text"},separator:{type:String,validator:t=>t.length!==1?(go("mention","`separator`'s length must be 1."),!1):!0,default:" "},bordered:{type:Boolean,default:void 0},disabled:Boolean,value:String,defaultValue:{type:String,default:""},loading:Boolean,prefix:{type:[String,Array],default:"@"},placeholder:{type:String,default:""},placement:{type:String,default:"bottom-start"},size:String,renderLabel:Function,status:String,"onUpdate:show":[Array,Function],onUpdateShow:[Array,Function],"onUpdate:value":[Array,Function],onUpdateValue:[Array,Function],onSearch:Function,onSelect:Function,onFocus:Function,onBlur:Function,internalDebug:Boolean}),Sme=le({name:"Mention",props:a$,slots:Object,setup(t){const{namespaceRef:e,mergedClsPrefixRef:n,mergedBorderedRef:r,inlineThemeDisabled:i}=gt(t),o=Ve("Mention","-mention",Cme,lfe,t,n),a=di(t),s=V(null),l=V(null),c=V(null),u=V(null),d=V("");let h=null,f=null,p=null;const g=L(()=>{const{value:K}=d;return t.options.filter(ne=>t.filter(K,ne))}),m=L(()=>ma(g.value,{getKey:K=>K.value})),y=V(null),b=V(!1),x=V(t.defaultValue),C=Cn($e(t,"value"),x),S=L(()=>{const{self:{menuBoxShadow:K}}=o.value;return{"--n-menu-box-shadow":K}}),A=i?Ot("mention",void 0,S,t):void 0;function T(K){if(t.disabled)return;const{onUpdateShow:ne,"onUpdate:show":ve}=t;ne&&Fe(ne,K),ve&&Fe(ve,K),K||(h=null,f=null,p=null),b.value=K}function k(K){const{onUpdateValue:ne,"onUpdate:value":ve}=t,{nTriggerFormChange:Se,nTriggerFormInput:ye}=a;ve&&Fe(ve,K),ne&&Fe(ne,K),ye(),Se(),x.value=K}function E(){return t.type==="text"?s.value.inputElRef:s.value.textareaElRef}function P(){var K;const ne=E();if(document.activeElement!==ne){T(!1);return}const{selectionEnd:ve}=ne;if(ve===null){T(!1);return}const Se=ne.value,{separator:ye}=t,{prefix:Be}=t,J=typeof Be=="string"?[Be]:Be;for(let Ue=ve-1;Ue>=0;--Ue){const Qe=Se[Ue];if(Qe===ye||Qe===`
`||Qe==="\r"){T(!1);return}if(J.includes(Qe)){const ae=Se.slice(Ue+1,ve);T(!0),(K=t.onSearch)===null||K===void 0||K.call(t,ae,Qe),d.value=ae,h=Qe,f=Ue+1,p=ve;return}}T(!1)}function _(){const{value:K}=l;if(!K)return;const ne=E(),ve=Ame(ne),Se=ne.getBoundingClientRect(),ye=u.value.getBoundingClientRect();K.style.left=`${ve.left+Se.left-ye.left}px`,K.style.top=`${ve.top+Se.top-ye.top}px`,K.style.height=`${ve.height}px`}function F(){var K;b.value&&((K=c.value)===null||K===void 0||K.syncPosition())}function N(K){k(K),W()}function W(){setTimeout(()=>{_(),P(),vn().then(F)},0)}function G(K){var ne,ve;if(K.key==="ArrowLeft"||K.key==="ArrowRight"){if(!((ne=s.value)===null||ne===void 0)&&ne.isCompositing)return;W()}else if(K.key==="ArrowUp"||K.key==="ArrowDown"||K.key==="Enter"){if(!((ve=s.value)===null||ve===void 0)&&ve.isCompositing)return;const{value:Se}=y;if(b.value){if(Se)if(K.preventDefault(),K.key==="ArrowUp")Se.prev();else if(K.key==="ArrowDown")Se.next();else{const ye=Se.getPendingTmNode();ye?Q(ye):T(!1)}}else W()}}function Z(K){const{onFocus:ne}=t;ne==null||ne(K);const{nTriggerFormFocus:ve}=a;ve(),W()}function ie(){var K;(K=s.value)===null||K===void 0||K.focus()}function he(){var K;(K=s.value)===null||K===void 0||K.blur()}function xe(K){const{onBlur:ne}=t;ne==null||ne(K);const{nTriggerFormBlur:ve}=a;ve(),T(!1)}function Q(K){var ne;if(h===null||f===null||p===null)return;const{rawNode:{value:ve=""}}=K,Se=E(),ye=Se.value,{separator:Be}=t,J=ye.slice(p),Ue=J.startsWith(Be),Qe=`${ve}${Ue?"":Be}`;k(ye.slice(0,f)+Qe+J),(ne=t.onSelect)===null||ne===void 0||ne.call(t,K.rawNode,h);const ae=f+Qe.length+(Ue?1:0);vn().then(()=>{Se.selectionStart=ae,Se.selectionEnd=ae,P()})}function X(){t.disabled||W()}return{namespace:e,mergedClsPrefix:n,mergedBordered:r,mergedSize:a.mergedSizeRef,mergedStatus:a.mergedStatusRef,mergedTheme:o,treeMate:m,selectMenuInstRef:y,inputInstRef:s,cursorRef:l,followerRef:c,wrapperElRef:u,showMenu:b,adjustedTo:vr(t),isMounted:co(),mergedValue:C,handleInputFocus:Z,handleInputBlur:xe,handleInputUpdateValue:N,handleInputKeyDown:G,handleSelect:Q,handleInputMouseDown:X,focus:ie,blur:he,cssVars:i?void 0:S,themeClass:A==null?void 0:A.themeClass,onRender:A==null?void 0:A.onRender}},render(){const{mergedTheme:t,mergedClsPrefix:e,$slots:n}=this;return v("div",{class:`${e}-mention`,ref:"wrapperElRef"},v(_i,{status:this.mergedStatus,themeOverrides:t.peerOverrides.Input,theme:t.peers.Input,size:this.mergedSize,autosize:this.autosize,type:this.type,ref:"inputInstRef",placeholder:this.placeholder,onMousedown:this.handleInputMouseDown,onUpdateValue:this.handleInputUpdateValue,onKeydown:this.handleInputKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,bordered:this.mergedBordered,disabled:this.disabled,value:this.mergedValue}),v(us,null,{default:()=>[v(ds,null,{default:()=>v("div",{style:{position:"absolute",width:0},ref:"cursorRef"})}),v(Na,{ref:"followerRef",placement:this.placement,show:this.showMenu,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===vr.tdkey},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{const{mergedTheme:r,onRender:i}=this;return i==null||i(),this.showMenu?v(Ug,{clsPrefix:e,theme:r.peers.InternalSelectMenu,themeOverrides:r.peerOverrides.InternalSelectMenu,autoPending:!0,ref:"selectMenuInstRef",class:[`${e}-mention-menu`,this.themeClass],loading:this.loading,treeMate:this.treeMate,virtualScroll:!1,style:this.cssVars,onToggle:this.handleSelect,renderLabel:this.renderLabel},n):null}})})]}))}}),Xg="n-menu",s$="n-submenu",V4="n-menu-item-group",oR=[B("&::before","background-color: var(--n-item-color-hover);"),H("arrow",`
 color: var(--n-arrow-color-hover);
 `),H("icon",`
 color: var(--n-item-icon-color-hover);
 `),R("menu-item-content-header",`
 color: var(--n-item-text-color-hover);
 `,[B("a",`
 color: var(--n-item-text-color-hover);
 `),H("extra",`
 color: var(--n-item-text-color-hover);
 `)])],aR=[H("icon",`
 color: var(--n-item-icon-color-hover-horizontal);
 `),R("menu-item-content-header",`
 color: var(--n-item-text-color-hover-horizontal);
 `,[B("a",`
 color: var(--n-item-text-color-hover-horizontal);
 `),H("extra",`
 color: var(--n-item-text-color-hover-horizontal);
 `)])],kme=B([R("menu",`
 background-color: var(--n-color);
 color: var(--n-item-text-color);
 overflow: hidden;
 transition: background-color .3s var(--n-bezier);
 box-sizing: border-box;
 font-size: var(--n-font-size);
 padding-bottom: 6px;
 `,[U("horizontal",`
 max-width: 100%;
 width: 100%;
 display: flex;
 overflow: hidden;
 padding-bottom: 0;
 `,[R("submenu","margin: 0;"),R("menu-item","margin: 0;"),R("menu-item-content",`
 padding: 0 20px;
 border-bottom: 2px solid #0000;
 `,[B("&::before","display: none;"),U("selected","border-bottom: 2px solid var(--n-border-color-horizontal)")]),R("menu-item-content",[U("selected",[H("icon","color: var(--n-item-icon-color-active-horizontal);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-active-horizontal);
 `,[B("a","color: var(--n-item-text-color-active-horizontal);"),H("extra","color: var(--n-item-text-color-active-horizontal);")])]),U("child-active",`
 border-bottom: 2px solid var(--n-border-color-horizontal);
 `,[R("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-horizontal);
 `,[B("a",`
 color: var(--n-item-text-color-child-active-horizontal);
 `),H("extra",`
 color: var(--n-item-text-color-child-active-horizontal);
 `)]),H("icon",`
 color: var(--n-item-icon-color-child-active-horizontal);
 `)]),an("disabled",[an("selected, child-active",[B("&:focus-within",aR)]),U("selected",[vd(null,[H("icon","color: var(--n-item-icon-color-active-hover-horizontal);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-active-hover-horizontal);
 `,[B("a","color: var(--n-item-text-color-active-hover-horizontal);"),H("extra","color: var(--n-item-text-color-active-hover-horizontal);")])])]),U("child-active",[vd(null,[H("icon","color: var(--n-item-icon-color-child-active-hover-horizontal);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-hover-horizontal);
 `,[B("a","color: var(--n-item-text-color-child-active-hover-horizontal);"),H("extra","color: var(--n-item-text-color-child-active-hover-horizontal);")])])]),vd("border-bottom: 2px solid var(--n-border-color-horizontal);",aR)]),R("menu-item-content-header",[B("a","color: var(--n-item-text-color-horizontal);")])])]),an("responsive",[R("menu-item-content-header",`
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),U("collapsed",[R("menu-item-content",[U("selected",[B("&::before",`
 background-color: var(--n-item-color-active-collapsed) !important;
 `)]),R("menu-item-content-header","opacity: 0;"),H("arrow","opacity: 0;"),H("icon","color: var(--n-item-icon-color-collapsed);")])]),R("menu-item",`
 height: var(--n-item-height);
 margin-top: 6px;
 position: relative;
 `),R("menu-item-content",`
 box-sizing: border-box;
 line-height: 1.75;
 height: 100%;
 display: grid;
 grid-template-areas: "icon content arrow";
 grid-template-columns: auto 1fr auto;
 align-items: center;
 cursor: pointer;
 position: relative;
 padding-right: 18px;
 transition:
 background-color .3s var(--n-bezier),
 padding-left .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[B("> *","z-index: 1;"),B("&::before",`
 z-index: auto;
 content: "";
 background-color: #0000;
 position: absolute;
 left: 8px;
 right: 8px;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),U("disabled",`
 opacity: .45;
 cursor: not-allowed;
 `),U("collapsed",[H("arrow","transform: rotate(0);")]),U("selected",[B("&::before","background-color: var(--n-item-color-active);"),H("arrow","color: var(--n-arrow-color-active);"),H("icon","color: var(--n-item-icon-color-active);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-active);
 `,[B("a","color: var(--n-item-text-color-active);"),H("extra","color: var(--n-item-text-color-active);")])]),U("child-active",[R("menu-item-content-header",`
 color: var(--n-item-text-color-child-active);
 `,[B("a",`
 color: var(--n-item-text-color-child-active);
 `),H("extra",`
 color: var(--n-item-text-color-child-active);
 `)]),H("arrow",`
 color: var(--n-arrow-color-child-active);
 `),H("icon",`
 color: var(--n-item-icon-color-child-active);
 `)]),an("disabled",[an("selected, child-active",[B("&:focus-within",oR)]),U("selected",[vd(null,[H("arrow","color: var(--n-arrow-color-active-hover);"),H("icon","color: var(--n-item-icon-color-active-hover);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-active-hover);
 `,[B("a","color: var(--n-item-text-color-active-hover);"),H("extra","color: var(--n-item-text-color-active-hover);")])])]),U("child-active",[vd(null,[H("arrow","color: var(--n-arrow-color-child-active-hover);"),H("icon","color: var(--n-item-icon-color-child-active-hover);"),R("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-hover);
 `,[B("a","color: var(--n-item-text-color-child-active-hover);"),H("extra","color: var(--n-item-text-color-child-active-hover);")])])]),U("selected",[vd(null,[B("&::before","background-color: var(--n-item-color-active-hover);")])]),vd(null,oR)]),H("icon",`
 grid-area: icon;
 color: var(--n-item-icon-color);
 transition:
 color .3s var(--n-bezier),
 font-size .3s var(--n-bezier),
 margin-right .3s var(--n-bezier);
 box-sizing: content-box;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 `),H("arrow",`
 grid-area: arrow;
 font-size: 16px;
 color: var(--n-arrow-color);
 transform: rotate(180deg);
 opacity: 1;
 transition:
 color .3s var(--n-bezier),
 transform 0.2s var(--n-bezier),
 opacity 0.2s var(--n-bezier);
 `),R("menu-item-content-header",`
 grid-area: content;
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 opacity: 1;
 white-space: nowrap;
 color: var(--n-item-text-color);
 `,[B("a",`
 outline: none;
 text-decoration: none;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `,[B("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),H("extra",`
 font-size: .93em;
 color: var(--n-group-text-color);
 transition: color .3s var(--n-bezier);
 `)])]),R("submenu",`
 cursor: pointer;
 position: relative;
 margin-top: 6px;
 `,[R("menu-item-content",`
 height: var(--n-item-height);
 `),R("submenu-children",`
 overflow: hidden;
 padding: 0;
 `,[bc({duration:".2s"})])]),R("menu-item-group",[R("menu-item-group-title",`
 margin-top: 6px;
 color: var(--n-group-text-color);
 cursor: default;
 font-size: .93em;
 height: 36px;
 display: flex;
 align-items: center;
 transition:
 padding-left .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)])]),R("menu-tooltip",[B("a",`
 color: inherit;
 text-decoration: none;
 `)]),R("menu-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 6px 18px;
 `)]);function vd(t,e){return[U("hover",t,e),B("&:hover",t,e)]}const l$=le({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,selected:Boolean,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0},isEllipsisPlaceholder:Boolean},setup(t){const{props:e}=ut(Xg);return{menuProps:e,style:L(()=>{const{paddingLeft:n}=t;return{paddingLeft:n&&`${n}px`}}),iconStyle:L(()=>{const{maxIconSize:n,activeIconSize:r,iconMarginRight:i}=t;return{width:`${n}px`,height:`${n}px`,fontSize:`${r}px`,marginRight:`${i}px`}})}},render(){const{clsPrefix:t,tmNode:e,menuProps:{renderIcon:n,renderLabel:r,renderExtra:i,expandIcon:o}}=this,a=n?n(e.rawNode):Sr(this.icon);return v("div",{onClick:s=>{var l;(l=this.onClick)===null||l===void 0||l.call(this,s)},role:"none",class:[`${t}-menu-item-content`,{[`${t}-menu-item-content--selected`]:this.selected,[`${t}-menu-item-content--collapsed`]:this.collapsed,[`${t}-menu-item-content--child-active`]:this.childActive,[`${t}-menu-item-content--disabled`]:this.disabled,[`${t}-menu-item-content--hover`]:this.hover}],style:this.style},a&&v("div",{class:`${t}-menu-item-content__icon`,style:this.iconStyle,role:"none"},[a]),v("div",{class:`${t}-menu-item-content-header`,role:"none"},this.isEllipsisPlaceholder?this.title:r?r(e.rawNode):Sr(this.title),this.extra||i?v("span",{class:`${t}-menu-item-content-header__extra`}," ",i?i(e.rawNode):Sr(this.extra)):null),this.showArrow?v(Jt,{ariaHidden:!0,class:`${t}-menu-item-content__arrow`,clsPrefix:t},{default:()=>o?o(e.rawNode):v(Jne,null)}):null)}}),Qv=8;function W4(t){const e=ut(Xg),{props:n,mergedCollapsedRef:r}=e,i=ut(s$,null),o=ut(V4,null),a=L(()=>n.mode==="horizontal"),s=L(()=>a.value?n.dropdownPlacement:"tmNodes"in t?"right-start":"right"),l=L(()=>{var h;return Math.max((h=n.collapsedIconSize)!==null&&h!==void 0?h:n.iconSize,n.iconSize)}),c=L(()=>{var h;return!a.value&&t.root&&r.value&&(h=n.collapsedIconSize)!==null&&h!==void 0?h:n.iconSize}),u=L(()=>{if(a.value)return;const{collapsedWidth:h,indent:f,rootIndent:p}=n,{root:g,isGroup:m}=t,y=p===void 0?f:p;return g?r.value?h/2-l.value/2:y:o&&typeof o.paddingLeftRef.value=="number"?f/2+o.paddingLeftRef.value:i&&typeof i.paddingLeftRef.value=="number"?(m?f/2:f)+i.paddingLeftRef.value:0}),d=L(()=>{const{collapsedWidth:h,indent:f,rootIndent:p}=n,{value:g}=l,{root:m}=t;return a.value||!m||!r.value?Qv:(p===void 0?f:p)+g+Qv-(h+g)/2});return{dropdownPlacement:s,activeIconSize:c,maxIconSize:l,paddingLeft:u,iconMarginRight:d,NMenu:e,NSubmenu:i,NMenuOptionGroup:o}}const q4={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},Eme=le({name:"MenuDivider",setup(){const t=ut(Xg),{mergedClsPrefixRef:e,isHorizontalRef:n}=t;return()=>n.value?null:v("div",{class:`${e.value}-menu-divider`})}}),c$=Object.assign(Object.assign({},q4),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),Tme=vo(c$),Rme=le({name:"MenuOption",props:c$,setup(t){const e=W4(t),{NSubmenu:n,NMenu:r,NMenuOptionGroup:i}=e,{props:o,mergedClsPrefixRef:a,mergedCollapsedRef:s}=r,l=n?n.mergedDisabledRef:i?i.mergedDisabledRef:{value:!1},c=L(()=>l.value||t.disabled);function u(h){const{onClick:f}=t;f&&f(h)}function d(h){c.value||(r.doSelect(t.internalKey,t.tmNode.rawNode),u(h))}return{mergedClsPrefix:a,dropdownPlacement:e.dropdownPlacement,paddingLeft:e.paddingLeft,iconMarginRight:e.iconMarginRight,maxIconSize:e.maxIconSize,activeIconSize:e.activeIconSize,mergedTheme:r.mergedThemeRef,menuProps:o,dropdownEnabled:Yt(()=>t.root&&s.value&&o.mode!=="horizontal"&&!c.value),selected:Yt(()=>r.mergedValueRef.value===t.internalKey),mergedDisabled:c,handleClick:d}},render(){const{mergedClsPrefix:t,mergedTheme:e,tmNode:n,menuProps:{renderLabel:r,nodeProps:i}}=this,o=i==null?void 0:i(n.rawNode);return v("div",Object.assign({},o,{role:"menuitem",class:[`${t}-menu-item`,o==null?void 0:o.class]}),v(Wg,{theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||this.title===void 0,internalExtraClass:["menu-tooltip"]},{default:()=>r?r(n.rawNode):Sr(this.title),trigger:()=>v(l$,{tmNode:n,clsPrefix:t,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,selected:this.selected,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick})}))}}),u$=Object.assign(Object.assign({},q4),{tmNode:{type:Object,required:!0},tmNodes:{type:Array,required:!0}}),_me=vo(u$),Pme=le({name:"MenuOptionGroup",props:u$,setup(t){const e=W4(t),{NSubmenu:n}=e,r=L(()=>n!=null&&n.mergedDisabledRef.value?!0:t.tmNode.disabled);zt(V4,{paddingLeftRef:e.paddingLeft,mergedDisabledRef:r});const{mergedClsPrefixRef:i,props:o}=ut(Xg);return function(){const{value:a}=i,s=e.paddingLeft.value,{nodeProps:l}=o,c=l==null?void 0:l(t.tmNode.rawNode);return v("div",{class:`${a}-menu-item-group`,role:"group"},v("div",Object.assign({},c,{class:[`${a}-menu-item-group-title`,c==null?void 0:c.class],style:[(c==null?void 0:c.style)||"",s!==void 0?`padding-left: ${s}px;`:""]}),Sr(t.title),t.extra?v(qn,null," ",Sr(t.extra)):null),v("div",null,t.tmNodes.map(u=>K4(u,o))))}}});function NA(t){return t.type==="divider"||t.type==="render"}function Ime(t){return t.type==="divider"}function K4(t,e){const{rawNode:n}=t,{show:r}=n;if(r===!1)return null;if(NA(n))return Ime(n)?v(Eme,Object.assign({key:t.key},n.props)):null;const{labelField:i}=e,{key:o,level:a,isGroup:s}=t,l=Object.assign(Object.assign({},n),{title:n.title||n[i],extra:n.titleExtra||n.extra,key:o,internalKey:o,level:a,root:a===0,isGroup:s});return t.children?t.isGroup?v(Pme,Ri(l,_me,{tmNode:t,tmNodes:t.children,key:o})):v(zA,Ri(l,Lme,{key:o,rawNodes:n[e.childrenField],tmNodes:t.children,tmNode:t})):v(Rme,Ri(l,Tme,{key:o,tmNode:t}))}const d$=Object.assign(Object.assign({},q4),{rawNodes:{type:Array,default:()=>[]},tmNodes:{type:Array,default:()=>[]},tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function,domId:String,virtualChildActive:{type:Boolean,default:void 0},isEllipsisPlaceholder:Boolean}),Lme=vo(d$),zA=le({name:"Submenu",props:d$,setup(t){const e=W4(t),{NMenu:n,NSubmenu:r}=e,{props:i,mergedCollapsedRef:o,mergedThemeRef:a}=n,s=L(()=>{const{disabled:h}=t;return r!=null&&r.mergedDisabledRef.value||i.disabled?!0:h}),l=V(!1);zt(s$,{paddingLeftRef:e.paddingLeft,mergedDisabledRef:s}),zt(V4,null);function c(){const{onClick:h}=t;h&&h()}function u(){s.value||(o.value||n.toggleExpand(t.internalKey),c())}function d(h){l.value=h}return{menuProps:i,mergedTheme:a,doSelect:n.doSelect,inverted:n.invertedRef,isHorizontal:n.isHorizontalRef,mergedClsPrefix:n.mergedClsPrefixRef,maxIconSize:e.maxIconSize,activeIconSize:e.activeIconSize,iconMarginRight:e.iconMarginRight,dropdownPlacement:e.dropdownPlacement,dropdownShow:l,paddingLeft:e.paddingLeft,mergedDisabled:s,mergedValue:n.mergedValueRef,childActive:Yt(()=>{var h;return(h=t.virtualChildActive)!==null&&h!==void 0?h:n.activePathRef.value.includes(t.internalKey)}),collapsed:L(()=>i.mode==="horizontal"?!1:o.value?!0:!n.mergedExpandedKeysRef.value.includes(t.internalKey)),dropdownEnabled:L(()=>!s.value&&(i.mode==="horizontal"||o.value)),handlePopoverShowChange:d,handleClick:u}},render(){var t;const{mergedClsPrefix:e,menuProps:{renderIcon:n,renderLabel:r}}=this,i=()=>{const{isHorizontal:a,paddingLeft:s,collapsed:l,mergedDisabled:c,maxIconSize:u,activeIconSize:d,title:h,childActive:f,icon:p,handleClick:g,menuProps:{nodeProps:m},dropdownShow:y,iconMarginRight:b,tmNode:x,mergedClsPrefix:w,isEllipsisPlaceholder:C,extra:S}=this,A=m==null?void 0:m(x.rawNode);return v("div",Object.assign({},A,{class:[`${w}-menu-item`,A==null?void 0:A.class],role:"menuitem"}),v(l$,{tmNode:x,paddingLeft:s,collapsed:l,disabled:c,iconMarginRight:b,maxIconSize:u,activeIconSize:d,title:h,extra:S,showArrow:!a,childActive:f,clsPrefix:w,icon:p,hover:y,onClick:g,isEllipsisPlaceholder:C}))},o=()=>v(Ml,null,{default:()=>{const{tmNodes:a,collapsed:s}=this;return s?null:v("div",{class:`${e}-submenu-children`,role:"menu"},a.map(l=>K4(l,this.menuProps)))}});return this.root?v(T4,Object.assign({size:"large",trigger:"hover"},(t=this.menuProps)===null||t===void 0?void 0:t.dropdownProps,{themeOverrides:this.mergedTheme.peerOverrides.Dropdown,theme:this.mergedTheme.peers.Dropdown,builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon:n,renderLabel:r}),{default:()=>v("div",{class:`${e}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},i(),this.isHorizontal?null:o())}):v("div",{class:`${e}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},i(),o())}}),h$=Object.assign(Object.assign({},Ve.props),{options:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,show:{type:Boolean,default:!0},inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownProps:Object,accordion:Boolean,nodeProps:Function,dropdownPlacement:{type:String,default:"bottom"},responsive:Boolean,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array}),Mme=le({name:"Menu",inheritAttrs:!1,props:h$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Menu","-menu",kme,dfe,t,e),i=ut(YF,null),o=L(()=>{var Q;const{collapsed:X}=t;if(X!==void 0)return X;if(i){const{collapseModeRef:K,collapsedRef:ne}=i;if(K.value==="width")return(Q=ne.value)!==null&&Q!==void 0?Q:!1}return!1}),a=L(()=>{const{keyField:Q,childrenField:X,disabledField:K}=t;return ma(t.items||t.options,{getIgnored(ne){return NA(ne)},getChildren(ne){return ne[X]},getDisabled(ne){return ne[K]},getKey(ne){var ve;return(ve=ne[Q])!==null&&ve!==void 0?ve:ne.name}})}),s=L(()=>new Set(a.value.treeNodes.map(Q=>Q.key))),{watchProps:l}=t,c=V(null);l!=null&&l.includes("defaultValue")?er(()=>{c.value=t.defaultValue}):c.value=t.defaultValue;const d=Cn($e(t,"value"),c),h=V([]),f=()=>{h.value=t.defaultExpandAll?a.value.getNonLeafKeys():t.defaultExpandedNames||t.defaultExpandedKeys||a.value.getPath(d.value,{includeSelf:!1}).keyPath};l!=null&&l.includes("defaultExpandedKeys")?er(f):f();const p=Lu(t,["expandedNames","expandedKeys"]),g=Cn(p,h),m=L(()=>a.value.treeNodes),y=L(()=>a.value.getPath(d.value).keyPath);zt(Xg,{props:t,mergedCollapsedRef:o,mergedThemeRef:r,mergedValueRef:d,mergedExpandedKeysRef:g,activePathRef:y,mergedClsPrefixRef:e,isHorizontalRef:L(()=>t.mode==="horizontal"),invertedRef:$e(t,"inverted"),doSelect:b,toggleExpand:w});function b(Q,X){const{"onUpdate:value":K,onUpdateValue:ne,onSelect:ve}=t;ne&&Fe(ne,Q,X),K&&Fe(K,Q,X),ve&&Fe(ve,Q,X),c.value=Q}function x(Q){const{"onUpdate:expandedKeys":X,onUpdateExpandedKeys:K,onExpandedNamesChange:ne,onOpenNamesChange:ve}=t;X&&Fe(X,Q),K&&Fe(K,Q),ne&&Fe(ne,Q),ve&&Fe(ve,Q),h.value=Q}function w(Q){const X=Array.from(g.value),K=X.findIndex(ne=>ne===Q);if(~K)X.splice(K,1);else{if(t.accordion&&s.value.has(Q)){const ne=X.findIndex(ve=>s.value.has(ve));ne>-1&&X.splice(ne,1)}X.push(Q)}x(X)}const C=Q=>{const X=a.value.getPath(Q??d.value,{includeSelf:!1}).keyPath;if(!X.length)return;const K=Array.from(g.value),ne=new Set([...K,...X]);t.accordion&&s.value.forEach(ve=>{ne.has(ve)&&!X.includes(ve)&&ne.delete(ve)}),x(Array.from(ne))},S=L(()=>{const{inverted:Q}=t,{common:{cubicBezierEaseInOut:X},self:K}=r.value,{borderRadius:ne,borderColorHorizontal:ve,fontSize:Se,itemHeight:ye,dividerColor:Be}=K,J={"--n-divider-color":Be,"--n-bezier":X,"--n-font-size":Se,"--n-border-color-horizontal":ve,"--n-border-radius":ne,"--n-item-height":ye};return Q?(J["--n-group-text-color"]=K.groupTextColorInverted,J["--n-color"]=K.colorInverted,J["--n-item-text-color"]=K.itemTextColorInverted,J["--n-item-text-color-hover"]=K.itemTextColorHoverInverted,J["--n-item-text-color-active"]=K.itemTextColorActiveInverted,J["--n-item-text-color-child-active"]=K.itemTextColorChildActiveInverted,J["--n-item-text-color-child-active-hover"]=K.itemTextColorChildActiveInverted,J["--n-item-text-color-active-hover"]=K.itemTextColorActiveHoverInverted,J["--n-item-icon-color"]=K.itemIconColorInverted,J["--n-item-icon-color-hover"]=K.itemIconColorHoverInverted,J["--n-item-icon-color-active"]=K.itemIconColorActiveInverted,J["--n-item-icon-color-active-hover"]=K.itemIconColorActiveHoverInverted,J["--n-item-icon-color-child-active"]=K.itemIconColorChildActiveInverted,J["--n-item-icon-color-child-active-hover"]=K.itemIconColorChildActiveHoverInverted,J["--n-item-icon-color-collapsed"]=K.itemIconColorCollapsedInverted,J["--n-item-text-color-horizontal"]=K.itemTextColorHorizontalInverted,J["--n-item-text-color-hover-horizontal"]=K.itemTextColorHoverHorizontalInverted,J["--n-item-text-color-active-horizontal"]=K.itemTextColorActiveHorizontalInverted,J["--n-item-text-color-child-active-horizontal"]=K.itemTextColorChildActiveHorizontalInverted,J["--n-item-text-color-child-active-hover-horizontal"]=K.itemTextColorChildActiveHoverHorizontalInverted,J["--n-item-text-color-active-hover-horizontal"]=K.itemTextColorActiveHoverHorizontalInverted,J["--n-item-icon-color-horizontal"]=K.itemIconColorHorizontalInverted,J["--n-item-icon-color-hover-horizontal"]=K.itemIconColorHoverHorizontalInverted,J["--n-item-icon-color-active-horizontal"]=K.itemIconColorActiveHorizontalInverted,J["--n-item-icon-color-active-hover-horizontal"]=K.itemIconColorActiveHoverHorizontalInverted,J["--n-item-icon-color-child-active-horizontal"]=K.itemIconColorChildActiveHorizontalInverted,J["--n-item-icon-color-child-active-hover-horizontal"]=K.itemIconColorChildActiveHoverHorizontalInverted,J["--n-arrow-color"]=K.arrowColorInverted,J["--n-arrow-color-hover"]=K.arrowColorHoverInverted,J["--n-arrow-color-active"]=K.arrowColorActiveInverted,J["--n-arrow-color-active-hover"]=K.arrowColorActiveHoverInverted,J["--n-arrow-color-child-active"]=K.arrowColorChildActiveInverted,J["--n-arrow-color-child-active-hover"]=K.arrowColorChildActiveHoverInverted,J["--n-item-color-hover"]=K.itemColorHoverInverted,J["--n-item-color-active"]=K.itemColorActiveInverted,J["--n-item-color-active-hover"]=K.itemColorActiveHoverInverted,J["--n-item-color-active-collapsed"]=K.itemColorActiveCollapsedInverted):(J["--n-group-text-color"]=K.groupTextColor,J["--n-color"]=K.color,J["--n-item-text-color"]=K.itemTextColor,J["--n-item-text-color-hover"]=K.itemTextColorHover,J["--n-item-text-color-active"]=K.itemTextColorActive,J["--n-item-text-color-child-active"]=K.itemTextColorChildActive,J["--n-item-text-color-child-active-hover"]=K.itemTextColorChildActiveHover,J["--n-item-text-color-active-hover"]=K.itemTextColorActiveHover,J["--n-item-icon-color"]=K.itemIconColor,J["--n-item-icon-color-hover"]=K.itemIconColorHover,J["--n-item-icon-color-active"]=K.itemIconColorActive,J["--n-item-icon-color-active-hover"]=K.itemIconColorActiveHover,J["--n-item-icon-color-child-active"]=K.itemIconColorChildActive,J["--n-item-icon-color-child-active-hover"]=K.itemIconColorChildActiveHover,J["--n-item-icon-color-collapsed"]=K.itemIconColorCollapsed,J["--n-item-text-color-horizontal"]=K.itemTextColorHorizontal,J["--n-item-text-color-hover-horizontal"]=K.itemTextColorHoverHorizontal,J["--n-item-text-color-active-horizontal"]=K.itemTextColorActiveHorizontal,J["--n-item-text-color-child-active-horizontal"]=K.itemTextColorChildActiveHorizontal,J["--n-item-text-color-child-active-hover-horizontal"]=K.itemTextColorChildActiveHoverHorizontal,J["--n-item-text-color-active-hover-horizontal"]=K.itemTextColorActiveHoverHorizontal,J["--n-item-icon-color-horizontal"]=K.itemIconColorHorizontal,J["--n-item-icon-color-hover-horizontal"]=K.itemIconColorHoverHorizontal,J["--n-item-icon-color-active-horizontal"]=K.itemIconColorActiveHorizontal,J["--n-item-icon-color-active-hover-horizontal"]=K.itemIconColorActiveHoverHorizontal,J["--n-item-icon-color-child-active-horizontal"]=K.itemIconColorChildActiveHorizontal,J["--n-item-icon-color-child-active-hover-horizontal"]=K.itemIconColorChildActiveHoverHorizontal,J["--n-arrow-color"]=K.arrowColor,J["--n-arrow-color-hover"]=K.arrowColorHover,J["--n-arrow-color-active"]=K.arrowColorActive,J["--n-arrow-color-active-hover"]=K.arrowColorActiveHover,J["--n-arrow-color-child-active"]=K.arrowColorChildActive,J["--n-arrow-color-child-active-hover"]=K.arrowColorChildActiveHover,J["--n-item-color-hover"]=K.itemColorHover,J["--n-item-color-active"]=K.itemColorActive,J["--n-item-color-active-hover"]=K.itemColorActiveHover,J["--n-item-color-active-collapsed"]=K.itemColorActiveCollapsed),J}),A=n?Ot("menu",L(()=>t.inverted?"a":"b"),S,t):void 0,T=Zo(),k=V(null),E=V(null);let P=!0;const _=()=>{var Q;P?P=!1:(Q=k.value)===null||Q===void 0||Q.sync({showAllItemsBeforeCalculate:!0})};function F(){return document.getElementById(T)}const N=V(-1);function W(Q){N.value=t.options.length-Q}function G(Q){Q||(N.value=-1)}const Z=L(()=>{const Q=N.value;return{children:Q===-1?[]:t.options.slice(Q)}}),ie=L(()=>{const{childrenField:Q,disabledField:X,keyField:K}=t;return ma([Z.value],{getIgnored(ne){return NA(ne)},getChildren(ne){return ne[Q]},getDisabled(ne){return ne[X]},getKey(ne){var ve;return(ve=ne[K])!==null&&ve!==void 0?ve:ne.name}})}),he=L(()=>ma([{}]).treeNodes[0]);function xe(){var Q;if(N.value===-1)return v(zA,{root:!0,level:0,key:"__ellpisisGroupPlaceholder__",internalKey:"__ellpisisGroupPlaceholder__",title:"",tmNode:he.value,domId:T,isEllipsisPlaceholder:!0});const X=ie.value.treeNodes[0],K=y.value,ne=!!(!((Q=X.children)===null||Q===void 0)&&Q.some(ve=>K.includes(ve.key)));return v(zA,{level:0,root:!0,key:"__ellpisisGroup__",internalKey:"__ellpisisGroup__",title:"",virtualChildActive:ne,tmNode:X,domId:T,rawNodes:X.rawNode.children||[],tmNodes:X.children||[],isEllipsisPlaceholder:!0})}return{mergedClsPrefix:e,controlledExpandedKeys:p,uncontrolledExpanededKeys:h,mergedExpandedKeys:g,uncontrolledValue:c,mergedValue:d,activePath:y,tmNodes:m,mergedTheme:r,mergedCollapsed:o,cssVars:n?void 0:S,themeClass:A==null?void 0:A.themeClass,overflowRef:k,counterRef:E,updateCounter:()=>{},onResize:_,onUpdateOverflow:G,onUpdateCount:W,renderCounter:xe,getCounter:F,onRender:A==null?void 0:A.onRender,showOption:C,deriveResponsiveState:_}},render(){const{mergedClsPrefix:t,mode:e,themeClass:n,onRender:r}=this;r==null||r();const i=()=>this.tmNodes.map(l=>K4(l,this.$props)),a=e==="horizontal"&&this.responsive,s=()=>v("div",Xi(this.$attrs,{role:e==="horizontal"?"menubar":"menu",class:[`${t}-menu`,n,`${t}-menu--${e}`,a&&`${t}-menu--responsive`,this.mergedCollapsed&&`${t}-menu--collapsed`],style:this.cssVars}),a?v(iA,{ref:"overflowRef",onUpdateOverflow:this.onUpdateOverflow,getCounter:this.getCounter,onUpdateCount:this.onUpdateCount,updateCounter:this.updateCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:i,counter:this.renderCounter}):i());return a?v($o,{onResize:this.onResize},{default:s}):s()}}),Ome=t=>1-Math.pow(1-t,5);function Dme(t){const{from:e,to:n,duration:r,onUpdate:i,onFinish:o}=t,a=performance.now(),s=()=>{const l=performance.now(),c=Math.min(l-a,r),u=e+(n-e)*Ome(c/r);if(c===r){o();return}i(u),requestAnimationFrame(s)};s()}const f$={to:{type:Number,default:0},precision:{type:Number,default:0},showSeparator:Boolean,locale:String,from:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:2e3},onFinish:Function},Fme=le({name:"NumberAnimation",props:f$,setup(t){const{localeRef:e}=li("name"),{duration:n}=t,r=V(t.from),i=L(()=>{const{locale:h}=t;return h!==void 0?h:e.value});let o=!1;const a=h=>{r.value=h},s=()=>{var h;r.value=t.to,o=!1,(h=t.onFinish)===null||h===void 0||h.call(t)},l=(h=t.from,f=t.to)=>{o=!0,r.value=t.from,h!==f&&Dme({from:h,to:f,duration:n,onUpdate:a,onFinish:s})},c=L(()=>{var h;const p=Nne(r.value,t.precision).toFixed(t.precision).split("."),g=new Intl.NumberFormat(i.value),m=(h=g.formatToParts(.5).find(x=>x.type==="decimal"))===null||h===void 0?void 0:h.value,y=t.showSeparator?g.format(Number(p[0])):p[0],b=p[1];return{integer:y,decimal:b,decimalSeparator:m}});function u(){o||l()}return jn(()=>{er(()=>{t.active&&l()})}),Object.assign({formattedValue:c},{play:u})},render(){const{formattedValue:{integer:t,decimal:e,decimalSeparator:n}}=this;return[t,e?n:null,e]}}),$me=B([R("page-header-header",`
 margin-bottom: 20px;
 `),R("page-header",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[H("main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 `),H("back",`
 display: flex;
 margin-right: 16px;
 font-size: var(--n-back-size);
 cursor: pointer;
 color: var(--n-back-color);
 transition: color .3s var(--n-bezier);
 `,[B("&:hover","color: var(--n-back-color-hover);"),B("&:active","color: var(--n-back-color-pressed);")]),H("avatar",`
 display: flex;
 margin-right: 12px
 `),H("title",`
 margin-right: 16px;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),H("subtitle",`
 font-size: 14px;
 transition: color .3s var(--n-bezier);
 color: var(--n-subtitle-text-color);
 `)]),R("page-header-content",`
 font-size: var(--n-font-size);
 `,[B("&:not(:first-child)","margin-top: 20px;")]),R("page-header-footer",`
 font-size: var(--n-font-size);
 `,[B("&:not(:first-child)","margin-top: 20px;")])]),p$=Object.assign(Object.assign({},Ve.props),{title:String,subtitle:String,extra:String,onBack:Function}),Bme=le({name:"PageHeader",props:p$,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("PageHeader","-page-header",$me,pfe,t,e),o=or("PageHeader",n,e),a=L(()=>{const{self:{titleTextColor:l,subtitleTextColor:c,backColor:u,fontSize:d,titleFontSize:h,backSize:f,titleFontWeight:p,backColorHover:g,backColorPressed:m},common:{cubicBezierEaseInOut:y}}=i.value;return{"--n-title-text-color":l,"--n-title-font-size":h,"--n-title-font-weight":p,"--n-font-size":d,"--n-back-size":f,"--n-subtitle-text-color":c,"--n-back-color":u,"--n-back-color-hover":g,"--n-back-color-pressed":m,"--n-bezier":y}}),s=r?Ot("page-header",void 0,a,t):void 0;return{rtlEnabled:o,mergedClsPrefix:e,cssVars:r?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{onBack:e,title:n,subtitle:r,extra:i,mergedClsPrefix:o,cssVars:a,$slots:s}=this;(t=this.onRender)===null||t===void 0||t.call(this);const{title:l,subtitle:c,extra:u,default:d,header:h,avatar:f,footer:p,back:g}=s,m=e,y=n||l,b=r||c,x=i||u;return v("div",{style:a,class:[`${o}-page-header-wrapper`,this.themeClass,this.rtlEnabled&&`${o}-page-header-wrapper--rtl`]},h?v("div",{class:`${o}-page-header-header`,key:"breadcrumb"},h()):null,(m||f||y||b||x)&&v("div",{class:`${o}-page-header`,key:"header"},v("div",{class:`${o}-page-header__main`,key:"back"},m?v("div",{class:`${o}-page-header__back`,onClick:e},g?g():v(Jt,{clsPrefix:o},{default:()=>v(Yne,null)})):null,f?v("div",{class:`${o}-page-header__avatar`},f()):null,y?v("div",{class:`${o}-page-header__title`,key:"title"},n||l()):null,b?v("div",{class:`${o}-page-header__subtitle`,key:"subtitle"},r||c()):null),x?v("div",{class:`${o}-page-header__extra`},i||u()):null),d?v("div",{class:`${o}-page-header-content`,key:"content"},d()):null,p?v("div",{class:`${o}-page-header-footer`,key:"footer"},p()):null)}}),m$="n-popconfirm",g$={positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0}},sR=vo(g$),Nme=le({name:"NPopconfirmPanel",props:g$,setup(t){const{localeRef:e}=li("Popconfirm"),{inlineThemeDisabled:n}=gt(),{mergedClsPrefixRef:r,mergedThemeRef:i,props:o}=ut(m$),a=L(()=>{const{common:{cubicBezierEaseInOut:l},self:{fontSize:c,iconSize:u,iconColor:d}}=i.value;return{"--n-bezier":l,"--n-font-size":c,"--n-icon-size":u,"--n-icon-color":d}}),s=n?Ot("popconfirm-panel",void 0,a,o):void 0;return Object.assign(Object.assign({},li("Popconfirm")),{mergedClsPrefix:r,cssVars:n?void 0:a,localizedPositiveText:L(()=>t.positiveText||e.value.positiveText),localizedNegativeText:L(()=>t.negativeText||e.value.negativeText),positiveButtonProps:$e(o,"positiveButtonProps"),negativeButtonProps:$e(o,"negativeButtonProps"),handlePositiveClick(l){t.onPositiveClick(l)},handleNegativeClick(l){t.onNegativeClick(l)},themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender})},render(){var t;const{mergedClsPrefix:e,showIcon:n,$slots:r}=this,i=sn(r.action,()=>this.negativeText===null&&this.positiveText===null?[]:[this.negativeText!==null&&v(Qn,Object.assign({size:"small",onClick:this.handleNegativeClick},this.negativeButtonProps),{default:()=>this.localizedNegativeText}),this.positiveText!==null&&v(Qn,Object.assign({size:"small",type:"primary",onClick:this.handlePositiveClick},this.positiveButtonProps),{default:()=>this.localizedPositiveText})]);return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-popconfirm__panel`,this.themeClass],style:this.cssVars},bn(r.default,o=>n||o?v("div",{class:`${e}-popconfirm__body`},n?v("div",{class:`${e}-popconfirm__icon`},sn(r.icon,()=>[v(Jt,{clsPrefix:e},{default:()=>v(Ju,null)})])):null,o):null),i?v("div",{class:[`${e}-popconfirm__action`]},i):null)}}),zme=R("popconfirm",[H("body",`
 font-size: var(--n-font-size);
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 position: relative;
 `,[H("icon",`
 display: flex;
 font-size: var(--n-icon-size);
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 margin: 0 8px 0 0;
 `)]),H("action",`
 display: flex;
 justify-content: flex-end;
 `,[B("&:not(:first-child)","margin-top: 8px"),R("button",[B("&:not(:last-child)","margin-right: 8px;")])])]),v$=Object.assign(Object.assign(Object.assign({},Ve.props),ah),{positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},trigger:{type:String,default:"click"},positiveButtonProps:Object,negativeButtonProps:Object,onPositiveClick:Function,onNegativeClick:Function}),Hme=le({name:"Popconfirm",props:v$,slots:Object,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=gt(),n=Ve("Popconfirm","-popconfirm",zme,vfe,t,e),r=V(null);function i(s){var l;if(!(!((l=r.value)===null||l===void 0)&&l.getMergedShow()))return;const{onPositiveClick:c,"onUpdate:show":u}=t;Promise.resolve(c?c(s):!0).then(d=>{var h;d!==!1&&((h=r.value)===null||h===void 0||h.setShow(!1),u&&Fe(u,!1))})}function o(s){var l;if(!(!((l=r.value)===null||l===void 0)&&l.getMergedShow()))return;const{onNegativeClick:c,"onUpdate:show":u}=t;Promise.resolve(c?c(s):!0).then(d=>{var h;d!==!1&&((h=r.value)===null||h===void 0||h.setShow(!1),u&&Fe(u,!1))})}return zt(m$,{mergedThemeRef:n,mergedClsPrefixRef:e,props:t}),{setShow(s){var l;(l=r.value)===null||l===void 0||l.setShow(s)},syncPosition(){var s;(s=r.value)===null||s===void 0||s.syncPosition()},mergedTheme:n,popoverInstRef:r,handlePositiveClick:i,handleNegativeClick:o}},render(){const{$slots:t,$props:e,mergedTheme:n}=this;return v(Ch,Object.assign({},Xu(e,sR),{theme:n.peers.Popover,themeOverrides:n.peerOverrides.Popover,internalExtraClass:["popconfirm"],ref:"popoverInstRef"}),{trigger:t.trigger,default:()=>{const r=Ri(e,sR);return v(Nme,Object.assign({},r,{onPositiveClick:this.handlePositiveClick,onNegativeClick:this.handleNegativeClick}),t)}})}}),Ume={success:v(xh,null),error:v(bh,null),warning:v(Ju,null),info:v(zu,null)},jme=le({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(t,{slots:e}){const n=L(()=>{const o="gradient",{fillColor:a}=t;return typeof a=="object"?`${o}-${_u(JSON.stringify(a))}`:o});function r(o,a,s,l){const{gapDegree:c,viewBoxWidth:u,strokeWidth:d}=t,h=50,f=0,p=h,g=0,m=2*h,y=50+d/2,b=`M ${y},${y} m ${f},${p}
      a ${h},${h} 0 1 1 ${g},${-m}
      a ${h},${h} 0 1 1 ${-g},${m}`,x=Math.PI*2*h,w={stroke:l==="rail"?s:typeof t.fillColor=="object"?`url(#${n.value})`:s,strokeDasharray:`${Math.min(o,100)/100*(x-c)}px ${u*8}px`,strokeDashoffset:`-${c/2}px`,transformOrigin:a?"center":void 0,transform:a?`rotate(${a}deg)`:void 0};return{pathString:b,pathStyle:w}}const i=()=>{const o=typeof t.fillColor=="object",a=o?t.fillColor.stops[0]:"",s=o?t.fillColor.stops[1]:"";return o&&v("defs",null,v("linearGradient",{id:n.value,x1:"0%",y1:"100%",x2:"100%",y2:"0%"},v("stop",{offset:"0%","stop-color":a}),v("stop",{offset:"100%","stop-color":s})))};return()=>{const{fillColor:o,railColor:a,strokeWidth:s,offsetDegree:l,status:c,percentage:u,showIndicator:d,indicatorTextColor:h,unit:f,gapOffsetDegree:p,clsPrefix:g}=t,{pathString:m,pathStyle:y}=r(100,0,a,"rail"),{pathString:b,pathStyle:x}=r(u,l,o,"fill"),w=100+s;return v("div",{class:`${g}-progress-content`,role:"none"},v("div",{class:`${g}-progress-graph`,"aria-hidden":!0},v("div",{class:`${g}-progress-graph-circle`,style:{transform:p?`rotate(${p}deg)`:void 0}},v("svg",{viewBox:`0 0 ${w} ${w}`},i(),v("g",null,v("path",{class:`${g}-progress-graph-circle-rail`,d:m,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:y})),v("g",null,v("path",{class:[`${g}-progress-graph-circle-fill`,u===0&&`${g}-progress-graph-circle-fill--empty`],d:b,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:x}))))),d?v("div",null,e.default?v("div",{class:`${g}-progress-custom-content`,role:"none"},e.default()):c!=="default"?v("div",{class:`${g}-progress-icon`,"aria-hidden":!0},v(Jt,{clsPrefix:g},{default:()=>Ume[c]})):v("div",{class:`${g}-progress-text`,style:{color:h},role:"none"},v("span",{class:`${g}-progress-text__percentage`},u),v("span",{class:`${g}-progress-text__unit`},f))):null)}}}),Vme={success:v(xh,null),error:v(bh,null),warning:v(Ju,null),info:v(zu,null)},Wme=le({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(t,{slots:e}){const n=L(()=>Ln(t.height)),r=L(()=>{var a,s;return typeof t.fillColor=="object"?`linear-gradient(to right, ${(a=t.fillColor)===null||a===void 0?void 0:a.stops[0]} , ${(s=t.fillColor)===null||s===void 0?void 0:s.stops[1]})`:t.fillColor}),i=L(()=>t.railBorderRadius!==void 0?Ln(t.railBorderRadius):t.height!==void 0?Ln(t.height,{c:.5}):""),o=L(()=>t.fillBorderRadius!==void 0?Ln(t.fillBorderRadius):t.railBorderRadius!==void 0?Ln(t.railBorderRadius):t.height!==void 0?Ln(t.height,{c:.5}):"");return()=>{const{indicatorPlacement:a,railColor:s,railStyle:l,percentage:c,unit:u,indicatorTextColor:d,status:h,showIndicator:f,processing:p,clsPrefix:g}=t;return v("div",{class:`${g}-progress-content`,role:"none"},v("div",{class:`${g}-progress-graph`,"aria-hidden":!0},v("div",{class:[`${g}-progress-graph-line`,{[`${g}-progress-graph-line--indicator-${a}`]:!0}]},v("div",{class:`${g}-progress-graph-line-rail`,style:[{backgroundColor:s,height:n.value,borderRadius:i.value},l]},v("div",{class:[`${g}-progress-graph-line-fill`,p&&`${g}-progress-graph-line-fill--processing`],style:{maxWidth:`${t.percentage}%`,background:r.value,height:n.value,lineHeight:n.value,borderRadius:o.value}},a==="inside"?v("div",{class:`${g}-progress-graph-line-indicator`,style:{color:d}},e.default?e.default():`${c}${u}`):null)))),f&&a==="outside"?v("div",null,e.default?v("div",{class:`${g}-progress-custom-content`,style:{color:d},role:"none"},e.default()):h==="default"?v("div",{role:"none",class:`${g}-progress-icon ${g}-progress-icon--as-text`,style:{color:d}},c,u):v("div",{class:`${g}-progress-icon`,"aria-hidden":!0},v(Jt,{clsPrefix:g},{default:()=>Vme[h]}))):null)}}});function lR(t,e,n=100){return`m ${n/2} ${n/2-t} a ${t} ${t} 0 1 1 0 ${2*t} a ${t} ${t} 0 1 1 0 -${2*t}`}const qme=le({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(t,{slots:e}){const n=L(()=>t.percentage.map((o,a)=>`${Math.PI*o/100*(t.viewBoxWidth/2-t.strokeWidth/2*(1+2*a)-t.circleGap*a)*2}, ${t.viewBoxWidth*8}`)),r=(i,o)=>{const a=t.fillColor[o],s=typeof a=="object"?a.stops[0]:"",l=typeof a=="object"?a.stops[1]:"";return typeof t.fillColor[o]=="object"&&v("linearGradient",{id:`gradient-${o}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},v("stop",{offset:"0%","stop-color":s}),v("stop",{offset:"100%","stop-color":l}))};return()=>{const{viewBoxWidth:i,strokeWidth:o,circleGap:a,showIndicator:s,fillColor:l,railColor:c,railStyle:u,percentage:d,clsPrefix:h}=t;return v("div",{class:`${h}-progress-content`,role:"none"},v("div",{class:`${h}-progress-graph`,"aria-hidden":!0},v("div",{class:`${h}-progress-graph-circle`},v("svg",{viewBox:`0 0 ${i} ${i}`},v("defs",null,d.map((f,p)=>r(f,p))),d.map((f,p)=>v("g",{key:p},v("path",{class:`${h}-progress-graph-circle-rail`,d:lR(i/2-o/2*(1+2*p)-a*p,o,i),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:c[p]},u[p]]}),v("path",{class:[`${h}-progress-graph-circle-fill`,f===0&&`${h}-progress-graph-circle-fill--empty`],d:lR(i/2-o/2*(1+2*p)-a*p,o,i),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[p],strokeDashoffset:0,stroke:typeof l[p]=="object"?`url(#gradient-${p})`:l[p]}})))))),s&&e.default?v("div",null,v("div",{class:`${h}-progress-text`},e.default())):null)}}}),Kme=B([R("progress",{display:"inline-block"},[R("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),U("line",`
 width: 100%;
 display: block;
 `,[R("progress-content",`
 display: flex;
 align-items: center;
 `,[R("progress-graph",{flex:1})]),R("progress-custom-content",{marginLeft:"14px"}),R("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[U("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),U("circle, dashboard",{width:"120px"},[R("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),R("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),R("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),U("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[R("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),R("progress-content",{position:"relative"}),R("progress-graph",{position:"relative"},[R("progress-graph-circle",[B("svg",{verticalAlign:"bottom"}),R("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[U("empty",{opacity:0})]),R("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),R("progress-graph-line",[U("indicator-inside",[R("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[R("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),R("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),U("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[R("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),R("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),R("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[R("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[U("processing",[B("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),B("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),y$=Object.assign(Object.assign({},Ve.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),b$=le({name:"Progress",props:y$,setup(t){const e=L(()=>t.indicatorPlacement||t.indicatorPosition),n=L(()=>{if(t.gapDegree||t.gapDegree===0)return t.gapDegree;if(t.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:i}=gt(t),o=Ve("Progress","-progress",Kme,mF,t,r),a=L(()=>{const{status:l}=t,{common:{cubicBezierEaseInOut:c},self:{fontSize:u,fontSizeCircle:d,railColor:h,railHeight:f,iconSizeCircle:p,iconSizeLine:g,textColorCircle:m,textColorLineInner:y,textColorLineOuter:b,lineBgProcessing:x,fontWeightCircle:w,[We("iconColor",l)]:C,[We("fillColor",l)]:S}}=o.value;return{"--n-bezier":c,"--n-fill-color":S,"--n-font-size":u,"--n-font-size-circle":d,"--n-font-weight-circle":w,"--n-icon-color":C,"--n-icon-size-circle":p,"--n-icon-size-line":g,"--n-line-bg-processing":x,"--n-rail-color":h,"--n-rail-height":f,"--n-text-color-circle":m,"--n-text-color-line-inner":y,"--n-text-color-line-outer":b}}),s=i?Ot("progress",L(()=>t.status[0]),a,t):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:e,gapDeg:n,cssVars:i?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:t,cssVars:e,indicatorTextColor:n,showIndicator:r,status:i,railColor:o,railStyle:a,color:s,percentage:l,viewBoxWidth:c,strokeWidth:u,mergedIndicatorPlacement:d,unit:h,borderRadius:f,fillBorderRadius:p,height:g,processing:m,circleGap:y,mergedClsPrefix:b,gapDeg:x,gapOffsetDegree:w,themeClass:C,$slots:S,onRender:A}=this;return A==null||A(),v("div",{class:[C,`${b}-progress`,`${b}-progress--${t}`,`${b}-progress--${i}`],style:e,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:t==="circle"||t==="line"||t==="dashboard"?"progressbar":"none"},t==="circle"||t==="dashboard"?v(jme,{clsPrefix:b,status:i,showIndicator:r,indicatorTextColor:n,railColor:o,fillColor:s,railStyle:a,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:c,strokeWidth:u,gapDegree:x===void 0?t==="dashboard"?75:0:x,gapOffsetDegree:w,unit:h},S):t==="line"?v(Wme,{clsPrefix:b,status:i,showIndicator:r,indicatorTextColor:n,railColor:o,fillColor:s,railStyle:a,percentage:l,processing:m,indicatorPlacement:d,unit:h,fillBorderRadius:p,railBorderRadius:f,height:g},S):t==="multiple-circle"?v(qme,{clsPrefix:b,strokeWidth:u,railColor:o,fillColor:s,railStyle:a,viewBoxWidth:c,percentage:l,showIndicator:r,circleGap:y},S):null)}});function Gme(t){return{borderRadius:t.borderRadius}}const Yme={common:Bt,self:Gme};var Es;(function(t){class e{static encodeText(a,s){const l=t.QrSegment.makeSegments(a);return e.encodeSegments(l,s)}static encodeBinary(a,s){const l=t.QrSegment.makeBytes(a);return e.encodeSegments([l],s)}static encodeSegments(a,s,l=1,c=40,u=-1,d=!0){if(!(e.MIN_VERSION<=l&&l<=c&&c<=e.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");let h,f;for(h=l;;h++){const y=e.getNumDataCodewords(h,s)*8,b=i.getTotalBits(a,h);if(b<=y){f=b;break}if(h>=c)throw new RangeError("Data too long")}for(const y of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])d&&f<=e.getNumDataCodewords(h,y)*8&&(s=y);const p=[];for(const y of a){n(y.mode.modeBits,4,p),n(y.numChars,y.mode.numCharCountBits(h),p);for(const b of y.getData())p.push(b)}const g=e.getNumDataCodewords(h,s)*8;n(0,Math.min(4,g-p.length),p),n(0,(8-p.length%8)%8,p);for(let y=236;p.length<g;y^=253)n(y,8,p);const m=[];for(;m.length*8<p.length;)m.push(0);return p.forEach((y,b)=>m[b>>>3]|=y<<7-(b&7)),new e(h,s,m,u)}constructor(a,s,l,c){if(this.version=a,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=a*4+17;const u=[];for(let h=0;h<this.size;h++)u.push(!1);for(let h=0;h<this.size;h++)this.modules.push(u.slice()),this.isFunction.push(u.slice());this.drawFunctionPatterns();const d=this.addEccAndInterleave(l);if(this.drawCodewords(d),c===-1){let h=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const p=this.getPenaltyScore();p<h&&(c=f,h=p),this.applyMask(f)}}this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}getModule(a,s){return a>=0&&a<this.size&&s>=0&&s<this.size&&this.modules[s][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2===0),this.setFunctionModule(l,6,l%2===0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),s=a.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||this.drawAlignmentPattern(a[l],a[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const s=this.errorCorrectionLevel.formatBits<<3|a;let l=s;for(let u=0;u<10;u++)l=l<<1^(l>>>9)*1335;const c=(s<<10|l)^21522;for(let u=0;u<=5;u++)this.setFunctionModule(8,u,r(c,u));this.setFunctionModule(8,7,r(c,6)),this.setFunctionModule(8,8,r(c,7)),this.setFunctionModule(7,8,r(c,8));for(let u=9;u<15;u++)this.setFunctionModule(14-u,8,r(c,u));for(let u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(c,u));for(let u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(c,u));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let l=0;l<12;l++)a=a<<1^(a>>>11)*7973;const s=this.version<<12|a;for(let l=0;l<18;l++){const c=r(s,l),u=this.size-11+l%3,d=Math.floor(l/3);this.setFunctionModule(u,d,c),this.setFunctionModule(d,u,c)}}drawFinderPattern(a,s){for(let l=-4;l<=4;l++)for(let c=-4;c<=4;c++){const u=Math.max(Math.abs(c),Math.abs(l)),d=a+c,h=s+l;d>=0&&d<this.size&&h>=0&&h<this.size&&this.setFunctionModule(d,h,u!==2&&u!==4)}}drawAlignmentPattern(a,s){for(let l=-2;l<=2;l++)for(let c=-2;c<=2;c++)this.setFunctionModule(a+c,s+l,Math.max(Math.abs(c),Math.abs(l))!==1)}setFunctionModule(a,s,l){this.modules[s][a]=l,this.isFunction[s][a]=!0}addEccAndInterleave(a){const s=this.version,l=this.errorCorrectionLevel;if(a.length!==e.getNumDataCodewords(s,l))throw new RangeError("Invalid argument");const c=e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][s],u=e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][s],d=Math.floor(e.getNumRawDataModules(s)/8),h=c-d%c,f=Math.floor(d/c),p=[],g=e.reedSolomonComputeDivisor(u);for(let y=0,b=0;y<c;y++){const x=a.slice(b,b+f-u+(y<h?0:1));b+=x.length;const w=e.reedSolomonComputeRemainder(x,g);y<h&&x.push(0),p.push(x.concat(w))}const m=[];for(let y=0;y<p[0].length;y++)p.forEach((b,x)=>{(y!==f-u||x>=h)&&m.push(b[y])});return m}drawCodewords(a){if(a.length!==Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let l=this.size-1;l>=1;l-=2){l===6&&(l=5);for(let c=0;c<this.size;c++)for(let u=0;u<2;u++){const d=l-u,f=(l+1&2)===0?this.size-1-c:c;!this.isFunction[f][d]&&s<a.length*8&&(this.modules[f][d]=r(a[s>>>3],7-(s&7)),s++)}}}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let l=0;l<this.size;l++){let c;switch(a){case 0:c=(l+s)%2===0;break;case 1:c=s%2===0;break;case 2:c=l%3===0;break;case 3:c=(l+s)%3===0;break;case 4:c=(Math.floor(l/3)+Math.floor(s/2))%2===0;break;case 5:c=l*s%2+l*s%3===0;break;case 6:c=(l*s%2+l*s%3)%2===0;break;case 7:c=((l+s)%2+l*s%3)%2===0;break;default:throw new Error("Unreachable")}!this.isFunction[s][l]&&c&&(this.modules[s][l]=!this.modules[s][l])}}getPenaltyScore(){let a=0;for(let u=0;u<this.size;u++){let d=!1,h=0;const f=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[u][p]===d?(h++,h===5?a+=e.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,f),d||(a+=this.finderPenaltyCountPatterns(f)*e.PENALTY_N3),d=this.modules[u][p],h=1);a+=this.finderPenaltyTerminateAndCount(d,h,f)*e.PENALTY_N3}for(let u=0;u<this.size;u++){let d=!1,h=0;const f=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][u]===d?(h++,h===5?a+=e.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,f),d||(a+=this.finderPenaltyCountPatterns(f)*e.PENALTY_N3),d=this.modules[p][u],h=1);a+=this.finderPenaltyTerminateAndCount(d,h,f)*e.PENALTY_N3}for(let u=0;u<this.size-1;u++)for(let d=0;d<this.size-1;d++){const h=this.modules[u][d];h===this.modules[u][d+1]&&h===this.modules[u+1][d]&&h===this.modules[u+1][d+1]&&(a+=e.PENALTY_N2)}let s=0;for(const u of this.modules)s=u.reduce((d,h)=>d+(h?1:0),s);const l=this.size*this.size,c=Math.ceil(Math.abs(s*20-l*10)/l)-1;return a+=c*e.PENALTY_N4,a}getAlignmentPatternPositions(){if(this.version===1)return[];{const a=Math.floor(this.version/7)+2,s=this.version===32?26:Math.ceil((this.version*4+4)/(a*2-2))*2,l=[6];for(let c=this.size-7;l.length<a;c-=s)l.splice(1,0,c);return l}}static getNumRawDataModules(a){if(a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*a+128)*a+64;if(a>=2){const l=Math.floor(a/7)+2;s-=(25*l-10)*l-55,a>=7&&(s-=36)}return s}static getNumDataCodewords(a,s){return Math.floor(e.getNumRawDataModules(a)/8)-e.ECC_CODEWORDS_PER_BLOCK[s.ordinal][a]*e.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");const s=[];for(let c=0;c<a-1;c++)s.push(0);s.push(1);let l=1;for(let c=0;c<a;c++){for(let u=0;u<s.length;u++)s[u]=e.reedSolomonMultiply(s[u],l),u+1<s.length&&(s[u]^=s[u+1]);l=e.reedSolomonMultiply(l,2)}return s}static reedSolomonComputeRemainder(a,s){const l=s.map(c=>0);for(const c of a){const u=c^l.shift();l.push(0),s.forEach((d,h)=>l[h]^=e.reedSolomonMultiply(d,u))}return l}static reedSolomonMultiply(a,s){if(a>>>8||s>>>8)throw new RangeError("Byte out of range");let l=0;for(let c=7;c>=0;c--)l=l<<1^(l>>>7)*285,l^=(s>>>c&1)*a;return l}finderPenaltyCountPatterns(a){const s=a[1],l=s>0&&a[2]===s&&a[3]===s*3&&a[4]===s&&a[5]===s;return(l&&a[0]>=s*4&&a[6]>=s?1:0)+(l&&a[6]>=s*4&&a[0]>=s?1:0)}finderPenaltyTerminateAndCount(a,s,l){return a&&(this.finderPenaltyAddHistory(s,l),s=0),s+=this.size,this.finderPenaltyAddHistory(s,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(a,s){s[0]===0&&(a+=this.size),s.pop(),s.unshift(a)}}e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(o,a,s){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(let l=a-1;l>=0;l--)s.push(o>>>l&1)}function r(o,a){return(o>>>a&1)!==0}class i{static makeBytes(a){const s=[];for(const l of a)n(l,8,s);return new i(i.Mode.BYTE,a.length,s)}static makeNumeric(a){if(!i.isNumeric(a))throw new RangeError("String contains non-numeric characters");const s=[];for(let l=0;l<a.length;){const c=Math.min(a.length-l,3);n(Number.parseInt(a.substr(l,c),10),c*3+1,s),l+=c}return new i(i.Mode.NUMERIC,a.length,s)}static makeAlphanumeric(a){if(!i.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");const s=[];let l;for(l=0;l+2<=a.length;l+=2){let c=i.ALPHANUMERIC_CHARSET.indexOf(a.charAt(l))*45;c+=i.ALPHANUMERIC_CHARSET.indexOf(a.charAt(l+1)),n(c,11,s)}return l<a.length&&n(i.ALPHANUMERIC_CHARSET.indexOf(a.charAt(l)),6,s),new i(i.Mode.ALPHANUMERIC,a.length,s)}static makeSegments(a){return a===""?[]:i.isNumeric(a)?[i.makeNumeric(a)]:i.isAlphanumeric(a)?[i.makeAlphanumeric(a)]:[i.makeBytes(i.toUtf8ByteArray(a))]}static makeEci(a){const s=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,s);else if(a<16384)n(2,2,s),n(a,14,s);else if(a<1e6)n(6,3,s),n(a,21,s);else throw new RangeError("ECI assignment value out of range");return new i(i.Mode.ECI,0,s)}static isNumeric(a){return i.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return i.ALPHANUMERIC_REGEX.test(a)}constructor(a,s,l){if(this.mode=a,this.numChars=s,this.bitData=l,s<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}getData(){return this.bitData.slice()}static getTotalBits(a,s){let l=0;for(const c of a){const u=c.mode.numCharCountBits(s);if(c.numChars>=1<<u)return 1/0;l+=4+u+c.bitData.length}return l}static toUtf8ByteArray(a){a=encodeURI(a);const s=[];for(let l=0;l<a.length;l++)a.charAt(l)!=="%"?s.push(a.charCodeAt(l)):(s.push(Number.parseInt(a.substr(l+1,2),16)),l+=2);return s}}i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=i})(Es||(Es={}));(function(t){(function(e){class n{constructor(i,o){this.ordinal=i,this.formatBits=o}}n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Es||(Es={}));(function(t){(function(e){class n{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}}n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Es||(Es={}));const Xme=B([R("qr-code",`
 background: #fff;
 border-radius: var(--n-border-radius);
 display: inline-flex;
 `)]),Qme={L:Es.QrCode.Ecc.LOW,M:Es.QrCode.Ecc.MEDIUM,Q:Es.QrCode.Ecc.QUARTILE,H:Es.QrCode.Ecc.HIGH},x$=Object.assign(Object.assign({},Ve.props),{value:String,color:{type:String,default:"#000"},backgroundColor:{type:String,default:"#FFF"},iconSrc:String,iconSize:{type:Number,default:40},iconBackgroundColor:{type:String,default:"#FFF"},iconBorderRadius:{type:Number,default:4},size:{type:Number,default:100},padding:{type:[Number,String],default:12},errorCorrectionLevel:{type:String,default:"M"},type:{type:String,default:"canvas"}}),d2=2,Zme=le({name:"QrCode",props:x$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("QrCode","-qr-code",Xme,Yme,t,e),i=L(()=>({"--n-border-radius":r.value.self.borderRadius})),o=n?Ot("qr-code",void 0,i,t):void 0,a=V(),s=L(()=>{var h;const f=Qme[t.errorCorrectionLevel];return Es.QrCode.encodeText((h=t.value)!==null&&h!==void 0?h:"-",f)});jn(()=>{const h=V(0);let f=null;er(()=>{t.type!=="svg"&&(h.value,l(s.value,t.size,t.color,t.backgroundColor,f?{icon:f,iconBorderRadius:t.iconBorderRadius,iconSize:t.iconSize,iconBackgroundColor:t.iconBackgroundColor}:null))}),er(()=>{if(t.type==="svg")return;const{iconSrc:p}=t;if(p){let g=!1;const m=new Image;return m.src=p,m.onload=()=>{g||(f=m,h.value++)},()=>{g=!0}}})});function l(h,f,p,g,m){const y=a.value;if(!y)return;const b=f*d2,x=h.size,w=b/x;y.width=b,y.height=b;const C=y.getContext("2d");if(C){C.clearRect(0,0,y.width,y.height);for(let S=0;S<h.size;S++)for(let A=0;A<h.size;A++){C.fillStyle=h.getModule(A,S)?p:g;const T=Math.floor(A*w),k=Math.ceil((A+1)*w),E=Math.floor(S*w),P=Math.ceil((S+1)*w);C.fillRect(T,E,k-T,P-E)}if(m){const{icon:S,iconBackgroundColor:A,iconBorderRadius:T,iconSize:k}=m,E=k*d2,P=(y.width-E)/2,_=(y.height-E)/2;C.fillStyle=A,C.beginPath(),C.roundRect(P,_,E,E,T*d2),C.fill();const F=S.width/S.height,N=F>=1?E:E*F,W=F<=1?E:E/F,G=P+(E-N)/2,Z=_+(E-W)/2;C.drawImage(S,G,Z,N,W)}}}function c(h,f=0){const p=[];return h.forEach((g,m)=>{let y=null;g.forEach((b,x)=>{if(!b&&y!==null){p.push(`M${y+f} ${m+f}h${x-y}v1H${y+f}z`),y=null;return}if(x===g.length-1){if(!b)return;y===null?p.push(`M${x+f},${m+f} h1v1H${x+f}z`):p.push(`M${y+f},${m+f} h${x+1-y}v1H${y+f}z`);return}b&&y===null&&(y=x)})}),p.join("")}function u(h,f,p){const g=h.getModules(),m=g.length,y=g;let b="";const x=`<path fill="transparent" d="M0,0 h${m}v${m}H0z" shape-rendering="crispEdges"></path>`,w=`<path fill="${t.color}" d="${c(y,0)}" shape-rendering="crispEdges"></path>`;let C="";if(p){const{iconSrc:S,iconSize:A}=p,k=Math.floor(f*.1),E=m/f,P=(A||k)*E,_=(A||k)*E,F=g.length/2-_/2,N=g.length/2-P/2;C+=`<image href="${S}" width="${_}" height="${P}" x="${F}" y="${N}" preserveAspectRatio="none"></image>`}return b+=x,b+=w,b+=C,{innerHtml:b,numCells:m}}const d=L(()=>u(s.value,t.size,t.iconSrc?{iconSrc:t.iconSrc,iconBorderRadius:t.iconBorderRadius,iconSize:t.iconSize,iconBackgroundColor:t.iconBackgroundColor}:null));return{canvasRef:a,mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,svgInfo:d}},render(){const{mergedClsPrefix:t,backgroundColor:e,padding:n,cssVars:r,themeClass:i,size:o,type:a}=this;return v("div",{class:[`${t}-qr-code`,i],style:Object.assign({padding:typeof n=="number"?`${n}px`:n,backgroundColor:e,width:`${o}px`,height:`${o}px`},r)},a==="canvas"?v("canvas",{ref:"canvasRef",style:{width:`${o}px`,height:`${o}px`}}):v("svg",{height:o,width:o,viewBox:`0 0 ${this.svgInfo.numCells} ${this.svgInfo.numCells}`,role:"img",innerHTML:this.svgInfo.innerHtml}))}}),Jme=()=>v("svg",{viewBox:"0 0 512 512"},v("path",{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"})),ege=R("rate",{display:"inline-flex",flexWrap:"nowrap"},[B("&:hover",[H("item",`
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),H("item",`
 position: relative;
 display: flex;
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 transform: scale(1);
 font-size: var(--n-item-size);
 color: var(--n-item-color);
 `,[B("&:not(:first-child)",`
 margin-left: 6px;
 `),U("active",`
 color: var(--n-item-color-active);
 `)]),an("readonly",`
 cursor: pointer;
 `,[H("item",[B("&:hover",`
 transform: scale(1.05);
 `),B("&:active",`
 transform: scale(0.96);
 `)])]),H("half",`
 display: flex;
 transition: inherit;
 position: absolute;
 top: 0;
 left: 0;
 bottom: 0;
 width: 50%;
 overflow: hidden;
 color: rgba(255, 255, 255, 0);
 `,[U("active",`
 color: var(--n-item-color-active);
 `)])]),w$=Object.assign(Object.assign({},Ve.props),{allowHalf:Boolean,count:{type:Number,default:5},value:Number,defaultValue:{type:Number,default:null},readonly:Boolean,size:{type:[String,Number],default:"medium"},clearable:Boolean,color:String,onClear:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),tge=le({name:"Rate",props:w$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Rate","-rate",ege,xfe,t,e),i=$e(t,"value"),o=V(t.defaultValue),a=V(null),s=di(t),l=Cn(i,o);function c(x){const{"onUpdate:value":w,onUpdateValue:C}=t,{nTriggerFormChange:S,nTriggerFormInput:A}=s;w&&Fe(w,x),C&&Fe(C,x),o.value=x,S(),A()}function u(x,w){return t.allowHalf?w.offsetX>=Math.floor(w.currentTarget.offsetWidth/2)?x+1:x+.5:x+1}let d=!1;function h(x,w){d||(a.value=u(x,w))}function f(){a.value=null}function p(x,w){var C;const{clearable:S}=t,A=u(x,w);S&&A===l.value?(d=!0,(C=t.onClear)===null||C===void 0||C.call(t),a.value=null,c(null)):c(A)}function g(){d=!1}const m=L(()=>{const{size:x}=t,{self:w}=r.value;return typeof x=="number"?`${x}px`:w[We("size",x)]}),y=L(()=>{const{common:{cubicBezierEaseInOut:x},self:w}=r.value,{itemColor:C,itemColorActive:S}=w,{color:A}=t;return{"--n-bezier":x,"--n-item-color":C,"--n-item-color-active":A||S,"--n-item-size":m.value}}),b=n?Ot("rate",L(()=>{const x=m.value,{color:w}=t;let C="";return x&&(C+=x[0]),w&&(C+=nh(w)),C}),y,t):void 0;return{mergedClsPrefix:e,mergedValue:l,hoverIndex:a,handleMouseMove:h,handleClick:p,handleMouseLeave:f,handleMouseEnterSomeStar:g,cssVars:n?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender}},render(){const{readonly:t,hoverIndex:e,mergedValue:n,mergedClsPrefix:r,onRender:i,$slots:{default:o}}=this;return i==null||i(),v("div",{class:[`${r}-rate`,{[`${r}-rate--readonly`]:t},this.themeClass],style:this.cssVars,onMouseleave:this.handleMouseLeave},fK(this.count,(a,s)=>{const l=o?o({index:s}):v(Jt,{clsPrefix:r},{default:Jme}),c=e!==null?s+1<=e:s+1<=(n||0);return v("div",{key:s,class:[`${r}-rate__item`,c&&`${r}-rate__item--active`],onClick:t?void 0:u=>{this.handleClick(s,u)},onMouseenter:this.handleMouseEnterSomeStar,onMousemove:t?void 0:u=>{this.handleMouseMove(s,u)}},l,this.allowHalf?v("div",{class:[`${r}-rate__half`,{[`${r}-rate__half--active`]:!c&&e!==null?s+.5<=e:s+.5<=(n||0)}]},l):null)}))}});function nge(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},v("path",{fill:"#EF9645",d:"M15.5 2.965c1.381 0 2.5 1.119 2.5 2.5v.005L20.5.465c1.381 0 2.5 1.119 2.5 2.5V4.25l2.5-1.535c1.381 0 2.5 1.119 2.5 2.5V8.75L29 18H15.458L15.5 2.965z"}),v("path",{fill:"#FFDC5D",d:"M4.625 16.219c1.381-.611 3.354.208 4.75 2.188.917 1.3 1.187 3.151 2.391 3.344.46.073 1.234-.313 1.234-1.397V4.5s0-2 2-2 2 2 2 2v11.633c0-.029 1-.064 1-.082V2s0-2 2-2 2 2 2 2v14.053c0 .017 1 .041 1 .069V4.25s0-2 2-2 2 2 2 2v12.638c0 .118 1 .251 1 .398V8.75s0-2 2-2 2 2 2 2V24c0 6.627-5.373 12-12 12-4.775 0-8.06-2.598-9.896-5.292C8.547 28.423 8.096 26.051 8 25.334c0 0-.123-1.479-1.156-2.865-1.469-1.969-2.5-3.156-3.125-3.866-.317-.359-.625-1.707.906-2.384z"}))}function rge(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},v("circle",{fill:"#FFCB4C",cx:"18",cy:"17.018",r:"17"}),v("path",{fill:"#65471B",d:"M14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"}),v("ellipse",{fill:"#65471B",cx:"13.119",cy:"11.174",rx:"2.125",ry:"2.656"}),v("ellipse",{fill:"#65471B",cx:"24.375",cy:"12.236",rx:"2.125",ry:"2.656"}),v("path",{fill:"#F19020",d:"M17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048l3.152-.681z"}),v("path",{fill:"#65471B",d:"M9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z"}))}function ige(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},v("ellipse",{fill:"#292F33",cx:"18",cy:"26",rx:"18",ry:"10"}),v("ellipse",{fill:"#66757F",cx:"18",cy:"24",rx:"18",ry:"10"}),v("path",{fill:"#E1E8ED",d:"M18 31C3.042 31 1 16 1 12h34c0 2-1.958 19-17 19z"}),v("path",{fill:"#77B255",d:"M35 12.056c0 5.216-7.611 9.444-17 9.444S1 17.271 1 12.056C1 6.84 8.611 3.611 18 3.611s17 3.229 17 8.445z"}),v("ellipse",{fill:"#A6D388",cx:"18",cy:"13",rx:"15",ry:"7"}),v("path",{d:"M21 17c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.739-1.109.9-2.246.478-3.377-.461-1.236-1.438-1.996-1.731-2.077-.553 0-.958-.443-.958-.996 0-.552.491-.995 1.043-.995.997 0 2.395 1.153 3.183 2.625 1.034 1.933.91 4.039-.351 5.929-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.196-.451.294-.707.294zm-6-2c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.727-1.091.893-2.083.494-2.947-.444-.961-1.431-1.469-1.684-1.499-.552 0-.989-.447-.989-1 0-.552.458-1 1.011-1 .997 0 2.585.974 3.36 2.423.481.899 1.052 2.761-.528 5.131-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.197-.451.295-.707.295z",fill:"#5C913B"}))}function oge(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},v("path",{fill:"#FFCC4D",d:"M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"}),v("ellipse",{fill:"#664500",cx:"18",cy:"27",rx:"5",ry:"6"}),v("path",{fill:"#664500",d:"M5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm24.002 0c-.305 0-.604-.138-.801-.4-2.64-3.521-6.061-3.598-6.206-3.6-.55-.006-.994-.456-.991-1.005C22.006 5.444 22.45 5 23 5c.184 0 4.537.05 7.8 4.4.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2zm-16.087 4.5l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L12.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L13.914 15.5zm11 0l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L23.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L24.914 15.5z"}))}const age=R("result",`
 color: var(--n-text-color);
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier);
`,[R("result-icon",`
 display: flex;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `,[H("status-image",`
 font-size: var(--n-icon-size);
 width: 1em;
 height: 1em;
 `),R("base-icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),R("result-content",{marginTop:"24px"}),R("result-footer",`
 margin-top: 24px;
 text-align: center;
 `),R("result-header",[H("title",`
 margin-top: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 text-align: center;
 color: var(--n-title-text-color);
 font-size: var(--n-title-font-size);
 `),H("description",`
 margin-top: 4px;
 text-align: center;
 font-size: var(--n-font-size);
 `)])]),sge={403:nge,404:rge,418:ige,500:oge,info:()=>v(zu,null),success:()=>v(xh,null),warning:()=>v(Ju,null),error:()=>v(bh,null)},C$=Object.assign(Object.assign({},Ve.props),{size:{type:String,default:"medium"},status:{type:String,default:"info"},title:String,description:String}),lge=le({name:"Result",props:C$,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Result","-result",age,Afe,t,e),i=L(()=>{const{size:a,status:s}=t,{common:{cubicBezierEaseInOut:l},self:{textColor:c,lineHeight:u,titleTextColor:d,titleFontWeight:h,[We("iconColor",s)]:f,[We("fontSize",a)]:p,[We("titleFontSize",a)]:g,[We("iconSize",a)]:m}}=r.value;return{"--n-bezier":l,"--n-font-size":p,"--n-icon-size":m,"--n-line-height":u,"--n-text-color":c,"--n-title-font-size":g,"--n-title-font-weight":h,"--n-title-text-color":d,"--n-icon-color":f||""}}),o=n?Ot("result",L(()=>{const{size:a,status:s}=t;let l="";return a&&(l+=a[0]),s&&(l+=s[0]),l}),i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{status:e,$slots:n,mergedClsPrefix:r,onRender:i}=this;return i==null||i(),v("div",{class:[`${r}-result`,this.themeClass],style:this.cssVars},v("div",{class:`${r}-result-icon`},((t=n.icon)===null||t===void 0?void 0:t.call(n))||v(Jt,{clsPrefix:r},{default:()=>sge[e]()})),v("div",{class:`${r}-result-header`},this.title?v("div",{class:`${r}-result-header__title`},this.title):null,this.description?v("div",{class:`${r}-result-header__description`},this.description):null),n.default&&v("div",{class:`${r}-result-content`},n),n.footer&&v("div",{class:`${r}-result-footer`},n.footer()))}}),A$=Object.assign(Object.assign({},Ve.props),{trigger:String,xScrollable:Boolean,onScroll:Function,contentClass:String,contentStyle:[Object,String],size:Number,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),cge=le({name:"Scrollbar",props:A$,setup(){const t=V(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=t.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=t.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:t})},render(){return v(Hr,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}});function uge(t){const{heightSmall:e,heightMedium:n,heightLarge:r,borderRadius:i}=t;return{color:"#eee",colorEnd:"#ddd",borderRadius:i,heightSmall:e,heightMedium:n,heightLarge:r}}const dge={common:Bt,self:uge},hge=B([R("skeleton",`
 height: 1em;
 width: 100%;
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),B("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),S$=Object.assign(Object.assign({},Ve.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),fge=le({name:"Skeleton",inheritAttrs:!1,props:S$,setup(t){Hk();const{mergedClsPrefixRef:e}=gt(t),n=Ve("Skeleton","-skeleton",hge,dge,t,e);return{mergedClsPrefix:e,style:L(()=>{var r,i;const o=n.value,{common:{cubicBezierEaseInOut:a}}=o,s=o.self,{color:l,colorEnd:c,borderRadius:u}=s;let d;const{circle:h,sharp:f,round:p,width:g,height:m,size:y,text:b,animated:x}=t;y!==void 0&&(d=s[We("height",y)]);const w=h?(r=g??m)!==null&&r!==void 0?r:d:g,C=(i=h?g??m:m)!==null&&i!==void 0?i:d;return{display:b?"inline-block":"",verticalAlign:b?"-0.125em":"",borderRadius:h?"50%":p?"4096px":f?"":u,width:typeof w=="number"?br(w):w,height:typeof C=="number"?br(C):C,animation:x?"":"none","--n-bezier":a,"--n-color-start":l,"--n-color-end":c}})}},render(){const{repeat:t,style:e,mergedClsPrefix:n,$attrs:r}=this,i=v("div",Xi({class:`${n}-skeleton`,style:e},r));return t>1?v(qn,null,Iu(t,null).map(o=>[i,`
`])):i}}),pge=B([R("slider",`
 display: block;
 padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;
 position: relative;
 z-index: 0;
 width: 100%;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 `,[U("reverse",[R("slider-handles",[R("slider-handle-wrapper",`
 transform: translate(50%, -50%);
 `)]),R("slider-dots",[R("slider-dot",`
 transform: translateX(50%, -50%);
 `)]),U("vertical",[R("slider-handles",[R("slider-handle-wrapper",`
 transform: translate(-50%, -50%);
 `)]),R("slider-marks",[R("slider-mark",`
 transform: translateY(calc(-50% + var(--n-dot-height) / 2));
 `)]),R("slider-dots",[R("slider-dot",`
 transform: translateX(-50%) translateY(0);
 `)])])]),U("vertical",`
 box-sizing: content-box;
 padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);
 width: var(--n-rail-width-vertical);
 height: 100%;
 `,[R("slider-handles",`
 top: calc(var(--n-handle-size) / 2);
 right: 0;
 bottom: calc(var(--n-handle-size) / 2);
 left: 0;
 `,[R("slider-handle-wrapper",`
 top: unset;
 left: 50%;
 transform: translate(-50%, 50%);
 `)]),R("slider-rail",`
 height: 100%;
 `,[H("fill",`
 top: unset;
 right: 0;
 bottom: unset;
 left: 0;
 `)]),U("with-mark",`
 width: var(--n-rail-width-vertical);
 margin: 0 32px 0 8px;
 `),R("slider-marks",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 22px;
 font-size: var(--n-mark-font-size);
 `,[R("slider-mark",`
 transform: translateY(50%);
 white-space: nowrap;
 `)]),R("slider-dots",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 50%;
 `,[R("slider-dot",`
 transform: translateX(-50%) translateY(50%);
 `)])]),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `,[R("slider-handle",`
 cursor: not-allowed;
 `)]),U("with-mark",`
 width: 100%;
 margin: 8px 0 32px 0;
 `),B("&:hover",[R("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[H("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),R("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),U("active",[R("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[H("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),R("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),R("slider-marks",`
 position: absolute;
 top: 18px;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[R("slider-mark",`
 position: absolute;
 transform: translateX(-50%);
 white-space: nowrap;
 `)]),R("slider-rail",`
 width: 100%;
 position: relative;
 height: var(--n-rail-height);
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 border-radius: calc(var(--n-rail-height) / 2);
 `,[H("fill",`
 position: absolute;
 top: 0;
 bottom: 0;
 border-radius: calc(var(--n-rail-height) / 2);
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-fill-color);
 `)]),R("slider-handles",`
 position: absolute;
 top: 0;
 right: calc(var(--n-handle-size) / 2);
 bottom: 0;
 left: calc(var(--n-handle-size) / 2);
 `,[R("slider-handle-wrapper",`
 outline: none;
 position: absolute;
 top: 50%;
 transform: translate(-50%, -50%);
 cursor: pointer;
 display: flex;
 `,[R("slider-handle",`
 height: var(--n-handle-size);
 width: var(--n-handle-size);
 border-radius: 50%;
 overflow: hidden;
 transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);
 background-color: var(--n-handle-color);
 box-shadow: var(--n-handle-box-shadow);
 `,[B("&:hover",`
 box-shadow: var(--n-handle-box-shadow-hover);
 `)]),B("&:focus",[R("slider-handle",`
 box-shadow: var(--n-handle-box-shadow-focus);
 `,[B("&:hover",`
 box-shadow: var(--n-handle-box-shadow-active);
 `)])])])]),R("slider-dots",`
 position: absolute;
 top: 50%;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[U("transition-disabled",[R("slider-dot","transition: none;")]),R("slider-dot",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 transform: translate(-50%, -50%);
 height: var(--n-dot-height);
 width: var(--n-dot-width);
 border-radius: var(--n-dot-border-radius);
 overflow: hidden;
 box-sizing: border-box;
 border: var(--n-dot-border);
 background-color: var(--n-dot-color);
 `,[U("active","border: var(--n-dot-border-active);")])])]),R("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[Qi()]),R("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[U("top",`
 margin-bottom: 12px;
 `),U("right",`
 margin-left: 12px;
 `),U("bottom",`
 margin-top: 12px;
 `),U("left",`
 margin-right: 12px;
 `),Qi()]),_l(R("slider",[R("slider-dot","background-color: var(--n-dot-color-modal);")])),Tc(R("slider",[R("slider-dot","background-color: var(--n-dot-color-popover);")]))]);function cR(t){return window.TouchEvent&&t instanceof window.TouchEvent}function uR(){const t=new Map,e=n=>r=>{t.set(n,r)};return q1(()=>{t.clear()}),[t,e]}const mge=0,k$=Object.assign(Object.assign({},Ve.props),{to:vr.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),gge=le({name:"Slider",props:k$,slots:Object,setup(t){const{mergedClsPrefixRef:e,namespaceRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("Slider","-slider",pge,Efe,t,e),o=V(null),[a,s]=uR(),[l,c]=uR(),u=V(new Set),d=di(t),{mergedDisabledRef:h}=d,f=L(()=>{const{step:ge}=t;if(Number(ge)<=0||ge==="mark")return 0;const pe=ge.toString();let Te=0;return pe.includes(".")&&(Te=pe.length-pe.indexOf(".")-1),Te}),p=V(t.defaultValue),m=Cn($e(t,"value"),p),y=L(()=>{const{value:ge}=m;return(t.range?ge:[ge]).map(X)}),b=L(()=>y.value.length>2),x=L(()=>t.placement===void 0?t.vertical?"right":"top":t.placement),w=L(()=>{const{marks:ge}=t;return ge?Object.keys(ge).map(Number.parseFloat):null}),C=V(-1),S=V(-1),A=V(-1),T=V(!1),k=V(!1),E=L(()=>{const{vertical:ge,reverse:pe}=t;return ge?pe?"top":"bottom":pe?"right":"left"}),P=L(()=>{if(b.value)return;const ge=y.value,pe=K(t.range?Math.min(...ge):t.min),Te=K(t.range?Math.max(...ge):ge[0]),{value:Xe}=E;return t.vertical?{[Xe]:`${pe}%`,height:`${Te-pe}%`}:{[Xe]:`${pe}%`,width:`${Te-pe}%`}}),_=L(()=>{const ge=[],{marks:pe}=t;if(pe){const Te=y.value.slice();Te.sort((Kt,Dt)=>Kt-Dt);const{value:Xe}=E,{value:Oe}=b,{range:ft}=t,Lt=Oe?()=>!1:Kt=>ft?Kt>=Te[0]&&Kt<=Te[Te.length-1]:Kt<=Te[0];for(const Kt of Object.keys(pe)){const Dt=Number(Kt);ge.push({active:Lt(Dt),key:Dt,label:pe[Kt],style:{[Xe]:`${K(Dt)}%`}})}}return ge});function F(ge,pe){const Te=K(ge),{value:Xe}=E;return{[Xe]:`${Te}%`,zIndex:pe===C.value?1:0}}function N(ge){return t.showTooltip||A.value===ge||C.value===ge&&T.value}function W(ge){return T.value?!(C.value===ge&&S.value===ge):!0}function G(ge){var pe;~ge&&(C.value=ge,(pe=a.get(ge))===null||pe===void 0||pe.focus())}function Z(){l.forEach((ge,pe)=>{N(pe)&&ge.syncPosition()})}function ie(ge){const{"onUpdate:value":pe,onUpdateValue:Te}=t,{nTriggerFormInput:Xe,nTriggerFormChange:Oe}=d;Te&&Fe(Te,ge),pe&&Fe(pe,ge),p.value=ge,Xe(),Oe()}function he(ge){const{range:pe}=t;if(pe){if(Array.isArray(ge)){const{value:Te}=y;ge.join()!==Te.join()&&ie(ge)}}else Array.isArray(ge)||y.value[0]!==ge&&ie(ge)}function xe(ge,pe){if(t.range){const Te=y.value.slice();Te.splice(pe,1,ge),he(Te)}else he(ge)}function Q(ge,pe,Te){const Xe=Te!==void 0;Te||(Te=ge-pe>0?1:-1);const Oe=w.value||[],{step:ft}=t;if(ft==="mark"){const Dt=Se(ge,Oe.concat(pe),Xe?Te:void 0);return Dt?Dt.value:pe}if(ft<=0)return pe;const{value:Lt}=f;let Kt;if(Xe){const Dt=Number((pe/ft).toFixed(Lt)),Ge=Math.floor(Dt),en=Dt>Ge?Ge:Ge-1,wt=Dt<Ge?Ge:Ge+1;Kt=Se(pe,[Number((en*ft).toFixed(Lt)),Number((wt*ft).toFixed(Lt)),...Oe],Te)}else{const Dt=ve(ge);Kt=Se(ge,[...Oe,Dt])}return Kt?X(Kt.value):pe}function X(ge){return Math.min(t.max,Math.max(t.min,ge))}function K(ge){const{max:pe,min:Te}=t;return(ge-Te)/(pe-Te)*100}function ne(ge){const{max:pe,min:Te}=t;return Te+(pe-Te)*ge}function ve(ge){const{step:pe,min:Te}=t;if(Number(pe)<=0||pe==="mark")return ge;const Xe=Math.round((ge-Te)/pe)*pe+Te;return Number(Xe.toFixed(f.value))}function Se(ge,pe=w.value,Te){if(!(pe!=null&&pe.length))return null;let Xe=null,Oe=-1;for(;++Oe<pe.length;){const ft=pe[Oe]-ge,Lt=Math.abs(ft);(Te===void 0||ft*Te>0)&&(Xe===null||Lt<Xe.distance)&&(Xe={index:Oe,distance:Lt,value:pe[Oe]})}return Xe}function ye(ge){const pe=o.value;if(!pe)return;const Te=cR(ge)?ge.touches[0]:ge,Xe=pe.getBoundingClientRect();let Oe;return t.vertical?Oe=(Xe.bottom-Te.clientY)/Xe.height:Oe=(Te.clientX-Xe.left)/Xe.width,t.reverse&&(Oe=1-Oe),ne(Oe)}function Be(ge){if(h.value||!t.keyboard)return;const{vertical:pe,reverse:Te}=t;switch(ge.key){case"ArrowUp":ge.preventDefault(),J(pe&&Te?-1:1);break;case"ArrowRight":ge.preventDefault(),J(!pe&&Te?-1:1);break;case"ArrowDown":ge.preventDefault(),J(pe&&Te?1:-1);break;case"ArrowLeft":ge.preventDefault(),J(!pe&&Te?1:-1);break}}function J(ge){const pe=C.value;if(pe===-1)return;const{step:Te}=t,Xe=y.value[pe],Oe=Number(Te)<=0||Te==="mark"?Xe:Xe+Te*ge;xe(Q(Oe,Xe,ge>0?1:-1),pe)}function Ue(ge){var pe,Te;if(h.value||!cR(ge)&&ge.button!==mge)return;const Xe=ye(ge);if(Xe===void 0)return;const Oe=y.value.slice(),ft=t.range?(Te=(pe=Se(Xe,Oe))===null||pe===void 0?void 0:pe.index)!==null&&Te!==void 0?Te:-1:0;ft!==-1&&(ge.preventDefault(),G(ft),Qe(),xe(Q(Xe,y.value[ft]),ft))}function Qe(){T.value||(T.value=!0,t.onDragstart&&Fe(t.onDragstart),wn("touchend",document,ke),wn("mouseup",document,ke),wn("touchmove",document,fe),wn("mousemove",document,fe))}function ae(){T.value&&(T.value=!1,t.onDragend&&Fe(t.onDragend),xn("touchend",document,ke),xn("mouseup",document,ke),xn("touchmove",document,fe),xn("mousemove",document,fe))}function fe(ge){const{value:pe}=C;if(!T.value||pe===-1){ae();return}const Te=ye(ge);Te!==void 0&&xe(Q(Te,y.value[pe]),pe)}function ke(){ae()}function Ke(ge){C.value=ge,h.value||(A.value=ge)}function Ne(ge){C.value===ge&&(C.value=-1,ae()),A.value===ge&&(A.value=-1)}function Ae(ge){A.value=ge}function se(ge){A.value===ge&&(A.value=-1)}qt(C,(ge,pe)=>void vn(()=>S.value=pe)),qt(m,()=>{if(t.marks){if(k.value)return;k.value=!0,vn(()=>{k.value=!1})}vn(Z)}),ir(()=>{ae()});const be=L(()=>{const{self:{markFontSize:ge,railColor:pe,railColorHover:Te,fillColor:Xe,fillColorHover:Oe,handleColor:ft,opacityDisabled:Lt,dotColor:Kt,dotColorModal:Dt,handleBoxShadow:Ge,handleBoxShadowHover:en,handleBoxShadowActive:wt,handleBoxShadowFocus:_t,dotBorder:ce,dotBoxShadow:ue,railHeight:je,railWidthVertical:st,handleSize:lt,dotHeight:_e,dotWidth:tt,dotBorderRadius:Re,fontSize:Je,dotBorderActive:St,dotColorPopover:Rt},common:{cubicBezierEaseInOut:ze}}=i.value;return{"--n-bezier":ze,"--n-dot-border":ce,"--n-dot-border-active":St,"--n-dot-border-radius":Re,"--n-dot-box-shadow":ue,"--n-dot-color":Kt,"--n-dot-color-modal":Dt,"--n-dot-color-popover":Rt,"--n-dot-height":_e,"--n-dot-width":tt,"--n-fill-color":Xe,"--n-fill-color-hover":Oe,"--n-font-size":Je,"--n-handle-box-shadow":Ge,"--n-handle-box-shadow-active":wt,"--n-handle-box-shadow-focus":_t,"--n-handle-box-shadow-hover":en,"--n-handle-color":ft,"--n-handle-size":lt,"--n-opacity-disabled":Lt,"--n-rail-color":pe,"--n-rail-color-hover":Te,"--n-rail-height":je,"--n-rail-width-vertical":st,"--n-mark-font-size":ge}}),re=r?Ot("slider",void 0,be,t):void 0,me=L(()=>{const{self:{fontSize:ge,indicatorColor:pe,indicatorBoxShadow:Te,indicatorTextColor:Xe,indicatorBorderRadius:Oe}}=i.value;return{"--n-font-size":ge,"--n-indicator-border-radius":Oe,"--n-indicator-box-shadow":Te,"--n-indicator-color":pe,"--n-indicator-text-color":Xe}}),De=r?Ot("slider-indicator",void 0,me,t):void 0;return{mergedClsPrefix:e,namespace:n,uncontrolledValue:p,mergedValue:m,mergedDisabled:h,mergedPlacement:x,isMounted:co(),adjustedTo:vr(t),dotTransitionDisabled:k,markInfos:_,isShowTooltip:N,shouldKeepTooltipTransition:W,handleRailRef:o,setHandleRefs:s,setFollowerRefs:c,fillStyle:P,getHandleStyle:F,activeIndex:C,arrifiedValues:y,followerEnabledIndexSet:u,handleRailMouseDown:Ue,handleHandleFocus:Ke,handleHandleBlur:Ne,handleHandleMouseEnter:Ae,handleHandleMouseLeave:se,handleRailKeyDown:Be,indicatorCssVars:r?void 0:me,indicatorThemeClass:De==null?void 0:De.themeClass,indicatorOnRender:De==null?void 0:De.onRender,cssVars:r?void 0:be,themeClass:re==null?void 0:re.themeClass,onRender:re==null?void 0:re.onRender}},render(){var t;const{mergedClsPrefix:e,themeClass:n,formatTooltip:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-slider`,n,{[`${e}-slider--disabled`]:this.mergedDisabled,[`${e}-slider--active`]:this.activeIndex!==-1,[`${e}-slider--with-mark`]:this.marks,[`${e}-slider--vertical`]:this.vertical,[`${e}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},v("div",{class:`${e}-slider-rail`},v("div",{class:`${e}-slider-rail__fill`,style:this.fillStyle}),this.marks?v("div",{class:[`${e}-slider-dots`,this.dotTransitionDisabled&&`${e}-slider-dots--transition-disabled`]},this.markInfos.map(i=>v("div",{key:i.key,class:[`${e}-slider-dot`,{[`${e}-slider-dot--active`]:i.active}],style:i.style}))):null,v("div",{ref:"handleRailRef",class:`${e}-slider-handles`},this.arrifiedValues.map((i,o)=>{const a=this.isShowTooltip(o);return v(us,null,{default:()=>[v(ds,null,{default:()=>v("div",{ref:this.setHandleRefs(o),class:`${e}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":i,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(i,o),onFocus:()=>{this.handleHandleFocus(o)},onBlur:()=>{this.handleHandleBlur(o)},onMouseenter:()=>{this.handleHandleMouseEnter(o)},onMouseleave:()=>{this.handleHandleMouseLeave(o)}},sn(this.$slots.thumb,()=>[v("div",{class:`${e}-slider-handle`})]))}),this.tooltip&&v(Na,{ref:this.setFollowerRefs(o),show:a,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(o),teleportDisabled:this.adjustedTo===vr.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(o),onEnter:()=>{this.followerEnabledIndexSet.add(o)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(o)}},{default:()=>{var s;return a?((s=this.indicatorOnRender)===null||s===void 0||s.call(this),v("div",{class:[`${e}-slider-handle-indicator`,this.indicatorThemeClass,`${e}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},typeof r=="function"?r(i):i)):null}})})]})})),this.marks?v("div",{class:`${e}-slider-marks`},this.markInfos.map(i=>v("div",{key:i.key,class:`${e}-slider-mark`,style:i.style},typeof i.label=="function"?i.label():i.label))):null))}}),vge=B([B("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),R("spin-container",`
 position: relative;
 `,[R("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[vc()])]),R("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),R("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[U("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),R("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),R("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[U("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),yge={small:20,medium:18,large:16},E$=Object.assign(Object.assign({},Ve.props),{contentClass:String,contentStyle:[Object,String],description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0},delay:Number}),bge=le({name:"Spin",props:E$,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Spin","-spin",vge,Rfe,t,e),i=L(()=>{const{size:l}=t,{common:{cubicBezierEaseInOut:c},self:u}=r.value,{opacitySpinning:d,color:h,textColor:f}=u,p=typeof l=="number"?br(l):u[We("size",l)];return{"--n-bezier":c,"--n-opacity-spinning":d,"--n-size":p,"--n-color":h,"--n-text-color":f}}),o=n?Ot("spin",L(()=>{const{size:l}=t;return typeof l=="number"?String(l):l[0]}),i,t):void 0,a=Lu(t,["spinning","show"]),s=V(!1);return er(l=>{let c;if(a.value){const{delay:u}=t;if(u){c=window.setTimeout(()=>{s.value=!0},u),l(()=>{clearTimeout(c)});return}}s.value=a.value}),{mergedClsPrefix:e,active:s,mergedStrokeWidth:L(()=>{const{strokeWidth:l}=t;if(l!==void 0)return l;const{size:c}=t;return yge[typeof c=="number"?"medium":c]}),cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t,e;const{$slots:n,mergedClsPrefix:r,description:i}=this,o=n.icon&&this.rotate,a=(i||n.description)&&v("div",{class:`${r}-spin-description`},i||((t=n.description)===null||t===void 0?void 0:t.call(n))),s=n.icon?v("div",{class:[`${r}-spin-body`,this.themeClass]},v("div",{class:[`${r}-spin`,o&&`${r}-spin--rotate`],style:n.default?"":this.cssVars},n.icon()),a):v("div",{class:[`${r}-spin-body`,this.themeClass]},v($s,{clsPrefix:r,style:n.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${r}-spin`}),a);return(e=this.onRender)===null||e===void 0||e.call(this),n.default?v("div",{class:[`${r}-spin-container`,this.themeClass],style:this.cssVars},v("div",{class:[`${r}-spin-content`,this.active&&`${r}-spin-content--spinning`,this.contentClass],style:this.contentStyle},n),v(hr,{name:"fade-in-transition"},{default:()=>this.active?s:null})):s}});function xge(t){const{primaryColorHover:e,borderColor:n}=t;return{resizableTriggerColorHover:e,resizableTriggerColor:n}}const wge={common:Bt,self:xge},Cge=R("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[U("horizontal",`
 flex-direction: row;
 `),U("vertical",`
 flex-direction: column;
 `),R("split-pane-1",`
 overflow: hidden;
 `),R("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),H("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[U("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),B("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),T$=Object.assign(Object.assign({},Ve.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),Age=le({name:"Split",props:T$,slots:Object,setup(t){var e;const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),i=Ve("Split","-split",Cge,wge,t,n),o=L(()=>{const{common:{cubicBezierEaseInOut:x},self:{resizableTriggerColor:w,resizableTriggerColorHover:C}}=i.value;return{"--n-bezier":x,"--n-resize-trigger-color":w,"--n-resize-trigger-color-hover":C}}),a=V(null),s=V(!1),l=$e(t,"size"),c=V(t.defaultSize);!((e=t.watchProps)===null||e===void 0)&&e.includes("defaultSize")&&er(()=>c.value=t.defaultSize);const u=x=>{const w=t["onUpdate:size"];t.onUpdateSize&&Fe(t.onUpdateSize,x),w&&Fe(w,x),c.value=x},d=Cn(l,c),h=L(()=>{const x=d.value;if(typeof x=="string")return{flex:`0 0 ${x}`};if(typeof x=="number"){const w=x*100;return{flex:`0 0 calc(${w}% - ${t.resizeTriggerSize*w/100}px)`}}}),f=L(()=>t.direction==="horizontal"?{width:`${t.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${t.resizeTriggerSize}px`}),p=L(()=>{const x=t.direction==="horizontal";return{width:x?`${t.resizeTriggerSize}px`:"",height:x?"":`${t.resizeTriggerSize}px`,cursor:t.direction==="horizontal"?"col-resize":"row-resize"}});let g=0;const m=x=>{x.preventDefault(),s.value=!0,t.onDragStart&&t.onDragStart(x);const w="mousemove",C="mouseup",S=k=>{y(k),t.onDragMove&&t.onDragMove(k)},A=()=>{xn(w,document,S),xn(C,document,A),s.value=!1,t.onDragEnd&&t.onDragEnd(x),document.body.style.cursor=""};document.body.style.cursor=p.value.cursor,wn(w,document,S),wn(C,document,A);const T=a.value;if(T){const k=T.getBoundingClientRect();t.direction==="horizontal"?g=x.clientX-k.left:g=k.top-x.clientY}y(x)};function y(x){var w,C;const S=(C=(w=a.value)===null||w===void 0?void 0:w.parentElement)===null||C===void 0?void 0:C.getBoundingClientRect();if(!S)return;const{direction:A}=t,T=S.width-t.resizeTriggerSize,k=S.height-t.resizeTriggerSize,E=A==="horizontal"?T:k,P=A==="horizontal"?x.clientX-S.left-g:x.clientY-S.top+g,{min:_,max:F}=t,N=typeof _=="string"?pr(_):_*E,W=typeof F=="string"?pr(F):F*E;let G=P;G=Math.max(G,N),G=Math.min(G,W,E),typeof d.value=="string"?u(`${G}px`):u(G/E)}const b=r?Ot("split",void 0,o,t):void 0;return{themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender,cssVars:r?void 0:o,resizeTriggerElRef:a,isDragging:s,mergedClsPrefix:n,resizeTriggerWrapperStyle:p,resizeTriggerStyle:f,handleMouseDown:m,firstPaneStyle:h}},render(){var t,e,n,r,i;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},v("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(e=this.$slots)[1])===null||n===void 0?void 0:n.call(e)),!this.disabled&&v("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},sn(this.$slots["resize-trigger"],()=>[v("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),v("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(i=(r=this.$slots)[2])===null||i===void 0?void 0:i.call(r)))}}),Sge=R("statistic",[H("label",`
 font-weight: var(--n-label-font-weight);
 transition: .3s color var(--n-bezier);
 font-size: var(--n-label-font-size);
 color: var(--n-label-text-color);
 `),R("statistic-value",`
 margin-top: 4px;
 font-weight: var(--n-value-font-weight);
 `,[H("prefix",`
 margin: 0 4px 0 0;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-prefix-text-color);
 `,[R("icon",{verticalAlign:"-0.125em"})]),H("content",`
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-text-color);
 `),H("suffix",`
 margin: 0 0 0 4px;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-suffix-text-color);
 `,[R("icon",{verticalAlign:"-0.125em"})])])]),R$=Object.assign(Object.assign({},Ve.props),{tabularNums:Boolean,label:String,value:[String,Number]}),kge=le({name:"Statistic",props:R$,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=Ve("Statistic","-statistic",Sge,Pfe,t,e),o=or("Statistic",r,e),a=L(()=>{const{self:{labelFontWeight:l,valueFontSize:c,valueFontWeight:u,valuePrefixTextColor:d,labelTextColor:h,valueSuffixTextColor:f,valueTextColor:p,labelFontSize:g},common:{cubicBezierEaseInOut:m}}=i.value;return{"--n-bezier":m,"--n-label-font-size":g,"--n-label-font-weight":l,"--n-label-text-color":h,"--n-value-font-weight":u,"--n-value-font-size":c,"--n-value-prefix-text-color":d,"--n-value-suffix-text-color":f,"--n-value-text-color":p}}),s=n?Ot("statistic",void 0,a,t):void 0;return{rtlEnabled:o,mergedClsPrefix:e,cssVars:n?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{mergedClsPrefix:e,$slots:{default:n,label:r,prefix:i,suffix:o}}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("div",{class:[`${e}-statistic`,this.themeClass,this.rtlEnabled&&`${e}-statistic--rtl`],style:this.cssVars},bn(r,a=>v("div",{class:`${e}-statistic__label`},this.label||a)),v("div",{class:`${e}-statistic-value`,style:{fontVariantNumeric:this.tabularNums?"tabular-nums":""}},bn(i,a=>a&&v("span",{class:`${e}-statistic-value__prefix`},a)),this.value!==void 0?v("span",{class:`${e}-statistic-value__content`},this.value):bn(n,a=>a&&v("span",{class:`${e}-statistic-value__content`},a)),bn(o,a=>a&&v("span",{class:`${e}-statistic-value__suffix`},a))))}}),Ege=R("steps",`
 width: 100%;
 display: flex;
`,[R("step",`
 position: relative;
 display: flex;
 flex: 1;
 `,[U("disabled","cursor: not-allowed"),U("clickable",`
 cursor: pointer;
 `),B("&:last-child",[R("step-splitor","display: none;")])]),R("step-splitor",`
 background-color: var(--n-splitor-color);
 margin-top: calc(var(--n-step-header-font-size) / 2);
 height: 1px;
 flex: 1;
 align-self: flex-start;
 margin-left: 12px;
 margin-right: 12px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),R("step-content","flex: 1;",[R("step-content-header",`
 color: var(--n-header-text-color);
 margin-top: calc(var(--n-indicator-size) / 2 - var(--n-step-header-font-size) / 2);
 line-height: var(--n-step-header-font-size);
 font-size: var(--n-step-header-font-size);
 position: relative;
 display: flex;
 font-weight: var(--n-step-header-font-weight);
 margin-left: 9px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[H("title",`
 white-space: nowrap;
 flex: 0;
 `)]),H("description",`
 color: var(--n-description-text-color);
 margin-top: 12px;
 margin-left: 9px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),R("step-indicator",`
 background-color: var(--n-indicator-color);
 box-shadow: 0 0 0 1px var(--n-indicator-border-color);
 height: var(--n-indicator-size);
 width: var(--n-indicator-size);
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[R("step-indicator-slot",`
 position: relative;
 width: var(--n-indicator-icon-size);
 height: var(--n-indicator-icon-size);
 font-size: var(--n-indicator-icon-size);
 line-height: var(--n-indicator-icon-size);
 `,[H("index",`
 display: inline-block;
 text-align: center;
 position: absolute;
 left: 0;
 top: 0;
 white-space: nowrap;
 font-size: var(--n-indicator-index-font-size);
 width: var(--n-indicator-icon-size);
 height: var(--n-indicator-icon-size);
 line-height: var(--n-indicator-icon-size);
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[mo()]),R("icon",`
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[mo()]),R("base-icon",`
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[mo()])])]),U("vertical","flex-direction: column;",[an("show-description",[B(">",[R("step","padding-bottom: 8px;")])]),B(">",[R("step","margin-bottom: 16px;",[B("&:last-child","margin-bottom: 0;"),B(">",[R("step-indicator",[B(">",[R("step-splitor",`
 position: absolute;
 bottom: -8px;
 width: 1px;
 margin: 0 !important;
 left: calc(var(--n-indicator-size) / 2);
 height: calc(100% - var(--n-indicator-size));
 `)])]),R("step-content",[H("description","margin-top: 8px;")])])])])]),U("content-bottom",[an("vertical",[B(">",[R("step","flex-direction: column",[B(">",[R("step-line","display: flex;",[B(">",[R("step-splitor",`
 margin-top: 0;
 align-self: center;
 `)])])]),B(">",[R("step-content","margin-top: calc(var(--n-indicator-size) / 2 - var(--n-step-header-font-size) / 2);",[R("step-content-header",`
 margin-left: 0;
 `),R("step-content__description",`
 margin-left: 0;
 `)])])])])])])]);function Tge(t,e){return typeof t!="object"||t===null||Array.isArray(t)?null:(t.props||(t.props={}),t.props.internalIndex=e+1,t)}function Rge(t){return t.map((e,n)=>Tge(e,n))}const _$=Object.assign(Object.assign({},Ve.props),{current:Number,status:{type:String,default:"process"},size:{type:String,default:"medium"},vertical:Boolean,contentPlacement:{type:String,default:"right"},"onUpdate:current":[Function,Array],onUpdateCurrent:[Function,Array]}),P$="n-steps",_ge=le({name:"Steps",props:_$,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,mergedRtlRef:r}=gt(t),i=or("Steps",r,n),o=Ve("Steps","-steps",Ege,Mfe,t,n);return zt(P$,{props:t,mergedThemeRef:o,mergedClsPrefixRef:n,stepsSlots:e}),{mergedClsPrefix:n,rtlEnabled:i}},render(){const{mergedClsPrefix:t}=this;return v("div",{class:[`${t}-steps`,this.rtlEnabled&&`${t}-steps--rtl`,this.vertical&&`${t}-steps--vertical`,this.contentPlacement==="bottom"&&`${t}-steps--content-bottom`]},Rge(pa(up(this))))}}),I$={status:String,title:String,description:String,disabled:Boolean,internalIndex:{type:Number,default:0}},Pge=le({name:"Step",props:I$,slots:Object,setup(t){const e=ut(P$,null);e||Ii("step","`n-step` must be placed inside `n-steps`.");const{inlineThemeDisabled:n}=gt(),{props:r,mergedThemeRef:i,mergedClsPrefixRef:o,stepsSlots:a}=e,s=$e(r,"vertical"),l=$e(r,"contentPlacement"),c=L(()=>{const{status:f}=t;if(f)return f;{const{internalIndex:p}=t,{current:g}=r;if(g===void 0)return"process";if(p<g)return"finish";if(p===g)return r.status||"process";if(p>g)return"wait"}return"process"}),u=L(()=>{const{value:f}=c,{size:p}=r,{common:{cubicBezierEaseInOut:g},self:{stepHeaderFontWeight:m,[We("stepHeaderFontSize",p)]:y,[We("indicatorIndexFontSize",p)]:b,[We("indicatorSize",p)]:x,[We("indicatorIconSize",p)]:w,[We("indicatorTextColor",f)]:C,[We("indicatorBorderColor",f)]:S,[We("headerTextColor",f)]:A,[We("splitorColor",f)]:T,[We("indicatorColor",f)]:k,[We("descriptionTextColor",f)]:E}}=i.value;return{"--n-bezier":g,"--n-description-text-color":E,"--n-header-text-color":A,"--n-indicator-border-color":S,"--n-indicator-color":k,"--n-indicator-icon-size":w,"--n-indicator-index-font-size":b,"--n-indicator-size":x,"--n-indicator-text-color":C,"--n-splitor-color":T,"--n-step-header-font-size":y,"--n-step-header-font-weight":m}}),d=n?Ot("step",L(()=>{const{value:f}=c,{size:p}=r;return`${f[0]}${p[0]}`}),u,r):void 0,h=L(()=>{if(t.disabled)return;const{onUpdateCurrent:f,"onUpdate:current":p}=r;return f||p?()=>{f&&Fe(f,t.internalIndex),p&&Fe(p,t.internalIndex)}:void 0});return{stepsSlots:a,mergedClsPrefix:o,vertical:s,mergedStatus:c,handleStepClick:h,cssVars:n?void 0:u,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender,contentPlacement:l}},render(){const{mergedClsPrefix:t,onRender:e,handleStepClick:n,disabled:r,contentPlacement:i,vertical:o}=this,a=bn(this.$slots.default,d=>{const h=d||this.description;return h?v("div",{class:`${t}-step-content__description`},h):null}),s=v("div",{class:`${t}-step-splitor`}),l=v("div",{class:`${t}-step-indicator`,key:i},v("div",{class:`${t}-step-indicator-slot`},v(Ll,null,{default:()=>bn(this.$slots.icon,d=>{const{mergedStatus:h,stepsSlots:f}=this;return h==="finish"||h==="error"?h==="finish"?v(Jt,{clsPrefix:t,key:"finish"},{default:()=>sn(f["finish-icon"],()=>[v(r4,null)])}):h==="error"?v(Jt,{clsPrefix:t,key:"error"},{default:()=>sn(f["error-icon"],()=>[v(o4,null)])}):null:d||v("div",{key:this.internalIndex,class:`${t}-step-indicator-slot__index`},this.internalIndex)})})),o?s:null),c=v("div",{class:`${t}-step-content`},v("div",{class:`${t}-step-content-header`},v("div",{class:`${t}-step-content-header__title`},sn(this.$slots.title,()=>[this.title])),!o&&i==="right"?s:null),a);let u;return!o&&i==="bottom"?u=v(qn,null,v("div",{class:`${t}-step-line`},l,s),c):u=v(qn,null,l,c),e==null||e(),v("div",{class:[`${t}-step`,r&&`${t}-step--disabled`,!r&&n&&`${t}-step--clickable`,this.themeClass,a&&`${t}-step--show-description`,`${t}-step--${this.mergedStatus}-status`],style:this.cssVars,onClick:n},u)}}),Ige=R("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[H("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),H("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),H("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),R("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[mo({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),H("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),H("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),H("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),B("&:focus",[H("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),U("round",[H("rail","border-radius: calc(var(--n-rail-height) / 2);",[H("button","border-radius: calc(var(--n-button-height) / 2);")])]),an("disabled",[an("icon",[U("rubber-band",[U("pressed",[H("rail",[H("button","max-width: var(--n-button-width-pressed);")])]),H("rail",[B("&:active",[H("button","max-width: var(--n-button-width-pressed);")])]),U("active",[U("pressed",[H("rail",[H("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),H("rail",[B("&:active",[H("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),U("active",[H("rail",[H("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),H("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[H("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[mo()]),H("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),U("active",[H("rail","background-color: var(--n-rail-color-active);")]),U("loading",[H("rail",`
 cursor: wait;
 `)]),U("disabled",[H("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),L$=Object.assign(Object.assign({},Ve.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let r0;const Lge=le({name:"Switch",props:L$,slots:Object,setup(t){r0===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?r0=CSS.supports("width","max(1px)"):r0=!1:r0=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Switch","-switch",Ige,Ffe,t,e),i=di(t),{mergedSizeRef:o,mergedDisabledRef:a}=i,s=V(t.defaultValue),c=Cn($e(t,"value"),s),u=L(()=>c.value===t.checkedValue),d=V(!1),h=V(!1),f=L(()=>{const{railStyle:T}=t;if(T)return T({focused:h.value,checked:u.value})});function p(T){const{"onUpdate:value":k,onChange:E,onUpdateValue:P}=t,{nTriggerFormInput:_,nTriggerFormChange:F}=i;k&&Fe(k,T),P&&Fe(P,T),E&&Fe(E,T),s.value=T,_(),F()}function g(){const{nTriggerFormFocus:T}=i;T()}function m(){const{nTriggerFormBlur:T}=i;T()}function y(){t.loading||a.value||(c.value!==t.checkedValue?p(t.checkedValue):p(t.uncheckedValue))}function b(){h.value=!0,g()}function x(){h.value=!1,m(),d.value=!1}function w(T){t.loading||a.value||T.key===" "&&(c.value!==t.checkedValue?p(t.checkedValue):p(t.uncheckedValue),d.value=!1)}function C(T){t.loading||a.value||T.key===" "&&(T.preventDefault(),d.value=!0)}const S=L(()=>{const{value:T}=o,{self:{opacityDisabled:k,railColor:E,railColorActive:P,buttonBoxShadow:_,buttonColor:F,boxShadowFocus:N,loadingColor:W,textColor:G,iconColor:Z,[We("buttonHeight",T)]:ie,[We("buttonWidth",T)]:he,[We("buttonWidthPressed",T)]:xe,[We("railHeight",T)]:Q,[We("railWidth",T)]:X,[We("railBorderRadius",T)]:K,[We("buttonBorderRadius",T)]:ne},common:{cubicBezierEaseInOut:ve}}=r.value;let Se,ye,Be;return r0?(Se=`calc((${Q} - ${ie}) / 2)`,ye=`max(${Q}, ${ie})`,Be=`max(${X}, calc(${X} + ${ie} - ${Q}))`):(Se=br((pr(Q)-pr(ie))/2),ye=br(Math.max(pr(Q),pr(ie))),Be=pr(Q)>pr(ie)?X:br(pr(X)+pr(ie)-pr(Q))),{"--n-bezier":ve,"--n-button-border-radius":ne,"--n-button-box-shadow":_,"--n-button-color":F,"--n-button-width":he,"--n-button-width-pressed":xe,"--n-button-height":ie,"--n-height":ye,"--n-offset":Se,"--n-opacity-disabled":k,"--n-rail-border-radius":K,"--n-rail-color":E,"--n-rail-color-active":P,"--n-rail-height":Q,"--n-rail-width":X,"--n-width":Be,"--n-box-shadow-focus":N,"--n-loading-color":W,"--n-text-color":G,"--n-icon-color":Z}}),A=n?Ot("switch",L(()=>o.value[0]),S,t):void 0;return{handleClick:y,handleBlur:x,handleFocus:b,handleKeyup:w,handleKeydown:C,mergedRailStyle:f,pressed:d,mergedClsPrefix:e,mergedValue:c,checked:u,mergedDisabled:a,cssVars:n?void 0:S,themeClass:A==null?void 0:A.themeClass,onRender:A==null?void 0:A.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:n,mergedRailStyle:r,onRender:i,$slots:o}=this;i==null||i();const{checked:a,unchecked:s,icon:l,"checked-icon":c,"unchecked-icon":u}=o,d=!(Yd(l)&&Yd(c)&&Yd(u));return v("div",{role:"switch","aria-checked":n,class:[`${t}-switch`,this.themeClass,d&&`${t}-switch--icon`,n&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},v("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:r},bn(a,h=>bn(s,f=>h||f?v("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},v("div",{class:`${t}-switch__rail-placeholder`},v("div",{class:`${t}-switch__button-placeholder`}),h),v("div",{class:`${t}-switch__rail-placeholder`},v("div",{class:`${t}-switch__button-placeholder`}),f)):null)),v("div",{class:`${t}-switch__button`},bn(l,h=>bn(c,f=>bn(u,p=>v(Ll,null,{default:()=>this.loading?v($s,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(f||h)?v("div",{class:`${t}-switch__button-icon`,key:f?"checked-icon":"icon"},f||h):!this.checked&&(p||h)?v("div",{class:`${t}-switch__button-icon`,key:p?"unchecked-icon":"icon"},p||h):null})))),bn(a,h=>h&&v("div",{key:"checked",class:`${t}-switch__checked`},h)),bn(s,h=>h&&v("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),Mge=B([R("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[B("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[B("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),B("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[B("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),U("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[B("tr",[B("&:last-child",[B("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),U("single-line",[B("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),B("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),U("single-column",[B("tr",[B("&:not(:last-child)",[B("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),U("striped",[B("tr:nth-of-type(even)",[B("td","background-color: var(--n-td-color-striped)")])]),an("bottom-bordered",[B("tr",[B("&:last-child",[B("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),_l(R("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[B("th",`
 background-color: var(--n-th-color-modal);
 `),B("td",`
 background-color: var(--n-td-color-modal);
 `)])),Tc(R("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[B("th",`
 background-color: var(--n-th-color-popover);
 `),B("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),M$=Object.assign(Object.assign({},Ve.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),Oge=le({name:"Table",props:M$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=Ve("Table","-table",Mge,Nfe,t,e),o=or("Table",r,e),a=L(()=>{const{size:l}=t,{self:{borderColor:c,tdColor:u,tdColorModal:d,tdColorPopover:h,thColor:f,thColorModal:p,thColorPopover:g,thTextColor:m,tdTextColor:y,borderRadius:b,thFontWeight:x,lineHeight:w,borderColorModal:C,borderColorPopover:S,tdColorStriped:A,tdColorStripedModal:T,tdColorStripedPopover:k,[We("fontSize",l)]:E,[We("tdPadding",l)]:P,[We("thPadding",l)]:_},common:{cubicBezierEaseInOut:F}}=i.value;return{"--n-bezier":F,"--n-td-color":u,"--n-td-color-modal":d,"--n-td-color-popover":h,"--n-td-text-color":y,"--n-border-color":c,"--n-border-color-modal":C,"--n-border-color-popover":S,"--n-border-radius":b,"--n-font-size":E,"--n-th-color":f,"--n-th-color-modal":p,"--n-th-color-popover":g,"--n-th-font-weight":x,"--n-th-text-color":m,"--n-line-height":w,"--n-td-padding":P,"--n-th-padding":_,"--n-td-color-striped":A,"--n-td-color-striped-modal":T,"--n-td-color-striped-popover":k}}),s=n?Ot("table",L(()=>t.size[0]),a,t):void 0;return{rtlEnabled:o,mergedClsPrefix:e,cssVars:n?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("table",{class:[`${e}-table`,this.themeClass,{[`${e}-table--rtl`]:this.rtlEnabled,[`${e}-table--bottom-bordered`]:this.bottomBordered,[`${e}-table--bordered`]:this.bordered,[`${e}-table--single-line`]:this.singleLine,[`${e}-table--single-column`]:this.singleColumn,[`${e}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}}),Dge=le({name:"Tbody",render(){return v("tbody",null,this.$slots)}}),Fge=le({name:"Td",render(){return v("td",null,this.$slots)}}),$ge=le({name:"Th",render(){return v("th",null,this.$slots)}}),Bge=le({name:"Thead",render(){return v("thead",null,this.$slots)}}),Nge=le({name:"Tr",render(){return v("tr",null,this.$slots)}}),G4="n-tabs",Y4={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},zge=le({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Y4,slots:Object,setup(t){const e=ut(G4,null);return e||Ii("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:e.paneStyleRef,class:e.paneClassRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){return v("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),O$=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Xu(Y4,["displayDirective"])),Gb=le({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:O$,setup(t){const{mergedClsPrefixRef:e,valueRef:n,typeRef:r,closableRef:i,tabStyleRef:o,addTabStyleRef:a,tabClassRef:s,addTabClassRef:l,tabChangeIdRef:c,onBeforeLeaveRef:u,triggerRef:d,handleAdd:h,activateTab:f,handleClose:p}=ut(G4);return{trigger:d,mergedClosable:L(()=>{if(t.internalAddable)return!1;const{closable:g}=t;return g===void 0?i.value:g}),style:o,addStyle:a,tabClass:s,addTabClass:l,clsPrefix:e,value:n,type:r,handleClose(g){g.stopPropagation(),!t.disabled&&p(t.name)},activateTab(){if(t.disabled)return;if(t.internalAddable){h();return}const{name:g}=t,m=++c.id;if(g!==n.value){const{value:y}=u;y?Promise.resolve(y(t.name,n.value)).then(b=>{b&&c.id===m&&f(g)}):f(g)}}}},render(){const{internalAddable:t,clsPrefix:e,name:n,disabled:r,label:i,tab:o,value:a,mergedClosable:s,trigger:l,$slots:{default:c}}=this,u=i??o;return v("div",{class:`${e}-tabs-tab-wrapper`},this.internalLeftPadded?v("div",{class:`${e}-tabs-tab-pad`}):null,v("div",Object.assign({key:n,"data-name":n,"data-disabled":r?!0:void 0},Xi({class:[`${e}-tabs-tab`,a===n&&`${e}-tabs-tab--active`,r&&`${e}-tabs-tab--disabled`,s&&`${e}-tabs-tab--closable`,t&&`${e}-tabs-tab--addable`,t?this.addTabClass:this.tabClass],onClick:l==="click"?this.activateTab:void 0,onMouseenter:l==="hover"?this.activateTab:void 0,style:t?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),v("span",{class:`${e}-tabs-tab__label`},t?v(qn,null,v("div",{class:`${e}-tabs-tab__height-placeholder`},""),v(Jt,{clsPrefix:e},{default:()=>v(Yf,null)})):c?c():typeof u=="object"?u:Sr(u??n)),s&&this.type==="card"?v(Ic,{clsPrefix:e,class:`${e}-tabs-tab__close`,onClick:this.handleClose,disabled:r}):null))}}),Hge=R("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[U("segment-type",[R("tabs-rail",[B("&.transition-disabled",[R("tabs-capsule",`
 transition: none;
 `)])])]),U("top",[R("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),U("left",[R("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),U("left, right",`
 flex-direction: row;
 `,[R("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),R("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),U("right",`
 flex-direction: row-reverse;
 `,[R("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),R("tabs-bar",`
 left: 0;
 `)]),U("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[R("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),R("tabs-bar",`
 top: 0;
 `)]),R("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[R("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),R("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[R("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[U("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),B("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),U("flex",[R("tabs-nav",`
 width: 100%;
 position: relative;
 `,[R("tabs-wrapper",`
 width: 100%;
 `,[R("tabs-tab",`
 margin-right: 0;
 `)])])]),R("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[H("prefix, suffix",`
 display: flex;
 align-items: center;
 `),H("prefix","padding-right: 16px;"),H("suffix","padding-left: 16px;")]),U("top, bottom",[B(">",[R("tabs-nav",[R("tabs-nav-scroll-wrapper",[B("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),B("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),U("shadow-start",[B("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),U("shadow-end",[B("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])])])]),U("left, right",[R("tabs-nav-scroll-content",`
 flex-direction: column;
 `),B(">",[R("tabs-nav",[R("tabs-nav-scroll-wrapper",[B("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),B("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),U("shadow-start",[B("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),U("shadow-end",[B("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])])])]),R("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[R("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[B("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `)]),B("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),R("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),R("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),R("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),R("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[U("disabled",{cursor:"not-allowed"}),H("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),H("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),R("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[B("&.transition-disabled",`
 transition: none;
 `),U("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),R("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),R("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[B("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),B("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),B("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),B("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),B("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),R("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),U("line-type, bar-type",[R("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[B("&:hover",{color:"var(--n-tab-text-color-hover)"}),U("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),U("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),R("tabs-nav",[U("line-type",[U("top",[H("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),R("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),R("tabs-bar",`
 bottom: -1px;
 `)]),U("left",[H("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),R("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),R("tabs-bar",`
 right: -1px;
 `)]),U("right",[H("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),R("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),R("tabs-bar",`
 left: -1px;
 `)]),U("bottom",[H("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),R("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),R("tabs-bar",`
 top: -1px;
 `)]),H("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),R("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),R("tabs-bar",`
 border-radius: 0;
 `)]),U("card-type",[H("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),R("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),R("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),R("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[U("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 justify-content: center;
 `,[H("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),an("disabled",[B("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),U("closable","padding-right: 8px;"),U("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),U("disabled","color: var(--n-tab-text-color-disabled);")])]),U("left, right",`
 flex-direction: column; 
 `,[H("prefix, suffix",`
 padding: var(--n-tab-padding-vertical);
 `),R("tabs-wrapper",`
 flex-direction: column;
 `),R("tabs-tab-wrapper",`
 flex-direction: column;
 `,[R("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])]),U("top",[U("card-type",[R("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);"),H("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),R("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[U("active",`
 border-bottom: 1px solid #0000;
 `)]),R("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),R("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),U("left",[U("card-type",[R("tabs-scroll-padding","border-right: 1px solid var(--n-tab-border-color);"),H("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),R("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[U("active",`
 border-right: 1px solid #0000;
 `)]),R("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),R("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),U("right",[U("card-type",[R("tabs-scroll-padding","border-left: 1px solid var(--n-tab-border-color);"),H("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),R("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[U("active",`
 border-left: 1px solid #0000;
 `)]),R("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),R("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),U("bottom",[U("card-type",[R("tabs-scroll-padding","border-top: 1px solid var(--n-tab-border-color);"),H("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),R("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[U("active",`
 border-top: 1px solid #0000;
 `)]),R("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),R("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),h2=GM,D$=Object.assign(Object.assign({},Ve.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),Uge=le({name:"Tabs",props:D$,slots:Object,setup(t,{slots:e}){var n,r,i,o;const{mergedClsPrefixRef:a,inlineThemeDisabled:s}=gt(t),l=Ve("Tabs","-tabs",Hge,Ufe,t,a),c=V(null),u=V(null),d=V(null),h=V(null),f=V(null),p=V(null),g=V(!0),m=V(!0),y=Lu(t,["labelSize","size"]),b=Lu(t,["activeName","value"]),x=V((r=(n=b.value)!==null&&n!==void 0?n:t.defaultValue)!==null&&r!==void 0?r:e.default?(o=(i=pa(e.default())[0])===null||i===void 0?void 0:i.props)===null||o===void 0?void 0:o.name:null),w=Cn(b,x),C={id:0},S=L(()=>{if(!(!t.justifyContent||t.type==="card"))return{display:"flex",justifyContent:t.justifyContent}});qt(w,()=>{C.id=0,P(),_()});function A(){var re;const{value:me}=w;return me===null?null:(re=c.value)===null||re===void 0?void 0:re.querySelector(`[data-name="${me}"]`)}function T(re){if(t.type==="card")return;const{value:me}=u;if(!me)return;const De=me.style.opacity==="0";if(re){const ge=`${a.value}-tabs-bar--disabled`,{barWidth:pe,placement:Te}=t;if(re.dataset.disabled==="true"?me.classList.add(ge):me.classList.remove(ge),["top","bottom"].includes(Te)){if(E(["top","maxHeight","height"]),typeof pe=="number"&&re.offsetWidth>=pe){const Xe=Math.floor((re.offsetWidth-pe)/2)+re.offsetLeft;me.style.left=`${Xe}px`,me.style.maxWidth=`${pe}px`}else me.style.left=`${re.offsetLeft}px`,me.style.maxWidth=`${re.offsetWidth}px`;me.style.width="8192px",De&&(me.style.transition="none"),me.offsetWidth,De&&(me.style.transition="",me.style.opacity="1")}else{if(E(["left","maxWidth","width"]),typeof pe=="number"&&re.offsetHeight>=pe){const Xe=Math.floor((re.offsetHeight-pe)/2)+re.offsetTop;me.style.top=`${Xe}px`,me.style.maxHeight=`${pe}px`}else me.style.top=`${re.offsetTop}px`,me.style.maxHeight=`${re.offsetHeight}px`;me.style.height="8192px",De&&(me.style.transition="none"),me.offsetHeight,De&&(me.style.transition="",me.style.opacity="1")}}}function k(){if(t.type==="card")return;const{value:re}=u;re&&(re.style.opacity="0")}function E(re){const{value:me}=u;if(me)for(const De of re)me.style[De]=""}function P(){if(t.type==="card")return;const re=A();re?T(re):k()}function _(){var re;const me=(re=f.value)===null||re===void 0?void 0:re.$el;if(!me)return;const De=A();if(!De)return;const{scrollLeft:ge,offsetWidth:pe}=me,{offsetLeft:Te,offsetWidth:Xe}=De;ge>Te?me.scrollTo({top:0,left:Te,behavior:"smooth"}):Te+Xe>ge+pe&&me.scrollTo({top:0,left:Te+Xe-pe,behavior:"smooth"})}const F=V(null);let N=0,W=null;function G(re){const me=F.value;if(me){N=re.getBoundingClientRect().height;const De=`${N}px`,ge=()=>{me.style.height=De,me.style.maxHeight=De};W?(ge(),W(),W=null):W=ge}}function Z(re){const me=F.value;if(me){const De=re.getBoundingClientRect().height,ge=()=>{document.body.offsetHeight,me.style.maxHeight=`${De}px`,me.style.height=`${Math.max(N,De)}px`};W?(W(),W=null,ge()):W=ge}}function ie(){const re=F.value;if(re){re.style.maxHeight="",re.style.height="";const{paneWrapperStyle:me}=t;if(typeof me=="string")re.style.cssText=me;else if(me){const{maxHeight:De,height:ge}=me;De!==void 0&&(re.style.maxHeight=De),ge!==void 0&&(re.style.height=ge)}}}const he={value:[]},xe=V("next");function Q(re){const me=w.value;let De="next";for(const ge of he.value){if(ge===me)break;if(ge===re){De="prev";break}}xe.value=De,X(re)}function X(re){const{onActiveNameChange:me,onUpdateValue:De,"onUpdate:value":ge}=t;me&&Fe(me,re),De&&Fe(De,re),ge&&Fe(ge,re),x.value=re}function K(re){const{onClose:me}=t;me&&Fe(me,re)}function ne(){const{value:re}=u;if(!re)return;const me="transition-disabled";re.classList.add(me),P(),re.classList.remove(me)}const ve=V(null);function Se({transitionDisabled:re}){const me=c.value;if(!me)return;re&&me.classList.add("transition-disabled");const De=A();De&&ve.value&&(ve.value.style.width=`${De.offsetWidth}px`,ve.value.style.height=`${De.offsetHeight}px`,ve.value.style.transform=`translateX(${De.offsetLeft-pr(getComputedStyle(me).paddingLeft)}px)`,re&&ve.value.offsetWidth),re&&me.classList.remove("transition-disabled")}qt([w],()=>{t.type==="segment"&&vn(()=>{Se({transitionDisabled:!1})})}),jn(()=>{t.type==="segment"&&Se({transitionDisabled:!0})});let ye=0;function Be(re){var me;if(re.contentRect.width===0&&re.contentRect.height===0||ye===re.contentRect.width)return;ye=re.contentRect.width;const{type:De}=t;if((De==="line"||De==="bar")&&ne(),De!=="segment"){const{placement:ge}=t;ke((ge==="top"||ge==="bottom"?(me=f.value)===null||me===void 0?void 0:me.$el:p.value)||null)}}const J=h2(Be,64);qt([()=>t.justifyContent,()=>t.size],()=>{vn(()=>{const{type:re}=t;(re==="line"||re==="bar")&&ne()})});const Ue=V(!1);function Qe(re){var me;const{target:De,contentRect:{width:ge,height:pe}}=re,Te=De.parentElement.parentElement.offsetWidth,Xe=De.parentElement.parentElement.offsetHeight,{placement:Oe}=t;if(!Ue.value)Oe==="top"||Oe==="bottom"?Te<ge&&(Ue.value=!0):Xe<pe&&(Ue.value=!0);else{const{value:ft}=h;if(!ft)return;Oe==="top"||Oe==="bottom"?Te-ge>ft.$el.offsetWidth&&(Ue.value=!1):Xe-pe>ft.$el.offsetHeight&&(Ue.value=!1)}ke(((me=f.value)===null||me===void 0?void 0:me.$el)||null)}const ae=h2(Qe,64);function fe(){const{onAdd:re}=t;re&&re(),vn(()=>{const me=A(),{value:De}=f;!me||!De||De.scrollTo({left:me.offsetLeft,top:0,behavior:"smooth"})})}function ke(re){if(!re)return;const{placement:me}=t;if(me==="top"||me==="bottom"){const{scrollLeft:De,scrollWidth:ge,offsetWidth:pe}=re;g.value=De<=0,m.value=De+pe>=ge}else{const{scrollTop:De,scrollHeight:ge,offsetHeight:pe}=re;g.value=De<=0,m.value=De+pe>=ge}}const Ke=h2(re=>{ke(re.target)},64);zt(G4,{triggerRef:$e(t,"trigger"),tabStyleRef:$e(t,"tabStyle"),tabClassRef:$e(t,"tabClass"),addTabStyleRef:$e(t,"addTabStyle"),addTabClassRef:$e(t,"addTabClass"),paneClassRef:$e(t,"paneClass"),paneStyleRef:$e(t,"paneStyle"),mergedClsPrefixRef:a,typeRef:$e(t,"type"),closableRef:$e(t,"closable"),valueRef:w,tabChangeIdRef:C,onBeforeLeaveRef:$e(t,"onBeforeLeave"),activateTab:Q,handleClose:K,handleAdd:fe}),J1(()=>{P(),_()}),er(()=>{const{value:re}=d;if(!re)return;const{value:me}=a,De=`${me}-tabs-nav-scroll-wrapper--shadow-start`,ge=`${me}-tabs-nav-scroll-wrapper--shadow-end`;g.value?re.classList.remove(De):re.classList.add(De),m.value?re.classList.remove(ge):re.classList.add(ge)});const Ne={syncBarPosition:()=>{P()}},Ae=()=>{Se({transitionDisabled:!0})},se=L(()=>{const{value:re}=y,{type:me}=t,De={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[me],ge=`${re}${De}`,{self:{barColor:pe,closeIconColor:Te,closeIconColorHover:Xe,closeIconColorPressed:Oe,tabColor:ft,tabBorderColor:Lt,paneTextColor:Kt,tabFontWeight:Dt,tabBorderRadius:Ge,tabFontWeightActive:en,colorSegment:wt,fontWeightStrong:_t,tabColorSegment:ce,closeSize:ue,closeIconSize:je,closeColorHover:st,closeColorPressed:lt,closeBorderRadius:_e,[We("panePadding",re)]:tt,[We("tabPadding",ge)]:Re,[We("tabPaddingVertical",ge)]:Je,[We("tabGap",ge)]:St,[We("tabGap",`${ge}Vertical`)]:Rt,[We("tabTextColor",me)]:ze,[We("tabTextColorActive",me)]:dt,[We("tabTextColorHover",me)]:Ie,[We("tabTextColorDisabled",me)]:rt,[We("tabFontSize",re)]:mt},common:{cubicBezierEaseInOut:Ft}}=l.value;return{"--n-bezier":Ft,"--n-color-segment":wt,"--n-bar-color":pe,"--n-tab-font-size":mt,"--n-tab-text-color":ze,"--n-tab-text-color-active":dt,"--n-tab-text-color-disabled":rt,"--n-tab-text-color-hover":Ie,"--n-pane-text-color":Kt,"--n-tab-border-color":Lt,"--n-tab-border-radius":Ge,"--n-close-size":ue,"--n-close-icon-size":je,"--n-close-color-hover":st,"--n-close-color-pressed":lt,"--n-close-border-radius":_e,"--n-close-icon-color":Te,"--n-close-icon-color-hover":Xe,"--n-close-icon-color-pressed":Oe,"--n-tab-color":ft,"--n-tab-font-weight":Dt,"--n-tab-font-weight-active":en,"--n-tab-padding":Re,"--n-tab-padding-vertical":Je,"--n-tab-gap":St,"--n-tab-gap-vertical":Rt,"--n-pane-padding-left":wi(tt,"left"),"--n-pane-padding-right":wi(tt,"right"),"--n-pane-padding-top":wi(tt,"top"),"--n-pane-padding-bottom":wi(tt,"bottom"),"--n-font-weight-strong":_t,"--n-tab-color-segment":ce}}),be=s?Ot("tabs",L(()=>`${y.value[0]}${t.type[0]}`),se,t):void 0;return Object.assign({mergedClsPrefix:a,mergedValue:w,renderedNames:new Set,segmentCapsuleElRef:ve,tabsPaneWrapperRef:F,tabsElRef:c,barElRef:u,addTabInstRef:h,xScrollInstRef:f,scrollWrapperElRef:d,addTabFixed:Ue,tabWrapperStyle:S,handleNavResize:J,mergedSize:y,handleScroll:Ke,handleTabsResize:ae,cssVars:s?void 0:se,themeClass:be==null?void 0:be.themeClass,animationDirection:xe,renderNameListRef:he,yScrollElRef:p,handleSegmentResize:Ae,onAnimationBeforeLeave:G,onAnimationEnter:Z,onAnimationAfterEnter:ie,onRender:be==null?void 0:be.onRender},Ne)},render(){const{mergedClsPrefix:t,type:e,placement:n,addTabFixed:r,addable:i,mergedSize:o,renderNameListRef:a,onRender:s,paneWrapperClass:l,paneWrapperStyle:c,$slots:{default:u,prefix:d,suffix:h}}=this;s==null||s();const f=u?pa(u()).filter(C=>C.type.__TAB_PANE__===!0):[],p=u?pa(u()).filter(C=>C.type.__TAB__===!0):[],g=!p.length,m=e==="card",y=e==="segment",b=!m&&!y&&this.justifyContent;a.value=[];const x=()=>{const C=v("div",{style:this.tabWrapperStyle,class:`${t}-tabs-wrapper`},b?null:v("div",{class:`${t}-tabs-scroll-padding`,style:n==="top"||n==="bottom"?{width:`${this.tabsPadding}px`}:{height:`${this.tabsPadding}px`}}),g?f.map((S,A)=>(a.value.push(S.props.name),f2(v(Gb,Object.assign({},S.props,{internalCreatedByPane:!0,internalLeftPadded:A!==0&&(!b||b==="center"||b==="start"||b==="end")}),S.children?{default:S.children.tab}:void 0)))):p.map((S,A)=>(a.value.push(S.props.name),f2(A!==0&&!b?fR(S):S))),!r&&i&&m?hR(i,(g?f.length:p.length)!==0):null,b?null:v("div",{class:`${t}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return v("div",{ref:"tabsElRef",class:`${t}-tabs-nav-scroll-content`},m&&i?v($o,{onResize:this.handleTabsResize},{default:()=>C}):C,m?v("div",{class:`${t}-tabs-pad`}):null,m?null:v("div",{ref:"barElRef",class:`${t}-tabs-bar`}))},w=y?"top":n;return v("div",{class:[`${t}-tabs`,this.themeClass,`${t}-tabs--${e}-type`,`${t}-tabs--${o}-size`,b&&`${t}-tabs--flex`,`${t}-tabs--${w}`],style:this.cssVars},v("div",{class:[`${t}-tabs-nav--${e}-type`,`${t}-tabs-nav--${w}`,`${t}-tabs-nav`]},bn(d,C=>C&&v("div",{class:`${t}-tabs-nav__prefix`},C)),y?v($o,{onResize:this.handleSegmentResize},{default:()=>v("div",{class:`${t}-tabs-rail`,ref:"tabsElRef"},v("div",{class:`${t}-tabs-capsule`,ref:"segmentCapsuleElRef"},v("div",{class:`${t}-tabs-wrapper`},v("div",{class:`${t}-tabs-tab`}))),g?f.map((C,S)=>(a.value.push(C.props.name),v(Gb,Object.assign({},C.props,{internalCreatedByPane:!0,internalLeftPadded:S!==0}),C.children?{default:C.children.tab}:void 0))):p.map((C,S)=>(a.value.push(C.props.name),S===0?C:fR(C))))}):v($o,{onResize:this.handleNavResize},{default:()=>v("div",{class:`${t}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(w)?v(fX,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:x}):v("div",{class:`${t}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},x()))}),r&&i&&m?hR(i,!0):null,bn(h,C=>C&&v("div",{class:`${t}-tabs-nav__suffix`},C))),g&&(this.animated&&(w==="top"||w==="bottom")?v("div",{ref:"tabsPaneWrapperRef",style:c,class:[`${t}-tabs-pane-wrapper`,l]},dR(f,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):dR(f,this.mergedValue,this.renderedNames)))}});function dR(t,e,n,r,i,o,a){const s=[];return t.forEach(l=>{const{name:c,displayDirective:u,"display-directive":d}=l.props,h=p=>u===p||d===p,f=e===c;if(l.key!==void 0&&(l.key=c),f||h("show")||h("show:lazy")&&n.has(c)){n.has(c)||n.add(c);const p=!h("if");s.push(p?ii(l,[[ya,f]]):l)}}),a?v(X1,{name:`${a}-transition`,onBeforeLeave:r,onEnter:i,onAfterEnter:o},{default:()=>s}):s}function hR(t,e){return v(Gb,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:e,disabled:typeof t=="object"&&t.disabled})}function fR(t){const e=Qo(t);return e.props?e.props.internalLeftPadded=!0:e.props={internalLeftPadded:!0},e}function f2(t){return Array.isArray(t.dynamicProps)?t.dynamicProps.includes("internalLeftPadded")||t.dynamicProps.push("internalLeftPadded"):t.dynamicProps=["internalLeftPadded"],t}const jge=R("thing",`
 display: flex;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
`,[R("thing-avatar",`
 margin-right: 12px;
 margin-top: 2px;
 `),R("thing-avatar-header-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 `,[R("thing-header-wrapper",`
 flex: 1;
 `)]),R("thing-main",`
 flex-grow: 1;
 `,[R("thing-header",`
 display: flex;
 margin-bottom: 4px;
 justify-content: space-between;
 align-items: center;
 `,[H("title",`
 font-size: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-title-text-color);
 `)]),H("description",[B("&:not(:last-child)",`
 margin-bottom: 4px;
 `)]),H("content",[B("&:not(:first-child)",`
 margin-top: 12px;
 `)]),H("footer",[B("&:not(:first-child)",`
 margin-top: 12px;
 `)]),H("action",[B("&:not(:first-child)",`
 margin-top: 12px;
 `)])])]),F$=Object.assign(Object.assign({},Ve.props),{title:String,titleExtra:String,description:String,descriptionClass:String,descriptionStyle:[String,Object],content:String,contentClass:String,contentStyle:[String,Object],contentIndented:Boolean}),Vge=le({name:"Thing",props:F$,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=gt(t),o=Ve("Thing","-thing",jge,Vfe,t,n),a=or("Thing",i,n),s=L(()=>{const{self:{titleTextColor:c,textColor:u,titleFontWeight:d,fontSize:h},common:{cubicBezierEaseInOut:f}}=o.value;return{"--n-bezier":f,"--n-font-size":h,"--n-text-color":u,"--n-title-font-weight":d,"--n-title-text-color":c}}),l=r?Ot("thing",void 0,s,t):void 0;return()=>{var c;const{value:u}=n,d=a?a.value:!1;return(c=l==null?void 0:l.onRender)===null||c===void 0||c.call(l),v("div",{class:[`${u}-thing`,l==null?void 0:l.themeClass,d&&`${u}-thing--rtl`],style:r?void 0:s.value},e.avatar&&t.contentIndented?v("div",{class:`${u}-thing-avatar`},e.avatar()):null,v("div",{class:`${u}-thing-main`},!t.contentIndented&&(e.header||t.title||e["header-extra"]||t.titleExtra||e.avatar)?v("div",{class:`${u}-thing-avatar-header-wrapper`},e.avatar?v("div",{class:`${u}-thing-avatar`},e.avatar()):null,e.header||t.title||e["header-extra"]||t.titleExtra?v("div",{class:`${u}-thing-header-wrapper`},v("div",{class:`${u}-thing-header`},e.header||t.title?v("div",{class:`${u}-thing-header__title`},e.header?e.header():t.title):null,e["header-extra"]||t.titleExtra?v("div",{class:`${u}-thing-header__extra`},e["header-extra"]?e["header-extra"]():t.titleExtra):null),e.description||t.description?v("div",{class:[`${u}-thing-main__description`,t.descriptionClass],style:t.descriptionStyle},e.description?e.description():t.description):null):null):v(qn,null,e.header||t.title||e["header-extra"]||t.titleExtra?v("div",{class:`${u}-thing-header`},e.header||t.title?v("div",{class:`${u}-thing-header__title`},e.header?e.header():t.title):null,e["header-extra"]||t.titleExtra?v("div",{class:`${u}-thing-header__extra`},e["header-extra"]?e["header-extra"]():t.titleExtra):null):null,e.description||t.description?v("div",{class:[`${u}-thing-main__description`,t.descriptionClass],style:t.descriptionStyle},e.description?e.description():t.description):null),e.default||t.content?v("div",{class:[`${u}-thing-main__content`,t.contentClass],style:t.contentStyle},e.default?e.default():t.content):null,e.footer?v("div",{class:`${u}-thing-main__footer`},e.footer()):null,e.action?v("div",{class:`${u}-thing-main__action`},e.action()):null))}}}),$$={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},Wge=le({name:"Time",props:$$,setup(t){const e=Date.now(),{localeRef:n,dateLocaleRef:r}=li("Time"),i=L(()=>{const{timeZone:c}=t;return c?(u,d,h)=>A9(u,c,d,h):dr}),o=L(()=>({locale:r.value.locale})),a=L(()=>{const{time:c}=t;return t.unix?c===void 0?e:u6(typeof c=="number"?c:c.valueOf()):c??e}),s=L(()=>{const{to:c}=t;return t.unix?c===void 0?e:u6(typeof c=="number"?c:c.valueOf()):c??e});return{renderedTime:L(()=>t.format?i.value(a.value,t.format,o.value):t.type==="date"?i.value(a.value,n.value.dateFormat,o.value):t.type==="datetime"?i.value(a.value,n.value.dateTimeFormat,o.value):Zoe(a.value,s.value,{addSuffix:!0,locale:r.value.locale}))}},render(){return this.text?Ru(this.renderedTime):v("time",[this.renderedTime])}}),pR=1.25,qge=R("timeline",`
 position: relative;
 width: 100%;
 display: flex;
 flex-direction: column;
 line-height: ${pR};
`,[U("horizontal",`
 flex-direction: row;
 `,[B(">",[R("timeline-item",`
 flex-shrink: 0;
 padding-right: 40px;
 `,[U("dashed-line-type",[B(">",[R("timeline-item-timeline",[H("line",`
 background-image: linear-gradient(90deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 10px 1px;
 `)])])]),B(">",[R("timeline-item-content",`
 margin-top: calc(var(--n-icon-size) + 12px);
 `,[B(">",[H("meta",`
 margin-top: 6px;
 margin-bottom: unset;
 `)])]),R("timeline-item-timeline",`
 width: 100%;
 height: calc(var(--n-icon-size) + 12px);
 `,[H("line",`
 left: var(--n-icon-size);
 top: calc(var(--n-icon-size) / 2 - 1px);
 right: 0px;
 width: unset;
 height: 2px;
 `)])])])])]),U("right-placement",[R("timeline-item",[R("timeline-item-content",`
 text-align: right;
 margin-right: calc(var(--n-icon-size) + 12px);
 `),R("timeline-item-timeline",`
 width: var(--n-icon-size);
 right: 0;
 `)])]),U("left-placement",[R("timeline-item",[R("timeline-item-content",`
 margin-left: calc(var(--n-icon-size) + 12px);
 `),R("timeline-item-timeline",`
 left: 0;
 `)])]),R("timeline-item",`
 position: relative;
 `,[B("&:last-child",[R("timeline-item-timeline",[H("line",`
 display: none;
 `)]),R("timeline-item-content",[H("meta",`
 margin-bottom: 0;
 `)])]),R("timeline-item-content",[H("title",`
 margin: var(--n-title-margin);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),H("content",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-content-font-size);
 color: var(--n-content-text-color);
 `),H("meta",`
 transition: color .3s var(--n-bezier);
 font-size: 12px;
 margin-top: 6px;
 margin-bottom: 20px;
 color: var(--n-meta-text-color);
 `)]),U("dashed-line-type",[R("timeline-item-timeline",[H("line",`
 --n-color-start: var(--n-line-color);
 transition: --n-color-start .3s var(--n-bezier);
 background-color: transparent;
 background-image: linear-gradient(180deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 1px 10px;
 `)])]),R("timeline-item-timeline",`
 width: calc(var(--n-icon-size) + 12px);
 position: absolute;
 top: calc(var(--n-title-font-size) * ${pR} / 2 - var(--n-icon-size) / 2);
 height: 100%;
 `,[H("circle",`
 border: var(--n-circle-border);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 border-radius: var(--n-icon-size);
 box-sizing: border-box;
 `),H("icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 display: flex;
 align-items: center;
 justify-content: center;
 `),H("line",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 top: var(--n-icon-size);
 left: calc(var(--n-icon-size) / 2 - 1px);
 bottom: 0px;
 width: 2px;
 background-color: var(--n-line-color);
 `)])])]),B$=Object.assign(Object.assign({},Ve.props),{horizontal:Boolean,itemPlacement:{type:String,default:"left"},size:{type:String,default:"medium"},iconSize:Number}),N$="n-timeline",Kge=le({name:"Timeline",props:B$,setup(t,{slots:e}){const{mergedClsPrefixRef:n}=gt(t),r=Ve("Timeline","-timeline",qge,Kfe,t,n);return zt(N$,{props:t,mergedThemeRef:r,mergedClsPrefixRef:n}),()=>{const{value:i}=n;return v("div",{class:[`${i}-timeline`,t.horizontal&&`${i}-timeline--horizontal`,`${i}-timeline--${t.size}-size`,!t.horizontal&&`${i}-timeline--${t.itemPlacement}-placement`]},e)}}}),z$={time:[String,Number],title:String,content:String,color:String,lineType:{type:String,default:"default"},type:{type:String,default:"default"}},Gge=le({name:"TimelineItem",props:z$,slots:Object,setup(t){const e=ut(N$);e||Ii("timeline-item","`n-timeline-item` must be placed inside `n-timeline`."),Hk();const{inlineThemeDisabled:n}=gt(),r=L(()=>{const{props:{size:o,iconSize:a},mergedThemeRef:s}=e,{type:l}=t,{self:{titleTextColor:c,contentTextColor:u,metaTextColor:d,lineColor:h,titleFontWeight:f,contentFontSize:p,[We("iconSize",o)]:g,[We("titleMargin",o)]:m,[We("titleFontSize",o)]:y,[We("circleBorder",l)]:b,[We("iconColor",l)]:x},common:{cubicBezierEaseInOut:w}}=s.value;return{"--n-bezier":w,"--n-circle-border":b,"--n-icon-color":x,"--n-content-font-size":p,"--n-content-text-color":u,"--n-line-color":h,"--n-meta-text-color":d,"--n-title-font-size":y,"--n-title-font-weight":f,"--n-title-margin":m,"--n-title-text-color":c,"--n-icon-size":Ln(a)||g}}),i=n?Ot("timeline-item",L(()=>{const{props:{size:o,iconSize:a}}=e,{type:s}=t;return`${o[0]}${a||"a"}${s[0]}`}),r,e.props):void 0;return{mergedClsPrefix:e.mergedClsPrefixRef,cssVars:n?void 0:r,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){const{mergedClsPrefix:t,color:e,onRender:n,$slots:r}=this;return n==null||n(),v("div",{class:[`${t}-timeline-item`,this.themeClass,`${t}-timeline-item--${this.type}-type`,`${t}-timeline-item--${this.lineType}-line-type`],style:this.cssVars},v("div",{class:`${t}-timeline-item-timeline`},v("div",{class:`${t}-timeline-item-timeline__line`}),bn(r.icon,i=>i?v("div",{class:`${t}-timeline-item-timeline__icon`,style:{color:e}},i):v("div",{class:`${t}-timeline-item-timeline__circle`,style:{borderColor:e}}))),v("div",{class:`${t}-timeline-item-content`},bn(r.header,i=>i||this.title?v("div",{class:`${t}-timeline-item-content__title`},i||this.title):null),v("div",{class:`${t}-timeline-item-content__content`},sn(r.default,()=>[this.content])),v("div",{class:`${t}-timeline-item-content__meta`},sn(r.footer,()=>[this.time]))))}}),Qg="n-transfer",Yge=R("transfer",`
 width: 100%;
 font-size: var(--n-font-size);
 height: 300px;
 display: flex;
 flex-wrap: nowrap;
 word-break: break-word;
`,[U("disabled",[R("transfer-list",[R("transfer-list-header",[H("title",`
 color: var(--n-header-text-color-disabled);
 `),H("extra",`
 color: var(--n-header-extra-text-color-disabled);
 `)])])]),R("transfer-list",`
 flex: 1;
 min-width: 0;
 height: inherit;
 display: flex;
 flex-direction: column;
 background-clip: padding-box;
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-list-color);
 `,[U("source",`
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[H("border","border-right: 1px solid var(--n-divider-color);")]),U("target",`
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[H("border","border-left: none;")]),H("border",`
 padding: 0 12px;
 border: 1px solid var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),R("transfer-list-header",`
 min-height: var(--n-header-height);
 box-sizing: border-box;
 display: flex;
 padding: 12px 12px 10px 12px;
 align-items: center;
 background-clip: padding-box;
 border-radius: inherit;
 border-bottom-left-radius: 0;
 border-bottom-right-radius: 0;
 line-height: 1.5;
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[B("> *:not(:first-child)",`
 margin-left: 8px;
 `),H("title",`
 flex: 1;
 min-width: 0;
 line-height: 1.5;
 font-size: var(--n-header-font-size);
 font-weight: var(--n-header-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-header-text-color);
 `),H("button",`
 position: relative;
 `),H("extra",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-extra-font-size);
 margin-right: 0;
 white-space: nowrap;
 color: var(--n-header-extra-text-color);
 `)]),R("transfer-list-body",`
 flex-basis: 0;
 flex-grow: 1;
 box-sizing: border-box;
 position: relative;
 display: flex;
 flex-direction: column;
 border-radius: inherit;
 border-top-left-radius: 0;
 border-top-right-radius: 0;
 `,[R("transfer-filter",`
 padding: 4px 12px 8px 12px;
 box-sizing: border-box;
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),R("transfer-list-flex-container",`
 flex: 1;
 position: relative;
 `,[R("scrollbar",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 height: unset;
 `),R("empty",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 `),R("transfer-list-content",`
 padding: 0;
 margin: 0;
 position: relative;
 `,[R("transfer-list-item",`
 padding: 0 12px;
 min-height: var(--n-item-height);
 display: flex;
 align-items: center;
 color: var(--n-item-text-color);
 position: relative;
 transition: color .3s var(--n-bezier);
 `,[H("background",`
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),H("checkbox",`
 position: relative;
 margin-right: 8px;
 `),H("close",`
 opacity: 0;
 pointer-events: none;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),H("label",`
 position: relative;
 min-width: 0;
 flex-grow: 1;
 `),U("source","cursor: pointer;"),U("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `),an("disabled",[B("&:hover",[H("background","background-color: var(--n-item-color-pending);"),H("close",`
 opacity: 1;
 pointer-events: all;
 `)])])])])])])])]),mR=le({name:"TransferFilter",props:{value:String,placeholder:String,disabled:Boolean,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=ut(Qg);return{mergedClsPrefix:e,mergedTheme:t}},render(){const{mergedTheme:t,mergedClsPrefix:e}=this;return v("div",{class:`${e}-transfer-filter`},v(_i,{value:this.value,onUpdateValue:this.onUpdateValue,disabled:this.disabled,placeholder:this.placeholder,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,clearable:!0,size:"small"},{"clear-icon-placeholder":()=>v(Jt,{clsPrefix:e},{default:()=>v(nO,null)})}))}}),gR=le({name:"TransferHeader",props:{size:{type:String,required:!0},selectAllText:String,clearText:String,source:Boolean,onCheckedAll:Function,onClearAll:Function,title:[String,Function]},setup(t){const{targetOptionsRef:e,canNotSelectAnythingRef:n,canBeClearedRef:r,allCheckedRef:i,mergedThemeRef:o,disabledRef:a,mergedClsPrefixRef:s,srcOptionsLengthRef:l}=ut(Qg),{localeRef:c}=li("Transfer");return()=>{const{source:u,onClearAll:d,onCheckedAll:h,selectAllText:f,clearText:p}=t,{value:g}=o,{value:m}=s,{value:y}=c,b=t.size==="large"?"small":"tiny",{title:x}=t;return v("div",{class:`${m}-transfer-list-header`},x&&v("div",{class:`${m}-transfer-list-header__title`},typeof x=="function"?x():x),u&&v(Qn,{class:`${m}-transfer-list-header__button`,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:b,tertiary:!0,onClick:i.value?d:h,disabled:n.value||a.value},{default:()=>i.value?p||y.unselectAll:f||y.selectAll}),!u&&r.value&&v(Qn,{class:`${m}-transfer-list-header__button`,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:b,tertiary:!0,onClick:d,disabled:a.value},{default:()=>y.clearAll}),v("div",{class:`${m}-transfer-list-header__extra`},u?y.total(l.value):y.selected(e.value.length)))}}}),vR=le({name:"NTransferListItem",props:{source:Boolean,label:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:Boolean,option:{type:Object,required:!0}},setup(t){const{targetValueSetRef:e,mergedClsPrefixRef:n,mergedThemeRef:r,handleItemCheck:i,renderSourceLabelRef:o,renderTargetLabelRef:a,showSelectedRef:s}=ut(Qg),l=Yt(()=>e.value.has(t.value));function c(){t.disabled||i(!l.value,t.value)}return{mergedClsPrefix:n,mergedTheme:r,checked:l,showSelected:s,renderSourceLabel:o,renderTargetLabel:a,handleClick:c}},render(){const{disabled:t,mergedTheme:e,mergedClsPrefix:n,label:r,checked:i,source:o,renderSourceLabel:a,renderTargetLabel:s}=this;return v("div",{class:[`${n}-transfer-list-item`,t&&`${n}-transfer-list-item--disabled`,o?`${n}-transfer-list-item--source`:`${n}-transfer-list-item--target`],onClick:o?this.handleClick:void 0},v("div",{class:`${n}-transfer-list-item__background`}),o&&this.showSelected&&v("div",{class:`${n}-transfer-list-item__checkbox`},v(Lc,{theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,disabled:t,checked:i})),v("div",{class:`${n}-transfer-list-item__label`,title:Kf(r)},o?a?a({option:this.option}):r:s?s({option:this.option}):r),!o&&!t&&v(Ic,{focusable:!1,class:`${n}-transfer-list-item__close`,clsPrefix:n,onClick:this.handleClick}))}}),yR=le({name:"TransferList",props:{virtualScroll:{type:Boolean,required:!0},itemSize:{type:Number,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0},source:Boolean},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=ut(Qg),n=V(null),r=V(null);function i(){var s;(s=n.value)===null||s===void 0||s.sync()}function o(){const{value:s}=r;if(!s)return null;const{listElRef:l}=s;return l}function a(){const{value:s}=r;if(!s)return null;const{itemsElRef:l}=s;return l}return{mergedTheme:t,mergedClsPrefix:e,scrollerInstRef:n,vlInstRef:r,syncVLScroller:i,scrollContainer:o,scrollContent:a}},render(){const{mergedTheme:t,options:e}=this;if(e.length===0)return v(yc,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty});const{mergedClsPrefix:n,virtualScroll:r,source:i,disabled:o,syncVLScroller:a}=this;return v(Hr,{ref:"scrollerInstRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:r?this.scrollContainer:void 0,content:r?this.scrollContent:void 0},{default:()=>r?v(Os,{ref:"vlInstRef",style:{height:"100%"},class:`${n}-transfer-list-content`,items:this.options,itemSize:this.itemSize,showScrollbar:!1,onResize:a,onScroll:a,keyField:"value"},{default:({item:s})=>{const{source:l,disabled:c}=this;return v(vR,{source:l,key:s.value,value:s.value,disabled:s.disabled||c,label:s.label,option:s})}}):v("div",{class:`${n}-transfer-list-content`},e.map(s=>v(vR,{source:i,key:s.value,value:s.value,disabled:s.disabled||o,label:s.label,option:s})))})}});function Xge(t){const e=V(t.defaultValue),n=Cn($e(t,"value"),e),r=L(()=>{const w=new Map;return(t.options||[]).forEach(C=>w.set(C.value,C)),w}),i=L(()=>new Set(n.value||[])),o=L(()=>{const w=r.value,C=[];return(n.value||[]).forEach(S=>{const A=w.get(S);A&&C.push(A)}),C}),a=V(""),s=V(""),l=L(()=>t.sourceFilterable||!!t.filterable),c=L(()=>{const{showSelected:w,options:C,filter:S}=t;return l.value?C.filter(A=>S(a.value,A,"source")&&(w||!i.value.has(A.value))):w?C:C.filter(A=>!i.value.has(A.value))}),u=L(()=>{if(!t.targetFilterable)return o.value;const{filter:w}=t;return o.value.filter(C=>w(s.value,C,"target"))}),d=L(()=>{const{value:w}=n;return w===null?new Set:new Set(w)}),h=L(()=>{const w=new Set(d.value);return c.value.forEach(C=>{!C.disabled&&!w.has(C.value)&&w.add(C.value)}),w}),f=L(()=>{const w=new Set(d.value);return c.value.forEach(C=>{!C.disabled&&w.has(C.value)&&w.delete(C.value)}),w}),p=L(()=>{const w=new Set(d.value);return u.value.forEach(C=>{C.disabled||w.delete(C.value)}),w}),g=L(()=>c.value.every(w=>w.disabled)),m=L(()=>{if(!c.value.length)return!1;const w=d.value;return c.value.every(C=>C.disabled||w.has(C.value))}),y=L(()=>u.value.some(w=>!w.disabled));function b(w){a.value=w??""}function x(w){s.value=w??""}return{uncontrolledValueRef:e,mergedValueRef:n,targetValueSetRef:i,valueSetForCheckAllRef:h,valueSetForUncheckAllRef:f,valueSetForClearRef:p,filteredTgtOptionsRef:u,filteredSrcOptionsRef:c,targetOptionsRef:o,canNotSelectAnythingRef:g,canBeClearedRef:y,allCheckedRef:m,srcPatternRef:a,tgtPatternRef:s,mergedSrcFilterableRef:l,handleSrcFilterUpdateValue:b,handleTgtFilterUpdateValue:x}}const H$=Object.assign(Object.assign({},Ve.props),{value:Array,defaultValue:{type:Array,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:void 0},virtualScroll:Boolean,sourceTitle:[String,Function],selectAllText:String,clearText:String,targetTitle:[String,Function],filterable:{type:Boolean,default:void 0},sourceFilterable:Boolean,targetFilterable:Boolean,showSelected:{type:Boolean,default:!0},sourceFilterPlaceholder:String,targetFilterPlaceholder:String,filter:{type:Function,default:(t,e)=>t?~`${e.label}`.toLowerCase().indexOf(`${t}`.toLowerCase()):!0},size:String,renderSourceLabel:Function,renderTargetLabel:Function,renderSourceList:Function,renderTargetList:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),Qge=le({name:"Transfer",props:H$,setup(t){const{mergedClsPrefixRef:e}=gt(t),n=Ve("Transfer","-transfer",Yge,Xfe,t,e),r=di(t),{mergedSizeRef:i,mergedDisabledRef:o}=r,a=L(()=>{const{value:N}=i,{self:{[We("itemHeight",N)]:W}}=n.value;return pr(W)}),{uncontrolledValueRef:s,mergedValueRef:l,targetValueSetRef:c,valueSetForCheckAllRef:u,valueSetForUncheckAllRef:d,valueSetForClearRef:h,filteredTgtOptionsRef:f,filteredSrcOptionsRef:p,targetOptionsRef:g,canNotSelectAnythingRef:m,canBeClearedRef:y,allCheckedRef:b,srcPatternRef:x,tgtPatternRef:w,mergedSrcFilterableRef:C,handleSrcFilterUpdateValue:S,handleTgtFilterUpdateValue:A}=Xge(t);function T(N){const{onUpdateValue:W,"onUpdate:value":G,onChange:Z}=t,{nTriggerFormInput:ie,nTriggerFormChange:he}=r;W&&Fe(W,N),G&&Fe(G,N),Z&&Fe(Z,N),s.value=N,ie(),he()}function k(){T([...u.value])}function E(){T([...d.value])}function P(){T([...h.value])}function _(N,W){T(N?(l.value||[]).concat(W):(l.value||[]).filter(G=>G!==W))}function F(N){T(N)}return zt(Qg,{targetValueSetRef:c,mergedClsPrefixRef:e,disabledRef:o,mergedThemeRef:n,targetOptionsRef:g,canNotSelectAnythingRef:m,canBeClearedRef:y,allCheckedRef:b,srcOptionsLengthRef:L(()=>t.options.length),handleItemCheck:_,renderSourceLabelRef:$e(t,"renderSourceLabel"),renderTargetLabelRef:$e(t,"renderTargetLabel"),showSelectedRef:$e(t,"showSelected")}),{mergedClsPrefix:e,mergedDisabled:o,itemSize:a,isMounted:co(),mergedTheme:n,filteredSrcOpts:p,filteredTgtOpts:f,srcPattern:x,tgtPattern:w,mergedSize:i,mergedSrcFilterable:C,handleSrcFilterUpdateValue:S,handleTgtFilterUpdateValue:A,handleSourceCheckAll:k,handleSourceUncheckAll:E,handleTargetClearAll:P,handleItemCheck:_,handleChecked:F,cssVars:L(()=>{const{value:N}=i,{common:{cubicBezierEaseInOut:W},self:{borderRadius:G,borderColor:Z,listColor:ie,titleTextColor:he,titleTextColorDisabled:xe,extraTextColor:Q,itemTextColor:X,itemColorPending:K,itemTextColorDisabled:ne,titleFontWeight:ve,closeColorHover:Se,closeColorPressed:ye,closeIconColor:Be,closeIconColorHover:J,closeIconColorPressed:Ue,closeIconSize:Qe,closeSize:ae,dividerColor:fe,extraTextColorDisabled:ke,[We("extraFontSize",N)]:Ke,[We("fontSize",N)]:Ne,[We("titleFontSize",N)]:Ae,[We("itemHeight",N)]:se,[We("headerHeight",N)]:be}}=n.value;return{"--n-bezier":W,"--n-border-color":Z,"--n-border-radius":G,"--n-extra-font-size":Ke,"--n-font-size":Ne,"--n-header-font-size":Ae,"--n-header-extra-text-color":Q,"--n-header-extra-text-color-disabled":ke,"--n-header-font-weight":ve,"--n-header-text-color":he,"--n-header-text-color-disabled":xe,"--n-item-color-pending":K,"--n-item-height":se,"--n-item-text-color":X,"--n-item-text-color-disabled":ne,"--n-list-color":ie,"--n-header-height":be,"--n-close-size":ae,"--n-close-icon-size":Qe,"--n-close-color-hover":Se,"--n-close-color-pressed":ye,"--n-close-icon-color":Be,"--n-close-icon-color-hover":J,"--n-close-icon-color-pressed":Ue,"--n-divider-color":fe}})}},render(){const{mergedClsPrefix:t,renderSourceList:e,renderTargetList:n,mergedTheme:r,mergedSrcFilterable:i,targetFilterable:o}=this;return v("div",{class:[`${t}-transfer`,this.mergedDisabled&&`${t}-transfer--disabled`],style:this.cssVars},v("div",{class:`${t}-transfer-list ${t}-transfer-list--source`},v(gR,{source:!0,selectAllText:this.selectAllText,clearText:this.clearText,title:this.sourceTitle,onCheckedAll:this.handleSourceCheckAll,onClearAll:this.handleSourceUncheckAll,size:this.mergedSize}),v("div",{class:`${t}-transfer-list-body`},i?v(mR,{onUpdateValue:this.handleSrcFilterUpdateValue,value:this.srcPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,v("div",{class:`${t}-transfer-list-flex-container`},e?v(Hr,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>e({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.srcPattern})}):v(yR,{source:!0,options:this.filteredSrcOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),v("div",{class:`${t}-transfer-list__border`})),v("div",{class:`${t}-transfer-list ${t}-transfer-list--target`},v(gR,{onClearAll:this.handleTargetClearAll,size:this.mergedSize,title:this.targetTitle}),v("div",{class:`${t}-transfer-list-body`},o?v(mR,{onUpdateValue:this.handleTgtFilterUpdateValue,value:this.tgtPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,v("div",{class:`${t}-transfer-list-flex-container`},n?v(Hr,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>n({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.tgtPattern})}):v(yR,{options:this.filteredTgtOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),v("div",{class:`${t}-transfer-list__border`})))}}),X4="n-tree-select";function bR({position:t,offsetLevel:e,indent:n,el:r}){const i={position:"absolute",boxSizing:"border-box",right:0};if(t==="inside")i.left=0,i.top=0,i.bottom=0,i.borderRadius="inherit",i.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const o=t==="before"?"top":"bottom";i[o]=0,i.left=`${r.offsetLeft+6-e*n}px`,i.height="2px",i.backgroundColor="var(--n-drop-mark-color)",i.transformOrigin=o,i.borderRadius="1px",i.transform=t==="before"?"translateY(-4px)":"translateY(4px)"}return v("div",{style:i})}function Zge({dropPosition:t,node:e}){return e.isLeaf===!1||e.children?!0:t!=="inside"}const Zg="n-tree";function Jge({props:t,fNodesRef:e,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,mergedCheckedKeysRef:i,handleCheck:o,handleSelect:a,handleSwitcherClick:s}){const{value:l}=r,c=ut(X4,null),u=c?c.pendingNodeKeyRef:V(l.length?l[l.length-1]:null);function d(h){var f;if(!t.keyboard)return{enterBehavior:null};const{value:p}=u;let g=null;if(p===null){if((h.key==="ArrowDown"||h.key==="ArrowUp")&&h.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(h.key)&&p===null){const{value:m}=e;let y=0;for(;y<m.length;){if(!m[y].disabled){u.value=m[y].key;break}y+=1}}}else{const{value:m}=e;let y=m.findIndex(b=>b.key===p);if(!~y)return{enterBehavior:null};if(h.key==="Enter"){const b=m[y];switch(g=((f=t.overrideDefaultNodeClickBehavior)===null||f===void 0?void 0:f.call(t,{option:b.rawNode}))||null,g){case"toggleCheck":o(b,!i.value.includes(b.key));break;case"toggleSelect":a(b);break;case"toggleExpand":s(b);break;case"none":break;case"default":default:g="default",a(b)}}else if(h.key==="ArrowDown")for(h.preventDefault(),y+=1;y<m.length;){if(!m[y].disabled){u.value=m[y].key;break}y+=1}else if(h.key==="ArrowUp")for(h.preventDefault(),y-=1;y>=0;){if(!m[y].disabled){u.value=m[y].key;break}y-=1}else if(h.key==="ArrowLeft"){const b=m[y];if(b.isLeaf||!n.value.includes(p)){const x=b.getParent();x&&(u.value=x.key)}else s(b)}else if(h.key==="ArrowRight"){const b=m[y];if(b.isLeaf)return{enterBehavior:null};if(!n.value.includes(p))s(b);else for(y+=1;y<m.length;){if(!m[y].disabled){u.value=m[y].key;break}y+=1}}}return{enterBehavior:g}}return{pendingNodeKeyRef:u,handleKeydown:d}}const eve=le({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(t){const e=ut(Zg);function n(i){const{onCheck:o}=t;o&&o(i)}function r(i){n(i)}return{handleUpdateValue:r,mergedTheme:e.mergedThemeRef}},render(){const{clsPrefix:t,mergedTheme:e,checked:n,indeterminate:r,disabled:i,focusable:o,indent:a,handleUpdateValue:s}=this;return v("span",{class:[`${t}-tree-node-checkbox`,this.right&&`${t}-tree-node-checkbox--right`],style:{width:`${a}px`},"data-checkbox":!0},v(Lc,{focusable:o,disabled:i,theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:s}))}}),tve=le({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(t){const{renderLabelRef:e,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:i}=ut(Zg),o=V(null);function a(l){const{onClick:c}=t;c&&c(l)}function s(l){a(l)}return{selfRef:o,renderLabel:e,renderPrefix:n,renderSuffix:r,labelField:i,handleClick:s}},render(){const{clsPrefix:t,labelField:e,nodeProps:n,checked:r=!1,selected:i=!1,renderLabel:o,renderPrefix:a,renderSuffix:s,handleClick:l,onDragstart:c,tmNode:{rawNode:u,rawNode:{prefix:d,suffix:h,[e]:f}}}=this;return v("span",Object.assign({},n,{ref:"selfRef",class:[`${t}-tree-node-content`,n==null?void 0:n.class],onClick:l,draggable:c===void 0?void 0:!0,onDragstart:c}),a||d?v("div",{class:`${t}-tree-node-content__prefix`},a?a({option:u,selected:i,checked:r}):Sr(d)):null,v("div",{class:`${t}-tree-node-content__text`},o?o({option:u,selected:i,checked:r}):Sr(f)),s||h?v("div",{class:`${t}-tree-node-content__suffix`},s?s({option:u,selected:i,checked:r}):Sr(h)):null)}}),nve=le({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(t){const{renderSwitcherIconRef:e}=ut(Zg,null);return()=>{const{clsPrefix:n,expanded:r,hide:i,indent:o,onClick:a}=t;return v("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,r&&`${n}-tree-node-switcher--expanded`,i&&`${n}-tree-node-switcher--hide`],style:{width:`${o}px`},onClick:a},v("div",{class:`${n}-tree-node-switcher__icon`},v(Ll,null,{default:()=>{if(t.loading)return v($s,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:s}=e;return s?s({expanded:t.expanded,selected:t.selected,option:t.tmNode.rawNode}):v(Jt,{clsPrefix:n,key:"switcher"},{default:()=>v(lre,null)})}})))}}});function U$(t){return L(()=>t.leafOnly?"child":t.checkStrategy)}function Jc(t,e){return!!t.rawNode[e]}function j$(t,e,n,r){t==null||t.forEach(i=>{n(i),j$(i[e],e,n,r),r(i)})}function rve(t,e,n,r,i){const o=new Set,a=new Set,s=[];return j$(t,r,l=>{if(s.push(l),i(e,l)){a.add(l[n]);for(let c=s.length-2;c>=0;--c)if(!o.has(s[c][n]))o.add(s[c][n]);else return}},()=>{s.pop()}),{expandedKeys:Array.from(o),highlightKeySet:a}}if(na&&Image){const t=new Image;t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function ive(t,e,n,r,i){const o=new Set,a=new Set,s=new Set,l=[],c=[],u=[];function d(f){f.forEach(p=>{if(u.push(p),e(n,p)){o.add(p[r]),s.add(p[r]);for(let m=u.length-2;m>=0;--m){const y=u[m][r];if(!a.has(y))a.add(y),o.has(y)&&o.delete(y);else break}}const g=p[i];g&&d(g),u.pop()})}d(t);function h(f,p){f.forEach(g=>{const m=g[r],y=o.has(m),b=a.has(m);if(!y&&!b)return;const x=g[i];if(x)if(y)p.push(g);else{l.push(m);const w=Object.assign(Object.assign({},g),{[i]:[]});p.push(w),h(x,w[i])}else p.push(g)})}return h(t,c),{filteredTree:c,highlightKeySet:s,expandedKeys:l}}function ove(t){return Zr(t,"checkbox")?"checkbox":Zr(t,"switcher")?"switcher":"node"}const V$=le({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(t){const e=ut(Zg),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:i,droppingPositionRef:o,droppingOffsetLevelRef:a,nodePropsRef:s,indentRef:l,blockLineRef:c,checkboxPlacementRef:u,checkOnClickRef:d,disabledFieldRef:h,showLineRef:f,renderSwitcherIconRef:p,overrideDefaultNodeClickBehaviorRef:g}=e,m=Yt(()=>!!t.tmNode.rawNode.checkboxDisabled),y=Yt(()=>Jc(t.tmNode,h.value)),b=Yt(()=>e.disabledRef.value||y.value),x=L(()=>{const{value:K}=s;if(K)return K({option:t.tmNode.rawNode})}),w=V(null),C={value:null};jn(()=>{C.value=w.value.$el});function S(){const K=()=>{const{tmNode:ne}=t;if(!ne.isLeaf&&!ne.shallowLoaded){if(!e.loadingKeysRef.value.has(ne.key))e.loadingKeysRef.value.add(ne.key);else return;const{onLoadRef:{value:ve}}=e;ve&&ve(ne.rawNode).then(Se=>{Se!==!1&&e.handleSwitcherClick(ne)}).finally(()=>{e.loadingKeysRef.value.delete(ne.key)})}else e.handleSwitcherClick(ne)};p.value?setTimeout(K,0):K()}const A=Yt(()=>!y.value&&e.selectableRef.value&&(e.internalTreeSelect?e.mergedCheckStrategyRef.value!=="child"||e.multipleRef.value&&e.cascadeRef.value||t.tmNode.isLeaf:!0)),T=Yt(()=>e.checkableRef.value&&(e.cascadeRef.value||e.mergedCheckStrategyRef.value!=="child"||t.tmNode.isLeaf)),k=Yt(()=>e.displayedCheckedKeysRef.value.includes(t.tmNode.key)),E=Yt(()=>{const{value:K}=T;if(!K)return!1;const{value:ne}=d,{tmNode:ve}=t;return typeof ne=="boolean"?!ve.disabled&&ne:ne(t.tmNode.rawNode)});function P(K){const{value:ne}=e.expandOnClickRef,{value:ve}=A,{value:Se}=E;if(!ve&&!ne&&!Se||Zr(K,"checkbox")||Zr(K,"switcher"))return;const{tmNode:ye}=t;ve&&e.handleSelect(ye),ne&&!ye.isLeaf&&S(),Se&&W(!k.value)}function _(K){var ne,ve;if(!(Zr(K,"checkbox")||Zr(K,"switcher"))){if(!b.value){const Se=g.value;let ye=!1;if(Se)switch(Se({option:t.tmNode.rawNode})){case"toggleCheck":ye=!0,W(!k.value);break;case"toggleSelect":ye=!0,e.handleSelect(t.tmNode);break;case"toggleExpand":ye=!0,S(),ye=!0;break;case"none":ye=!0,ye=!0;return}ye||P(K)}(ve=(ne=x.value)===null||ne===void 0?void 0:ne.onClick)===null||ve===void 0||ve.call(ne,K)}}function F(K){c.value||_(K)}function N(K){c.value&&_(K)}function W(K){e.handleCheck(t.tmNode,K)}function G(K){e.handleDragStart({event:K,node:t.tmNode})}function Z(K){K.currentTarget===K.target&&e.handleDragEnter({event:K,node:t.tmNode})}function ie(K){K.preventDefault(),e.handleDragOver({event:K,node:t.tmNode})}function he(K){e.handleDragEnd({event:K,node:t.tmNode})}function xe(K){K.currentTarget===K.target&&e.handleDragLeave({event:K,node:t.tmNode})}function Q(K){K.preventDefault(),o.value!==null&&e.handleDrop({event:K,node:t.tmNode,dropPosition:o.value})}const X=L(()=>{const{clsPrefix:K}=t,{value:ne}=l;if(f.value){const ve=[];let Se=t.tmNode.parent;for(;Se;)Se.isLastChild?ve.push(v("div",{class:`${K}-tree-node-indent`},v("div",{style:{width:`${ne}px`}}))):ve.push(v("div",{class:[`${K}-tree-node-indent`,`${K}-tree-node-indent--show-line`]},v("div",{style:{width:`${ne}px`}}))),Se=Se.parent;return ve.reverse()}else return Iu(t.tmNode.level,v("div",{class:`${t.clsPrefix}-tree-node-indent`},v("div",{style:{width:`${ne}px`}})))});return{showDropMark:Yt(()=>{const{value:K}=i;if(!K)return;const{value:ne}=o;if(!ne)return;const{value:ve}=r;if(!ve)return;const{tmNode:Se}=t;return Se.key===ve.key}),showDropMarkAsParent:Yt(()=>{const{value:K}=n;if(!K)return!1;const{tmNode:ne}=t,{value:ve}=o;return ve==="before"||ve==="after"?K.key===ne.key:!1}),pending:Yt(()=>e.pendingNodeKeyRef.value===t.tmNode.key),loading:Yt(()=>e.loadingKeysRef.value.has(t.tmNode.key)),highlight:Yt(()=>{var K;return(K=e.highlightKeySetRef.value)===null||K===void 0?void 0:K.has(t.tmNode.key)}),checked:k,indeterminate:Yt(()=>e.displayedIndeterminateKeysRef.value.includes(t.tmNode.key)),selected:Yt(()=>e.mergedSelectedKeysRef.value.includes(t.tmNode.key)),expanded:Yt(()=>e.mergedExpandedKeysRef.value.includes(t.tmNode.key)),disabled:b,checkable:T,mergedCheckOnClick:E,checkboxDisabled:m,selectable:A,expandOnClick:e.expandOnClickRef,internalScrollable:e.internalScrollableRef,draggable:e.draggableRef,blockLine:c,nodeProps:x,checkboxFocusable:e.internalCheckboxFocusableRef,droppingPosition:o,droppingOffsetLevel:a,indent:l,checkboxPlacement:u,showLine:f,contentInstRef:w,contentElRef:C,indentNodes:X,handleCheck:W,handleDrop:Q,handleDragStart:G,handleDragEnter:Z,handleDragOver:ie,handleDragEnd:he,handleDragLeave:xe,handleLineClick:N,handleContentClick:F,handleSwitcherClick:S}},render(){const{tmNode:t,clsPrefix:e,checkable:n,expandOnClick:r,selectable:i,selected:o,checked:a,highlight:s,draggable:l,blockLine:c,indent:u,indentNodes:d,disabled:h,pending:f,internalScrollable:p,nodeProps:g,checkboxPlacement:m}=this,y=l&&!h?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,b=p?XL(t.key):void 0,x=m==="right",w=n?v(eve,{indent:u,right:x,focusable:this.checkboxFocusable,disabled:h||this.checkboxDisabled,clsPrefix:e,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return v("div",Object.assign({class:`${e}-tree-node-wrapper`},y),v("div",Object.assign({},c?g:void 0,{class:[`${e}-tree-node`,{[`${e}-tree-node--selected`]:o,[`${e}-tree-node--checkable`]:n,[`${e}-tree-node--highlight`]:s,[`${e}-tree-node--pending`]:f,[`${e}-tree-node--disabled`]:h,[`${e}-tree-node--selectable`]:i,[`${e}-tree-node--clickable`]:i||r||this.mergedCheckOnClick},g==null?void 0:g.class],"data-key":b,draggable:l&&c,onClick:this.handleLineClick,onDragstart:l&&c&&!h?this.handleDragStart:void 0}),d,t.isLeaf&&this.showLine?v("div",{class:[`${e}-tree-node-indent`,`${e}-tree-node-indent--show-line`,t.isLeaf&&`${e}-tree-node-indent--is-leaf`,t.isLastChild&&`${e}-tree-node-indent--last-child`]},v("div",{style:{width:`${u}px`}})):v(nve,{clsPrefix:e,expanded:this.expanded,selected:o,loading:this.loading,hide:t.isLeaf,tmNode:this.tmNode,indent:u,onClick:this.handleSwitcherClick}),x?null:w,v(tve,{ref:"contentInstRef",clsPrefix:e,checked:a,selected:o,onClick:this.handleContentClick,nodeProps:c?void 0:g,onDragstart:l&&!c&&!h?this.handleDragStart:void 0,tmNode:t}),l?this.showDropMark?bR({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:u}):this.showDropMarkAsParent?bR({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:u}):null:null,x?w:null))}}),ave=le({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:t}=this;return v(Ml,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>v("div",{class:[`${t}-tree-motion-wrapper`,`${t}-tree-motion-wrapper--${this.mode}`],style:{height:br(this.height)}},this.nodes.map(e=>v(V$,{clsPrefix:t,tmNode:e})))})}}),p2=mo(),sve=R("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[B("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),B(">",[R("tree-node",[B("&:first-child","margin-top: 0;")])]),R("tree-motion-wrapper",[U("expand",[bc({duration:"0.2s"})]),U("collapse",[bc({duration:"0.2s",reverse:!0})])]),R("tree-node-wrapper",`
 box-sizing: border-box;
 padding: var(--n-node-wrapper-padding);
 `),R("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[U("highlight",[R("tree-node-content",[H("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),U("disabled",[R("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),an("disabled",[U("clickable",[R("tree-node-content",`
 cursor: pointer;
 `)])])]),U("block-node",[R("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),an("block-line",[R("tree-node",[an("disabled",[R("tree-node-content",[B("&:hover","background: var(--n-node-color-hover);")]),U("selectable",[R("tree-node-content",[B("&:active","background: var(--n-node-color-pressed);")])]),U("pending",[R("tree-node-content",`
 background: var(--n-node-color-hover);
 `)]),U("selected",[R("tree-node-content","background: var(--n-node-color-active);")])]),U("selected",[R("tree-node-content","background: var(--n-node-color-active);")])])]),U("block-line",[R("tree-node",[an("disabled",[B("&:hover","background: var(--n-node-color-hover);"),U("pending",`
 background: var(--n-node-color-hover);
 `),U("selectable",[an("selected",[B("&:active","background: var(--n-node-color-pressed);")])]),U("selected","background: var(--n-node-color-active);")]),U("selected","background: var(--n-node-color-active);"),U("disabled",`
 cursor: not-allowed;
 `)])]),U("ellipsis",[R("tree-node",[R("tree-node-content",`
 overflow: hidden;
 `,[H("text",`
 text-overflow: ellipsis;
 white-space: nowrap;
 overflow: hidden;
 `)])])]),R("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 `,[U("show-line","position: relative",[B("&::before",`
 position: absolute;
 left: 50%;
 border-left: 1px solid var(--n-line-color);
 transition: border-color .3s var(--n-bezier);
 transform: translate(-50%);
 content: "";
 top: var(--n-line-offset-top);
 bottom: var(--n-line-offset-bottom);
 `),U("last-child",[B("&::before",`
 bottom: 50%;
 `)]),U("is-leaf",[B("&::after",`
 position: absolute;
 content: "";
 left: calc(50% + 0.5px);
 right: 0;
 bottom: 50%;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-line-color);
 `)])]),an("show-line","height: 0;")]),R("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: var(--n-node-content-height);
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[H("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[R("icon",[p2]),R("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[p2]),R("base-icon",[p2])]),U("hide","visibility: hidden;"),U("expanded","transform: rotate(90deg);")]),R("tree-node-checkbox",`
 display: inline-flex;
 height: var(--n-node-content-height);
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 `),R("tree-node-content",`
 user-select: none;
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: var(--n-node-content-height);
 box-sizing: border-box;
 line-height: var(--n-line-height);
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[B("&:last-child","margin-bottom: 0;"),H("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),H("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),H("suffix",`
 display: inline-flex;
 `)]),H("empty","margin: auto;")]);var lve=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,[])).next())})};function HA(t,e,n,r){return{getIsGroup(){return!1},getKey(o){return o[t]},getChildren:r||(o=>o[e]),getDisabled(o){return!!(o[n]||o.checkboxDisabled)}}}const W$={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indent:{type:Number,default:24},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},q$=Object.assign(Object.assign(Object.assign(Object.assign({},Ve.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,allowDrop:{type:Function,default:Zge},animated:{type:Boolean,default:!0},ellipsis:Boolean,checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),W$),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),K$=le({name:"Tree",props:q$,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=or("Tree",r,e),o=Ve("Tree","-tree",sve,gF,t,e),a=V(null),s=V(null),l=V(null);function c(){var He;return(He=l.value)===null||He===void 0?void 0:He.listElRef}function u(){var He;return(He=l.value)===null||He===void 0?void 0:He.itemsElRef}const d=L(()=>{const{filter:He}=t;if(He)return He;const{labelField:at}=t;return(xt,Et)=>{if(!xt.length)return!0;const Nt=Et[at];return typeof Nt=="string"?Nt.toLowerCase().includes(xt.toLowerCase()):!1}}),h=L(()=>{const{pattern:He}=t;return He?!He.length||!d.value?{filteredTree:t.data,highlightKeySet:null,expandedKeys:void 0}:ive(t.data,d.value,He,t.keyField,t.childrenField):{filteredTree:t.data,highlightKeySet:null,expandedKeys:void 0}}),f=L(()=>ma(t.showIrrelevantNodes?t.data:h.value.filteredTree,HA(t.keyField,t.childrenField,t.disabledField,t.getChildren))),p=ut(X4,null),g=t.internalTreeSelect?p.dataTreeMate:L(()=>t.showIrrelevantNodes?f.value:ma(t.data,HA(t.keyField,t.childrenField,t.disabledField,t.getChildren))),{watchProps:m}=t,y=V([]);m!=null&&m.includes("defaultCheckedKeys")?er(()=>{y.value=t.defaultCheckedKeys}):y.value=t.defaultCheckedKeys;const x=Cn($e(t,"checkedKeys"),y),w=L(()=>g.value.getCheckedKeys(x.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded})),C=U$(t),S=L(()=>w.value.checkedKeys),A=L(()=>{const{indeterminateKeys:He}=t;return He!==void 0?He:w.value.indeterminateKeys}),T=V([]);m!=null&&m.includes("defaultSelectedKeys")?er(()=>{T.value=t.defaultSelectedKeys}):T.value=t.defaultSelectedKeys;const E=Cn($e(t,"selectedKeys"),T),P=V([]),_=He=>{P.value=t.defaultExpandAll?g.value.getNonLeafKeys():He===void 0?t.defaultExpandedKeys:He};m!=null&&m.includes("defaultExpandedKeys")?er(()=>{_(void 0)}):er(()=>{_(t.defaultExpandedKeys)});const N=Cn($e(t,"expandedKeys"),P),W=L(()=>f.value.getFlattenedNodes(N.value)),{pendingNodeKeyRef:G,handleKeydown:Z}=Jge({props:t,mergedCheckedKeysRef:x,mergedSelectedKeysRef:E,fNodesRef:W,mergedExpandedKeysRef:N,handleCheck:je,handleSelect:_e,handleSwitcherClick:lt});let ie=null,he=null;const xe=V(new Set),Q=L(()=>t.internalHighlightKeySet||h.value.highlightKeySet),X=Cn(Q,xe),K=V(new Set),ne=L(()=>N.value.filter(He=>!K.value.has(He)));let ve=0;const Se=V(null),ye=V(null),Be=V(null),J=V(null),Ue=V(0),Qe=L(()=>{const{value:He}=ye;return He?He.parent:null});let ae=!1;qt($e(t,"data"),()=>{ae=!0,vn(()=>{ae=!1}),K.value.clear(),G.value=null,wt()},{deep:!1});let fe=!1;const ke=()=>{fe=!0,vn(()=>{fe=!1})};let Ke;qt($e(t,"pattern"),(He,at)=>{if(t.showIrrelevantNodes)if(Ke=void 0,He){const{expandedKeys:xt,highlightKeySet:Et}=rve(t.data,t.pattern,t.keyField,t.childrenField,d.value);xe.value=Et,ke(),pe(xt,ge(xt),{node:null,action:"filter"})}else xe.value=new Set;else if(!He.length)Ke!==void 0&&(ke(),pe(Ke,ge(Ke),{node:null,action:"filter"}));else{at.length||(Ke=N.value);const{expandedKeys:xt}=h.value;xt!==void 0&&(ke(),pe(xt,ge(xt),{node:null,action:"filter"}))}});function Ne(He){return lve(this,void 0,void 0,function*(){const{onLoad:at}=t;if(!at){yield Promise.resolve();return}const{value:xt}=K;if(!xt.has(He.key)){xt.add(He.key);try{(yield at(He.rawNode))===!1&&ue()}catch(Et){console.error(Et),ue()}xt.delete(He.key)}})}er(()=>{var He;const{value:at}=f;if(!at)return;const{getNode:xt}=at;(He=N.value)===null||He===void 0||He.forEach(Et=>{const Nt=xt(Et);Nt&&!Nt.shallowLoaded&&Ne(Nt)})});const Ae=V(!1),se=V([]);qt(ne,(He,at)=>{if(!t.animated||fe){vn(me);return}if(ae)return;const xt=pr(o.value.self.nodeHeight),Et=new Set(at);let Nt=null,Mn=null;for(const rr of He)if(!Et.has(rr)){if(Nt!==null)return;Nt=rr}const wr=new Set(He);for(const rr of at)if(!wr.has(rr)){if(Mn!==null)return;Mn=rr}if(Nt===null&&Mn===null)return;const{virtualScroll:Pr}=t,qi=(Pr?l.value.listElRef:a.value).offsetHeight,Ci=Math.ceil(qi/xt)+1;let ai;if(Nt!==null&&(ai=at),Mn!==null&&(ai===void 0?ai=He:ai=ai.filter(rr=>rr!==Mn)),Ae.value=!0,se.value=f.value.getFlattenedNodes(ai),Nt!==null){const rr=se.value.findIndex(Ye=>Ye.key===Nt);if(~rr){const Ye=se.value[rr].children;if(Ye){const Ct=vA(Ye,He);se.value.splice(rr+1,0,{__motion:!0,mode:"expand",height:Pr?Ct.length*xt:void 0,nodes:Pr?Ct.slice(0,Ci):Ct})}}}if(Mn!==null){const rr=se.value.findIndex(Ye=>Ye.key===Mn);if(~rr){const Ye=se.value[rr].children;if(!Ye)return;Ae.value=!0;const Ct=vA(Ye,He);se.value.splice(rr+1,0,{__motion:!0,mode:"collapse",height:Pr?Ct.length*xt:void 0,nodes:Pr?Ct.slice(0,Ci):Ct})}}});const be=L(()=>aO(W.value)),re=L(()=>Ae.value?se.value:W.value);function me(){const{value:He}=s;He&&He.sync()}function De(){Ae.value=!1,t.virtualScroll&&vn(me)}function ge(He){const{getNode:at}=g.value;return He.map(xt=>{var Et;return((Et=at(xt))===null||Et===void 0?void 0:Et.rawNode)||null})}function pe(He,at,xt){const{"onUpdate:expandedKeys":Et,onUpdateExpandedKeys:Nt}=t;P.value=He,Et&&Fe(Et,He,at,xt),Nt&&Fe(Nt,He,at,xt)}function Te(He,at,xt){const{"onUpdate:checkedKeys":Et,onUpdateCheckedKeys:Nt}=t;y.value=He,Nt&&Fe(Nt,He,at,xt),Et&&Fe(Et,He,at,xt)}function Xe(He,at){const{"onUpdate:indeterminateKeys":xt,onUpdateIndeterminateKeys:Et}=t;xt&&Fe(xt,He,at),Et&&Fe(Et,He,at)}function Oe(He,at,xt){const{"onUpdate:selectedKeys":Et,onUpdateSelectedKeys:Nt}=t;T.value=He,Nt&&Fe(Nt,He,at,xt),Et&&Fe(Et,He,at,xt)}function ft(He){const{onDragenter:at}=t;at&&Fe(at,He)}function Lt(He){const{onDragleave:at}=t;at&&Fe(at,He)}function Kt(He){const{onDragend:at}=t;at&&Fe(at,He)}function Dt(He){const{onDragstart:at}=t;at&&Fe(at,He)}function Ge(He){const{onDragover:at}=t;at&&Fe(at,He)}function en(He){const{onDrop:at}=t;at&&Fe(at,He)}function wt(){_t(),ce()}function _t(){Se.value=null}function ce(){Ue.value=0,ye.value=null,Be.value=null,J.value=null,ue()}function ue(){ie&&(window.clearTimeout(ie),ie=null),he=null}function je(He,at){if(t.disabled||Jc(He,t.disabledField))return;if(t.internalUnifySelectCheck&&!t.multiple){_e(He);return}const xt=at?"check":"uncheck",{checkedKeys:Et,indeterminateKeys:Nt}=g.value[xt](He.key,S.value,{cascade:t.cascade,checkStrategy:C.value,allowNotLoaded:t.allowCheckingNotLoaded});Te(Et,ge(Et),{node:He.rawNode,action:xt}),Xe(Nt,ge(Nt))}function st(He){if(t.disabled)return;const{key:at}=He,{value:xt}=N,Et=xt.findIndex(Nt=>Nt===at);if(~Et){const Nt=Array.from(xt);Nt.splice(Et,1),pe(Nt,ge(Nt),{node:He.rawNode,action:"collapse"})}else{const Nt=f.value.getNode(at);if(!Nt||Nt.isLeaf)return;let Mn;if(t.accordion){const wr=new Set(He.siblings.map(({key:Pr})=>Pr));Mn=xt.filter(Pr=>!wr.has(Pr)),Mn.push(at)}else Mn=xt.concat(at);pe(Mn,ge(Mn),{node:He.rawNode,action:"expand"})}}function lt(He){t.disabled||Ae.value||st(He)}function _e(He){if(!(t.disabled||!t.selectable)){if(G.value=He.key,t.internalUnifySelectCheck){const{value:{checkedKeys:at,indeterminateKeys:xt}}=w;t.multiple?je(He,!(at.includes(He.key)||xt.includes(He.key))):Te([He.key],ge([He.key]),{node:He.rawNode,action:"check"})}if(t.multiple){const at=Array.from(E.value),xt=at.findIndex(Et=>Et===He.key);~xt?t.cancelable&&at.splice(xt,1):~xt||at.push(He.key),Oe(at,ge(at),{node:He.rawNode,action:~xt?"unselect":"select"})}else E.value.includes(He.key)?t.cancelable&&Oe([],[],{node:He.rawNode,action:"unselect"}):Oe([He.key],ge([He.key]),{node:He.rawNode,action:"select"})}}function tt(He){if(ie&&(window.clearTimeout(ie),ie=null),He.isLeaf)return;he=He.key;const at=()=>{if(he!==He.key)return;const{value:xt}=Be;if(xt&&xt.key===He.key&&!N.value.includes(He.key)){const Et=N.value.concat(He.key);pe(Et,ge(Et),{node:He.rawNode,action:"expand"})}ie=null,he=null};He.shallowLoaded?ie=window.setTimeout(()=>{at()},1e3):ie=window.setTimeout(()=>{Ne(He).then(()=>{at()})},1e3)}function Re({event:He,node:at}){!t.draggable||t.disabled||Jc(at,t.disabledField)||(dt({event:He,node:at},!1),ft({event:He,node:at.rawNode}))}function Je({event:He,node:at}){!t.draggable||t.disabled||Jc(at,t.disabledField)||Lt({event:He,node:at.rawNode})}function St(He){He.target===He.currentTarget&&ce()}function Rt({event:He,node:at}){wt(),!(!t.draggable||t.disabled||Jc(at,t.disabledField))&&Kt({event:He,node:at.rawNode})}function ze({event:He,node:at}){!t.draggable||t.disabled||Jc(at,t.disabledField)||(ve=He.clientX,Se.value=at,Dt({event:He,node:at.rawNode}))}function dt({event:He,node:at},xt=!0){var Et;if(!t.draggable||t.disabled||Jc(at,t.disabledField))return;const{value:Nt}=Se;if(!Nt)return;const{allowDrop:Mn,indent:wr}=t;xt&&Ge({event:He,node:at.rawNode});const Pr=He.currentTarget,{height:qi,top:Ci}=Pr.getBoundingClientRect(),ai=He.clientY-Ci;let rr;Mn({node:at.rawNode,dropPosition:"inside",phase:"drag"})?ai<=8?rr="before":ai>=qi-8?rr="after":rr="inside":ai<=qi/2?rr="before":rr="after";const{value:Ct}=be;let Tt,On;const Kr=Ct(at.key);if(Kr===null){ce();return}let Yn=!1;rr==="inside"?(Tt=at,On="inside"):rr==="before"?at.isFirstChild?(Tt=at,On="before"):(Tt=W.value[Kr-1],On="after"):(Tt=at,On="after"),!Tt.isLeaf&&N.value.includes(Tt.key)&&(Yn=!0,On==="after"&&(Tt=W.value[Kr+1],Tt?On="before":(Tt=at,On="inside")));const Eo=Tt;if(Be.value=Eo,!Yn&&Nt.isLastChild&&Nt.key===Tt.key&&(On="after"),On==="after"){let ia=ve-He.clientX,To=0;for(;ia>=wr/2&&Tt.parent!==null&&Tt.isLastChild&&To<1;)ia-=wr,To+=1,Tt=Tt.parent;Ue.value=To}else Ue.value=0;if((Nt.contains(Tt)||On==="inside"&&((Et=Nt.parent)===null||Et===void 0?void 0:Et.key)===Tt.key)&&!(Nt.key===Eo.key&&Nt.key===Tt.key)){ce();return}if(!Mn({node:Tt.rawNode,dropPosition:On,phase:"drag"})){ce();return}if(Nt.key===Tt.key)ue();else if(he!==Tt.key)if(On==="inside"){if(t.expandOnDragenter){if(tt(Tt),!Tt.shallowLoaded&&he!==Tt.key){wt();return}}else if(!Tt.shallowLoaded){wt();return}}else ue();else On!=="inside"&&ue();J.value=On,ye.value=Tt}function Ie({event:He,node:at,dropPosition:xt}){if(!t.draggable||t.disabled||Jc(at,t.disabledField))return;const{value:Et}=Se,{value:Nt}=ye,{value:Mn}=J;if(!(!Et||!Nt||!Mn)&&t.allowDrop({node:Nt.rawNode,dropPosition:Mn,phase:"drag"})&&Et.key!==Nt.key){if(Mn==="before"){const wr=Et.getNext({includeDisabled:!0});if(wr&&wr.key===Nt.key){ce();return}}if(Mn==="after"){const wr=Et.getPrev({includeDisabled:!0});if(wr&&wr.key===Nt.key){ce();return}}en({event:He,node:Nt.rawNode,dragNode:Et.rawNode,dropPosition:xt}),wt()}}function rt(){me()}function mt(){me()}function Ft(He){var at;if(t.virtualScroll||t.internalScrollable){const{value:xt}=s;if(!((at=xt==null?void 0:xt.containerRef)===null||at===void 0)&&at.contains(He.relatedTarget))return;G.value=null}else{const{value:xt}=a;if(xt!=null&&xt.contains(He.relatedTarget))return;G.value=null}}qt(G,He=>{var at,xt;if(He!==null){if(t.virtualScroll)(at=l.value)===null||at===void 0||at.scrollTo({key:He});else if(t.internalScrollable){const{value:Et}=s;if(Et===null)return;const Nt=(xt=Et.contentRef)===null||xt===void 0?void 0:xt.querySelector(`[data-key="${XL(He)}"]`);if(!Nt)return;Et.scrollTo({el:Nt})}}}),zt(Zg,{loadingKeysRef:K,highlightKeySetRef:X,displayedCheckedKeysRef:S,displayedIndeterminateKeysRef:A,mergedSelectedKeysRef:E,mergedExpandedKeysRef:N,mergedThemeRef:o,mergedCheckStrategyRef:C,nodePropsRef:$e(t,"nodeProps"),disabledRef:$e(t,"disabled"),checkableRef:$e(t,"checkable"),selectableRef:$e(t,"selectable"),expandOnClickRef:$e(t,"expandOnClick"),onLoadRef:$e(t,"onLoad"),draggableRef:$e(t,"draggable"),blockLineRef:$e(t,"blockLine"),indentRef:$e(t,"indent"),cascadeRef:$e(t,"cascade"),checkOnClickRef:$e(t,"checkOnClick"),checkboxPlacementRef:t.checkboxPlacement,droppingMouseNodeRef:Be,droppingNodeParentRef:Qe,draggingNodeRef:Se,droppingPositionRef:J,droppingOffsetLevelRef:Ue,fNodesRef:W,pendingNodeKeyRef:G,showLineRef:$e(t,"showLine"),disabledFieldRef:$e(t,"disabledField"),internalScrollableRef:$e(t,"internalScrollable"),internalCheckboxFocusableRef:$e(t,"internalCheckboxFocusable"),internalTreeSelect:t.internalTreeSelect,renderLabelRef:$e(t,"renderLabel"),renderPrefixRef:$e(t,"renderPrefix"),renderSuffixRef:$e(t,"renderSuffix"),renderSwitcherIconRef:$e(t,"renderSwitcherIcon"),labelFieldRef:$e(t,"labelField"),multipleRef:$e(t,"multiple"),overrideDefaultNodeClickBehaviorRef:$e(t,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:lt,handleDragEnd:Rt,handleDragEnter:Re,handleDragLeave:Je,handleDragStart:ze,handleDrop:Ie,handleDragOver:dt,handleSelect:_e,handleCheck:je});function Ht(He,at){var xt,Et;typeof He=="number"?(xt=l.value)===null||xt===void 0||xt.scrollTo(He,at||0):(Et=l.value)===null||Et===void 0||Et.scrollTo(He)}const Le={handleKeydown:Z,scrollTo:Ht,getCheckedData:()=>{if(!t.checkable)return{keys:[],options:[]};const{checkedKeys:He}=w.value;return{keys:He,options:ge(He)}},getIndeterminateData:()=>{if(!t.checkable)return{keys:[],options:[]};const{indeterminateKeys:He}=w.value;return{keys:He,options:ge(He)}}},ot=L(()=>{const{common:{cubicBezierEaseInOut:He},self:{fontSize:at,nodeBorderRadius:xt,nodeColorHover:Et,nodeColorPressed:Nt,nodeColorActive:Mn,arrowColor:wr,loadingColor:Pr,nodeTextColor:qi,nodeTextColorDisabled:Ci,dropMarkColor:ai,nodeWrapperPadding:rr,nodeHeight:Ye,lineHeight:Ct,lineColor:Tt}}=o.value,On=wi(rr,"top"),Kr=wi(rr,"bottom"),Yn=br(pr(Ye)-pr(On)-pr(Kr));return{"--n-arrow-color":wr,"--n-loading-color":Pr,"--n-bezier":He,"--n-font-size":at,"--n-node-border-radius":xt,"--n-node-color-active":Mn,"--n-node-color-hover":Et,"--n-node-color-pressed":Nt,"--n-node-text-color":qi,"--n-node-text-color-disabled":Ci,"--n-drop-mark-color":ai,"--n-node-wrapper-padding":rr,"--n-line-offset-top":`-${On}`,"--n-line-offset-bottom":`-${Kr}`,"--n-node-content-height":Yn,"--n-line-height":Ct,"--n-line-color":Tt}}),kt=n?Ot("tree",void 0,ot,t):void 0;return Object.assign(Object.assign({},Le),{mergedClsPrefix:e,mergedTheme:o,rtlEnabled:i,fNodes:re,aip:Ae,selfElRef:a,virtualListInstRef:l,scrollbarInstRef:s,handleFocusout:Ft,handleDragLeaveTree:St,handleScroll:rt,getScrollContainer:c,getScrollContent:u,handleAfterEnter:De,handleResize:mt,cssVars:n?void 0:ot,themeClass:kt==null?void 0:kt.themeClass,onRender:kt==null?void 0:kt.onRender})},render(){var t;const{fNodes:e,internalRenderEmpty:n}=this;if(!e.length&&n)return n();const{mergedClsPrefix:r,blockNode:i,blockLine:o,draggable:a,disabled:s,ellipsis:l,internalFocusable:c,checkable:u,handleKeydown:d,rtlEnabled:h,handleFocusout:f,scrollbarProps:p}=this,g=c&&!s,m=g?"0":void 0,y=[`${r}-tree`,h&&`${r}-tree--rtl`,u&&`${r}-tree--checkable`,(o||i)&&`${r}-tree--block-node`,o&&`${r}-tree--block-line`,l&&`${r}-tree--ellipsis`],b=w=>"__motion"in w?v(ave,{height:w.height,nodes:w.nodes,clsPrefix:r,mode:w.mode,onAfterEnter:this.handleAfterEnter}):v(V$,{key:w.key,tmNode:w,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:w,internalScrollablePadding:C}=this,S=wi(C||"0");return v(Xf,Object.assign({},p,{ref:"scrollbarInstRef",onDragleave:a?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:y,theme:w.peers.Scrollbar,themeOverrides:w.peerOverrides.Scrollbar,tabindex:m,onKeydown:g?d:void 0,onFocusout:g?f:void 0}),{default:()=>{var A;return(A=this.onRender)===null||A===void 0||A.call(this),e.length?v(Os,{ref:"virtualListInstRef",items:this.fNodes,itemSize:pr(w.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:S.top,paddingBottom:S.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:S.left,paddingRight:S.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:T})=>b(T)}):sn(this.$slots.empty,()=>[v(yc,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:x}=this;return y.push(this.themeClass),(t=this.onRender)===null||t===void 0||t.call(this),x?v(Xf,Object.assign({},p,{class:y,tabindex:m,onKeydown:g?d:void 0,onFocusout:g?f:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>v("div",{onDragleave:a?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(b))}):v("div",{class:y,tabindex:m,ref:"selfElRef",style:this.cssVars,onKeydown:g?d:void 0,onFocusout:g?f:void 0,onDragleave:a?this.handleDragLeaveTree:void 0},e.length?e.map(b):sn(this.$slots.empty,()=>[v(yc,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),cve=B([R("tree-select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),R("tree-select-menu",`
 position: relative;
 overflow: hidden;
 margin: 4px 0;
 transition: box-shadow .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-menu-border-radius);
 box-shadow: var(--n-menu-box-shadow);
 background-color: var(--n-menu-color);
 outline: none;
 `,[R("tree","max-height: var(--n-menu-height);"),H("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),H("header",`
 padding: var(--n-header-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-header-divider-color);
 color: var(--n-header-text-color);
 `),H("action",`
 padding: var(--n-action-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),Qi()])]);function xR(t,e){const{rawNode:n}=t;return Object.assign(Object.assign({},n),{label:n[e],value:t.key})}function wR(t,e,n,r){const{rawNode:i}=t;return Object.assign(Object.assign({},i),{value:t.key,label:e.map(o=>o.rawNode[r]).join(n)})}const G$=Object.assign(Object.assign(Object.assign(Object.assign({},Ve.props),{bordered:{type:Boolean,default:!0},cascade:Boolean,checkable:Boolean,clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},consistentMenuWidth:{type:Boolean,default:!0},defaultShow:Boolean,defaultValue:{type:[String,Number,Array],default:null},disabled:{type:Boolean,default:void 0},filterable:Boolean,checkStrategy:{type:String,default:"all"},loading:Boolean,maxTagCount:[String,Number],multiple:Boolean,showPath:Boolean,separator:{type:String,default:" / "},options:{type:Array,default:()=>[]},placeholder:String,placement:{type:String,default:"bottom-start"},show:{type:Boolean,default:void 0},size:String,value:[String,Number,Array],to:vr.propTo,menuProps:Object,virtualScroll:{type:Boolean,default:!0},status:String,renderTag:Function,ellipsisTagPopoverProps:Object}),W$),{renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,watchProps:Array,getChildren:Function,onBlur:Function,onFocus:Function,onLoad:Function,onUpdateShow:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],"onUpdate:show":[Function,Array],leafOnly:Boolean}),uve=le({name:"TreeSelect",props:G$,slots:Object,setup(t){const e=V(null),n=V(null),r=V(null),i=V(null),{mergedClsPrefixRef:o,namespaceRef:a,inlineThemeDisabled:s}=gt(t),{localeRef:l}=li("Select"),{mergedSizeRef:c,mergedDisabledRef:u,mergedStatusRef:d,nTriggerFormBlur:h,nTriggerFormChange:f,nTriggerFormFocus:p,nTriggerFormInput:g}=di(t),m=V(t.defaultValue),b=Cn($e(t,"value"),m),x=V(t.defaultShow),C=Cn($e(t,"show"),x),S=V(""),A=L(()=>{const{filter:ue}=t;if(ue)return ue;const{labelField:je}=t;return(st,lt)=>st.length?lt[je].toLowerCase().includes(st.toLowerCase()):!0}),T=L(()=>ma(t.options,HA(t.keyField,t.childrenField,t.disabledField,void 0))),{value:k}=b,E=V(t.checkable?null:Array.isArray(k)&&k.length?k[k.length-1]:null),P=L(()=>t.multiple&&t.cascade&&t.checkable),_=V(t.defaultExpandAll?void 0:t.defaultExpandedKeys||t.expandedKeys),N=Cn($e(t,"expandedKeys"),_),W=V(!1),G=L(()=>{const{placeholder:ue}=t;return ue!==void 0?ue:l.value.placeholder}),Z=L(()=>{const{value:ue}=b;return t.multiple?Array.isArray(ue)?ue:[]:ue===null||Array.isArray(ue)?[]:[ue]}),ie=L(()=>t.checkable?[]:Z.value),he=L(()=>{const{multiple:ue,showPath:je,separator:st,labelField:lt}=t;if(ue)return null;const{value:_e}=b;if(!Array.isArray(_e)&&_e!==null){const{value:tt}=T,Re=tt.getNode(_e);if(Re!==null)return je?wR(Re,tt.getPath(_e).treeNodePath,st,lt):xR(Re,lt)}return null}),xe=L(()=>{const{multiple:ue,showPath:je,separator:st}=t;if(!ue)return null;const{value:lt}=b;if(Array.isArray(lt)){const _e=[],{value:tt}=T,{checkedKeys:Re}=tt.getCheckedKeys(lt,{checkStrategy:t.checkStrategy,cascade:P.value,allowNotLoaded:t.allowCheckingNotLoaded}),{labelField:Je}=t;return Re.forEach(St=>{const Rt=tt.getNode(St);Rt!==null&&_e.push(je?wR(Rt,tt.getPath(St).treeNodePath,st,Je):xR(Rt,Je))}),_e}return[]});function Q(){var ue;(ue=n.value)===null||ue===void 0||ue.focus()}function X(){var ue;(ue=n.value)===null||ue===void 0||ue.focusInput()}function K(ue){const{onUpdateShow:je,"onUpdate:show":st}=t;je&&Fe(je,ue),st&&Fe(st,ue),x.value=ue}function ne(ue,je,st){const{onUpdateValue:lt,"onUpdate:value":_e}=t;lt&&Fe(lt,ue,je,st),_e&&Fe(_e,ue,je,st),m.value=ue,g(),f()}function ve(ue,je){const{onUpdateIndeterminateKeys:st,"onUpdate:indeterminateKeys":lt}=t;st&&Fe(st,ue,je),lt&&Fe(lt,ue,je)}function Se(ue,je,st){const{onUpdateExpandedKeys:lt,"onUpdate:expandedKeys":_e}=t;lt&&Fe(lt,ue,je,st),_e&&Fe(_e,ue,je,st),_.value=ue}function ye(ue){const{onFocus:je}=t;je&&je(ue),p()}function Be(ue){J();const{onBlur:je}=t;je&&je(ue),h()}function J(){K(!1)}function Ue(){u.value||(S.value="",K(!0),t.filterable&&X())}function Qe(){S.value=""}function ae(ue){var je;C.value&&(!((je=n.value)===null||je===void 0)&&je.$el.contains(ba(ue))||J())}function fe(){u.value||(C.value?t.filterable||J():Ue())}function ke(ue){const{value:{getNode:je}}=T;return ue.map(st=>{var lt;return((lt=je(st))===null||lt===void 0?void 0:lt.rawNode)||null})}function Ke(ue,je,st){const lt=ke(ue),_e=st.action==="check"?"select":"unselect",tt=st.node;t.multiple?(ne(ue,lt,{node:tt,action:_e}),t.filterable&&(X(),t.clearFilterAfterSelect&&(S.value=""))):(ue.length?ne(ue[0],lt[0]||null,{node:tt,action:_e}):ne(null,null,{node:tt,action:_e}),J(),Q())}function Ne(ue){t.checkable&&ve(ue,ke(ue))}function Ae(ue){var je;!((je=i.value)===null||je===void 0)&&je.contains(ue.relatedTarget)||(W.value=!0,ye(ue))}function se(ue){var je;!((je=i.value)===null||je===void 0)&&je.contains(ue.relatedTarget)||(W.value=!1,Be(ue))}function be(ue){var je,st,lt;!((je=i.value)===null||je===void 0)&&je.contains(ue.relatedTarget)||!((lt=(st=n.value)===null||st===void 0?void 0:st.$el)===null||lt===void 0)&&lt.contains(ue.relatedTarget)||(W.value=!0,ye(ue))}function re(ue){var je,st,lt;!((je=i.value)===null||je===void 0)&&je.contains(ue.relatedTarget)||!((lt=(st=n.value)===null||st===void 0?void 0:st.$el)===null||lt===void 0)&&lt.contains(ue.relatedTarget)||(W.value=!1,Be(ue))}function me(ue){ue.stopPropagation();const{multiple:je}=t;!je&&t.filterable&&J(),je?ne([],[],{node:null,action:"clear"}):ne(null,null,{node:null,action:"clear"})}function De(ue){const{value:je}=b;if(Array.isArray(je)){const{value:st}=T,{checkedKeys:lt}=st.getCheckedKeys(je,{cascade:P.value,allowNotLoaded:t.allowCheckingNotLoaded}),_e=lt.findIndex(tt=>tt===ue.value);if(~_e){const tt=lt[_e],Re=ke([tt])[0];if(t.checkable){const{checkedKeys:Je}=st.uncheck(ue.value,lt,{checkStrategy:t.checkStrategy,cascade:P.value,allowNotLoaded:t.allowCheckingNotLoaded});ne(Je,ke(Je),{node:Re,action:"delete"})}else{const Je=Array.from(lt);Je.splice(_e,1),ne(Je,ke(Je),{node:Re,action:"delete"})}}}}function ge(ue){const{value:je}=ue.target;S.value=je}function pe(ue){const{value:je}=r;return je?je.handleKeydown(ue):{enterBehavior:null}}function Te(ue){if(ue.key==="Enter"){if(C.value){const{enterBehavior:je}=pe(ue);if(!t.multiple)switch(je){case"default":case"toggleSelect":J(),Q();break}}else Ue();ue.preventDefault()}else ue.key==="Escape"?C.value&&(rh(ue),J(),Q()):C.value?pe(ue):ue.key==="ArrowDown"&&Ue()}function Xe(){J(),Q()}function Oe(ue){!Zr(ue,"action")&&!Zr(ue,"header")&&ue.preventDefault()}const ft=L(()=>{const{renderTag:ue}=t;if(ue)return function({option:st,handleClose:lt}){const{value:_e}=st;if(_e!==void 0){const tt=T.value.getNode(_e);if(tt)return ue({option:tt.rawNode,handleClose:lt})}return _e}});zt(X4,{pendingNodeKeyRef:E,dataTreeMate:T});function Lt(){var ue;C.value&&((ue=e.value)===null||ue===void 0||ue.syncPosition())}tx(i,Lt);const Kt=U$(t),Dt=L(()=>{if(t.checkable){const ue=b.value;return t.multiple&&Array.isArray(ue)?T.value.getCheckedKeys(ue,{cascade:t.cascade,checkStrategy:Kt.value,allowNotLoaded:t.allowCheckingNotLoaded}):{checkedKeys:Array.isArray(ue)||ue===null?[]:[ue],indeterminateKeys:[]}}return{checkedKeys:[],indeterminateKeys:[]}}),Ge={getCheckedData:()=>{const{checkedKeys:ue}=Dt.value;return{keys:ue,options:ke(ue)}},getIndeterminateData:()=>{const{indeterminateKeys:ue}=Dt.value;return{keys:ue,options:ke(ue)}},focus:()=>{var ue;return(ue=n.value)===null||ue===void 0?void 0:ue.focus()},focusInput:()=>{var ue;return(ue=n.value)===null||ue===void 0?void 0:ue.focusInput()},blur:()=>{var ue;return(ue=n.value)===null||ue===void 0?void 0:ue.blur()},blurInput:()=>{var ue;return(ue=n.value)===null||ue===void 0?void 0:ue.blurInput()}},en=Ve("TreeSelect","-tree-select",cve,Jfe,t,o),wt=L(()=>{const{common:{cubicBezierEaseInOut:ue},self:{menuBoxShadow:je,menuBorderRadius:st,menuColor:lt,menuHeight:_e,actionPadding:tt,actionDividerColor:Re,actionTextColor:Je,headerDividerColor:St,headerPadding:Rt,headerTextColor:ze}}=en.value;return{"--n-menu-box-shadow":je,"--n-menu-border-radius":st,"--n-menu-color":lt,"--n-menu-height":_e,"--n-bezier":ue,"--n-action-padding":tt,"--n-action-text-color":Je,"--n-action-divider-color":Re,"--n-header-padding":Rt,"--n-header-text-color":ze,"--n-header-divider-color":St}}),_t=s?Ot("tree-select",void 0,wt,t):void 0,ce=L(()=>{const{self:{menuPadding:ue}}=en.value;return ue});return Object.assign(Object.assign({},Ge),{menuElRef:i,mergedStatus:d,triggerInstRef:n,followerInstRef:e,treeInstRef:r,mergedClsPrefix:o,mergedValue:b,mergedShow:C,namespace:a,adjustedTo:vr(t),isMounted:co(),focused:W,menuPadding:ce,mergedPlaceholder:G,mergedExpandedKeys:N,treeSelectedKeys:ie,treeCheckedKeys:Z,mergedSize:c,mergedDisabled:u,selectedOption:he,selectedOptions:xe,pattern:S,pendingNodeKey:E,mergedCascade:P,mergedFilter:A,selectionRenderTag:ft,handleTriggerOrMenuResize:Lt,doUpdateExpandedKeys:Se,handleMenuLeave:Qe,handleTriggerClick:fe,handleMenuClickoutside:ae,handleUpdateCheckedKeys:Ke,handleUpdateIndeterminateKeys:Ne,handleTriggerFocus:Ae,handleTriggerBlur:se,handleMenuFocusin:be,handleMenuFocusout:re,handleClear:me,handleDeleteOption:De,handlePatternInput:ge,handleKeydown:Te,handleTabOut:Xe,handleMenuMousedown:Oe,mergedTheme:en,cssVars:s?void 0:wt,themeClass:_t==null?void 0:_t.themeClass,onRender:_t==null?void 0:_t.onRender})},render(){const{mergedTheme:t,mergedClsPrefix:e,$slots:n}=this;return v("div",{class:`${e}-tree-select`},v(us,null,{default:()=>[v(ds,null,{default:()=>v(s4,{ref:"triggerInstRef",onResize:this.handleTriggerOrMenuResize,status:this.mergedStatus,focused:this.focused,clsPrefix:e,theme:t.peers.InternalSelection,themeOverrides:t.peerOverrides.InternalSelection,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,renderTag:this.selectionRenderTag,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,size:this.mergedSize,bordered:this.bordered,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,active:this.mergedShow,loading:this.loading,multiple:this.multiple,maxTagCount:this.maxTagCount,showArrow:!0,filterable:this.filterable,clearable:this.clearable,pattern:this.pattern,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onDeleteOption:this.handleDeleteOption,onKeydown:this.handleKeydown},{arrow:()=>{var r,i;return[(i=(r=this.$slots).arrow)===null||i===void 0?void 0:i.call(r)]}})}),v(Na,{ref:"followerInstRef",show:this.mergedShow,placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===vr.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target"},{default:()=>v(hr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onLeave:this.handleMenuLeave},{default:()=>{var r;if(!this.mergedShow)return null;const{mergedClsPrefix:i,checkable:o,multiple:a,menuProps:s,options:l}=this;return(r=this.onRender)===null||r===void 0||r.call(this),ii(v("div",Object.assign({},s,{class:[`${i}-tree-select-menu`,s==null?void 0:s.class,this.themeClass],ref:"menuElRef",style:[(s==null?void 0:s.style)||"",this.cssVars],tabindex:0,onMousedown:this.handleMenuMousedown,onKeydown:this.handleKeydown,onFocusin:this.handleMenuFocusin,onFocusout:this.handleMenuFocusout}),bn(n.header,c=>c?v("div",{class:`${i}-tree-select-menu__header`,"data-header":!0},c):null),v(K$,{ref:"treeInstRef",blockLine:!0,allowCheckingNotLoaded:this.allowCheckingNotLoaded,showIrrelevantNodes:!1,animated:!1,pattern:this.pattern,getChildren:this.getChildren,filter:this.mergedFilter,data:l,cancelable:a,labelField:this.labelField,keyField:this.keyField,disabledField:this.disabledField,childrenField:this.childrenField,theme:t.peers.Tree,themeOverrides:t.peerOverrides.Tree,defaultExpandAll:this.defaultExpandAll,defaultExpandedKeys:this.defaultExpandedKeys,indent:this.indent,expandedKeys:this.mergedExpandedKeys,checkedKeys:this.treeCheckedKeys,selectedKeys:this.treeSelectedKeys,checkable:o,checkStrategy:this.checkStrategy,cascade:this.mergedCascade,leafOnly:this.leafOnly,multiple:this.multiple,renderLabel:this.renderLabel,renderPrefix:this.renderPrefix,renderSuffix:this.renderSuffix,renderSwitcherIcon:this.renderSwitcherIcon,nodeProps:this.nodeProps,watchProps:this.watchProps,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,overrideDefaultNodeClickBehavior:this.overrideDefaultNodeClickBehavior,internalTreeSelect:!0,internalUnifySelectCheck:!0,internalScrollable:!0,internalScrollablePadding:this.menuPadding,internalFocusable:!1,internalCheckboxFocusable:!1,internalRenderEmpty:()=>v("div",{class:`${i}-tree-select-menu__empty`},sn(n.empty,()=>[v(yc,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})])),onLoad:this.onLoad,onUpdateCheckedKeys:this.handleUpdateCheckedKeys,onUpdateIndeterminateKeys:this.handleUpdateIndeterminateKeys,onUpdateExpandedKeys:this.doUpdateExpandedKeys}),bn(n.action,c=>c?v("div",{class:`${i}-tree-select-menu__action`,"data-action":!0},c):null),v(Ol,{onFocus:this.handleTabOut})),[[xa,this.handleMenuClickoutside,void 0,{capture:!0}]])}})})]}))}}),dve=R("a",`
 cursor: pointer;
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 text-decoration-color: var(--n-text-color);
 color: var(--n-text-color);
`),Y$=Object.assign({},Ve.props),hve=le({name:"A",props:Y$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-a",dve,td,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{aTextColor:s}}=r.value;return{"--n-text-color":s,"--n-bezier":a}}),o=n?Ot("a",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v("a",{class:[`${this.mergedClsPrefix}-a`,this.themeClass],style:this.cssVars},this.$slots)}}),fve=R("blockquote",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 margin: 0;
 margin-top: 12px;
 margin-bottom: 12px;
 box-sizing: border-box;
 padding-left: 12px;
 border-left: 4px solid var(--n-prefix-color);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[B("&:first-child",{marginTop:0}),B("&:last-child",{marginBottom:0}),U("align-text",{marginLeft:"-16px"})]),X$=Object.assign(Object.assign({},Ve.props),{alignText:Boolean}),pve=le({name:"Blockquote",props:X$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-blockquote",fve,td,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{blockquoteTextColor:s,blockquotePrefixColor:l,blockquoteLineHeight:c,blockquoteFontSize:u}}=r.value;return{"--n-bezier":a,"--n-font-size":u,"--n-line-height":c,"--n-prefix-color":l,"--n-text-color":s}}),o=n?Ot("blockquote",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("blockquote",{class:[`${e}-blockquote`,this.themeClass,this.alignText&&`${e}-blockquote--align-text`],style:this.cssVars},this.$slots)}}),mve=R("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[B("&:first-child",{marginTop:0}),U("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[U("align-text",{paddingLeft:0},[B("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),B("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),B("&::before",{backgroundColor:"var(--n-bar-color)"})])]),Ed=Object.assign(Object.assign({},Ve.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),mp=t=>le({name:`H${t}`,props:Ed,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(e),i=Ve("Typography","-h",mve,td,e,n),o=L(()=>{const{type:s}=e,{common:{cubicBezierEaseInOut:l},self:{headerFontWeight:c,headerTextColor:u,[We("headerPrefixWidth",t)]:d,[We("headerFontSize",t)]:h,[We("headerMargin",t)]:f,[We("headerBarWidth",t)]:p,[We("headerBarColor",s)]:g}}=i.value;return{"--n-bezier":l,"--n-font-size":h,"--n-margin":f,"--n-bar-color":g,"--n-bar-width":p,"--n-font-weight":c,"--n-text-color":u,"--n-prefix-width":d}}),a=r?Ot(`h${t}`,L(()=>e.type[0]),o,e):void 0;return{mergedClsPrefix:n,cssVars:r?void 0:o,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var e;const{prefix:n,alignText:r,mergedClsPrefix:i,cssVars:o,$slots:a}=this;return(e=this.onRender)===null||e===void 0||e.call(this),v(`h${t}`,{class:[`${i}-h`,`${i}-h${t}`,this.themeClass,{[`${i}-h--prefix-bar`]:n,[`${i}-h--align-text`]:r}],style:o},a)}}),gve=mp("1"),vve=mp("2"),yve=mp("3"),bve=mp("4"),xve=mp("5"),wve=mp("6"),Cve=R("hr",`
 margin: 12px 0;
 transition: border-color .3s var(--n-bezier);
 border-left: none;
 border-right: none;
 border-bottom: none;
 border-top: 1px solid var(--n-color);
`),Ave=le({name:"Hr",props:Object.assign({},Ve.props),setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-hr",Cve,td,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{hrColor:s}}=r.value;return{"--n-bezier":a,"--n-color":s}}),o=n?Ot("hr",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v("hr",{class:[`${this.mergedClsPrefix}-hr`,this.themeClass],style:this.cssVars})}}),Sve=le({name:"Li",render(){return v("li",null,this.$slots)}}),CR=B("li",{transition:"color .3s var(--n-bezier)",lineHeight:"var(--n-line-height)",margin:"var(--n-li-margin)",marginBottom:0,color:"var(--n-text-color)"}),AR=[B("&:first-child",`
 margin-top: 0;
 `),B("&:last-child",`
 margin-bottom: 0;
 `)],Q$=B([R("ol",{fontSize:"var(--n-font-size)",padding:"var(--n-ol-padding)"},[U("align-text",{paddingLeft:0}),CR,AR]),R("ul",{fontSize:"var(--n-font-size)",padding:"var(--n-ul-padding)"},[U("align-text",{paddingLeft:0}),CR,AR])]),Z$=Object.assign(Object.assign({},Ve.props),{alignText:Boolean}),kve=le({name:"Ol",props:Z$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-xl",Q$,td,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{olPadding:s,ulPadding:l,liMargin:c,liTextColor:u,liLineHeight:d,liFontSize:h}}=r.value;return{"--n-bezier":a,"--n-font-size":h,"--n-line-height":d,"--n-text-color":u,"--n-li-margin":c,"--n-ol-padding":s,"--n-ul-padding":l}}),o=n?Ot("ol",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("ol",{class:[`${e}-ol`,this.themeClass,this.alignText&&`${e}-ol--align-text`],style:this.cssVars},this.$slots)}}),Eve=R("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[B("&:first-child","margin-top: 0;"),B("&:last-child","margin-bottom: 0;")]),J$=Object.assign(Object.assign({},Ve.props),{depth:[String,Number]}),Tve=le({name:"P",props:J$,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-p",Eve,td,t,e),i=L(()=>{const{depth:a}=t,s=a||"1",{common:{cubicBezierEaseInOut:l},self:{pFontSize:c,pLineHeight:u,pMargin:d,pTextColor:h,[`pTextColor${s}Depth`]:f}}=r.value;return{"--n-bezier":l,"--n-font-size":c,"--n-line-height":u,"--n-margin":d,"--n-text-color":a===void 0?h:f}}),o=n?Ot("p",L(()=>`${t.depth||""}`),i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),v("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),Rve=R("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[U("strong",`
 font-weight: var(--n-font-weight-strong);
 `),U("italic",{fontStyle:"italic"}),U("underline",{textDecoration:"underline"}),U("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),eB=Object.assign(Object.assign({},Ve.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),tB=le({name:"Text",props:eB,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-text",Rve,td,t,e),i=L(()=>{const{depth:a,type:s}=t,l=s==="default"?a===void 0?"textColor":`textColor${a}Depth`:We("textColor",s),{common:{fontWeightStrong:c,fontFamilyMono:u,cubicBezierEaseInOut:d},self:{codeTextColor:h,codeBorderRadius:f,codeColor:p,codeBorder:g,[l]:m}}=r.value;return{"--n-bezier":d,"--n-text-color":m,"--n-font-weight-strong":c,"--n-font-famliy-mono":u,"--n-code-border-radius":f,"--n-code-text-color":h,"--n-code-color":p,"--n-code-border":g}}),o=n?Ot("text",L(()=>`${t.type[0]}${t.depth||""}`),i,t):void 0;return{mergedClsPrefix:e,compitableTag:Lu(t,["as","tag"]),cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t,e,n;const{mergedClsPrefix:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const i=[`${r}-text`,this.themeClass,{[`${r}-text--code`]:this.code,[`${r}-text--delete`]:this.delete,[`${r}-text--strong`]:this.strong,[`${r}-text--italic`]:this.italic,[`${r}-text--underline`]:this.underline}],o=(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e);return this.code?v("code",{class:i,style:this.cssVars},this.delete?v("del",null,o):o):this.delete?v("del",{class:i,style:this.cssVars},o):v(this.compitableTag||"span",{class:i,style:this.cssVars},o)}}),nB=Object.assign(Object.assign({},Ve.props),{alignText:Boolean}),_ve=le({name:"Ul",props:nB,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=gt(t),r=Ve("Typography","-xl",Q$,td,t,e),i=L(()=>{const{common:{cubicBezierEaseInOut:a},self:{olPadding:s,ulPadding:l,liMargin:c,liTextColor:u,liLineHeight:d,liFontSize:h}}=r.value;return{"--n-bezier":a,"--n-font-size":h,"--n-line-height":d,"--n-text-color":u,"--n-li-margin":c,"--n-ol-padding":s,"--n-ul-padding":l}}),o=n?Ot("ul",void 0,i,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),v("ul",{class:[`${e}-ul`,this.themeClass,this.alignText&&`${e}-ul--align-text`],style:this.cssVars},this.$slots)}}),gp="n-upload",Pve=B([R("upload","width: 100%;",[U("dragger-inside",[R("upload-trigger",`
 display: block;
 `)]),U("drag-over",[R("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),R("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[B("&:hover",`
 border: var(--n-dragger-border-hover);
 `),U("disabled",`
 cursor: not-allowed;
 `)]),R("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[B("+",[R("upload-file-list","margin-top: 8px;")]),U("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),U("image-card",`
 width: 96px;
 height: 96px;
 `,[R("base-icon",`
 font-size: 24px;
 `),R("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),R("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[B("a, img","outline: none;"),U("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[R("upload-file","cursor: not-allowed;")]),U("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),R("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[bc(),R("progress",[bc({foldPadding:!0})]),B("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[R("upload-file-info",[H("action",`
 opacity: 1;
 `)])]),U("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[R("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[R("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),H("name",`
 padding: 0 8px;
 `),H("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[B("img",`
 width: 100%;
 `)])])]),U("text-type",[R("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),U("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[R("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),R("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[H("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[B("img",`
 width: 100%;
 `)])]),B("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),B("&:hover",[B("&::before","opacity: 1;"),R("upload-file-info",[H("thumbnail","opacity: .12;")])])]),U("error-status",[B("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),R("upload-file-info",[H("name","color: var(--n-item-text-color-error);"),H("thumbnail","color: var(--n-item-text-color-error);")]),U("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),U("with-url",`
 cursor: pointer;
 `,[R("upload-file-info",[H("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[B("a",`
 text-decoration: underline;
 `)])])]),R("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[H("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[R("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),H("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[R("button",[B("&:not(:last-child)",{marginRight:"4px"}),R("base-icon",[B("svg",[mo()])])]),U("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),U("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),H("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[B("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),R("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),rB="__UPLOAD_DRAGGER__",iB=le({name:"UploadDragger",[rB]:!0,setup(t,{slots:e}){const n=ut(gp,null);return n||Ii("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:i},maxReachedRef:{value:o}}=n;return v("div",{class:[`${r}-upload-dragger`,(i||o)&&`${r}-upload-dragger--disabled`]},e)}}});function Ive(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},v("g",{fill:"none"},v("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"})))}function Lve(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},v("g",{fill:"none"},v("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})))}const Mve=le({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:ut(gp).mergedThemeRef}},render(){return v(Ml,null,{default:()=>this.show?v(b$,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var UA=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function oB(t){return t.includes("image/")}function SR(t=""){const e=t.split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]}const kR=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,aB=t=>{if(t.type)return oB(t.type);const e=SR(t.name||"");if(kR.test(e))return!0;const n=t.thumbnailUrl||t.url||"",r=SR(n);return!!(/^data:image\//.test(n)||kR.test(r))};function Ove(t){return UA(this,void 0,void 0,function*(){return yield new Promise(e=>{if(!t.type||!oB(t.type)){e("");return}e(window.URL.createObjectURL(t))})})}const Dve=na&&window.FileReader&&window.File;function Fve(t){return t.isDirectory}function $ve(t){return t.isFile}function Bve(t,e){return UA(this,void 0,void 0,function*(){const n=[];function r(i){return UA(this,void 0,void 0,function*(){for(const o of i)if(o){if(e&&Fve(o)){const a=o.createReader();let s=[],l;try{do l=yield new Promise((c,u)=>{a.readEntries(c,u)}),s=s.concat(l);while(l.length>0)}catch(c){dT("upload","error happens when handling directory upload",c)}yield r(s)}else if($ve(o))try{const a=yield new Promise((s,l)=>{o.file(s,l)});n.push({file:a,entry:o,source:"dnd"})}catch(a){dT("upload","error happens when handling file upload",a)}}})}return yield r(t),n})}function og(t){const{id:e,name:n,percentage:r,status:i,url:o,file:a,thumbnailUrl:s,type:l,fullPath:c,batchId:u}=t;return{id:e,name:n,percentage:r??null,status:i,url:o??null,file:a??null,thumbnailUrl:s??null,type:l??null,fullPath:c??null,batchId:u??null}}function Nve(t,e,n){return t=t.toLowerCase(),e=e.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(i=>i.trim()).filter(Boolean).some(i=>{if(i.startsWith(".")){if(t.endsWith(i))return!0}else if(i.includes("/")){const[o,a]=e.split("/"),[s,l]=i.split("/");if((s==="*"||o&&s&&s===o)&&(l==="*"||a&&l&&l===a))return!0}else return!0;return!1})}var ER=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const Zv={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},zve=le({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(t){const e=ut(gp),n=V(null),r=V(""),i=L(()=>{const{file:C}=t;return C.status==="finished"?"success":C.status==="error"?"error":"info"}),o=L(()=>{const{file:C}=t;if(C.status==="error")return"error"}),a=L(()=>{const{file:C}=t;return C.status==="uploading"}),s=L(()=>{if(!e.showCancelButtonRef.value)return!1;const{file:C}=t;return["uploading","pending","error"].includes(C.status)}),l=L(()=>{if(!e.showRemoveButtonRef.value)return!1;const{file:C}=t;return["finished"].includes(C.status)}),c=L(()=>{if(!e.showDownloadButtonRef.value)return!1;const{file:C}=t;return["finished"].includes(C.status)}),u=L(()=>{if(!e.showRetryButtonRef.value)return!1;const{file:C}=t;return["error"].includes(C.status)}),d=Yt(()=>r.value||t.file.thumbnailUrl||t.file.url),h=L(()=>{if(!e.showPreviewButtonRef.value)return!1;const{file:{status:C},listType:S}=t;return["finished"].includes(C)&&d.value&&S==="image-card"});function f(){return ER(this,void 0,void 0,function*(){const C=e.onRetryRef.value;C&&(yield C({file:t.file}))===!1||e.submit(t.file.id)})}function p(C){C.preventDefault();const{file:S}=t;["finished","pending","error"].includes(S.status)?m(S):["uploading"].includes(S.status)?b(S):go("upload","The button clicked type is unknown.")}function g(C){C.preventDefault(),y(t.file)}function m(C){const{xhrMap:S,doChange:A,onRemoveRef:{value:T},mergedFileListRef:{value:k}}=e;Promise.resolve(T?T({file:Object.assign({},C),fileList:k,index:t.index}):!0).then(E=>{if(E===!1)return;const P=Object.assign({},C,{status:"removed"});S.delete(C.id),A(P,void 0,{remove:!0})})}function y(C){const{onDownloadRef:{value:S},customDownloadRef:{value:A}}=e;Promise.resolve(S?S(Object.assign({},C)):!0).then(T=>{T!==!1&&(A?A(Object.assign({},C)):nx(C.url,C.name))})}function b(C){const{xhrMap:S}=e,A=S.get(C.id);A==null||A.abort(),m(Object.assign({},C))}function x(C){const{onPreviewRef:{value:S}}=e;if(S)S(t.file,{event:C});else if(t.listType==="image-card"){const{value:A}=n;if(!A)return;A.showPreview()}}const w=()=>ER(this,void 0,void 0,function*(){const{listType:C}=t;C!=="image"&&C!=="image-card"||e.shouldUseThumbnailUrlRef.value(t.file)&&(r.value=yield e.getFileThumbnailUrlResolver(t.file))});return er(()=>{w()}),{mergedTheme:e.mergedThemeRef,progressStatus:i,buttonType:o,showProgress:a,disabled:e.mergedDisabledRef,showCancelButton:s,showRemoveButton:l,showDownloadButton:c,showRetryButton:u,showPreviewButton:h,mergedThumbnailUrl:d,shouldUseThumbnailUrl:e.shouldUseThumbnailUrlRef,renderIcon:e.renderIconRef,imageRef:n,handleRemoveOrCancelClick:p,handleDownloadClick:g,handleRetryClick:f,handlePreviewClick:x}},render(){const{clsPrefix:t,mergedTheme:e,listType:n,file:r,renderIcon:i}=this;let o;const a=n==="image";a||n==="image-card"?o=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?v("span",{class:`${t}-upload-file-info__thumbnail`},i?i(r):aB(r)?v(Jt,{clsPrefix:t},{default:Ive}):v(Jt,{clsPrefix:t},{default:Lve})):v("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${t}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?v(WF,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):v("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):o=v("span",{class:`${t}-upload-file-info__thumbnail`},i?i(r):v(Jt,{clsPrefix:t},{default:()=>v(Qne,null)}));const l=v(Mve,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),c=n==="text"||n==="image";return v("div",{class:[`${t}-upload-file`,`${t}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&n!=="image-card"&&`${t}-upload-file--with-url`,`${t}-upload-file--${n}-type`]},v("div",{class:`${t}-upload-file-info`},o,v("div",{class:`${t}-upload-file-info__name`},c&&(r.url&&r.status!=="error"?v("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):v("span",{onClick:this.handlePreviewClick},r.name)),a&&l),v("div",{class:[`${t}-upload-file-info__action`,`${t}-upload-file-info__action--${n}-type`]},this.showPreviewButton?v(Qn,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Zv},{icon:()=>v(Jt,{clsPrefix:t},{default:()=>v(eO,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&v(Qn,{key:"cancelOrTrash",theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Zv,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>v(Ll,null,{default:()=>this.showRemoveButton?v(Jt,{clsPrefix:t,key:"trash"},{default:()=>v(dre,null)}):v(Jt,{clsPrefix:t,key:"cancel"},{default:()=>v(Zne,null)})})}),this.showRetryButton&&!this.disabled&&v(Qn,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Zv},{icon:()=>v(Jt,{clsPrefix:t},{default:()=>v(ore,null)})}),this.showDownloadButton?v(Qn,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Zv},{icon:()=>v(Jt,{clsPrefix:t},{default:()=>v(JM,null)})}):null)),!a&&l)}}),Q4=le({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(t,{slots:e}){const n=ut(gp,null);n||Ii("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:i,maxReachedRef:o,listTypeRef:a,dragOverRef:s,openOpenFileDialog:l,draggerInsideRef:c,handleFileAddition:u,mergedDirectoryDndRef:d,triggerClassRef:h,triggerStyleRef:f}=n,p=L(()=>a.value==="image-card");function g(){i.value||o.value||l()}function m(w){w.preventDefault(),s.value=!0}function y(w){w.preventDefault(),s.value=!0}function b(w){w.preventDefault(),s.value=!1}function x(w){var C;if(w.preventDefault(),!c.value||i.value||o.value){s.value=!1;return}const S=(C=w.dataTransfer)===null||C===void 0?void 0:C.items;S!=null&&S.length?Bve(Array.from(S).map(A=>A.webkitGetAsEntry()),d.value).then(A=>{u(A)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var w;const{value:C}=r;return t.abstract?(w=e.default)===null||w===void 0?void 0:w.call(e,{handleClick:g,handleDrop:x,handleDragOver:m,handleDragEnter:y,handleDragLeave:b}):v("div",{class:[`${C}-upload-trigger`,(i.value||o.value)&&`${C}-upload-trigger--disabled`,p.value&&`${C}-upload-trigger--image-card`,h.value],style:f.value,onClick:g,onDrop:x,onDragover:m,onDragenter:y,onDragleave:b},p.value?v(iB,null,{default:()=>sn(e.default,()=>[v(Jt,{clsPrefix:C},{default:()=>v(Yf,null)})])}):e)}}}),sB=le({name:"UploadFileList",setup(t,{slots:e}){const n=ut(gp,null);n||Ii("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:i,listTypeRef:o,mergedFileListRef:a,fileListClassRef:s,fileListStyleRef:l,cssVarsRef:c,themeClassRef:u,maxReachedRef:d,showTriggerRef:h,imageGroupPropsRef:f}=n,p=L(()=>o.value==="image-card"),g=()=>a.value.map((y,b)=>v(zve,{clsPrefix:i.value,key:y.id,file:y,index:b,listType:o.value})),m=()=>p.value?v(jF,Object.assign({},f.value),{default:g}):v(Ml,{group:!0},{default:g});return()=>{const{value:y}=i,{value:b}=r;return v("div",{class:[`${y}-upload-file-list`,p.value&&`${y}-upload-file-list--grid`,b?u==null?void 0:u.value:void 0,s.value],style:[b&&c?c.value:"",l.value]},m(),h.value&&!d.value&&p.value&&v(Q4,null,e))}}});var TR=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function Hve(t,e,n){const{doChange:r,xhrMap:i}=t;let o=0;function a(l){var c;let u=Object.assign({},e,{status:"error",percentage:o});i.delete(e.id),u=og(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:u,event:l}))||u),r(u,l)}function s(l){var c;if(t.isErrorState){if(t.isErrorState(n)){a(l);return}}else if(n.status<200||n.status>=300){a(l);return}let u=Object.assign({},e,{status:"finished",percentage:o});i.delete(e.id),u=og(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:u,event:l}))||u),r(u,l)}return{handleXHRLoad:s,handleXHRError:a,handleXHRAbort(l){const c=Object.assign({},e,{status:"removed",file:null,percentage:o});i.delete(e.id),r(c,l)},handleXHRProgress(l){const c=Object.assign({},e,{status:"uploading"});if(l.lengthComputable){const u=Math.ceil(l.loaded/l.total*100);c.percentage=u,o=u}r(c,l)}}}function Uve(t){const{inst:e,file:n,data:r,headers:i,withCredentials:o,action:a,customRequest:s}=t,{doChange:l}=t.inst;let c=0;s({file:n,data:r,headers:i,withCredentials:o,action:a,onProgress(u){const d=Object.assign({},n,{status:"uploading"}),h=u.percent;d.percentage=h,c=h,l(d)},onFinish(){var u;let d=Object.assign({},n,{status:"finished",percentage:c});d=og(((u=e.onFinish)===null||u===void 0?void 0:u.call(e,{file:d}))||d),l(d)},onError(){var u;let d=Object.assign({},n,{status:"error",percentage:c});d=og(((u=e.onError)===null||u===void 0?void 0:u.call(e,{file:d}))||d),l(d)}})}function jve(t,e,n){const r=Hve(t,e,n);n.onabort=r.handleXHRAbort,n.onerror=r.handleXHRError,n.onload=r.handleXHRLoad,n.upload&&(n.upload.onprogress=r.handleXHRProgress)}function lB(t,e){return typeof t=="function"?t({file:e}):t||{}}function Vve(t,e,n){const r=lB(e,n);r&&Object.keys(r).forEach(i=>{t.setRequestHeader(i,r[i])})}function Wve(t,e,n){const r=lB(e,n);r&&Object.keys(r).forEach(i=>{t.append(i,r[i])})}function qve(t,e,n,{method:r,action:i,withCredentials:o,responseType:a,headers:s,data:l}){const c=new XMLHttpRequest;c.responseType=a,t.xhrMap.set(n.id,c),c.withCredentials=o;const u=new FormData;if(Wve(u,l,n),n.file!==null&&u.append(e,n.file),jve(t,n,c),i!==void 0){c.open(r.toUpperCase(),i),Vve(c,s,n),c.send(u);const d=Object.assign({},n,{status:"uploading"});t.doChange(d)}}const cB=Object.assign(Object.assign({},Ve.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:t=>Dve?aB(t):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Kve=le({name:"Upload",props:cB,setup(t){t.abstract&&t.listType==="image-card"&&Ii("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=gt(t),i=Ve("Upload","-upload",Pve,rpe,t,e),o=or("Upload",r,e),a=di(t),s=V(t.defaultFileList),l=$e(t,"fileList"),c=V(null),u={value:!1},d=V(!1),h=new Map,f=Cn(l,s),p=L(()=>f.value.map(og)),g=L(()=>{const{max:P}=t;return P!==void 0?p.value.length>=P:!1});function m(){var P;(P=c.value)===null||P===void 0||P.click()}function y(P){const _=P.target;C(_.files?Array.from(_.files).map(F=>({file:F,entry:null,source:"input"})):null,P),_.value=""}function b(P){const{"onUpdate:fileList":_,onUpdateFileList:F}=t;_&&Fe(_,P),F&&Fe(F,P),s.value=P}const x=L(()=>t.multiple||t.directory),w=(P,_,F={append:!1,remove:!1})=>{const{append:N,remove:W}=F,G=Array.from(p.value),Z=G.findIndex(ie=>ie.id===P.id);if(N||W||~Z){N?G.push(P):W?G.splice(Z,1):G.splice(Z,1,P);const{onChange:ie}=t;ie&&ie({file:P,fileList:G,event:_}),b(G)}};function C(P,_){if(!P||P.length===0)return;const{onBeforeUpload:F}=t;P=x.value?P:[P[0]];const{max:N,accept:W}=t;P=P.filter(({file:Z,source:ie})=>ie==="dnd"&&(W!=null&&W.trim())?Nve(Z.name,Z.type,W):!0),N&&(P=P.slice(0,N-p.value.length));const G=Zo();Promise.all(P.map(Z=>TR(this,[Z],void 0,function*({file:ie,entry:he}){var xe;const Q={id:Zo(),batchId:G,name:ie.name,status:"pending",percentage:0,file:ie,url:null,type:ie.type,thumbnailUrl:null,fullPath:(xe=he==null?void 0:he.fullPath)!==null&&xe!==void 0?xe:`/${ie.webkitRelativePath||ie.name}`};return!F||(yield F({file:Q,fileList:p.value}))!==!1?Q:null}))).then(Z=>TR(this,void 0,void 0,function*(){let ie=Promise.resolve();Z.forEach(he=>{ie=ie.then(vn).then(()=>{he&&w(he,_,{append:!0})})}),yield ie})).then(()=>{t.defaultUpload&&S()})}function S(P){const{method:_,action:F,withCredentials:N,headers:W,data:G,name:Z}=t,ie=P!==void 0?p.value.filter(xe=>xe.id===P):p.value,he=P!==void 0;ie.forEach(xe=>{const{status:Q}=xe;(Q==="pending"||Q==="error"&&he)&&(t.customRequest?Uve({inst:{doChange:w,xhrMap:h,onFinish:t.onFinish,onError:t.onError},file:xe,action:F,withCredentials:N,headers:W,data:G,customRequest:t.customRequest}):qve({doChange:w,xhrMap:h,onFinish:t.onFinish,onError:t.onError,isErrorState:t.isErrorState},Z,xe,{method:_,action:F,withCredentials:N,responseType:t.responseType,headers:W,data:G}))})}function A(P){var _;if(P.thumbnailUrl)return P.thumbnailUrl;const{createThumbnailUrl:F}=t;return F?(_=F(P.file,P))!==null&&_!==void 0?_:P.url||"":P.url?P.url:P.file?Ove(P.file):""}const T=L(()=>{const{common:{cubicBezierEaseInOut:P},self:{draggerColor:_,draggerBorder:F,draggerBorderHover:N,itemColorHover:W,itemColorHoverError:G,itemTextColorError:Z,itemTextColorSuccess:ie,itemTextColor:he,itemIconColor:xe,itemDisabledOpacity:Q,lineHeight:X,borderRadius:K,fontSize:ne,itemBorderImageCardError:ve,itemBorderImageCard:Se}}=i.value;return{"--n-bezier":P,"--n-border-radius":K,"--n-dragger-border":F,"--n-dragger-border-hover":N,"--n-dragger-color":_,"--n-font-size":ne,"--n-item-color-hover":W,"--n-item-color-hover-error":G,"--n-item-disabled-opacity":Q,"--n-item-icon-color":xe,"--n-item-text-color":he,"--n-item-text-color-error":Z,"--n-item-text-color-success":ie,"--n-line-height":X,"--n-item-border-image-card-error":ve,"--n-item-border-image-card":Se}}),k=n?Ot("upload",void 0,T,t):void 0;zt(gp,{mergedClsPrefixRef:e,mergedThemeRef:i,showCancelButtonRef:$e(t,"showCancelButton"),showDownloadButtonRef:$e(t,"showDownloadButton"),showRemoveButtonRef:$e(t,"showRemoveButton"),showRetryButtonRef:$e(t,"showRetryButton"),onRemoveRef:$e(t,"onRemove"),onDownloadRef:$e(t,"onDownload"),customDownloadRef:$e(t,"customDownload"),mergedFileListRef:p,triggerClassRef:$e(t,"triggerClass"),triggerStyleRef:$e(t,"triggerStyle"),shouldUseThumbnailUrlRef:$e(t,"shouldUseThumbnailUrl"),renderIconRef:$e(t,"renderIcon"),xhrMap:h,submit:S,doChange:w,showPreviewButtonRef:$e(t,"showPreviewButton"),onPreviewRef:$e(t,"onPreview"),getFileThumbnailUrlResolver:A,listTypeRef:$e(t,"listType"),dragOverRef:d,openOpenFileDialog:m,draggerInsideRef:u,handleFileAddition:C,mergedDisabledRef:a.mergedDisabledRef,maxReachedRef:g,fileListClassRef:$e(t,"fileListClass"),fileListStyleRef:$e(t,"fileListStyle"),abstractRef:$e(t,"abstract"),acceptRef:$e(t,"accept"),cssVarsRef:n?void 0:T,themeClassRef:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender,showTriggerRef:$e(t,"showTrigger"),imageGroupPropsRef:$e(t,"imageGroupProps"),mergedDirectoryDndRef:L(()=>{var P;return(P=t.directoryDnd)!==null&&P!==void 0?P:t.directory}),onRetryRef:$e(t,"onRetry")});const E={clear:()=>{s.value=[]},submit:S,openOpenFileDialog:m};return Object.assign({mergedClsPrefix:e,draggerInsideRef:u,rtlEnabled:o,inputElRef:c,mergedTheme:i,dragOver:d,mergedMultiple:x,cssVars:n?void 0:T,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender,handleFileInputChange:y},E)},render(){var t,e;const{draggerInsideRef:n,mergedClsPrefix:r,$slots:i,directory:o,onRender:a}=this;if(i.default&&!this.abstract){const l=i.default()[0];!((t=l==null?void 0:l.type)===null||t===void 0)&&t[rB]&&(n.value=!0)}const s=v("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:o||void 0,directory:o||void 0}));return this.abstract?v(qn,null,(e=i.default)===null||e===void 0?void 0:e.call(i),v(fh,{to:"body"},s)):(a==null||a(),v("div",{class:[`${r}-upload`,this.rtlEnabled&&`${r}-upload--rtl`,n.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&v(Q4,null,i),this.showFileList&&v(sB,null,i)))}}),uB={scrollbarProps:Object,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},Gve=le({name:"VirtualList",props:uB,setup(t){const e=V(null),n=V(null);function r(){const{value:u}=e;u&&u.sync()}function i(u){var d;r(),(d=t.onScroll)===null||d===void 0||d.call(t,u)}function o(u){var d;r(),(d=t.onResize)===null||d===void 0||d.call(t,u)}function a(u){var d;(d=t.onWheel)===null||d===void 0||d.call(t,u)}function s(u,d){var h,f;typeof u=="number"?(h=n.value)===null||h===void 0||h.scrollTo(u,d??0):(f=n.value)===null||f===void 0||f.scrollTo(u)}function l(){var u;return(u=n.value)===null||u===void 0?void 0:u.listElRef}function c(){var u;return(u=n.value)===null||u===void 0?void 0:u.itemsElRef}return{scrollTo:s,scrollbarInstRef:e,virtualListInstRef:n,getScrollContainer:l,getScrollContent:c,handleScroll:i,handleResize:o,handleWheel:a}},render(){return v(Xf,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",container:this.getScrollContainer,content:this.getScrollContent}),{default:()=>v(Os,{ref:"virtualListInstRef",showScrollbar:!1,items:this.items,itemSize:this.itemSize,itemResizable:this.itemResizable,itemsStyle:this.itemsStyle,visibleItemsTag:this.visibleItemsTag,visibleItemsProps:this.visibleItemsProps,ignoreItemResize:this.ignoreItemResize,keyField:this.keyField,defaultScrollKey:this.defaultScrollKey,defaultScrollIndex:this.defaultScrollIndex,paddingTop:this.paddingTop,paddingBottom:this.paddingBottom,onScroll:this.handleScroll,onResize:this.handleResize,onWheel:this.handleWheel},{default:({item:t,index:e})=>{var n,r;return(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n,{item:t,index:e})}})})}}),Yve=B([R("watermark-container",`
 position: relative;
 `,[an("selectable",`
 user-select: none;
 -webkit-user-select: none;
 `),U("global-rotate",`
 overflow: hidden;
 `),U("fullscreen",`
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 position: fixed;
 `)]),R("watermark",`
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 background-repeat: repeat;
 `,[U("fullscreen",`
 position: fixed;
 `),U("global-rotate",`
 position: absolute;
 height: max(284vh, 284vw);
 width: max(284vh, 284vw);
 `)])]);function Xve(t){if(!t)return 1;const e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e}const dB=Object.assign(Object.assign({},Ve.props),{debug:Boolean,cross:Boolean,fullscreen:Boolean,width:{type:Number,default:32},height:{type:Number,default:32},zIndex:{type:Number,default:10},xGap:{type:Number,default:0},yGap:{type:Number,default:0},yOffset:{type:Number,default:0},xOffset:{type:Number,default:0},rotate:{type:Number,default:0},textAlign:{type:String,default:"left"},image:String,imageOpacity:{type:Number,default:1},imageHeight:Number,imageWidth:Number,content:String,selectable:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontFamily:String,fontStyle:{type:String,default:"normal"},fontVariant:{type:String,default:""},fontWeight:{type:Number,default:400},fontColor:{type:String,default:"rgba(128, 128, 128, .3)"},fontStretch:{type:String,default:""},lineHeight:{type:Number,default:14},globalRotate:{type:Number,default:0}}),Qve=le({name:"Watermark",props:dB,setup(t,{slots:e}){const{mergedClsPrefixRef:n}=gt(t),r=Ve("Watermark","-watermark",Yve,ipe,t,n),i=V(""),o=na?document.createElement("canvas"):null,a=o?o.getContext("2d"):null,s=V(!1);return J1(()=>s.value=!0),er(()=>{if(!o)return;s.value;const l=Xve(a),{xGap:c,yGap:u,width:d,height:h,yOffset:f,xOffset:p,rotate:g,image:m,content:y,fontColor:b,fontStyle:x,fontVariant:w,fontStretch:C,fontWeight:S,fontFamily:A,fontSize:T,lineHeight:k,debug:E}=t,P=(c+d)*l,_=(u+h)*l,F=p*l,N=f*l;if(o.width=P,o.height=_,a){a.translate(0,0);const W=d*l,G=h*l;if(E&&(a.strokeStyle="grey",a.strokeRect(0,0,W,G)),a.rotate(g*(Math.PI/180)),m){const Z=new Image;Z.crossOrigin="anonymous",Z.referrerPolicy="no-referrer",Z.src=m,Z.onload=()=>{a.globalAlpha=t.imageOpacity;const{imageWidth:ie,imageHeight:he}=t;a.drawImage(Z,F,N,(t.imageWidth||(he?Z.width*he/Z.height:Z.width))*l,(t.imageHeight||(ie?Z.height*ie/Z.width:Z.height))*l),i.value=o.toDataURL()}}else if(y){E&&(a.strokeStyle="green",a.strokeRect(0,0,W,G)),a.font=`${x} ${w} ${S} ${C} ${T*l}px/${k*l}px ${A||r.value.self.fontFamily}`,a.fillStyle=b;let Z=0;const{textAlign:ie}=t;y.split(`
`).map(he=>{const xe=a.measureText(he).width;return Z=Math.max(Z,xe),{width:xe,line:he}}).forEach(({line:he,width:xe},Q)=>{const X=ie==="left"?0:ie==="center"?(Z-xe)/2:Z-xe;a.fillText(he,F+X,N+k*l*(Q+1))}),i.value=o.toDataURL()}else y||(a.clearRect(0,0,o.width,o.height),i.value=o.toDataURL())}else wX("watermark","Canvas is not supported in the browser.")}),()=>{var l;const{globalRotate:c,fullscreen:u,zIndex:d}=t,h=n.value,f=c!==0&&u,p="max(142vh, 142vw)",g=v("div",{class:[`${h}-watermark`,c!==0&&`${h}-watermark--global-rotate`,u&&`${h}-watermark--fullscreen`],style:{transform:c?`translateX(-50%) translateY(-50%) rotate(${c}deg)`:void 0,zIndex:f?void 0:d,backgroundSize:`${t.xGap+t.width}px`,backgroundPosition:c===0?t.cross?`${t.width/2}px ${t.height/2}px, 0 0`:"":t.cross?`calc(${p} + ${t.width/2}px) calc(${p} + ${t.height/2}px), ${p} ${p}`:p,backgroundImage:t.cross?`url(${i.value}), url(${i.value})`:`url(${i.value})`}});return t.fullscreen&&!c?g:v("div",{class:[`${h}-watermark-container`,c!==0&&`${h}-watermark-container--global-rotate`,u&&`${h}-watermark-container--fullscreen`,t.selectable&&`${h}-watermark-container--selectable`],style:{zIndex:f?d:void 0}},(l=e.default)===null||l===void 0?void 0:l.call(e),g)}}}),RR=Object.freeze(Object.defineProperty({__proto__:null,NA:hve,NAffix:XM,NAlert:Rie,NAnchor:$ie,NAnchorLink:Lie,NAutoComplete:eoe,NAvatar:yA,NAvatarGroup:soe,NBackTop:foe,NBadge:voe,NBlockquote:pve,NBreadcrumb:Coe,NBreadcrumbItem:Soe,NButton:Qn,NButtonGroup:c4,NCalendar:Ise,NCard:g4,NCarousel:Zse,NCarouselItem:vD,NCascader:hle,NCheckbox:Lc,NCheckboxGroup:wD,NCode:ED,NCol:TF,NCollapse:yle,NCollapseItem:xle,NCollapseTransition:Sle,NColorPicker:Zle,NConfigProvider:OD,NCountdown:Jle,NDataTable:yue,NDatePicker:hde,NDescriptions:yde,NDescriptionsItem:bde,NDialog:M4,NDialogProvider:z9,NDivider:uhe,NDrawer:The,NDrawerContent:Rhe,NDropdown:T4,NDynamicInput:Dhe,NDynamicTags:Hhe,NEl:z6,NElement:z6,NEllipsis:hx,NEmpty:yc,NEquation:jhe,NFlex:Khe,NFloatButton:hpe,NFloatButtonGroup:lpe,NForm:CF,NFormItem:rg,NFormItemCol:RF,NFormItemGi:X6,NFormItemGridItem:X6,NFormItemRow:o0e,NGi:FA,NGlobalStyle:a0e,NGradientText:l0e,NGrid:u0e,NGridItem:FA,NH1:gve,NH2:vve,NH3:yve,NH4:bve,NH5:xve,NH6:wve,NHeatmap:w0e,NHighlight:S0e,NHr:Ave,NIcon:l9,NIconWrapper:R0e,NImage:WF,NImageGroup:jF,NImagePreview:j4,NInfiniteScroll:$0e,NInput:_i,NInputGroup:TO,NInputGroupLabel:Kie,NInputNumber:H0e,NInputOtp:V0e,NLayout:q0e,NLayoutContent:K0e,NLayoutFooter:Y0e,NLayoutHeader:Q0e,NLayoutSider:tme,NLegacyTransfer:lme,NLi:Sve,NList:ume,NListItem:dme,NLoadingBarProvider:V9,NLog:gme,NMarquee:wme,NMention:Sme,NMenu:Mme,NMessageProvider:$4,NModal:F4,NModalProvider:Q9,NNotificationProvider:eF,NNumberAnimation:Fme,NOl:kve,NP:Tve,NPageHeader:Bme,NPagination:WD,NPerformantEllipsis:o9,NPopconfirm:Hme,NPopover:Ch,NPopselect:BD,NProgress:b$,NQrCode:Zme,NRadio:S4,NRadioButton:_ce,NRadioGroup:n9,NRate:tge,NResult:lge,NRow:EF,NScrollbar:cge,NSelect:HD,NSkeleton:fge,NSlider:gge,NSpace:cF,NSpin:bge,NSplit:Age,NStatistic:kge,NStep:Pge,NSteps:_ge,NSwitch:Lge,NTab:Gb,NTabPane:zge,NTable:Oge,NTabs:Uge,NTag:N0,NTbody:Dge,NTd:Fge,NText:tB,NTh:$ge,NThead:Bge,NThing:Vge,NTime:Wge,NTimePicker:Kb,NTimeline:Kge,NTimelineItem:Gge,NTooltip:Wg,NTr:Nge,NTransfer:Qge,NTree:K$,NTreeSelect:uve,NUl:_ve,NUpload:Kve,NUploadDragger:iB,NUploadFileList:sB,NUploadTrigger:Q4,NVirtualList:Gve,NWatermark:Qve,NxButton:_s,aProps:Y$,affixProps:lx,alertProps:xO,anchorLinkProps:wO,anchorProps:CO,autoCompleteProps:IO,avatarGroupProps:$O,avatarProps:FO,backTopProps:BO,badgeProps:NO,blockquoteProps:X$,breadcrumbItemProps:UO,breadcrumbProps:HO,buttonGroupProps:qO,buttonProps:VO,calendarProps:fD,cardProps:mD,carouselProps:yD,cascaderProps:AD,checkboxGroupProps:xD,checkboxProps:CD,codeProps:kD,colProps:yx,collapseItemProps:_D,collapseProps:TD,collapseTransitionProps:PD,colorPickerProps:LD,configProviderProps:MD,countdownProps:DD,createDiscreteApi:nF,dataTableProps:KD,datePickerProps:E9,descriptionsItemProps:_9,descriptionsProps:R9,dialogProps:qg,dialogProviderProps:N9,dividerProps:rF,drawerContentProps:oF,drawerProps:iF,dropdownProps:h9,dynamicInputProps:aF,dynamicTagsProps:uF,elementProps:dF,ellipsisProps:k4,emptyProps:cO,equationProps:hF,flexProps:fF,floatButtonGroupProps:vF,floatButtonProps:bF,formItemGiProps:$A,formItemGridItemProps:$A,formItemProps:Gg,formProps:wF,giProps:ig,gradientTextProps:IF,gridItemProps:ig,gridProps:MF,h1Props:Ed,h2Props:Ed,h3Props:Ed,h4Props:Ed,h5Props:Ed,h6Props:Ed,heatmapDark:C0e,heatmapLight:DF,heatmapMockData:x0e,heatmapProps:FF,highlightProps:$F,iconProps:s9,iconWrapperProps:BF,imageGroupProps:UF,imagePreviewProps:zF,imageProps:VF,infiniteScrollProps:qF,inputGroupLabelProps:RO,inputGroupProps:EO,inputNumberProps:KF,inputOtpProps:GF,inputProps:kO,layoutContentProps:BA,layoutFooterProps:ZF,layoutHeaderProps:JF,layoutProps:BA,layoutSiderProps:e$,legacyTransferProps:t$,listProps:n$,loadingBarProviderProps:j9,logProps:o$,mentionProps:a$,menuProps:h$,messageProviderProps:Y9,modalProps:D4,modalProviderProps:X9,notificationProviderProps:J9,numberAnimationProps:f$,olProps:Z$,pProps:J$,pageHeaderProps:p$,paginationProps:VD,popconfirmProps:v$,popoverProps:hO,popselectProps:$D,progressProps:y$,qrCodeProps:x$,radioButtonProps:Rce,radioGroupProps:t9,radioProps:e9,rateProps:w$,resultProps:C$,rowProps:vx,scrollbarProps:A$,selectProps:zD,skeletonProps:S$,sliderProps:k$,spaceProps:lF,spinProps:E$,splitProps:T$,statisticProps:R$,stepProps:I$,stepsProps:_$,switchProps:L$,tabPaneProps:Y4,tabProps:O$,tableProps:M$,tabsProps:D$,tagProps:mO,textProps:eB,thingProps:F$,timePickerProps:k9,timeProps:$$,timelineItemProps:z$,timelineProps:B$,tooltipProps:r9,transferProps:H$,treeGetClickTarget:ove,treeProps:q$,treeSelectProps:G$,ulProps:nB,uploadDownload:vX,uploadProps:cB,useDialog:M9,useDialogReactiveList:xde,useLoadingBar:W9,useMessage:B4,useModal:B9,useModalReactiveList:Rde,useNotification:tF,virtualListProps:uB,watermarkProps:dB},Symbol.toStringTag,{value:"Module"})),Zve="2.43.2";function Jve({componentPrefix:t="N",components:e=[]}={}){const n=[];function r(o,a,s){o.component(t+a)||o.component(t+a,s)}function i(o){n.includes(o)||(n.push(o),e.forEach(a=>{const{name:s,alias:l}=a;r(o,s,a),l&&l.forEach(c=>{r(o,c,a)})}))}return{version:Zve,componentPrefix:t,install:i}}const hB=Jve({components:Object.keys(RR).map(t=>RR[t])});hB.install;var xx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eye={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},hu,ck,BI,tye=(BI=class{constructor(){gr(this,hu,eye);gr(this,ck,!1)}setTimeoutProvider(t){Wn(this,hu,t)}setTimeout(t,e){return vt(this,hu).setTimeout(t,e)}clearTimeout(t){vt(this,hu).clearTimeout(t)}setInterval(t,e){return vt(this,hu).setInterval(t,e)}clearInterval(t){vt(this,hu).clearInterval(t)}},hu=new WeakMap,ck=new WeakMap,BI),jA=new tye;function nye(t){setTimeout(t,0)}var Jg=typeof window>"u"||"Deno"in globalThis;function bs(){}function rye(t,e){return typeof t=="function"?t(e):t}function iye(t){return typeof t=="number"&&t>=0&&t!==1/0}function oye(t,e){return Math.max(t+(e||0)-Date.now(),0)}function VA(t,e){return typeof t=="function"?t(e):t}function aye(t,e){return typeof t=="function"?t(e):t}function _R(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==Z4(a,e.options))return!1}else if(!sg(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function PR(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(ag(e.options.mutationKey)!==ag(o))return!1}else if(!sg(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Z4(t,e){return((e==null?void 0:e.queryKeyHashFn)||ag)(t)}function ag(t){return JSON.stringify(t,(e,n)=>WA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sg(t[n],e[n])):!1}var sye=Object.prototype.hasOwnProperty;function fB(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=IR(t)&&IR(e);if(!r&&!(WA(t)&&WA(e)))return e;const o=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),s=a.length,l=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:a[u],h=t[d],f=e[d];if(h===f){l[d]=h,(r?u<o:sye.call(t,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=fB(h,f,n+1);l[d]=p,p===h&&c++}return o===s&&c===o?t:l}function IR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function WA(t){if(!LR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!LR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LR(t){return Object.prototype.toString.call(t)==="[object Object]"}function lye(t){return new Promise(e=>{jA.setTimeout(e,t)})}function cye(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fB(t,e):e}function uye(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dye(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var J4=Symbol();function pB(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===J4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function hye(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Bd,fu,Mf,NI,fye=(NI=class extends xx{constructor(){super();gr(this,Bd);gr(this,fu);gr(this,Mf);Wn(this,Mf,e=>{if(!Jg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){vt(this,fu)||this.setEventListener(vt(this,Mf))}onUnsubscribe(){var e;this.hasListeners()||((e=vt(this,fu))==null||e.call(this),Wn(this,fu,void 0))}setEventListener(e){var n;Wn(this,Mf,e),(n=vt(this,fu))==null||n.call(this),Wn(this,fu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){vt(this,Bd)!==e&&(Wn(this,Bd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof vt(this,Bd)=="boolean"?vt(this,Bd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bd=new WeakMap,fu=new WeakMap,Mf=new WeakMap,NI),mB=new fye;function pye(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var mye=nye;function gye(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=mye;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Wo=gye(),Of,pu,Df,zI,vye=(zI=class extends xx{constructor(){super();gr(this,Of,!0);gr(this,pu);gr(this,Df);Wn(this,Df,e=>{if(!Jg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){vt(this,pu)||this.setEventListener(vt(this,Df))}onUnsubscribe(){var e;this.hasListeners()||((e=vt(this,pu))==null||e.call(this),Wn(this,pu,void 0))}setEventListener(e){var n;Wn(this,Df,e),(n=vt(this,pu))==null||n.call(this),Wn(this,pu,e(this.setOnline.bind(this)))}setOnline(e){vt(this,Of)!==e&&(Wn(this,Of,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return vt(this,Of)}},Of=new WeakMap,pu=new WeakMap,Df=new WeakMap,zI),Yb=new vye;function yye(t){return Math.min(1e3*2**t,3e4)}function gB(t){return(t??"online")==="online"?Yb.isOnline():!0}var qA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vB(t){let e=!1,n=0,r;const i=pye(),o=()=>i.status!=="pending",a=g=>{var m;if(!o()){const y=new qA(g);h(y),(m=t.onCancel)==null||m.call(t,y)}},s=()=>{e=!0},l=()=>{e=!1},c=()=>mB.isFocused()&&(t.networkMode==="always"||Yb.isOnline())&&t.canRun(),u=()=>gB(t.networkMode)&&t.canRun(),d=g=>{o()||(r==null||r(),i.resolve(g))},h=g=>{o()||(r==null||r(),i.reject(g))},f=()=>new Promise(g=>{var m;r=y=>{(o()||c())&&g(y)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;r=void 0,o()||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(o())return;let g;const m=n===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var S;if(o())return;const b=t.retry??(Jg?0:3),x=t.retryDelay??yye,w=typeof x=="function"?x(n,y):x,C=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!C){h(y);return}n++,(S=t.onFail)==null||S.call(t,n,y),lye(w).then(()=>c()?void 0:f()).then(()=>{e?h(y):p()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?p():f().then(p),i)}}var Nd,HI,yB=(HI=class{constructor(){gr(this,Nd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iye(this.gcTime)&&Wn(this,Nd,jA.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jg?1/0:5*60*1e3))}clearGcTimeout(){vt(this,Nd)&&(jA.clearTimeout(vt(this,Nd)),Wn(this,Nd,void 0))}},Nd=new WeakMap,HI),zd,Ff,Za,Hd,ho,Tg,Ud,xs,ql,UI,bye=(UI=class extends yB{constructor(e){super();gr(this,xs);gr(this,zd);gr(this,Ff);gr(this,Za);gr(this,Hd);gr(this,ho);gr(this,Tg);gr(this,Ud);Wn(this,Ud,!1),Wn(this,Tg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Wn(this,Hd,e.client),Wn(this,Za,vt(this,Hd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Wn(this,zd,OR(this.options)),this.state=e.state??vt(this,zd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=vt(this,ho))==null?void 0:e.promise}setOptions(e){if(this.options={...vt(this,Tg),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=OR(this.options);n.data!==void 0&&(this.setState(MR(n.data,n.dataUpdatedAt)),Wn(this,zd,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&vt(this,Za).remove(this)}setData(e,n){const r=cye(this.state.data,e,this.options);return Ro(this,xs,ql).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ro(this,xs,ql).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=vt(this,ho))==null?void 0:r.promise;return(i=vt(this,ho))==null||i.cancel(e),n?n.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(vt(this,zd))}isActive(){return this.observers.some(e=>aye(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>VA(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oye(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=vt(this,ho))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=vt(this,ho))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),vt(this,Za).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(vt(this,ho)&&(vt(this,Ud)?vt(this,ho).cancel({revert:!0}):vt(this,ho).cancelRetry()),this.scheduleGc()),vt(this,Za).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ro(this,xs,ql).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,d,h,f,p,g,m,y,b,x;if(this.state.fetchStatus!=="idle"&&((l=vt(this,ho))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(vt(this,ho))return vt(this,ho).continueRetry(),vt(this,ho).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Wn(this,Ud,!0),r.signal)})},o=()=>{const w=pB(this.options,n),S=(()=>{const A={client:vt(this,Hd),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Wn(this,Ud,!1),this.options.persister?this.options.persister(w,S,this):w(S)},s=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:vt(this,Hd),state:this.state,fetchFn:o};return i(w),w})();(c=this.options.behavior)==null||c.onFetch(s,this),Wn(this,Ff,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Ro(this,xs,ql).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta}),Wn(this,ho,vB({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,onCancel:w=>{w instanceof qA&&w.revert&&this.setState({...vt(this,Ff),fetchStatus:"idle"}),r.abort()},onFail:(w,C)=>{Ro(this,xs,ql).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{Ro(this,xs,ql).call(this,{type:"pause"})},onContinue:()=>{Ro(this,xs,ql).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}));try{const w=await vt(this,ho).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(f=(h=vt(this,Za).config).onSuccess)==null||f.call(h,w,this),(g=(p=vt(this,Za).config).onSettled)==null||g.call(p,w,this.state.error,this),w}catch(w){if(w instanceof qA){if(w.silent)return vt(this,ho).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Ro(this,xs,ql).call(this,{type:"error",error:w}),(y=(m=vt(this,Za).config).onError)==null||y.call(m,w,this),(x=(b=vt(this,Za).config).onSettled)==null||x.call(b,this.state.data,w,this),w}finally{this.scheduleGc()}}},zd=new WeakMap,Ff=new WeakMap,Za=new WeakMap,Hd=new WeakMap,ho=new WeakMap,Tg=new WeakMap,Ud=new WeakMap,xs=new WeakSet,ql=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xye(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...MR(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Wn(this,Ff,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),vt(this,Za).notify({query:this,type:"updated",action:e})})},UI);function xye(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function OR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function DR(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((f=e.state.data)==null?void 0:f.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const m=x=>{hye(x,()=>e.signal,()=>g=!0)},y=pB(e.options,e.fetchOptions),b=async(x,w,C)=>{if(g)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return m(P),P})(),T=await y(A),{maxPages:k}=e.options,E=C?dye:uye;return{pages:E(x.pages,T,k),pageParams:E(x.pageParams,w,k)}};if(i&&o.length){const x=i==="backward",w=x?wye:FR,C={pages:o,pageParams:a},S=w(r,C);s=await b(C,S,x)}else{const x=t??o.length;do{const w=l===0?a[0]??r.initialPageParam:FR(r,s);if(l>0&&w==null)break;s=await b(s,w),l++}while(l<x)}return s};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function FR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wye(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rg,rl,Lo,jd,il,eu,jI,Cye=(jI=class extends yB{constructor(e){super();gr(this,il);gr(this,Rg);gr(this,rl);gr(this,Lo);gr(this,jd);Wn(this,Rg,e.client),this.mutationId=e.mutationId,Wn(this,Lo,e.mutationCache),Wn(this,rl,[]),this.state=e.state||Aye(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){vt(this,rl).includes(e)||(vt(this,rl).push(e),this.clearGcTimeout(),vt(this,Lo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Wn(this,rl,vt(this,rl).filter(n=>n!==e)),this.scheduleGc(),vt(this,Lo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){vt(this,rl).length||(this.state.status==="pending"?this.scheduleGc():vt(this,Lo).remove(this))}continue(){var e;return((e=vt(this,jd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,s,l,c,u,d,h,f,p,g,m,y,b,x,w,C,S,A;const n=()=>{Ro(this,il,eu).call(this,{type:"continue"})},r={client:vt(this,Rg),meta:this.options.meta,mutationKey:this.options.mutationKey};Wn(this,jd,vB({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{Ro(this,il,eu).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Ro(this,il,eu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>vt(this,Lo).canRun(this)}));const i=this.state.status==="pending",o=!vt(this,jd).canStart();try{if(i)n();else{Ro(this,il,eu).call(this,{type:"pending",variables:e,isPaused:o}),vt(this,Lo).config.onMutate&&await vt(this,Lo).config.onMutate(e,this,r);const k=await((s=(a=this.options).onMutate)==null?void 0:s.call(a,e,r));k!==this.state.context&&Ro(this,il,eu).call(this,{type:"pending",context:k,variables:e,isPaused:o})}const T=await vt(this,jd).start();return await((c=(l=vt(this,Lo).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this,r)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,r)),await((f=(h=vt(this,Lo).config).onSettled)==null?void 0:f.call(h,T,null,this.state.variables,this.state.context,this,r)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,T,null,e,this.state.context,r)),Ro(this,il,eu).call(this,{type:"success",data:T}),T}catch(T){try{await((y=(m=vt(this,Lo).config).onError)==null?void 0:y.call(m,T,e,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((x=(b=this.options).onError)==null?void 0:x.call(b,T,e,this.state.context,r))}catch(k){Promise.reject(k)}try{await((C=(w=vt(this,Lo).config).onSettled)==null?void 0:C.call(w,void 0,T,this.state.variables,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,T,e,this.state.context,r))}catch(k){Promise.reject(k)}throw Ro(this,il,eu).call(this,{type:"error",error:T}),T}finally{vt(this,Lo).runNext(this)}}},Rg=new WeakMap,rl=new WeakMap,Lo=new WeakMap,jd=new WeakMap,il=new WeakSet,eu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wo.batch(()=>{vt(this,rl).forEach(r=>{r.onMutationUpdate(e)}),vt(this,Lo).notify({mutation:this,type:"updated",action:e})})},jI);function Aye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ec,ws,_g,VI,bB=(VI=class extends xx{constructor(n={}){super();gr(this,ec);gr(this,ws);gr(this,_g);this.config=n,Wn(this,ec,new Set),Wn(this,ws,new Map),Wn(this,_g,0)}build(n,r,i){const o=new Cye({client:n,mutationCache:this,mutationId:++bv(this,_g)._,options:n.defaultMutationOptions(r),state:i});return this.add(o),o}add(n){vt(this,ec).add(n);const r=Jv(n);if(typeof r=="string"){const i=vt(this,ws).get(r);i?i.push(n):vt(this,ws).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(vt(this,ec).delete(n)){const r=Jv(n);if(typeof r=="string"){const i=vt(this,ws).get(r);if(i)if(i.length>1){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}else i[0]===n&&vt(this,ws).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=Jv(n);if(typeof r=="string"){const i=vt(this,ws).get(r),o=i==null?void 0:i.find(a=>a.state.status==="pending");return!o||o===n}else return!0}runNext(n){var i;const r=Jv(n);if(typeof r=="string"){const o=(i=vt(this,ws).get(r))==null?void 0:i.find(a=>a!==n&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wo.batch(()=>{vt(this,ec).forEach(n=>{this.notify({type:"removed",mutation:n})}),vt(this,ec).clear(),vt(this,ws).clear()})}getAll(){return Array.from(vt(this,ec))}find(n){const r={exact:!0,...n};return this.getAll().find(i=>PR(r,i))}findAll(n={}){return this.getAll().filter(r=>PR(n,r))}notify(n){Wo.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Wo.batch(()=>Promise.all(n.map(r=>r.continue().catch(bs))))}},ec=new WeakMap,ws=new WeakMap,_g=new WeakMap,VI);function Jv(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ol,WI,xB=(WI=class extends xx{constructor(n={}){super();gr(this,ol);this.config=n,Wn(this,ol,new Map)}build(n,r,i){const o=r.queryKey,a=r.queryHash??Z4(o,r);let s=this.get(a);return s||(s=new bye({client:n,queryKey:o,queryHash:a,options:n.defaultQueryOptions(r),state:i,defaultOptions:n.getQueryDefaults(o)}),this.add(s)),s}add(n){vt(this,ol).has(n.queryHash)||(vt(this,ol).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=vt(this,ol).get(n.queryHash);r&&(n.destroy(),r===n&&vt(this,ol).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Wo.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return vt(this,ol).get(n)}getAll(){return[...vt(this,ol).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(i=>_R(r,i))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(i=>_R(n,i)):r}notify(n){Wo.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Wo.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Wo.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},ol=new WeakMap,WI),ki,mu,gu,$f,Bf,vu,Nf,zf,qI,Sye=(qI=class{constructor(e={}){gr(this,ki);gr(this,mu);gr(this,gu);gr(this,$f);gr(this,Bf);gr(this,vu);gr(this,Nf);gr(this,zf);Wn(this,ki,e.queryCache||new xB),Wn(this,mu,e.mutationCache||new bB),Wn(this,gu,e.defaultOptions||{}),Wn(this,$f,new Map),Wn(this,Bf,new Map),Wn(this,vu,0)}mount(){bv(this,vu)._++,vt(this,vu)===1&&(Wn(this,Nf,mB.subscribe(async e=>{e&&(await this.resumePausedMutations(),vt(this,ki).onFocus())})),Wn(this,zf,Yb.subscribe(async e=>{e&&(await this.resumePausedMutations(),vt(this,ki).onOnline())})))}unmount(){var e,n;bv(this,vu)._--,vt(this,vu)===0&&((e=vt(this,Nf))==null||e.call(this),Wn(this,Nf,void 0),(n=vt(this,zf))==null||n.call(this),Wn(this,zf,void 0))}isFetching(e){return vt(this,ki).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return vt(this,mu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=vt(this,ki).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=vt(this,ki).build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(VA(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return vt(this,ki).findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),o=vt(this,ki).get(i.queryHash),a=o==null?void 0:o.state.data,s=rye(n,a);if(s!==void 0)return vt(this,ki).build(this,i).setData(s,{...r,manual:!0})}setQueriesData(e,n,r){return Wo.batch(()=>vt(this,ki).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=vt(this,ki).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=vt(this,ki);Wo.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=vt(this,ki);return Wo.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=Wo.batch(()=>vt(this,ki).findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then(bs).catch(bs)}invalidateQueries(e,n={}){return Wo.batch(()=>(vt(this,ki).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=Wo.batch(()=>vt(this,ki).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(bs)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(bs)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=vt(this,ki).build(this,n);return r.isStaleByTime(VA(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=DR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}ensureInfiniteQueryData(e){return e.behavior=DR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yb.isOnline()?vt(this,mu).resumePausedMutations():Promise.resolve()}getQueryCache(){return vt(this,ki)}getMutationCache(){return vt(this,mu)}getDefaultOptions(){return vt(this,gu)}setDefaultOptions(e){Wn(this,gu,e)}setQueryDefaults(e,n){vt(this,$f).set(ag(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...vt(this,$f).values()],r={};return n.forEach(i=>{sg(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){vt(this,Bf).set(ag(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...vt(this,Bf).values()],r={};return n.forEach(i=>{sg(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...vt(this,gu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Z4(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===J4&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...vt(this,gu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){vt(this,ki).clear(),vt(this,mu).clear()}},ki=new WeakMap,mu=new WeakMap,gu=new WeakMap,$f=new WeakMap,Bf=new WeakMap,vu=new WeakMap,Nf=new WeakMap,zf=new WeakMap,qI),kye="VUE_QUERY_CLIENT";function Eye(t){const e=t?`:${t}`:"";return`${kye}${e}`}function KA(t,e,n="",r=0){if(e){const i=e(t,n,r);if(i===void 0&&ji(t)||i!==void 0)return i}if(Array.isArray(t))return t.map((i,o)=>KA(i,e,String(o),r+1));if(typeof t=="object"&&Rye(t)){const i=Object.entries(t).map(([o,a])=>[o,KA(a,e,o,r+1)]);return Object.fromEntries(i)}return t}function Tye(t,e){return KA(t,e)}function cr(t,e=!1){return Tye(t,(n,r,i)=>{if(i===1&&r==="queryKey")return cr(n,!0);if(e&&_ye(n))return cr(n(),e);if(ji(n))return cr(Di(n),e)})}function Rye(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function _ye(t){return typeof t=="function"}var Pye=class extends xB{find(t){return super.find(cr(t))}findAll(t={}){return super.findAll(cr(t))}},Iye=class extends bB{find(t){return super.find(cr(t))}findAll(t={}){return super.findAll(cr(t))}},Lye=class extends Sye{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new Pye,mutationCache:t.mutationCache||new Iye};super(e),this.isRestoring=V(!1)}isFetching(t={}){return super.isFetching(cr(t))}isMutating(t={}){return super.isMutating(cr(t))}getQueryData(t){return super.getQueryData(cr(t))}ensureQueryData(t){return super.ensureQueryData(cr(t))}getQueriesData(t){return super.getQueriesData(cr(t))}setQueryData(t,e,n={}){return super.setQueryData(cr(t),e,cr(n))}setQueriesData(t,e,n={}){return super.setQueriesData(cr(t),e,cr(n))}getQueryState(t){return super.getQueryState(cr(t))}removeQueries(t={}){return super.removeQueries(cr(t))}resetQueries(t={},e={}){return super.resetQueries(cr(t),cr(e))}cancelQueries(t={},e={}){return super.cancelQueries(cr(t),cr(e))}invalidateQueries(t={},e={}){const n=cr(t),r=cr(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const i={...n,type:n.refetchType??n.type??"active"};return vn().then(()=>super.refetchQueries(i,r))}refetchQueries(t={},e={}){return super.refetchQueries(cr(t),cr(e))}fetchQuery(t){return super.fetchQuery(cr(t))}prefetchQuery(t){return super.prefetchQuery(cr(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(cr(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(cr(t))}setDefaultOptions(t){super.setDefaultOptions(cr(t))}setQueryDefaults(t,e){super.setQueryDefaults(cr(t),cr(e))}getQueryDefaults(t){return super.getQueryDefaults(cr(t))}setMutationDefaults(t,e){super.setMutationDefaults(cr(t),cr(e))}getMutationDefaults(t){return super.getMutationDefaults(cr(t))}},Mye={install:(t,e={})=>{const n=Eye(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const a="queryClientConfig"in e?e.queryClientConfig:void 0;r=new Lye(a)}Jg||r.mount();let i=()=>{};if(e.clientPersister){r.isRestoring&&(r.isRestoring.value=!0);const[a,s]=e.clientPersister(r);i=a,s.then(()=>{var l;r.isRestoring&&(r.isRestoring.value=!1),(l=e.clientPersisterOnSuccess)==null||l.call(e,r)})}const o=()=>{r.unmount(),i()};if(t.onUnmount)t.onUnmount(o);else{const a=t.unmount;t.unmount=function(){o(),a()}}t.provide(n,r)}};function Oye(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n===void 0||n[e[r]]===void 0)return;if(n===null||n[e[r]]===null)return null;n=n[e[r]]}return n}function e3(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=e3(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function wB(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return e3(t,wB(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function CB(t,e){return e.map(n=>n.split(".")).map(n=>[n,Oye(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>e3(n,r[1],r[0]),{})}function AB(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>wB(n,r),t)}function $R(t,{storage:e,serializer:n,key:r,debug:i,pick:o,omit:a,beforeHydrate:s,afterHydrate:l},c,u=!0){try{u&&(s==null||s(c));const d=e.getItem(r);if(d){const h=n.deserialize(d),f=o?CB(h,o):h,p=a?AB(f,a):f;t.$patch(p)}u&&(l==null||l(c))}catch(d){i&&console.error("[pinia-plugin-persistedstate]",d)}}function BR(t,{storage:e,serializer:n,key:r,debug:i,pick:o,omit:a}){try{const s=o?CB(t,o):t,l=a?AB(s,a):s,c=n.serialize(l);e.setItem(r,c)}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function Dye(t,e){return typeof t=="function"?t(e):typeof t=="string"?t:e}function Fye(t,e,n){const{pinia:r,store:i,options:{persist:o=n}}=t;if(!o)return;// v8 ignore if -- @preserve
if(!(i.$id in r.state.value)){const s=r._s.get(i.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const a=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(e);i.$hydrate=({runHooks:s=!0}={})=>{a.forEach(l=>{$R(i,l,t,s)})},i.$persist=()=>{a.forEach(s=>{BR(i.$state,s)})},a.forEach(s=>{$R(i,s,t),i.$subscribe((l,c)=>BR(c,s),{detached:!0})})}function $ye(t={}){return function(e){Fye(e,n=>{const r=Dye(n.key,e.store.$id);return{key:(t.key?t.key:i=>i)(r),debug:n.debug??t.debug??!1,serializer:n.serializer??t.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>JSON.parse(i)},storage:n.storage??t.storage??window.localStorage,beforeHydrate:n.beforeHydrate??t.beforeHydrate,afterHydrate:n.afterHydrate??t.afterHydrate,pick:n.pick,omit:n.omit}},t.auto??!1)}}var Bye=$ye();const Nye=(t=[])=>{const e=[];return{install:r=>{e.includes(r)||(e.push(r),t.forEach(i=>r.use(i)))}}};function wx(){const t=[],e="0123456789abcdef";for(let n=0;n<36;n++)t[n]=e.charAt(Math.floor(Math.random()*16));return t[8]=t[13]=t[18]=t[23]="-",t.join("")}function Ua(t){return t?t instanceof AMap.Map:!1}function ja(t){return t?t instanceof AMap.OverlayGroup:!1}function zye(t){return t?t instanceof AMap.IndoorMap:!1}function as(t){return t?t instanceof AMap.VectorLayer:!1}function SB(t){if(!t||t.length<4)return t;const e=t.substring(3,t.length);return t[2].toLowerCase()+e}const kB=/^on[A-Z]+/;function NR(t,e){if(!t)throw new Error("url");const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=t,document.body.appendChild(n),e&&n.addEventListener("load",()=>{e()})}function t3(t){return Array.isArray(t)?t.map(t3):t.toArray()}function Hye(t){return t&&t.charAt(0).toUpperCase()+t.slice(1)}function EB(t,e,n){!t||!t.on||t.on(e,n)}function Uye(t,e,n){!t||!t.off||t.off(e,n)}function zR(t){return new AMap.LngLat(t[0],t[1])}const jye={visible:{type:Boolean,default:!0},zIndex:{type:Number},reEventWhenUpdate:{type:Boolean,default:!1},extraOptions:{type:Object}},zn=t=>Object.assign({},jye,t),Cx="parentInstance",Vn=(t,e)=>{let n=Fs(),{props:r,attrs:i}=n,o=ut(Cx,void 0);const a=e.emits;let s=!1,l;jn(()=>{o?o.$amapComponent?c():o.addChildComponent(c):e.isRoot&&c()}),ir(()=>{l&&(A(),x(),e.destroyComponent?e.destroyComponent():k(),e.provideData&&(e.provideData.isDestroy=!0),o=void 0,r=void 0,i=void 0,n=void 0,l=void 0)}),q1(()=>{r.reEventWhenUpdate&&s&&l&&A()}),K1(()=>{r.reEventWhenUpdate&&s&&l&&S()});const c=()=>{const P=h();t(P,o==null?void 0:o.$amapComponent).then(_=>{l=_,S(),u(),b(),Object.assign(n.ctx,n.exposed),a("init",l,n.ctx),vn(()=>{T()}).then(),s=!0})},u=()=>{["editable","visible","zooms"].forEach(_=>{if(r[_]!==void 0){const F=w(_);F&&F.call(l,g(p(_,r[_])))}})},d=e.propsRedirect||{},h=()=>{const P={};return r.extraOptions&&Object.assign(P,r.extraOptions),Object.keys(r).forEach(_=>{let F=_;const N=p(F,r[F]);N!==void 0&&(d&&d[_]&&(F=d[F]),P[F]=N)}),P},f=e.converts||{},p=(P,_)=>f&&f[P]?f[P].call(void 0,_):_,g=P=>Au(P)?ur(P):Di(P);let m=[],y=Object.assign({__visible:P=>{l&&l.show&&l.hide&&(P?l.show():l.hide())},__zIndex(P){l&&l.setzIndex&&l.setzIndex(P)}},e.watchRedirectFn||{});const b=()=>{Object.keys(r).forEach(P=>{let _=P;d&&d[P]&&(_=d[P]);const F=w(_);if(!F)return;const N={deep:!1},W=Object.prototype.toString.call(r[P]);(W==="[object Object]"||W==="[object Array]")&&(N.deep=!0);const G=qt(()=>r[P],Z=>{F.call(l,g(p(P,Z)))},N);m.push(G)})},x=()=>{m.forEach(P=>P()),m=[],y=void 0},w=P=>y[`__${P}`]?y[`__${P}`]:l?l[`set${Hye(P)}`]:null,C={},S=()=>{Object.keys(i).forEach(P=>{if(kB.test(P)){const _=SB(P);EB(l,_,i[P]),C[_]=i[P]}})},A=()=>{Object.keys(C).forEach(P=>{Uye(l,P,C[P]),delete C[P]})},T=()=>{const P=e.needInitComponents||[];for(;P.length>0;)P[0](),P.splice(0,1)},k=()=>{l&&(l.setMap&&l.setMap(null),l.close&&l.close(),l.editor&&l.editor.close())};function E(){return l}return{$$getInstance:E,parentInstance:o,isMounted:s}};var Vr,Ax=Vr||(Vr={});Ax.notload="notload";Ax.loading="loading";Ax.loaded="loaded";Ax.failed="failed";let Yr={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},Fi={AMap:Vr.notload,AMapUI:Vr.notload,Loca:Vr.notload},ic={AMapUI:[],Loca:[]},GA=[];function Vye(t){typeof t=="function"&&(Fi.AMap===Vr.loaded?t(window.AMap):GA.push(t))}function i0(t){let e=[];return t.AMapUI&&e.push(Wye(t.AMapUI)),t.Loca&&e.push(qye(t.Loca)),Promise.all(e)}function Wye(t){return new Promise((e,n)=>{let r=[];if(t.plugins)for(var i=0;i<t.plugins.length;i+=1)Yr.AMapUI.plugins.indexOf(t.plugins[i])==-1&&r.push(t.plugins[i]);if(Fi.AMapUI===Vr.failed)n(" AMapUI ");else if(Fi.AMapUI===Vr.notload){Fi.AMapUI=Vr.loading,Yr.AMapUI.version=t.version||Yr.AMapUI.version,i=Yr.AMapUI.version;let o=document.body||document.head,a=document.createElement("script");a.type="text/javascript",a.src=`https://webapi.amap.com/ui/${i}/main.js`,a.onerror=()=>{Fi.AMapUI=Vr.failed,n(" AMapUI ")},a.onload=()=>{if(Fi.AMapUI=Vr.loaded,r.length)window.AMapUI.loadUI(r,function(){for(let s=0,l=r.length;s<l;s++){let c=r[s].split("/").slice(-1)[0];window.AMapUI[c]=arguments[s]}for(e();ic.AMapUI.length;)ic.AMapUI.splice(0,1)[0]()});else for(e();ic.AMapUI.length;)ic.AMapUI.splice(0,1)[0]()},o.appendChild(a)}else Fi.AMapUI===Vr.loaded?t.version&&t.version!==Yr.AMapUI.version?n(" AMapUI "):r.length?window.AMapUI.loadUI(r,function(){for(let o=0,a=r.length;o<a;o++){let s=r[o].split("/").slice(-1)[0];window.AMapUI[s]=arguments[o]}e()}):e():t.version&&t.version!==Yr.AMapUI.version?n(" AMapUI "):ic.AMapUI.push(o=>{o?n(o):r.length?window.AMapUI.loadUI(r,function(){for(let a=0,s=r.length;a<s;a++){let l=r[a].split("/").slice(-1)[0];window.AMapUI[l]=arguments[a]}e()}):e()})})}function qye(t){return new Promise((e,n)=>{if(Fi.Loca===Vr.failed)n(" Loca ");else if(Fi.Loca===Vr.notload){Fi.Loca=Vr.loading,Yr.Loca.version=t.version||Yr.Loca.version;let a=Yr.Loca.version;var r=Yr.AMap.version.startsWith("2"),i=a.startsWith("2");if(r&&!i||!r&&i)n("JSAPI  Loca ");else{r=Yr.key,i=document.body||document.head;var o=document.createElement("script");o.type="text/javascript",o.src=`https://webapi.amap.com/loca?v=${a}&key=${r}`,o.onerror=()=>{Fi.Loca=Vr.failed,n(" AMapUI ")},o.onload=()=>{for(Fi.Loca=Vr.loaded,e();ic.Loca.length;)ic.Loca.splice(0,1)[0]()},i.appendChild(o)}}else Fi.Loca===Vr.loaded?t.version&&t.version!==Yr.Loca.version?n(" Loca "):e():t.version&&t.version!==Yr.Loca.version?n(" Loca "):ic.Loca.push(a=>{a?n(a):n()})})}const Kye={load:function(t){if(typeof window>"u")throw Error("AMap JSAPI can only be used in Browser.");return new Promise((e,n)=>{if(Fi.AMap==Vr.failed)n("");else if(Fi.AMap==Vr.notload){let{key:a,version:s,plugins:l}=t;if(a){window.AMap&&location.host!=="lbs.amap.com"&&n("API"),Yr.key=a,Yr.AMap.version=s||Yr.AMap.version,Yr.AMap.plugins=l||Yr.AMap.plugins,Fi.AMap=Vr.loading;var r=document.body||document.head;window.___onAPILoaded=function(c){if(delete window.___onAPILoaded,c)Fi.AMap=Vr.failed,n(c);else for(Fi.AMap=Vr.loaded,i0(t).then(()=>{e(window.AMap)}).catch(n);GA.length;)GA.splice(0,1)[0]()};var i=document.createElement("script");i.type="text/javascript",i.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+Yr.AMap.version+"&key="+a+"&plugin="+Yr.AMap.plugins.join(","),i.onerror=c=>{Fi.AMap=Vr.failed,n(c)},r.appendChild(i)}else n("key")}else if(Fi.AMap==Vr.loaded)if(t.key&&t.key!==Yr.key)n(" key");else if(t.version&&t.version!==Yr.AMap.version)n(" JSAPI ");else{if(r=[],t.plugins)for(i=0;i<t.plugins.length;i+=1)Yr.AMap.plugins.indexOf(t.plugins[i])==-1&&r.push(t.plugins[i]);r.length?window.AMap.plugin(r,()=>{i0(t).then(()=>{e(window.AMap)}).catch(n)}):i0(t).then(()=>{e(window.AMap)}).catch(n)}else if(t.key&&t.key!==Yr.key)n(" key");else if(t.version&&t.version!==Yr.AMap.version)n(" JSAPI ");else{var o=[];if(t.plugins)for(i=0;i<t.plugins.length;i+=1)Yr.AMap.plugins.indexOf(t.plugins[i])==-1&&o.push(t.plugins[i]);Vye(()=>{o.length?window.AMap.plugin(o,()=>{i0(t).then(()=>{e(window.AMap)}).catch(n)}):i0(t).then(()=>{e(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,Yr={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},Fi={AMap:Vr.notload,AMapUI:Vr.notload,Loca:Vr.notload},ic={AMap:[],AMapUI:[],Loca:[]}}},Gye={key:"",version:"2.0",plugins:[],serviceHost:"",securityJsCode:""};function Yye(t={}){return t=pl({},Gye,t),t.serviceHost?window._AMapSecurityConfig={serviceHost:t.serviceHost}:t.securityJsCode&&(window._AMapSecurityConfig={securityJsCode:t.securityJsCode}),Kye.load(t)}let _d=null;const Xye=t=>{_d||(_d||(t.offline?_d=new Promise(e=>{console.log("@vuemap/vue-amap"),e(window.AMap)}):_d=Yye(t)),_d.then())},Qye=zn({vid:{type:String},center:{type:Array},zoom:{type:Number},rotation:{type:Number},pitch:{type:Number},viewMode:{type:String},features:{type:Array},layers:{type:Array},zooms:{type:Array},resizeEnable:{type:Boolean,default:!0},dragEnable:{type:Boolean,default:!0},zoomEnable:{type:Boolean,default:!0},jogEnable:{type:Boolean,default:!0},pitchEnable:{type:Boolean,default:!0},rotateEnable:{type:Boolean,default:!0},animateEnable:{type:Boolean,default:!0},keyboardEnable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},scrollWheel:{type:Boolean,default:!0},touchZoom:{type:Boolean,default:!0},touchZoomCenter:{type:Number},showLabel:{type:Boolean,default:!0},defaultCursor:{type:String},isHotspot:{type:Boolean},mapStyle:{type:String},wallColor:{type:[String,Array]},roofColor:{type:[String,Array]},showBuildingBlock:{type:Boolean,default:!0},showIndoorMap:{type:Boolean,default:!1},skyColor:{type:[String,Array]},labelRejectMask:{type:Boolean,default:!1},mask:{type:Array},WebGLParams:{type:Object},terrain:{type:Boolean,default:!1},showOversea:{type:Boolean,default:!1},languageCode:{type:String}}),Zye={class:"el-vue-amap-container"},Jye=["id"];var H0=le({name:"ElAmap",inheritAttrs:!1,__name:"amap",props:Qye,emits:["init","update:zoom","update:center","update:rotation","update:pitch"],setup(t,{expose:e,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(h){r.push(h)},isDestroy:!1};zt(Cx,i);const o=t,a=n,s=V(o.vid||wx());let l;const{$$getInstance:c}=Vn(h=>new Promise((f,p)=>{if(!_d){p(new Error("initAMapApiLoader"));return}_d.then(()=>{vn(()=>{l=new AMap.Map(s.value,h),i.$amapComponent=l,u(),f(l)})}).catch(g=>{p(g)})}),{isRoot:!0,emits:a,needInitComponents:r,provideData:i,watchRedirectFn:{__dragEnable(h){l&&l.setStatus({dragEnable:h})},__zoomEnable(h){l&&l.setStatus({zoomEnable:h})},__jogEnable(h){l&&l.setStatus({jogEnable:h})},__keyboardEnable(h){l&&l.setStatus({keyboardEnable:h})},__doubleClickZoom(h){l&&l.setStatus({doubleClickZoom:h})},__scrollWheel(h){l&&l.setStatus({scrollWheel:h})},__rotateEnable(h){l&&l.setStatus({rotateEnable:h})},__pitchEnable(h){l&&l.setStatus({pitchEnable:h})},__resizeEnable(h){l&&l.setStatus({resizeEnable:h})},__showIndoorMap(h){l&&l.setStatus({showIndoorMap:h})}}}),u=()=>{l.on("zoomchange",()=>{a("update:zoom",l.getZoom())}),l.on("rotateend",()=>{a("update:rotation",l.getRotation())}),l.on("dragging",()=>{a("update:center",d())}),l.on("dragend",()=>{a("update:pitch",l.getPitch())}),l.on("touchmove",()=>{a("update:center",d())})},d=()=>{const h=l.getCenter();return[h.lng,h.lat]};return ir(()=>{l&&(l.clearEvents(),l.destroy(),l=null)}),e({$$getInstance:c}),(h,f)=>(gn(),Pn("div",Zye,[Wf("div",{id:s.value,class:"el-vue-amap"},null,8,Jye),ph(h.$slots,"default")]))}});H0.__file="src/vue-amap/packages/amap/amap.vue";H0.install=t=>(t.component(H0.name,H0),t);const ebe=H0;var U0=le({name:"ElAmapControlControlBar",inheritAttrs:!1,__name:"ControlBar",props:zn({position:{type:[String,Object]},offset:{type:Array},showControlButton:{type:Boolean,default:!0}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{l.plugin(["AMap.ControlBar"],()=>{i=new AMap.ControlBar(s),l.addControl(i),c(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});U0.__file="src/vue-amap/packages/control/ControlBar/ControlBar.vue";U0.install=t=>(t.component(U0.name,U0),t);const tbe=U0,nbe=zn({autoMove:{type:Boolean,default:!0},showRectangle:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},isOpen:{type:Boolean,default:!0},mapStyle:{type:String},layers:{type:Array},width:{type:String},height:{type:String},offset:{type:Array},borderStyle:{type:String},borderColor:{type:String},borderRadius:{type:String},borderWidth:{type:String},buttonSize:{type:String}});var j0=le({name:"ElAmapControlHawkEye",inheritAttrs:!1,__name:"HawkEye",props:nbe,emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{l.plugin(["AMap.HawkEye"],()=>{i=new AMap.HawkEye(s),l.addControl(i),c(i)})}),{emits:r,watchRedirectFn:{__isOpen(s){s?i.open():i.close()}},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:o}),(s,l)=>null}});j0.__file="src/vue-amap/packages/control/HawkEye/HawkEye.vue";j0.install=t=>(t.component(j0.name,j0),t);const rbe=j0;var V0=le({name:"ElAmapControlMapType",inheritAttrs:!1,__name:"MapType",props:zn({defaultType:{type:Number},showTraffic:{type:Boolean,default:!1},showRoad:{type:Boolean,default:!1}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{l.plugin(["AMap.MapType"],()=>{i=new AMap.MapType(s),l.addControl(i),c(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});V0.__file="src/vue-amap/packages/control/MapType/MapType.vue";V0.install=t=>(t.component(V0.name,V0),t);const ibe=V0;var W0=le({name:"ElAmapControlScale",inheritAttrs:!1,__name:"Scale",props:zn({position:{type:[String,Object]},offset:{type:Array}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{l.plugin(["AMap.Scale"],()=>{i=new AMap.Scale(s),l.addControl(i),c(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});W0.__file="src/vue-amap/packages/control/Scale/Scale.vue";W0.install=t=>(t.component(W0.name,W0),t);const obe=W0;var q0=le({name:"ElAmapControlToolBar",inheritAttrs:!1,__name:"ToolBar",props:zn({position:{type:[String,Object]},offset:{type:Array}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{l.plugin(["AMap.ToolBar"],()=>{i=new AMap.ToolBar(s),l.addControl(i),c(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});q0.__file="src/vue-amap/packages/control/ToolBar/ToolBar.vue";q0.install=t=>(t.component(q0.name,q0),t);const abe=q0,sbe=zn({type:{type:String},city:{type:String},datatype:{type:String},citylimit:{type:Boolean,default:!1},inputId:{type:String},inputCustom:{type:Boolean,default:!1},outputId:{type:String},outPutDirAuto:{type:Boolean,default:!0},closeResultOnScroll:{type:Boolean,default:!0},lang:{type:String},placeholder:{type:String},debounce:{type:Number,default:100}}),lbe={class:"el-vue-search-box-container"},cbe=["id","placeholder"];var K0=le({name:"ElAmapSearchBox",inheritAttrs:!1,__name:"SearchBox",props:sbe,emits:["init","update:name"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=V(wx()),a=V(!0);let s,l;const{$$getInstance:c}=Vn((u,d)=>{u.inputId&&(o.value=u.inputId,delete u.inputId),u.visible&&(a.value=u.visible),u.input=o.value,u.outputId&&(u.output=u.outputId,delete u.outputId);let h;return new Promise(f=>{d.plugin(["AMap.AutoComplete"],()=>{const p=r.debounce;l=AMap.Autocomplete.prototype.onInPut,AMap.Autocomplete.prototype.onInPut=function(){clearTimeout(h),h=setTimeout(()=>{this.output&&this.autoSearch()},p)},s=new AMap.AutoComplete(u),s.on("select",g=>{var m;(m=g==null?void 0:g.poi)!=null&&m.name&&i("update:name",g.poi.name)}),f(s)})})},{emits:i,watchRedirectFn:{__visible(u){a.value=u},__citylimit(u){s.setCityLimit(u)}},destroyComponent(){l&&AMap.Autocomplete&&(AMap.Autocomplete.prototype.onInPut=l)}});return e({$$getInstance:c}),(u,d)=>ii((gn(),Pn("div",lbe,[u.inputCustom?Rk("v-if",!0):(gn(),Pn("input",{key:0,id:o.value,type:"text",placeholder:u.placeholder},null,8,cbe))],512)),[[ya,u.visible&&!u.inputCustom]])}});K0.__file="src/vue-amap/packages/control/SearchBox/SearchBox.vue";K0.install=t=>(t.component(K0.name,K0),t);const ube=K0,dbe=zn({isCustom:{type:Boolean,default:!1},autoMove:{type:Boolean,default:!0},avoid:{type:Array},closeWhenClickMap:{type:Boolean,default:!1},content:{type:[String,Object]},size:{type:Array},anchor:{type:String},offset:{type:Array},position:{type:Object}}),hbe={style:{display:"none"}};var G0=le({name:"ElAmapInfoWindow",inheritAttrs:!1,__name:"InfoWindow",props:dbe,emits:["init","update:visible"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=!r.content,a=`info-${wx()}`,s=V("");let l;const{$$getInstance:c,parentInstance:u}=Vn((d,h)=>new Promise(f=>{d.content||(d.content=`<div id="${a}"></div>`),l=new AMap.InfoWindow(d),l.on("close",()=>{i("update:visible",!1)}),r.visible&&(l.open(h,r.position),o&&(s.value=a,vn(()=>{l.setAnchor(l.getAnchor())}))),f(l)}),{emits:i,watchRedirectFn:{__position(d){r.visible?(l.open(u==null?void 0:u.$amapComponent,d),o&&(s.value=a)):l.setPosition(d)},__visible(d){const h=l.getPosition();h&&(d?(l.open(u==null?void 0:u.$amapComponent,[h.lng,h.lat]),o&&(s.value=a,vn(()=>{l.setAnchor(l.getAnchor())}))):l.close())}},destroyComponent(){l&&(l.getIsOpen()&&l.close(),l=null)}});return Rl(()=>{l&&l.close()}),e({$$getInstance:c}),(d,h)=>(gn(),Pn("div",hbe,[s.value?(gn(),jf(fh,{key:0,to:"#"+s.value},[ph(d.$slots,"default")],8,["to"])):Rk("v-if",!0)]))}});G0.__file="src/vue-amap/packages/infoWindow/InfoWindow/InfoWindow.vue";G0.install=t=>(t.component(G0.name,G0),t);const fbe=G0;var Y0=le({name:"ElAmapLayerCanvas",inheritAttrs:!1,__name:"Canvas",props:zn({canvas:{required:!0,type:Object},zooms:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.CanvasLayer(s),l.addLayer(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});Y0.__file="src/vue-amap/packages/layer/data/Canvas/Canvas.vue";Y0.install=t=>(t.component(Y0.name,Y0),t);const pbe=Y0;var X0=le({name:"ElAmapLayerCustom",inheritAttrs:!1,__name:"Custom",props:zn({canvas:{required:!0,type:Object},render:{type:Function},zooms:{type:Array},opacity:{type:Number},alwaysRender:{type:Boolean,default:!1}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{const u=s.canvas;delete s.canvas,i=new AMap.CustomLayer(u,s),i.setMap(l),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(i.setMap(null),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});X0.__file="src/vue-amap/packages/layer/data/Custom/Custom.vue";X0.install=t=>(t.component(X0.name,X0),t);const mbe=X0;var Q0=le({name:"ElAmapLayerFlexible",inheritAttrs:!1,__name:"Flexible",props:zn({cacheSize:{type:Number},createTile:{type:Function},zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer.Flexible(s),i.setMap(l),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(i.destroy(),i.setMap(null),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});Q0.__file="src/vue-amap/packages/layer/data/Flexible/Flexible.vue";Q0.install=t=>(t.component(Q0.name,Q0),t);const gbe=Q0;var Z0=le({name:"ElAmapLayerGlCustom",inheritAttrs:!1,__name:"GLCustom",props:zn({init:{type:Function},render:{type:Function},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o}=Vn((a,s)=>new Promise(l=>{i=new AMap.GLCustomLayer(a),i.setMap(s),l(i)}),{emits:r,destroyComponent(){i&&(i.setMap(null),i=null)}});return e({$$getInstance:o}),(a,s)=>(gn(),Pn("div"))}});Z0.__file="src/vue-amap/packages/layer/data/GLCustom/GLCustom.vue";Z0.install=t=>(t.component(Z0.name,Z0),t);const vbe=Z0;var J0=le({name:"ElAmapLayerHeatMap",inheritAttrs:!1,__name:"HeatMap",props:zn({radius:{type:Number},gradient:{type:Object},zooms:{type:Array},opacity:{type:Object},config:{type:Object},dataSet:{type:Object}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o;const{$$getInstance:a,parentInstance:s}=Vn((l,c)=>new Promise(u=>{AMap.plugin(["AMap.HeatMap"],()=>{delete l.dataSet,o=new AMap.HeatMap(c,l),r.dataSet&&o.setDataSet(r.dataSet),u(o)})}),{emits:i,destroyComponent(){o&&(s!=null&&s.$amapComponent)&&(o.setDataSet({data:[],max:0}),o.setMap(null),o=null)}});return e({$$getInstance:a}),(l,c)=>(gn(),Pn("div"))}});J0.__file="src/vue-amap/packages/layer/data/HeatMap/HeatMap.vue";J0.install=t=>(t.component(J0.name,J0),t);const ybe=J0;var em=le({name:"ElAmapLayerImage",inheritAttrs:!1,__name:"Image",props:zn({url:{type:String,required:!0},zoom:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.ImageLayer(s),l.addLayer(i),c(i)}),{emits:r,watchRedirectFn:{__url(s){i.setImageUrl(s)}},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});em.__file="src/vue-amap/packages/layer/data/Image/Image.vue";em.install=t=>(t.component(em.name,em),t);const bbe=em;var tm=le({name:"ElAmapLayerLabels",inheritAttrs:!1,__name:"Labels",props:zn({zooms:{type:Array},opacity:{type:Number},collision:{type:Boolean,default:!0},allowCollision:{type:Boolean,default:!1}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(u){r.push(u)},isDestroy:!1};zt(Cx,i);const o=n;let a;const{$$getInstance:s,parentInstance:l}=Vn((u,d)=>new Promise(h=>{a=new AMap.LabelsLayer(u),d.add(a),i.$amapComponent=a,h(a)}),{emits:o,needInitComponents:r,provideData:i,destroyComponent(){a&&(l!=null&&l.$amapComponent)&&(l!=null&&l.isDestroy||l==null||l.$amapComponent.removeLayer(a),a=null)}});return e({$$getInstance:s,$$add:u=>{a.add(u)}}),(u,d)=>(gn(),Pn("div",null,[ph(u.$slots,"default")]))}});tm.__file="src/vue-amap/packages/layer/data/Labels/Labels.vue";tm.install=t=>(t.component(tm.name,tm),t);const xbe=tm;var nm=le({name:"ElAmapLayerVector",inheritAttrs:!1,__name:"Vector",props:zn({}),emits:["init"],setup(t,{expose:e,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(c){r.push(c)},isDestroy:!1};zt(Cx,i);const o=n;let a;const{$$getInstance:s,parentInstance:l}=Vn((c,u)=>new Promise(d=>{a=new AMap.VectorLayer(c),u.add(a),d(a)}),{emits:o,needInitComponents:r,provideData:i,destroyComponent(){a&&(l!=null&&l.$amapComponent)&&(l!=null&&l.isDestroy||l==null||l.$amapComponent.removeLayer(a),a=null)}});return e({$$getInstance:s}),(c,u)=>(gn(),Pn("div",null,[ph(c.$slots,"default")]))}});nm.__file="src/vue-amap/packages/layer/data/Vector/Vector.vue";nm.install=t=>(t.component(nm.name,nm),t);const wbe=nm;var rm=le({name:"ElAmapLayerBuildings",inheritAttrs:!1,__name:"Buildings",props:zn({wallColor:{type:[String,Array]},roofColor:{type:[String,Array]},heightFactor:{type:Number},styleOpts:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o;const{$$getInstance:a,parentInstance:s}=Vn((l,c)=>new Promise(u=>{o=new AMap.Buildings(l),c.add(o),r.styleOpts&&o.setStyle(r.styleOpts),u(o)}),{emits:i,watchRedirectFn:{__styleOpts(l){o.setStyle(l)}},destroyComponent(){o&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(o),o=null)}});return e({$$getInstance:a}),(l,c)=>(gn(),Pn("div"))}});rm.__file="src/vue-amap/packages/layer/official/Buildings/Buildings.vue";rm.install=t=>(t.component(rm.name,rm),t);const Cbe=rm;var im=le({name:"ElAmapLayerDefault",inheritAttrs:!1,__name:"DefaultLayer",props:zn({zoom:{type:Array},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=AMap.createDefaultLayer(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});im.__file="src/vue-amap/packages/layer/official/DefaultLayer/DefaultLayer.vue";im.install=t=>(t.component(im.name,im),t);const Abe=im;var om=le({name:"ElAmapLayerDistrict",inheritAttrs:!1,__name:"DistrictLayer",props:zn({type:{type:String,default:"Country",validator:t=>["World","Country","Province"].indexOf(t)!==-1},adcode:{type:String},SOC:{type:String},depth:{type:Number},zooms:{type:Array},opacity:{type:Number},styles:{type:Object}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o;const{$$getInstance:a,parentInstance:s}=Vn((l,c)=>new Promise(u=>{r.type==="World"?o=new AMap.DistrictLayer.World(l):r.type==="Country"?o=new AMap.DistrictLayer.Country(l):r.type==="Province"&&(o=new AMap.DistrictLayer.Province(l)),c.add(o),u(o)}),{emits:i,watchRedirectFn:{__SOC(l){o.setSOC(l)}},destroyComponent(){o&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(o),o=null)}});return e({$$getInstance:a}),(l,c)=>(gn(),Pn("div"))}});om.__file="src/vue-amap/packages/layer/official/DistrictLayer/DistrictLayer.vue";om.install=t=>(t.component(om.name,om),t);const Sbe=om;var am=le({name:"ElAmapLayerIndoorMap",inheritAttrs:!1,__name:"IndoorMap",props:zn({opacity:{type:Number},cursor:{type:String},hideFloorBar:{type:Boolean,default:!1}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{AMap.plugin(["AMap.IndoorMap"],()=>{i=new AMap.IndoorMap(s);const u=l.getLayers();u.push(i),l.setLayers(u),c(i)})}),{emits:r,watchRedirectFn:{__hideFloorBar(s){s?i.showFloorBar():i.hideFloorBar()}},destroyComponent(){if(i&&(a!=null&&a.$amapComponent)){const s=a.$amapComponent.getLayers();let l=-1;for(let c=0;c<s.length;c++)if(zye(s[c])){l=c;break}l>-1&&(s.splice(l,1),a.$amapComponent.setLayers(s)),i=null}}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});am.__file="src/vue-amap/packages/layer/official/IndoorMap/IndoorMap.vue";am.install=t=>(t.component(am.name,am),t);const kbe=am;var sm=le({name:"ElAmapLayerRoadNet",inheritAttrs:!1,__name:"RoadNet",props:zn({zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer.RoadNet(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});sm.__file="src/vue-amap/packages/layer/official/RoadNet/RoadNet.vue";sm.install=t=>(t.component(sm.name,sm),t);const Ebe=sm;var lm=le({name:"ElAmapLayerSatellite",inheritAttrs:!1,__name:"Satellite",props:zn({zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer.Satellite(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});lm.__file="src/vue-amap/packages/layer/official/Satellite/Satellite.vue";lm.install=t=>(t.component(lm.name,lm),t);const Tbe=lm;var cm=le({name:"ElAmapLayerTile",inheritAttrs:!1,__name:"TileLayer",props:zn({tileUrl:{type:String,required:!0},zoom:{type:Array},dataZooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});cm.__file="src/vue-amap/packages/layer/official/TileLayer/TileLayer.vue";cm.install=t=>(t.component(cm.name,cm),t);const Rbe=cm;var um=le({name:"ElAmapLayerTraffic",inheritAttrs:!1,__name:"Traffic",props:zn({autoRefresh:{type:Boolean,defult:!0},interval:{type:Number},zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((l,c)=>new Promise(u=>{i=new AMap.TileLayer.Traffic(l),c.add(i),u(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o,stopFresh:()=>{i&&i.stopFresh()}}),(l,c)=>(gn(),Pn("div"))}});um.__file="src/vue-amap/packages/layer/official/Traffic/Traffic.vue";um.install=t=>(t.component(um.name,um),t);const _be=um;var dm=le({name:"ElAmapLayerMapboxVectorTile",inheritAttrs:!1,__name:"MapboxVectorTileLayer",props:zn({url:{type:String},zooms:{type:Array},dataZooms:{type:Array},opacity:{type:Number},styles:{type:Object}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{AMap.plugin(["AMap.MapboxVectorTileLayer"],()=>{i=new AMap.MapboxVectorTileLayer(s),l.addLayer(i),c(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});dm.__file="src/vue-amap/packages/layer/standard/MapboxVectorTileLayer/MapboxVectorTileLayer.vue";dm.install=t=>(t.component(dm.name,dm),t);const Pbe=dm;var hm=le({name:"ElAmapLayerWms",inheritAttrs:!1,__name:"WMS",props:zn({url:{type:String},blend:{type:Boolean,default:!1},params:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer.WMS(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});hm.__file="src/vue-amap/packages/layer/standard/WMS/WMS.vue";hm.install=t=>(t.component(hm.name,hm),t);const Ibe=hm;var fm=le({name:"ElAmapLayerWmts",inheritAttrs:!1,__name:"WMTS",props:zn({url:{type:String},blend:{type:Boolean,default:!1},params:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.TileLayer.WMTS(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});fm.__file="src/vue-amap/packages/layer/standard/WMTS/WMTS.vue";fm.install=t=>(t.component(fm.name,fm),t);const Lbe=fm;var pm=le({name:"ElAmapElasticMarker",inheritAttrs:!1,__name:"ElasticMarker",props:zn({position:{type:[Array,Object],required:!0},title:{type:String},offset:{type:[Array,Object]},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},zoomStyleMapping:{type:Object},styles:{type:Array},extData:{type:Object,default:()=>null}}),emits:["init","update:position"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((c,u)=>new Promise(d=>{AMap.plugin(["AMap.ElasticMarker"],()=>{i=new AMap.ElasticMarker(c),u.add(i),s(),d(i)})}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}}),s=()=>{i.on("dragend",()=>{l()}),i.on("touchend",()=>{l()})},l=()=>{const c=i.getPosition();r("update:position",c==null?void 0:c.toArray())};return e({$$getInstance:o}),(c,u)=>(gn(),Pn("div"))}});pm.__file="src/vue-amap/packages/marker/ElasticMarker/ElasticMarker.vue";pm.install=t=>(t.component(pm.name,pm),t);const Mbe=pm;var mm=le({name:"ElAmapLabelMarker",inheritAttrs:!1,__name:"LabelMarker",props:zn({name:{type:String},position:{type:[Array,Object],required:!0},zooms:{type:Array},opacity:{type:Number},rank:{type:Number},icon:{type:Object},text:{type:Object},extData:null,rotation:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{i=new AMap.LabelMarker(s),l.add(i),c(i)}),{emits:r,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});mm.__file="src/vue-amap/packages/marker/LabelMarker/LabelMarker.vue";mm.install=t=>(t.component(mm.name,mm),t);const Obe=mm,Dbe=zn({position:{type:[Array,Object],required:!0},icon:{type:[String,Object]},content:{type:[String,typeof HTMLElement>"u"?Object:HTMLElement]},title:{type:String},offset:{type:[Array,Object]},anchor:{type:[String,Array]},angle:{type:Number},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},label:{type:Object},extData:null,moveOptions:{type:Object,default:()=>null}}),Fbe={style:{display:"none"}};var gm=le({name:"ElAmapMarker",inheritAttrs:!1,__name:"Marker",props:zn(Dbe),emits:["init","update:position"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=`marker-${wx()}`,a=V("");let s,l=!1;const c=mK(),{$$getInstance:u,parentInstance:d}=Vn((p,g)=>new Promise(m=>{c.default&&c.default().length>0&&(l=!0,p.content=`<div id="${o}"></div>`),s=new AMap.Marker(p),Ua(g)?g.add(s):ja(g)&&g.addOverlay(s),l&&(a.value=o,vn(()=>{s.setAnchor(s.getAnchor())})),h(),m(s)}),{emits:i,watchRedirectFn:{__position(p){if(!r.moveOptions){s.setPosition(p);return}d!=null&&d.$amapComponent&&d.$amapComponent.plugin("AMap.MoveAnimation",()=>{s.moveTo(p,r.moveOptions)})}},destroyComponent(){s&&(d!=null&&d.$amapComponent)&&(s.setMap(null),s=null)}}),h=()=>{s.on("dragend",()=>{f()}),s.on("touchend",()=>{f()})},f=()=>{const p=s.getPosition();i("update:position",p.toArray())};return e({$$getInstance:u}),(p,g)=>(gn(),Pn("div",Fbe,[a.value?(gn(),jf(fh,{key:0,to:"#"+a.value},[ph(p.$slots,"default")],8,["to"])):Rk("v-if",!0)]))}});gm.__file="src/vue-amap/packages/marker/Marker/Marker.vue";gm.install=t=>(t.component(gm.name,gm),t);const $be=gm;var vm=le({name:"ElAmapMarkerCluster",inheritAttrs:!1,__name:"MarkerCluster",props:zn({points:{type:Object,required:!0},gridSize:{type:Number},maxZoom:{type:Number},averageCenter:{type:Boolean,default:!0},clusterByZoomChange:{type:Boolean,default:!1},styles:{type:Array},renderClusterMarker:{type:Function},renderMarker:{type:Function}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{AMap.plugin(["AMap.MarkerCluster"],()=>{const u=s.points;delete s.points,i=new AMap.MarkerCluster(l,u,s),c(i)})}),{emits:r,watchRedirectFn:{__points(s){i&&i.setData(s)}},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(i.setMap(null),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});vm.__file="src/vue-amap/packages/marker/MarkerCluster/MarkerCluster.vue";vm.install=t=>(t.component(vm.name,vm),t);const Bbe=vm;var ym=le({name:"ElAmapMassMarks",inheritAttrs:!1,__name:"MassMarks",props:zn({data:{type:Array,required:!0},zooms:{type:Array},cursor:{type:String},styles:{type:[Array,Object]}}),emits:["init","update:center"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((s,l)=>new Promise(c=>{const u=s.data;delete s.data,i=new AMap.MassMarks(u,s),i.setMap(l),c(i)}),{emits:r,propsRedirect:{styles:"style"},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(i.clear(),i.setMap(null),i=null)}});return e({$$getInstance:o}),(s,l)=>(gn(),Pn("div"))}});ym.__file="src/vue-amap/packages/marker/MassMarks/MassMarks.vue";ym.install=t=>(t.component(ym.name,ym),t);const Nbe=ym,zbe=zn({position:{type:[Array,Object],required:!0},text:{type:String},title:{type:String},offset:{type:[Array,Object]},anchor:{type:[String,Array]},angle:{type:Number},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},textStyle:{type:Object},extData:null});var bm=le({name:"ElAmapText",inheritAttrs:!1,__name:"Text",props:zbe,emits:["init","update:position"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((c,u)=>new Promise(d=>{i=new AMap.Text(c),u.add(i),s(),d(i)}),{emits:r,propsRedirect:{textStyle:"style"},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(i.setMap(null),i=null)}}),s=()=>{i.on("dragend",()=>{l()}),i.on("touchend",()=>{l()})},l=()=>{const c=i.getPosition();r("update:position",c.toArray())};return e({$$getInstance:o}),(c,u)=>(gn(),Pn("div"))}});bm.__file="src/vue-amap/packages/marker/Text/Text.vue";bm.install=t=>(t.component(bm.name,bm),t);const Hbe=bm;function vp(t,e){if(!t)return;const n=["addnode","adjust","removenode","end","move","add"],r={};Object.keys(e).forEach(i=>{if(kB.test(i)){const o=SB(i);n.indexOf(o)!==-1&&(r[o]=e[i])}}),Object.keys(r).forEach(i=>{EB(t,i,r[i])})}const Ube=zn({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},borderWeight:{type:Number},isOutline:{type:Boolean,default:!1},outlineColor:{type:String},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},lineJoin:{type:String,validator:t=>["miter","round","bevel"].indexOf(t)!==-1},lineCap:{type:String,validator:t=>["butt","round","square"].indexOf(t)!==-1},geodesic:{type:Boolean,default:!1},showDir:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var xm=le({name:"ElAmapBezierCurve",inheritAttrs:!1,__name:"BezierCurve",props:Ube,emits:["init","update:path"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.BezierCurve(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__borderWeight(m){o&&o.setOptions({borderWeight:m})},__isOutline(m){o&&o.setOptions({isOutline:m})},__outlineColor(m){o&&o.setOptions({outlineColor:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__lineJoin(m){o&&o.setOptions({lineJoin:m})},__lineCap(m){o&&o.setOptions({lineCap:m})},__geodesic(m){o&&o.setOptions({geodesic:m})},__showDir(m){o&&o.setOptions({showDir:m})},__editable(m){p().then(()=>{m?c():h.close()})},__path(m){o&&(o.setPath(m),c())}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.setTarget(),h.setTarget(o),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=Du(m=>{if(a)return;const y=m.getPath();i("update:path",y)},50);let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.BezierCurveEditor"],()=>{h=new AMap.BezierCurveEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});xm.__file="src/vue-amap/packages/vector/BezierCurve/BezierCurve.vue";xm.install=t=>(t.component(xm.name,xm),t);const jbe=xm,Vbe=zn({center:{type:Array,required:!0},radius:{type:Number,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var wm=le({name:"ElAmapCircle",inheritAttrs:!1,__name:"Circle",props:Vbe,emits:["init","update:center","update:radius"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.Circle(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__fillColor(m){o&&o.setOptions({fillColor:m})},__fillOpacity(m){o&&o.setOptions({fillOpacity:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__editable(m){p().then(()=>{m?c():h.close()})},__center(m){o&&(o.setCenter(m),c())},__radius(m){o&&(o.setRadius(m),c())}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.setTarget(),h.setTarget(o),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=m=>{a||(i("update:center",m.getCenter().toArray()),i("update:radius",m.getRadius()))};let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.CircleEditor"],()=>{h=new AMap.CircleEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)}),h.on("move",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});wm.__file="src/vue-amap/packages/vector/Circle/Circle.vue";wm.install=t=>(t.component(wm.name,wm),t);const Wbe=wm,qbe=zn({center:{type:Array,required:!0},radius:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var Cm=le({name:"ElAmapEllipse",inheritAttrs:!1,__name:"Ellipse",props:qbe,emits:["init","update:center","update:radius"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.Ellipse(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__fillColor(m){o&&o.setOptions({fillColor:m})},__fillOpacity(m){o&&o.setOptions({fillOpacity:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__editable(m){p().then(()=>{m?c():h.close()})},__center(m){o&&(o.setCenter(m),c())},__radius(m){o&&(o.setRadius(m),c())}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.setTarget(),h.setTarget(o),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=m=>{a||(i("update:center",m.getCenter().toArray()),i("update:radius",m.getRadius()))};let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.EllipseEditor"],()=>{h=new AMap.EllipseEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)}),h.on("move",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});Cm.__file="src/vue-amap/packages/vector/Ellipse/Ellipse.vue";Cm.install=t=>(t.component(Cm.name,Cm),t);const Kbe=Cm;var Am=le({name:"ElAmapGeojson",inheritAttrs:!1,__name:"GeoJSON",props:zn({geo:{type:Object,required:!0},markerOptions:{type:Object},getMarker:{type:Function},polylineOptions:{type:Object},getPolyline:{type:Function},polygonOptions:{type:Object},getPolygon:{type:Function}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o;const{$$getInstance:a,parentInstance:s}=Vn((d,h)=>new Promise(f=>{AMap.plugin(["AMap.GeoJSON"],()=>{d.getMarker||(d.getMarker=l),d.getPolyline||(d.getPolyline=c),d.getPolygon||(d.getPolygon=u),o=new AMap.GeoJSON(d),h.add(o),f(o)})}),{emits:i,propsRedirect:{geo:"geoJSON"},watchRedirectFn:{__geoJSON(d){o&&o.importData(d)}},destroyComponent(){o&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(o),o=null)}}),l=(d,h)=>{let f=r.markerOptions||{};return f=pl({},f,d.properties),f.position=h,new AMap.Marker(f)},c=(d,h)=>{let f=r.polylineOptions||{};return f=pl({},f,d.properties),f.path=h,new AMap.Polyline(f)},u=(d,h)=>{let f=r.polygonOptions||{};return f=pl({},f,d.properties),f.path=h,new AMap.Polygon(f)};return e({$$getInstance:a}),(d,h)=>(gn(),Pn("div"))}});Am.__file="src/vue-amap/packages/vector/GeoJSON/GeoJSON.vue";Am.install=t=>(t.component(Am.name,Am),t);const Gbe=Am,Ybe=zn({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var Sm=le({name:"ElAmapPolygon",inheritAttrs:!1,__name:"Polygon",props:Ybe,emits:["init","update:path"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.Polygon(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__fillColor(m){o&&o.setOptions({fillColor:m})},__fillOpacity(m){o&&o.setOptions({fillOpacity:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__editable(m){p().then(()=>{m?c():h.close()})},__path(m){o&&(o.setPath(m),c())},__draggable(m){o.setOptions({draggable:m}),h&&h.editingPolyObj&&h.editingPolyObj.origin_options&&(h.editingPolyObj.origin_options.draggable=m),r.editable&&c()}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=m=>{if(a)return;const y=m.getPath(),b=y==null?void 0:y.map(t3);i("update:path",b)};let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.PolygonEditor"],()=>{h=new AMap.PolygonEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});Sm.__file="src/vue-amap/packages/vector/Polygon/Polygon.vue";Sm.install=t=>(t.component(Sm.name,Sm),t);const Xbe=Sm,Qbe=zn({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},borderWeight:{type:Number},isOutline:{type:Boolean,default:!1},outlineColor:{type:String},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},lineJoin:{type:String,validator:t=>["miter","round","bevel"].indexOf(t)!==-1},lineCap:{type:String,validator:t=>["butt","round","square"].indexOf(t)!==-1},geodesic:{type:Boolean,default:!1},showDir:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var km=le({name:"ElAmapPolyline",inheritAttrs:!1,__name:"Polyline",props:Qbe,emits:["init","update:path"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.Polyline(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__borderWeight(m){o&&o.setOptions({borderWeight:m})},__isOutline(m){o&&o.setOptions({isOutline:m})},__outlineColor(m){o&&o.setOptions({outlineColor:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__lineJoin(m){o&&o.setOptions({lineJoin:m})},__lineCap(m){o&&o.setOptions({lineCap:m})},__geodesic(m){o&&o.setOptions({geodesic:m})},__showDir(m){o&&o.setOptions({showDir:m})},__editable(m){p().then(()=>{m?c():h.close()})},__path(m){o&&(o.setPath(m),c())}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.setTarget(),h.setTarget(o),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=m=>{if(a)return;const y=m.getPath(),b=y==null?void 0:y.map(t3);i("update:path",b)};let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.PolylineEditor"],()=>{h=new AMap.PolylineEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});km.__file="src/vue-amap/packages/vector/Polyline/Polyline.vue";km.install=t=>(t.component(km.name,km),t);const Zbe=km,Jbe=zn({bounds:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:t=>["solid","dashed"].indexOf(t)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var Em=le({name:"ElAmapRectangle",inheritAttrs:!1,__name:"Rectangle",props:Jbe,emits:["init","update:bounds"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a=!1;const{$$getInstance:s,parentInstance:l}=Vn((m,y)=>new Promise(b=>{o=new AMap.Rectangle(m),Ua(y)?y.add(o):ja(y)?y.addOverlay(o):as(y)&&y.add(o),u(),b(o)}),{emits:i,converts:{bounds:m=>new AMap.Bounds(zR(m[0]),zR(m[1]))},watchRedirectFn:{__zIndex(m){o&&o.setOptions({zIndex:m})},__strokeColor(m){o&&o.setOptions({strokeColor:m})},__strokeOpacity(m){o&&o.setOptions({strokeOpacity:m})},__strokeWeight(m){o&&o.setOptions({strokeWeight:m})},__fillColor(m){o&&o.setOptions({fillColor:m})},__fillOpacity(m){o&&o.setOptions({fillOpacity:m})},__strokeStyle(m){o&&o.setOptions({strokeStyle:m})},__strokeDasharray(m){o&&o.setOptions({strokeDasharray:m})},__editable(m){p().then(()=>{m?c():h.close()})},__bounds(m){o&&(o.setBounds(m),c())}},destroyComponent(){a=!0,o&&(l!=null&&l.$amapComponent)&&(h&&(l.isDestroy||h.close(),h=null),l.isDestroy||(Ua(l.$amapComponent)?l.$amapComponent.remove(o):ja(l.$amapComponent)?l.$amapComponent.removeOverlay(o):as(l.$amapComponent)&&l.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),c=Du(()=>{h&&r.editable&&(h.close(),h.setTarget(),h.setTarget(o),h.open())},50),u=()=>{o.on("dragend",()=>{d(o)}),o.on("touchend",()=>{d(o)})},d=m=>{if(a)return;const y=m.getBounds(),b=y.getSouthWest(),x=y.getNorthEast(),w=[b.toArray(),x.toArray()];i("update:bounds",w)};let h;const f=lp(),p=()=>new Promise(m=>{h?m():AMap.plugin(["AMap.RectangleEditor"],()=>{h=new AMap.RectangleEditor(l==null?void 0:l.$amapComponent,o,r.editOptions),vp(h,f),g(),m()})}),g=()=>{h.on("addnode",m=>{d(m.target)}),h.on("adjust",m=>{d(m.target)}),h.on("removenode",m=>{d(m.target)}),h.on("add",m=>{d(m.target)})};return e({$$getInstance:s}),(m,y)=>(gn(),Pn("div"))}});Em.__file="src/vue-amap/packages/vector/Rectangle/Rectangle.vue";Em.install=t=>(t.component(Em.name,Em),t);const e1e=Em;var Tm=le({name:"ElAmapLayerTiles3d",inheritAttrs:!1,__name:"Tiles3D",props:zn({url:{type:String,required:!0},threeScriptUrl:{type:String,default:"//a.amap.com/jsapi_demos/static/data3d/lib/three.117.js"},threeGltfLoader:{type:String,default:"//a.amap.com/jsapi_demos/static/data3d/lib/GLTFLoader.117.min.js"},layerStyle:{type:Object}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((l,c)=>new Promise(u=>{c.plugin(["AMap.3DTilesLayer"],()=>{window.THREE?(s(l),u(i)):NR(l.threeScriptUrl,()=>{NR(l.threeGltfLoader,()=>{s(l),u(i)})})})}),{emits:r,destroyComponent(){i&&(i=null)}}),s=l=>{let c={};l.layerStyle&&(c=JSON.parse(JSON.stringify(l.layerStyle))),i=new AMap["3DTilesLayer"]({map:a==null?void 0:a.$amapComponent,url:l.url,style:c})};return e({$$getInstance:o}),(l,c)=>(gn(),Pn("div"))}});Tm.__file="src/vue-amap/packages/layer/data/Tiles3D/Tiles3D.vue";Tm.install=t=>(t.component(Tm.name,Tm),t);const t1e=Tm,n1e=zn({position:{type:String},offset:{type:Array},borderColor:{type:String},borderRadius:{type:String},buttonSize:{type:String},convert:{type:Boolean,default:!0},enableHighAccuracy:{type:Boolean,default:!1},timeout:{type:Number},maximumAge:{type:Number},showButton:{type:Boolean,default:!0},showCircle:{type:Boolean,default:!0},showMarker:{type:Boolean,default:!0},markerOptions:{type:Object},circleOptions:{type:Object},panToLocation:{type:Boolean,default:!0},zoomToAccuracy:{type:Boolean,default:!0},GeoLocationFirst:{type:Boolean,default:!0},noIpLocate:{type:Number},noGeoLocation:{type:Number},useNative:{type:Boolean,default:!1},getCityWhenFail:{type:Boolean,default:!1},needAddress:{type:Boolean,default:!1},extensions:{type:String,validator:t=>["base","all"].indexOf(t)!==-1}});var Rm=le({name:"ElAmapControlGeolocation",inheritAttrs:!1,__name:"Geolocation",props:n1e,emits:["init","complete"],setup(t,{expose:e,emit:n}){const r=n;let i;const o=l=>{r("complete",l)},{$$getInstance:a,parentInstance:s}=Vn((l,c)=>new Promise(u=>{c.plugin(["AMap.Geolocation"],()=>{i=new AMap.Geolocation(l),c.addControl(i),i.on("complete",o),u(i)})}),{emits:r,destroyComponent(){i.off("complete",o),i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return e({$$getInstance:a}),(l,c)=>null}});Rm.__file="src/vue-amap/packages/control/Geolocation/Geolocation.vue";Rm.install=t=>(t.component(Rm.name,Rm),t);const r1e=Rm;var _m=le({name:"ElAmapCircleMarker",inheritAttrs:!1,__name:"CircleMarker",props:zn({zIndex:{type:Number},center:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},radius:{type:Number},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object}}),emits:["init","update:center"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:a}=Vn((c,u)=>new Promise(d=>{i=new AMap.CircleMarker(c),u.add(i),s(),d(i)}),{emits:r,watchRedirectFn:{__strokeColor(c){i.setOptions({strokeColor:c})},__strokeOpacity(c){i.setOptions({strokeOpacity:c})},__strokeWeight(c){i.setOptions({strokeWeight:c})},__fillColor(c){i.setOptions({fillColor:c})},__fillOpacity(c){i.setOptions({fillOpacity:c})}},destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(i),i=null)}}),s=()=>{i.on("dragend",()=>{l()}),i.on("touchend",()=>{l()})},l=()=>{const c=i.getCenter();r("update:center",c.toArray())};return e({$$getInstance:o}),(c,u)=>(gn(),Pn("div"))}});_m.__file="src/vue-amap/packages/marker/CircleMarker/CircleMarker.vue";_m.install=t=>(t.component(_m.name,_m),t);const i1e=_m;var o1e=Object.defineProperty,a1e=(t,e,n)=>e in t?o1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yh=(t,e,n)=>(a1e(t,typeof e!="symbol"?e+"":e,n),n);class s1e{constructor(e,n){Yh(this,"canvas"),Yh(this,"context"),Yh(this,"video"),Yh(this,"layer"),Yh(this,"canPlay",!1),Yh(this,"frame",-1);const r=document.createElement("canvas");this.video=n,n.src=e.url,n.autoplay=!0,n.muted=!0,n.crossOrigin="anonymous",n.loop=e.loop;const i={...e,canvas:r};this.canvas=r,this.context=r.getContext("2d"),this.layer=new AMap.CanvasLayer(i),this.initVideoEvents(),this.load()}getLayer(){return this.layer}initVideoEvents(){var e;(e=this.video)==null||e.addEventListener("canplaythrough",()=>{var n,r;this.canvas&&(this.canvas.width=(n=this.video)==null?void 0:n.videoWidth,this.canvas.height=(r=this.video)==null?void 0:r.videoHeight),this.canPlay=!0,this.play()})}load(){var e;(e=this.video)==null||e.load()}play(){var e;this.canPlay&&((e=this.video)==null||e.play(),this.stopRender(),this.render())}pause(){var e;this.stopRender(),(e=this.video)==null||e.pause()}stopRender(){this.frame&&cancelAnimationFrame(this.frame)}render(){var e,n,r,i,o,a,s,l;this.frame=window.requestAnimationFrame(()=>{this.render()}),(e=this.video)!=null&&e.paused?(n=this.video)==null||n.play():((o=this.context)==null||o.clearRect(0,0,(r=this.canvas)==null?void 0:r.width,(i=this.canvas)==null?void 0:i.height),(l=this.context)==null||l.drawImage(this.video,0,0,(a=this.canvas)==null?void 0:a.width,(s=this.canvas)==null?void 0:s.height),this.layer.reFresh())}destroy(){this.stopRender(),this.video&&this.video.pause(),this.video=null}setUrl(e){this.stopRender(),this.canPlay=!1,this.video&&(this.video.src=e,this.load())}setZooms(e){this.getLayer().setZoom(e)}setOpacity(e){this.getLayer().setOpacity(e)}setBounds(e){this.getLayer().setBounds(e)}setzIndex(e){this.getLayer().setzIndex(e)}show(){this.getLayer().show()}hide(){this.getLayer().hide()}}var Pm=le({name:"ElAmapLayerVideo",inheritAttrs:!1,__name:"Video",props:zn({url:{required:!0,type:String},zooms:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n,i=V();let o;const{$$getInstance:a,parentInstance:s}=Vn((u,d)=>new Promise(h=>{o=new s1e(u,i.value),d.addLayer(o.getLayer()),h(o)}),{emits:r,destroyComponent(){o&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||(o.destroy(),s==null||s.$amapComponent.removeLayer(o.getLayer())),o=null)}});return e({$$getInstance:a,$$play:()=>{o.play()},$$pause:()=>{o.pause()}}),(u,d)=>(gn(),Pn("video",{ref_key:"videoRef",ref:i,style:{display:"none"},muted:""},null,512))}});Pm.__file="src/vue-amap/packages/layer/data/Video/Video.vue";Pm.install=t=>(t.component(Pm.name,Pm),t);const l1e=Pm;var Im=le({name:"ElAmapMouseTool",inheritAttrs:!1,__name:"MouseTool",props:zn({type:{type:String,required:!0,default:"marker",validator:t=>["marker","circle","rectangle","polyline","polygon","measureArea","rule","rectZoomIn","rectZoomOut"].includes(t)},drawOptions:{type:Object,default:()=>null},autoClear:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},tooltipTextMap:{type:Object,default:()=>null},textOptions:{type:Object,default:()=>null},drawCursor:{type:String,default:"crosshair"}}),emits:["init","draw"],setup(t,{expose:e,emit:n}){const r=t,i=n;let o,a="";const s={marker:"",circle:"",rectangle:"",polyline:"",polygon:"",measureArea:"",rule:"",rectZoomIn:"",rectZoomOut:""};let l=!0;const c=()=>{if(!l)return;const A=r.type;if(o[A]){const T=r.drawOptions||{};o[A](T),g(s[A])}},{$$getInstance:u,parentInstance:d}=Vn((A,T)=>new Promise(k=>{AMap.plugin(["AMap.MouseTool"],()=>{r.tooltipTextMap&&Object.assign(s,r.tooltipTextMap),o=new AMap.MouseTool(T),a=T.getDefaultCursor(),f(),c(),m(),C(),k(o)})}),{emits:i,watchRedirectFn:{__type:c},destroyComponent(){o&&(d!=null&&d.$amapComponent)&&(d!=null&&d.isDestroy||(o.close(!0),S(),h&&(d.$amapComponent.off("mousemove",p),d.$amapComponent.remove(h),h=null)),o=null)}});let h;const f=()=>{if(r.showTooltip){const A=r.textOptions||{};A.anchor="top-left",A.clickable=!1,A.bubble=!0,A.offset=[10,10],h=new AMap.Text(A),d==null||d.$amapComponent.add(h),d==null||d.$amapComponent.on("mousemove",p)}},p=A=>{const T=A.lnglat;h.setPosition([T.lng,T.lat])},g=A=>{h&&h.setText(A)},m=()=>{o.on("draw",A=>{const T=r.type;let k;if(T==="marker")k=A.obj.getPosition().toArray();else if(T==="circle")k={center:A.obj.getCenter().toArray(),radius:A.obj.getRadius()};else if(T==="rectangle"){const E=A.obj.getBounds(),P=E.getSouthWest(),_=E.getNorthEast();k=[P.toArray(),_.toArray()]}else if(T==="polyline")k=A.obj.getPath().map(P=>P.toArray());else if(T==="polygon")k=A.obj.getPath().map(P=>P.toArray());else if(T==="measureArea"){const E=A.obj.getPath().map(P=>P.toArray());k=AMap.GeometryUtil.ringArea(E)}else if(T==="rule"){const E=A.obj.getPath().map(P=>P.toArray());k=AMap.GeometryUtil.distanceOfLine(E)}else(T==="rectZoomIn"||T==="rectZoomOut")&&(k=!0);i("draw",k,A.obj),r.autoClear&&(w(),c())})},y=(A=!0)=>{o.close(A)},b=(A=!0)=>{l=!1,o&&(y(A),S(),h&&h.hide())},x=()=>{l=!0,C(),c(),h&&h.show()},w=()=>{y(!0)},C=()=>{d==null||d.$amapComponent.setDefaultCursor(r.drawCursor)},S=()=>{a&&(d==null||d.$amapComponent.setDefaultCursor(a))};return e({$$getInstance:u,$$open:x,$$close:b,$$clear:w}),(A,T)=>(gn(),Pn("div"))}});Im.__file="src/vue-amap/packages/util/MouseTool/MouseTool.vue";Im.install=t=>(t.component(Im.name,Im),t);const c1e=Im;var TB={};let n3=class{constructor(){this._listeners={}}on(e,n,r){this._listeners[e]?this._listeners[e].push({callback:n,isOnce:r}):this._listeners[e]=[{callback:n,isOnce:r}]}off(e,n){if(!n)throw new Error("");const r=this._listeners[e];if(r&&r.length>0){for(let i=0;i<r.length;i++)if(r[i].callback===n){r.splice(i,1);break}}}emit(e,...n){const r=this._listeners[e];if(r&&r.length>0)for(let o=0;o<r.length;o++){const a=r[o];a.callback.call(this,...n),a.isOnce&&(r.splice(o,1),o--)}const i=this._listeners["*"];if(i&&i.length>0)for(let o=0;o<i.length;o++){const a=i[o];a.callback.call(this,e,...n),a.isOnce&&(i.splice(o,1),o--)}}trigger(e,...n){this.emit(e,n)}};function RB(t,e,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function YA(t,e,n){n===void 0&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:t};return RB(s,e,n)}function u1e(t,e,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:t};return RB(r,e,n)}function HR(t){return t.type==="Feature"?t.geometry:t}/**
* splaytree v3.1.1
* Fast Splay tree for Node and browser
*
* @author Alexander Milevski <info@w8r.name>
* @license MIT
* @preserve
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function d1e(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Hu=function(){function t(e,n){this.next=null,this.key=e,this.data=n,this.left=null,this.right=null}return t}();function h1e(t,e){return t>e?1:t<e?-1:0}function uu(t,e,n){for(var r=new Hu(null,null),i=r,o=r;;){var a=n(t,e.key);if(a<0){if(e.left===null)break;if(n(t,e.left.key)<0){var s=e.left;if(e.left=s.right,s.right=e,e=s,e.left===null)break}o.left=e,o=e,e=e.left}else if(a>0){if(e.right===null)break;if(n(t,e.right.key)>0){var s=e.right;if(e.right=s.left,s.left=e,e=s,e.right===null)break}i.right=e,i=e,e=e.right}else break}return i.right=e.left,o.left=e.right,e.left=r.right,e.right=r.left,e}function m2(t,e,n,r){var i=new Hu(t,e);if(n===null)return i.left=i.right=null,i;n=uu(t,n,r);var o=r(t,n.key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function UR(t,e,n){var r=null,i=null;if(e){e=uu(t,e,n);var o=n(e.key,t);o===0?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function f1e(t,e,n){return e===null?t:(t===null||(e=uu(t.key,e,n),e.left=t),e)}function XA(t,e,n,r,i){if(t){r(""+e+(n?" ":" ")+i(t)+`
`);var o=e+(n?"    ":"   ");t.left&&XA(t.left,o,!1,r,i),t.right&&XA(t.right,o,!0,r,i)}}var r3=function(){function t(e){e===void 0&&(e=h1e),this._root=null,this._size=0,this._comparator=e}return t.prototype.insert=function(e,n){return this._size++,this._root=m2(e,n,this._root,this._comparator)},t.prototype.add=function(e,n){var r=new Hu(e,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=uu(e,this._root,i),a=i(e,o.key);return a===0?this._root=o:(a<0?(r.left=o.left,r.right=o,o.left=null):a>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},t.prototype._remove=function(e,n,r){var i;if(n===null)return null;n=uu(e,n,r);var o=r(e,n.key);return o===0?(n.left===null?i=n.right:(i=uu(e,n.left,r),i.right=n.right),this._size--,i):n},t.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=uu(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},t.prototype.findStatic=function(e){for(var n=this._root,r=this._comparator;n;){var i=r(e,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},t.prototype.find=function(e){return this._root&&(this._root=uu(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},t.prototype.contains=function(e){for(var n=this._root,r=this._comparator;n;){var i=r(e,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},t.prototype.forEach=function(e,n){for(var r=this._root,i=[],o=!1;!o;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),e.call(n,r),r=r.right):o=!0;return this},t.prototype.range=function(e,n,r,i){for(var o=[],a=this._comparator,s=this._root,l;o.length!==0||s;)if(s)o.push(s),s=s.left;else{if(s=o.pop(),l=a(s.key,n),l>0)break;if(a(s.key,e)>=0&&r.call(i,s))return this;s=s.right}return this},t.prototype.keys=function(){var e=[];return this.forEach(function(n){var r=n.key;return e.push(r)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(n){var r=n.data;return e.push(r)}),e},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},t.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},t.prototype.at=function(e){for(var n=this._root,r=!1,i=0,o=[];!r;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===e)return n;i++,n=n.right}else r=!0;return null},t.prototype.next=function(e){var n=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var o=i(e.key,n.key);if(o===0)break;o<0?(r=n,n=n.left):n=n.right}return r},t.prototype.prev=function(e){var n=this._root,r=null;if(e.left!==null){for(r=e.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var o=i(e.key,n.key);if(o===0)break;o<0?n=n.left:(r=n,n=n.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return m1e(this._root)},t.prototype.load=function(e,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=e.length,o=this._comparator;if(r&&JA(e,n,0,i-1,o),this._root===null)this._root=QA(e,n,0,i),this._size=i;else{var a=g1e(this.toList(),p1e(e,n),o);i=this._size+i,this._root=ZA({head:a},0,i)}return this},t.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){e===void 0&&(e=function(r){return String(r.key)});var n=[];return XA(this._root,"",!0,function(r){return n.push(r)},e),n.join("")},t.prototype.update=function(e,n,r){var i=this._comparator,o=UR(e,this._root,i),a=o.left,s=o.right;i(e,n)<0?s=m2(n,r,s,i):a=m2(n,r,a,i),this._root=f1e(a,s,i)},t.prototype.split=function(e){return UR(e,this._root,this._comparator)},t.prototype[Symbol.iterator]=function(){var e;return d1e(this,function(n){switch(n.label){case 0:e=this.minNode(),n.label=1;case 1:return e?[4,e]:[3,3];case 2:return n.sent(),e=this.next(e),[3,1];case 3:return[2]}})},t}();function QA(t,e,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),a=t[o],s=e[o],l=new Hu(a,s);return l.left=QA(t,e,n,o),l.right=QA(t,e,o+1,r),l}return null}function p1e(t,e){for(var n=new Hu(null,null),r=n,i=0;i<t.length;i++)r=r.next=new Hu(t[i],e[i]);return r.next=null,n.next}function m1e(t){for(var e=t,n=[],r=!1,i=new Hu(null,null),o=i;!r;)e?(n.push(e),e=e.left):n.length>0?(e=o=o.next=n.pop(),e=e.right):r=!0;return o.next=null,i.next}function ZA(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=ZA(t,e,i),a=t.head;return a.left=o,t.head=t.head.next,a.right=ZA(t,i+1,n),a}return null}function g1e(t,e,n){for(var r=new Hu(null,null),i=r,o=t,a=e;o!==null&&a!==null;)n(o.key,a.key)<0?(i.next=o,o=o.next):(i.next=a,a=a.next),i=i.next;return o!==null?i.next=o:a!==null&&(i.next=a),r.next}function JA(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],a=n-1,s=r+1;;){do a++;while(i(t[a],o)<0);do s--;while(i(t[s],o)>0);if(a>=s)break;var l=t[a];t[a]=t[s],t[s]=l,l=e[a],e[a]=e[s],e[s]=l}JA(t,e,n,s,i),JA(t,e,s+1,r,i)}}function fs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ea(t,e,n){return e&&jR(t.prototype,e),n&&jR(t,n),t}var o0=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},eS=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x,i=t.ll.y<e.ll.y?e.ll.y:t.ll.y,o=t.ur.y<e.ur.y?t.ur.y:e.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}},yu=Number.EPSILON;yu===void 0&&(yu=Math.pow(2,-52));var v1e=yu*yu,tS=function(t,e){if(-yu<t&&t<yu&&-yu<e&&e<yu)return 0;var n=t-e;return n*n<v1e*t*e?0:t<e?-1:1},y1e=function(){function t(){fs(this,t),this.reset()}return ea(t,[{key:"reset",value:function(){this.xRounder=new VR,this.yRounder=new VR}},{key:"round",value:function(e,n){return{x:this.xRounder.round(e),y:this.yRounder.round(n)}}}]),t}(),VR=function(){function t(){fs(this,t),this.tree=new r3,this.round(0)}return ea(t,[{key:"round",value:function(e){var n=this.tree.add(e),r=this.tree.prev(n);if(r!==null&&tS(n.key,r.key)===0)return this.tree.remove(e),r.key;var i=this.tree.next(n);return i!==null&&tS(n.key,i.key)===0?(this.tree.remove(e),i.key):e}}]),t}(),lg=new y1e,Lm=function(t,e){return t.x*e.y-t.y*e.x},_B=function(t,e){return t.x*e.x+t.y*e.y},WR=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=Lm(r,i);return tS(o,0)},Xb=function(t){return Math.sqrt(_B(t,t))},b1e=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return Lm(i,r)/Xb(i)/Xb(r)},x1e=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return _B(i,r)/Xb(i)/Xb(r)},qR=function(t,e,n){return e.y===0?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},KR=function(t,e,n){return e.x===0?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},w1e=function(t,e,n,r){if(e.x===0)return KR(n,r,t.x);if(r.x===0)return KR(t,e,n.x);if(e.y===0)return qR(n,r,t.y);if(r.y===0)return qR(t,e,n.y);var i=Lm(e,r);if(i==0)return null;var o={x:n.x-t.x,y:n.y-t.y},a=Lm(o,e)/i,s=Lm(o,r)/i,l=t.x+s*e.x,c=n.x+a*r.x,u=t.y+s*e.y,d=n.y+a*r.y,h=(l+c)/2,f=(u+d)/2;return{x:h,y:f}},tl=function(){ea(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return r!==0?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:Qb.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,n){return e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0}}]);function t(e,n){fs(this,t),e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return ea(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var n=e.point.events,r=0,i=n.length;r<i;r++){var o=n[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,n=0;n<e;n++){var r=this.point.events[n];if(r.segment.consumedBy===void 0)for(var i=n+1;i<e;i++){var o=this.point.events[i];o.consumedBy===void 0&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],n=0,r=this.point.events.length;n<r;n++){var i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&e.push(i)}return e}},{key:"getLeftmostComparator",value:function(e){var n=this,r=new Map,i=function(o){var a=o.otherSE;r.set(o,{sine:b1e(n.point,e.point,a.point),cosine:x1e(n.point,e.point,a.point)})};return function(o,a){r.has(o)||i(o),r.has(a)||i(a);var s=r.get(o),l=s.sine,c=s.cosine,u=r.get(a),d=u.sine,h=u.cosine;return l>=0&&d>=0?c<h?1:c>h?-1:0:l<0&&d<0?c<h?-1:c>h?1:0:d<l?-1:d>l?1:0}}}]),t}(),C1e=0,Qb=function(){ea(t,null,[{key:"compare",value:function(e,n){var r=e.leftSE.point.x,i=n.leftSE.point.x,o=e.rightSE.point.x,a=n.rightSE.point.x;if(a<r)return 1;if(o<i)return-1;var s=e.leftSE.point.y,l=n.leftSE.point.y,c=e.rightSE.point.y,u=n.rightSE.point.y;if(r<i){if(l<s&&l<c)return 1;if(l>s&&l>c)return-1;var d=e.comparePoint(n.leftSE.point);if(d<0)return 1;if(d>0)return-1;var h=n.comparePoint(e.rightSE.point);return h!==0?h:-1}if(r>i){if(s<l&&s<u)return-1;if(s>l&&s>u)return 1;var f=n.comparePoint(e.leftSE.point);if(f!==0)return f;var p=e.comparePoint(n.rightSE.point);return p<0?1:p>0?-1:1}if(s<l)return-1;if(s>l)return 1;if(o<a){var g=n.comparePoint(e.rightSE.point);if(g!==0)return g}if(o>a){var m=e.comparePoint(n.rightSE.point);if(m<0)return 1;if(m>0)return-1}if(o!==a){var y=c-s,b=o-r,x=u-l,w=a-i;if(y>b&&x<w)return 1;if(y<b&&x>w)return-1}return o>a?1:o<a||c<u?-1:c>u?1:e.id<n.id?-1:e.id>n.id?1:0}}]);function t(e,n,r,i){fs(this,t),this.id=++C1e,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=r,this.windings=i}return ea(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<n?e:n},ur:{x:this.rightSE.point.x,y:e>n?e:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var n=this.leftSE.point,r=this.rightSE.point,i=this.vector();if(n.x===r.x)return e.x===n.x?0:e.x<n.x?1:-1;var o=(e.y-n.y)/i.y,a=n.x+o*i.x;if(e.x===a)return 0;var s=(e.x-n.x)/i.x,l=n.y+s*i.y;return e.y===l?0:e.y<l?-1:1}},{key:"getIntersection",value:function(e){var n=this.bbox(),r=e.bbox(),i=eS(n,r);if(i===null)return null;var o=this.leftSE.point,a=this.rightSE.point,s=e.leftSE.point,l=e.rightSE.point,c=o0(n,s)&&this.comparePoint(s)===0,u=o0(r,o)&&e.comparePoint(o)===0,d=o0(n,l)&&this.comparePoint(l)===0,h=o0(r,a)&&e.comparePoint(a)===0;if(u&&c)return h&&!d?a:!h&&d?l:null;if(u)return d&&o.x===l.x&&o.y===l.y?null:o;if(c)return h&&a.x===s.x&&a.y===s.y?null:s;if(h&&d)return null;if(h)return a;if(d)return l;var f=w1e(o,this.vector(),s,e.vector());return f===null||!o0(i,f)?null:lg.round(f.x,f.y)}},{key:"split",value:function(e){var n=[],r=e.events!==void 0,i=new tl(e,!0),o=new tl(e,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var s=new t(i,a,this.rings.slice(),this.windings.slice());return tl.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),tl.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(i!==0){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var c=r.rings[s],u=r.windings[s],d=n.rings.indexOf(c);d===-1?(n.rings.push(c),n.windings.push(u)):n.windings[d]+=u}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,r=this._afterState.windings,i=this._afterState.multiPolys,o=0,a=this.rings.length;o<a;o++){var s=this.rings[o],l=this.windings[o],c=n.indexOf(s);c===-1?(n.push(s),r.push(l)):r[c]+=l}for(var u=[],d=[],h=0,f=n.length;h<f;h++)if(r[h]!==0){var p=n[h],g=p.poly;if(d.indexOf(g)===-1)if(p.isExterior)u.push(g);else{d.indexOf(g)===-1&&d.push(g);var m=u.indexOf(p.poly);m!==-1&&u.splice(m,1)}}for(var y=0,b=u.length;y<b;y++){var x=u[y].multiPoly;i.indexOf(x)===-1&&i.push(x)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var e=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(Ts.type){case"union":{var r=e.length===0,i=n.length===0;this._isInResult=r!==i;break}case"intersection":{var o,a;e.length<n.length?(o=e.length,a=n.length):(o=n.length,a=e.length),this._isInResult=a===Ts.numMultiPolys&&o<a;break}case"xor":{var s=Math.abs(e.length-n.length);this._isInResult=s%2===1;break}case"difference":{var l=function(c){return c.length===1&&c[0].isSubject};this._isInResult=l(e)!==l(n);break}default:throw new Error("Unrecognized operation type found ".concat(Ts.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var i,o,a,s=tl.comparePoints(e,n);if(s<0)i=e,o=n,a=1;else if(s>0)i=n,o=e,a=-1;else throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));var l=new tl(i,!0),c=new tl(o,!1);return new t(l,c,[r],[a])}}]),t}(),GR=function(){function t(e,n,r){if(fs(this,t),!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=lg.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,a=1,s=e.length;a<s;a++){if(typeof e[a][0]!="number"||typeof e[a][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=lg.round(e[a][0],e[a][1]);l.x===o.x&&l.y===o.y||(this.segments.push(Qb.fromRing(o,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),o=l)}(i.x!==o.x||i.y!==o.y)&&this.segments.push(Qb.fromRing(o,i,this))}return ea(t,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,r=this.segments.length;n<r;n++){var i=this.segments[n];e.push(i.leftSE),e.push(i.rightSE)}return e}}]),t}(),A1e=function(){function t(e,n){if(fs(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new GR(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=e.length;r<i;r++){var o=new GR(e[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return ea(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),n=0,r=this.interiorRings.length;n<r;n++)for(var i=this.interiorRings[n].getSweepEvents(),o=0,a=i.length;o<a;o++)e.push(i[o]);return e}}]),t}(),YR=function(){function t(e,n){if(fs(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=e.length;r<i;r++){var o=new A1e(e[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return ea(t,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,r=this.polys.length;n<r;n++)for(var i=this.polys[n].getSweepEvents(),o=0,a=i.length;o<a;o++)e.push(i[o]);return e}}]),t}(),S1e=function(){ea(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(!(!o.isInResult()||o.ringOut)){for(var a=null,s=o.leftSE,l=o.rightSE,c=[s],u=s.point,d=[];a=s,s=l,c.push(s),s.point!==u;)for(;;){var h=s.getAvailableLinkedEvents();if(h.length===0){var f=c[0].point,p=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(f.x,",")+" ".concat(f.y,"]. Last matching segment found ends at")+" [".concat(p.x,", ").concat(p.y,"]."))}if(h.length===1){l=h[0].otherSE;break}for(var g=null,m=0,y=d.length;m<y;m++)if(d[m].point===s.point){g=m;break}if(g!==null){var b=d.splice(g)[0],x=c.splice(b.index);x.unshift(x[0].otherSE),n.push(new t(x.reverse()));continue}d.push({index:c.length,point:s.point});var w=s.getLeftmostComparator(a);l=h.sort(w)[0].otherSE;break}n.push(new t(c))}}return n}}]);function t(e){fs(this,t),this.events=e;for(var n=0,r=e.length;n<r;n++)e[n].segment.ringOut=this;this.poly=null}return ea(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,n=[e],r=1,i=this.events.length-1;r<i;r++){var o=this.events[r].point,a=this.events[r+1].point;WR(o,e,a)!==0&&(n.push(o),e=o)}if(n.length===1)return null;var s=n[0],l=n[1];WR(s,e,l)===0&&n.shift(),n.push(n[0]);for(var c=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:n.length-1,d=this.isExteriorRing()?n.length:-1,h=[],f=u;f!=d;f+=c)h.push([n[f].x,n[f].y]);return h}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],n=1,r=this.events.length;n<r;n++){var i=this.events[n];tl.compare(e,i)>0&&(e=i)}for(var o=e.segment.prevInResult(),a=o?o.prevInResult():null;;){if(!o)return null;if(!a)return o.ringOut;if(a.ringOut!==o.ringOut)return a.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=a.prevInResult(),a=o?o.prevInResult():null}}}]),t}(),XR=function(){function t(e){fs(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return ea(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(var n=0,r=this.interiorRings.length;n<r;n++){var i=this.interiorRings[n].getGeom();i!==null&&e.push(i)}return e}}]),t}(),k1e=function(){function t(e){fs(this,t),this.rings=e,this.polys=this._composePolys(e)}return ea(t,[{key:"getGeom",value:function(){for(var e=[],n=0,r=this.polys.length;n<r;n++){var i=this.polys[n].getGeom();i!==null&&e.push(i)}return e}},{key:"_composePolys",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(!o.poly)if(o.isExteriorRing())n.push(new XR(o));else{var a=o.enclosingRing();a.poly||n.push(new XR(a)),a.poly.addInterior(o)}}return n}}]),t}(),E1e=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qb.compare;fs(this,t),this.queue=e,this.tree=new r3(n),this.segments=[]}return ea(t,[{key:"process",value:function(e){var n=e.segment,r=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(n),r;var i=e.isLeft?this.tree.insert(n):this.tree.find(n);if(!i)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=i,a=i,s=void 0,l=void 0;s===void 0;)o=this.tree.prev(o),o===null?s=null:o.key.consumedBy===void 0&&(s=o.key);for(;l===void 0;)a=this.tree.next(a),a===null?l=null:a.key.consumedBy===void 0&&(l=a.key);if(e.isLeft){var c=null;if(s){var u=s.getIntersection(n);if(u!==null&&(n.isAnEndpoint(u)||(c=u),!s.isAnEndpoint(u)))for(var d=this._splitSafely(s,u),h=0,f=d.length;h<f;h++)r.push(d[h])}var p=null;if(l){var g=l.getIntersection(n);if(g!==null&&(n.isAnEndpoint(g)||(p=g),!l.isAnEndpoint(g)))for(var m=this._splitSafely(l,g),y=0,b=m.length;y<b;y++)r.push(m[y])}if(c!==null||p!==null){var x=null;if(c===null)x=p;else if(p===null)x=c;else{var w=tl.comparePoints(c,p);x=w<=0?c:p}this.queue.remove(n.rightSE),r.push(n.rightSE);for(var C=n.split(x),S=0,A=C.length;S<A;S++)r.push(C[S])}r.length>0?(this.tree.remove(n),r.push(e)):(this.segments.push(n),n.prev=s)}else{if(s&&l){var T=s.getIntersection(l);if(T!==null){if(!s.isAnEndpoint(T))for(var k=this._splitSafely(s,T),E=0,P=k.length;E<P;E++)r.push(k[E]);if(!l.isAnEndpoint(T))for(var _=this._splitSafely(l,T),F=0,N=_.length;F<N;F++)r.push(_[F])}}this.tree.remove(n)}return r}},{key:"_splitSafely",value:function(e,n){this.tree.remove(e);var r=e.rightSE;this.queue.remove(r);var i=e.split(n);return i.push(r),e.consumedBy===void 0&&this.tree.insert(e),i}}]),t}(),QR=typeof process<"u"&&TB.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,T1e=typeof process<"u"&&TB.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,R1e=function(){function t(){fs(this,t)}return ea(t,[{key:"run",value:function(e,n,r){Ts.type=e,lg.reset();for(var i=[new YR(n,!0)],o=0,a=r.length;o<a;o++)i.push(new YR(r[o],!1));if(Ts.numMultiPolys=i.length,Ts.type==="difference")for(var s=i[0],l=1;l<i.length;)eS(i[l].bbox,s.bbox)!==null?l++:i.splice(l,1);if(Ts.type==="intersection"){for(var c=0,u=i.length;c<u;c++)for(var d=i[c],h=c+1,f=i.length;h<f;h++)if(eS(d.bbox,i[h].bbox)===null)return[]}for(var p=new r3(tl.compare),g=0,m=i.length;g<m;g++)for(var y=i[g].getSweepEvents(),b=0,x=y.length;b<x;b++)if(p.insert(y[b]),p.size>QR)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new E1e(p),C=p.size,S=p.pop();S;){var A=S.key;if(p.size===C){var T=A.segment;throw new Error("Unable to pop() ".concat(A.isLeft?"left":"right"," SweepEvent ")+"[".concat(A.point.x,", ").concat(A.point.y,"] from segment #").concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(p.size>QR)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>T1e)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var k=w.process(A),E=0,P=k.length;E<P;E++){var _=k[E];_.consumedBy===void 0&&p.insert(_)}C=p.size,S=p.pop()}lg.reset();var F=S1e.factory(w.segments),N=new k1e(F);return N.getGeom()}}]),t}(),Ts=new R1e,_1e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ts.run("union",t,n)},P1e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ts.run("intersection",t,n)},I1e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ts.run("xor",t,n)},L1e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ts.run("difference",t,n)},M1e={union:_1e,intersection:P1e,xor:I1e,difference:L1e};function O1e(t,e,n){n===void 0&&(n={});var r=HR(t),i=HR(e),o=M1e.intersection(r.coordinates,i.coordinates);return o.length===0?null:o.length===1?YA(o[0],n.properties):u1e(o,n.properties)}const po={mergeArray(t,e){if(e.length<5e4)t.push.apply(t,e);else for(let n=0,r=e.length;n<r;n+=1)t.push(e[n])},now:Date.now||function(){return new Date().getTime()},bind(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},forEach(t,e,n){if(t.forEach)return t.forEach(e,n);for(let r=0,i=t.length;r<i;r++)e.call(n,t[r],r)},map(t,e,n){if(t.map)return t.map(e,n);const r=[];for(let i=0,o=t.length;i<o;i++)r[i]=e.call(n,t[i],i);return r},merge(t,e){if(e.length<5e4)Array.prototype.push.apply(t,e);else for(let n=0,r=e.length;n<r;n+=1)t.push(e[n])},arrayIndexOf(t,e,n){if(t.indexOf)return t.indexOf(e,n);let r,i=t,o=i.length>>>0;if(o===0)return-1;const a=0|n;if(a>=o)return-1;for(r=Math.max(a>=0?a:o-Math.abs(a),0);r<o;){if(r in i&&i[r]===e)return r;r++}return-1},extend(t){return t||(t={}),this.extendObjs(t,Array.prototype.slice.call(arguments,1))},extendObjs(t,e){t||(t={});for(let n=0,r=e.length;n<r;n++){const i=e[n];if(i)for(const o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},debounce(t,e,n){let r,i,o,a,s,l=function(){const c=po.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=po.now();const c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s}},throttle(t,e,n){let r,i,o,a=null,s=0;n||(n={});const l=function(){s=n.leading===!1?0:po.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){const c=po.now();s||n.leading!==!1||(s=c);const u=e-(c-s);return r=this,i=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},escapeHtml(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return`${t}`.replace(/[&<>"']/g,function(n){return e[n]})}};var i3={BBRFLAG:{I:1,S:2},ADCODES:{COUNTRY:1e5}};function D1e(t){return t}function F1e(t){if(t==null)return D1e;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(s,l){l||(e=n=0);var c=2,u=s.length,d=new Array(u);for(d[0]=(e+=s[0])*r+o,d[1]=(n+=s[1])*i+a;c<u;)d[c]=s[c],++c;return d}}function $1e(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function B1e(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return ZR(t,n)})}:ZR(t,e)}function ZR(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=N1e(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function N1e(t,e){var n=F1e(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],f=0,p=h.length;f<p;++f)d.push(n(h[f],f));u<0&&$1e(d,p)}function o(u){return n(u)}function a(u){for(var d=[],h=0,f=u.length;h<f;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function s(u){for(var d=a(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(s)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function z1e(t,e){let n,r,i,o,a=t;n=e[e.length-2];for(let s=0,l=e.length-1;s<l;s++){r=e[s];const c=a;a=[],i=c[c.length-1];for(let u=0,d=c.length;u<d;u++)o=c[u],g2(o,n,r)?(g2(i,n,r)||a.push(JR(n,r,i,o)),a.push(o)):g2(i,n,r)&&a.push(JR(n,r,i,o)),i=o;n=r}return a.length<3?[]:(a.push(a[0]),a)}function H1e(t,e,n){const r=(n[1]-e[1])/(n[0]-e[0])*(t[0]-e[0])+e[1];return Math.abs(r-t[1])<1e-6&&t[0]>=e[0]&&t[0]<=n[0]}function U1e(t,e){for(let n=0,r=e.length;n<r-1;n++)if(H1e(t,e[n],e[n+1]))return!0;return!1}function j1e(t,e){let n=!1;for(let r=t[0],i=t[1],o=0,a=e.length,s=a-1;o<a;s=o++){const l=e[o][0],c=e[o][1],u=e[s][0],d=e[s][1];c>i!=d>i&&r<(u-l)*(i-c)/(d-c)+l&&(n=!n)}return n}function V1e(t,e,n){let r,i=e[0],o=e[1];const a=n[0]-i,s=n[1]-o,l=a*a+s*s;return l>0&&(r=((t[0]-i)*a+(t[1]-o)*s)/l,r>1?(i=n[0],o=n[1]):r>0&&(i+=a*r,o+=s*r)),[i,o]}function W1e(t,e,n){const r=V1e(t,e,n),i=t[0]-r[0],o=t[1]-r[1];return i*i+o*o}function q1e(t,e){let n=Number.MAX_VALUE;for(let r=0,i=e.length;r<i-1;r++){const o=W1e(t,e[r],e[r+1]);o<n&&(n=o)}return n}function g2(t,e,n){return(n[0]-e[0])*(t[1]-e[1])>(n[1]-e[1])*(t[0]-e[0])}function JR(t,e,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[n[0]-r[0],n[1]-r[1]],a=t[0]*e[1]-t[1]*e[0],s=n[0]*r[1]-n[1]*r[0],l=1/(i[0]*o[1]-i[1]*o[0]);return[(a*o[0]-s*i[0])*l,(a*o[1]-s*i[1])*l]}var qy={sqClosestDistanceToPolygon:q1e,pointOnPolygon:U1e,pointInPolygon:j1e,polygonClip:z1e};const o3=i3.BBRFLAG,v2=[];function K1e(t,e){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r].split("-");let a=o[0],s=o.length>1?o[1]:a;a=parseInt(a,e),s=parseInt(s,e);for(let l=a;l<=s;l++)n.push(l)}return n}function PB(t,e,n){if(t[e])throw new Error(`Alreay exists:  ${t[e]}`);t[e]=n}function G1e(t){return v2[t]||(v2[t]=[o3.I,t]),v2[t]}function Y1e(t,e,n){if(t)for(let r=t.split(":"),i=parseInt(r[0],e),o=K1e(r[1].split(","),e),a=G1e(i),s=0,l=o.length;s<l;s++)PB(n,o[s],a)}function X1e(t,e,n){if(t){const r=[];let i=t.split(":"),o=parseInt(i[0],e);const a=i[1].split(";");for(let s=0,l=a.length;s<l;s++){i=a[s].split(",");const c=[parseInt(i[0],e),0];i.length>1&&(c[1]=parseInt(i[1],e)),r.push(c)}PB(n,o,[o3.S,r])}}function IB(t,e){if(!t)return null;const n=t.split(","),r=[];for(let i=0,o=n.length;i<o;i++){if(parseInt(n[i],e)<0)return null;r.push(parseInt(n[i],e))}return r}function Q1e(t,e){if(!t)return null;const n=t.split(";"),r=[];for(let i=0,o=n.length;i<o;i++)r.push(IB(n[i],e));return r}function Z1e(t){let e,n;const r=t.r,i=[],o=t.idx.i.split("|");for(t.idx.i=null,e=0,n=o.length;e<n;e++)Y1e(o[e],r,i);o.length=0;const a=t.idx.s.split("|");for(t.idx.s=null,e=0,n=a.length;e<n;e++)X1e(a[e],r,i);a.length=0,t.idx=null,t.idxList=i,t.mxr&&(t.maxRect=IB(t.mxr,r),t.mxr=null),t.mxsr&&(t.maxSubRect=Q1e(t.mxsr,r),t.mxsr=null)}function J1e(t,e,n){for(let r=t.geoData.sub.features,i=0,o=n.length;i<o;i++){const a=n[i],s=r[a[0]],l=s.geometry.coordinates[a[1]][0],c=qy.polygonClip(l,e);!c||c.length<4?console.warn(`Cliped ring length werid: ${c}`):a[2]=c}return!0}function exe(t,e,n){const r=t.bbIndex,i=r.s;(e<0||n<0||n>=r.h||e>=r.w)&&console.warn("Wrong x,y",e,n,r);const o=n*r.w+e,a=r.idxList[o];if(a[0]!==o3.S)return!1;const s=a[1];if(s[0].length>2)return!1;const l=e*i+r.l,c=n*i+r.t;return J1e(t,[[l,c],[l+i,c],[l+i,c+i],[l,c+i],[l,c]],s),!0}var LB={prepareGridFeatureClip:exe,buildIdxList:Z1e};let Sx=class MB{constructor(e,n,r,i){this.x=e,this.y=n,this.width=r,this.height=i}static getBoundsItemToExpand(){return new MB(Number.MAX_VALUE,Number.MAX_VALUE,-1,-1)}static boundsIntersect(e,n){return e.x<=n.x+n.width&&n.x<=e.x+e.width&&e.y<=n.y+n.height&&n.y<=e.y+e.height}isEmpty(){return this.width<0}expandByPoint(e,n){let r,i,o,a;this.isEmpty()?(r=o=e,i=a=n):(r=this.x,i=this.y,o=this.x+this.width,a=this.y+this.height,e<r?r=e:e>o&&(o=e),n<i?i=n:n>a&&(a=n)),this.x=r,this.y=i,this.width=o-r,this.height=a-i}};function txe(t){const e={},n=t.objects;for(const r in n)e[r]=B1e(t,n[r]);return e}function nxe(t){for(let e=t.sub?t.sub.features:[],n=t.parent.properties,r=(n.acroutes||[]).concat([n.adcode]),i=0,o=e.length;i<o;i++)e[i].properties.subFeatureIndex=i,e[i].properties.acroutes=r}function rxe(t){if(!t._isBuiled){LB.buildIdxList(t.bbIndex),t.geoData=txe(t.topo),t.geoData.sub&&nxe(t.geoData);const e=t.topo.bbox;t.bounds=new Sx(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.topo=null,t._isBuiled=!0}return t}var ixe={buildData:rxe};const y2={},vf=Math.PI/180,e8=180/Math.PI,oxe=Math.PI/4,OB=.5/Math.PI;function a3(t){return y2[t]||(y2[t]=256*Math.pow(2,t)),y2[t]}function axe(t){let e=t[1],n=t[0]*vf,r=e*vf;return r=Math.log(Math.tan(oxe+r/2)),[n,r]}function sxe(t,e){e=e||1;const n=OB,r=.5,i=-n;return[e*(n*t[0]+r),e*(i*t[1]+.5)]}function lxe(t){const e=t[0]*e8,n=(2*Math.atan(Math.exp(t[1]))-Math.PI/2)*e8;return[parseFloat(e.toFixed(6)),parseFloat(n.toFixed(6))]}function cxe(t,e){const n=OB,r=.5,i=-n;return[(t[0]/e-r)/n,(t[1]/e-.5)/i]}function DB(t,e,n){const r=sxe(axe(t),e);return n&&(r[0]=Math.round(r[0]),r[1]=Math.round(r[1])),r}function uxe(t,e,n){return DB(t,a3(e),n)}function dxe(t,e){const n=a3(e),r=cxe(t,n);return lxe(r)}function hxe(t,e){const n=Math.cos,r=t[1]*vf,i=t[0]*vf,o=e[1]*vf,a=e[0]*vf,s=o-r,l=a-i,c=(1-n(s)+(1-n(l))*n(r)*n(o))/2;return 12756274*Math.asin(Math.sqrt(c))}var nS={haversineDistance:hxe,getScale:a3,lngLatToPointByScale:DB,pointToLngLat:dxe,lngLatToPoint:uxe};let fxe=class FB{constructor(e,n,r){this.adcode=e,this._data=n,this._sqScaleFactor=n.scale*n.scale,this._opts=Object.assign({nearTolerance:2},r),this.setNearTolerance(this._opts.nearTolerance)}static getPropsOfFeature(e){return e&&e.properties?e.properties:null}static getAdcodeOfFeature(e){return e?e.properties.adcode:null}static doesFeatureHasChildren(e){return!!e&&e.properties.childrenNum>0}setNearTolerance(e){this._opts.nearTolerance=e,this._sqNearTolerance=e*e}getIdealZoom(){return this._data.idealZoom}_getEmptySubFeatureGroupItem(e){return{subFeatureIndex:e,subFeature:this.getSubFeatureByIndex(e),pointsIndexes:[],points:[]}}groupByPosition(e,n){let r,i,o={},a=null;for(r=0,i=e.length;r<i;r++){const l=this.getLocatedSubFeatureIndex(n.call(null,e[r],r));o[l]||(o[l]=this._getEmptySubFeatureGroupItem(l)),o[l].pointsIndexes.push(r),o[l].points.push(e[r]),l<0&&(a=o[l])}const s=[];if(this._data.geoData.sub)for(r=0,i=this._data.geoData.sub.features.length;r<i;r++)s.push(o[r]||this._getEmptySubFeatureGroupItem(r));return a&&s.push(a),o=null,s}getLocatedSubFeatureIndex(e){return this._getLocatedSubFeatureIndexByPixel(this.lngLatToPixel(e))}getSubFeatureByIndex(e){return e>=0?this.getSubFeatures()[e]:null}_getLocatedSubFeatureIndexByPixel(e){if(!this._data.geoData.sub)return-1;const n=this._data,r=n.bbIndex,i=e[0]-r.l,o=e[1]-r.t,a=Math.floor(o/r.s),s=Math.floor(i/r.s);if(s<0||a<0||a>=r.h||s>=r.w)return-1;const l=a*r.w+s,c=r.idxList[l];if(!c)return-1;const u=i3.BBRFLAG;switch(c[0]){case u.I:return c[1];case u.S:return LB.prepareGridFeatureClip(n,s,a),this._calcLocatedFeatureIndexOfSList(e,c[1]);default:throw new Error(`Unknown BBRFLAG: ${c[0]}`)}}_calcNearestFeatureIndexOfSList(e,n){let r=[];this._data.geoData.sub&&(r=this._data.geoData.sub.features);const i={sq:Number.MAX_VALUE,idx:-1};for(let o=0,a=n.length;o<a;o++){const s=n[o],l=r[s[0]],c=s[2]||l.geometry.coordinates[s[1]][0],u=qy.sqClosestDistanceToPolygon(e,c);u<i.sq&&(i.sq=u,i.idx=s[0])}return i.sq/this._sqScaleFactor<this._sqNearTolerance?i.idx:-1}_calcLocatedFeatureIndexOfSList(e,n){for(let r=this._data.geoData.sub.features,i=0,o=n.length;i<o;i++){const a=n[i],s=r[a[0]],l=a[2]||s.geometry.coordinates[a[1]][0];if(qy.pointInPolygon(e,l)||qy.pointOnPolygon(e,l))return a[0]}return this._calcNearestFeatureIndexOfSList(e,n)}pixelToLngLat(e,n){return nS.pointToLngLat([e,n],this._data.pz)}lngLatToPixel(e){e instanceof AMap.LngLat&&(e=[e.getLng(),e.getLat()]);const n=nS.lngLatToPoint(e,this._data.pz);return[Math.round(n[0]),Math.round(n[1])]}_convertRingCoordsToLngLats(e){const n=[];for(let r=0,i=e.length;r<i;r++)n[r]=this.pixelToLngLat(e[r][0],e[r][1]);return n}_convertPolygonCoordsToLngLats(e){const n=[];for(let r=0,i=e.length;r<i;r++)n[r]=this._convertRingCoordsToLngLats(e[r]);return n}_convertMultiPolygonCoordsToLngLats(e){const n=[];for(let r=0,i=e.length;r<i;r++)n[r]=this._convertPolygonCoordsToLngLats(e[r]);return n}_convertCoordsToLngLats(e,n){switch(e){case"MultiPolygon":return this._convertMultiPolygonCoordsToLngLats(n);default:throw new Error(`Unknown type ${e}`)}}_createLngLatFeature(e,n){const r=Object.assign({},e);return n&&Object.assign(r.properties,n),r.geometry=Object.assign({},r.geometry),r.geometry.coordinates=this._convertCoordsToLngLats(r.geometry.type,r.geometry.coordinates),r}getAdcode(){return this.getProps("adcode")}getName(){return this.getProps("name")}getChildrenNum(){return this.getProps("childrenNum")}getProps(e){const n=FB.getPropsOfFeature(this._data.geoData.parent);return n?e?n[e]:n:null}getParentFeature(){const e=this._data.geoData;return e.lngLatParent||(e.lngLatParent=this._createLngLatFeature(e.parent)),e.lngLatParent}getParentFeatureInPixel(){return this._data.geoData.parent}getSubFeatures(){const e=this._data.geoData;if(!e.sub)return[];if(!e.lngLatSubList){const n=[];for(let r=e.sub.features,i=0,o=r.length;i<o;i++)n[i]=this._createLngLatFeature(r[i]);e.lngLatSubList=n}return[].concat(e.lngLatSubList)}getSubFeaturesInPixel(){return this._data.geoData.sub?[].concat(this._data.geoData.sub.features):[]}getBounds(){const e=this._data;if(!e.lngLatBounds){const n=this._data.bounds;e.lngLatBounds=new AMap.Bounds(this.pixelToLngLat(n.x,n.y+n.height),this.pixelToLngLat(n.x+n.width,n.y))}return e.lngLatBounds}},pxe=class extends n3{constructor(e){super(),this._opts=Object.assign({distDataLoc:"//webapi.amap.com/ui/1.1/ui/geo/DistrictExplorer/assets/d_v2"},e),this._areaNodesForLocating=null,this._areaNodeCache={},this._opts.preload&&this.loadMultiAreaNodes(this._opts.preload)}setAreaNodesForLocating(e){e?Array.isArray(e)||(e=[e]):e=[],this._areaNodesForLocating=e||[]}_loadJson(e,n){const r=this;return fetch(e,{headers:{Accept:"application/json"}}).then(i=>i.json()).then(i=>{n&&n.call(r,null,i)}).catch(i=>{if(!n)throw i;n(i)})}_getAreaNodeDataFileName(e){return`an_${e}.json`}_getAreaNodeDataSrc(e){return`${this._opts.distDataLoc}/${this._getAreaNodeDataFileName(e)}`}loadAreaTree(e){this._loadJson(`${this._opts.distDataLoc}/area_tree.json`,e)}loadCountryNode(e){this.loadAreaNode(i3.ADCODES.COUNTRY,e)}loadMultiAreaNodes(e,n){let r=[],i=!1,o;function a(s){return function(l,c){i||(o--,l?(n&&n(l),i=!0):(r[s]=c,o===0&&n&&n(null,r)))}}if(e&&e.length){const s=e.length;for(let l=0;l<s;l++)this.loadAreaNode(e[l],n?a(l):null)}else n&&n(null,[])}loadAreaNode(e,n,r,i){if(r=r||this,this._areaNodeCache[e]){if(n){const o=this._areaNodeCache[e];i?n.call(r,null,o,!0):setTimeout(function(){n.call(r,null,o)},0)}}else this._loadJson(this._getAreaNodeDataSrc(e),(o,a)=>{o?n&&n.call(r,o):(this._buildAreaNode(e,a),n&&n.call(r,null,this._areaNodeCache[e]))})}getLocalAreaNode(e){return this._areaNodeCache[e]||null}_buildAreaNode(e,n){if(!this._areaNodeCache[e]){if(!n)throw new Error(`Empty distData: ${e}`);const r=new fxe(e,ixe.buildData(n),this._opts);this._areaNodeCache[e]=r,this._areaNodesForLocating||(this._areaNodesForLocating=[r])}}clearAreaNodeCacheByAdcode(e){const n=this._areaNodeCache;return delete n[e],!0}destroy(){this._areaNodesForLocating=null,this._areaNodeCache=null,this._opts=null}},mxe=class{constructor(e){this.isDistReady=!1,this.nodeMap={},this.waitFnList=[],this.singleDistExplorer=new pxe({}),this._opts=po.extend({topAdcodes:[1e5]},e),this._touchMap={},this.singleDistExplorer.loadAreaTree((n,r)=>{if(n)throw n;if(this.filterAreaTree(r),this.singleCountryNode=r,this.isDistReady=!0,this.waitFnList.length){for(let i=0,o=this.waitFnList.length;i<o;i++)this.waitFnList[i][0].call(this.waitFnList[i][1]);this.waitFnList.length=0}this.singleDistExplorer.loadMultiAreaNodes(this._opts.topAdcodes)})}pixelToLngLat(e,n,r){return nS.pointToLngLat([e,n],r)}getBounds(e){const n=e.bbounds;return new AMap.Bounds(this.pixelToLngLat(n.x,n.y+n.height,20),this.pixelToLngLat(n.x+n.width,n.y,20))}filterAreaTree(e){const n=[e];do{const r=n.pop();this.nodeMap[r.adcode]=r;const i=r.bbox;if(r.bbounds=new Sx(i[0],i[1],i[2],i[3]),r.bbox=this.getBounds(r),r.children)for(let o=r.children,a=0,s=o.length;a<s;a++)o[a].childIdx=a,n.push(o[a])}while(n.length)}isReady(){return this.isDistReady}getParentAdcode(e,n){if(!n){const r=this.getNodeByAdcode(e);if(!r)return console.warn(`Can not find node: ${e}`),null;n=r.acroutes}return n&&n.length?n[n.length-1]:null}getSubIdx(e){return this.getNodeByAdcode(e).childIdx}getChildrenNum(e){const n=this.getNodeByAdcode(e);return this.getChildrenNumOfNode(n)}getChildrenNumOfNode(e){return e.children?e.children.length:e.childrenNum||0}getNodeByAdcode(e){const n=this.nodeMap[e];if(!n){let r=this.singleDistExplorer.getLocalAreaNode(`${`${e}`.substr(0,4)}00`);if(r||(r=this.singleDistExplorer.getLocalAreaNode(`${`${e}`.substr(0,2)}0000`)),!r)return null;for(let i=r.getSubFeatures(),o=0,a=i.length;o<a;o++)if(i[o].properties.adcode===e)return i[o].properties}return n}getNodeChildren(e){const n=this.getNodeByAdcode(e);if(!n)return null;if(n.children)return n.children;if(n.childrenNum>=0){const r=this.singleDistExplorer.getLocalAreaNode(e);if(!r)return null;const i=[],o=r.getSubFeaturesInPixel();for(let a=0,s=o.length;a<s;a++)i.push(o[a].properties);return i}return null}getExplorer(){return this.singleDistExplorer}traverseCountry(e,n,r,i,o){this.traverseNode(this.singleCountryNode,e,n,r,i,o,[])}getNodeBoundsSize(e,n){const r=this.getPixelZoom(),i=Math.pow(2,r-n);return[e.bbounds.width/i,e.bbounds.height/i]}doesRingRingIntersect(e,n){const r=[e.getNorthWest().toArray(),e.getNorthEast().toArray(),e.getSouthEast().toArray(),e.getSouthWest().toArray(),e.getNorthWest().toArray()],i=[n.getNorthWest().toArray(),n.getNorthEast().toArray(),n.getSouthEast().toArray(),n.getSouthWest().toArray(),n.getNorthWest().toArray()];return!!O1e(YA([r]),YA([i]))}traverseNode(e,n,r,i,o,a,s,l){if(!(s&&s.indexOf(e.adcode)>=0)){if(this.doesRingRingIntersect(n,e.bbox)){const c=e.children,u=c&&c.length>0;if(r>e.idealZoom&&u)for(let d=0,h=c.length;d<h;d++)this.traverseNode(c[d],n,r,i,null,a,s);else i.call(a,e)}o&&(l?(l.count++,l.count>=l.total&&o.call(a)):o.call(a))}}onReady(e,n,r){this.isDistReady?r?e.call(n):setTimeout(function(){e.call(n)},0):this.waitFnList.push([e,n])}getPixelZoom(){var e;return(e=this.singleCountryNode)===null||e===void 0?void 0:e.pz}loadAreaNode(e,n,r,i){this.singleDistExplorer.loadAreaNode(e,n,r,i)}isExcludedAdcode(e){const n=this._opts.excludedAdcodes;return n&&n.indexOf(e)>=0}traverseTopNodes(e,n,r,i,o){const a=this._opts.topAdcodes,s=this._opts.excludedAdcodes,l={total:a.length,count:0};for(let c=0,u=a.length;c<u;c++){const d=this.getNodeByAdcode(a[c]);if(!d)throw new Error(`Can not find adcode: ${a[c]}`);this.traverseNode(d,e,n,r,i,o,s,l)}}tryClearCache(e,n){if(!(n<0)){const r=[this.singleCountryNode],i=[],o=this._touchMap;do{const s=r.pop();s.children&&po.mergeArray(r,s.children);const l=o[s.adcode];l&&l!==e&&i.push(s.adcode)}while(r.length);i.sort(function(s,l){const c=o[s]-o[l];return c===0?s-l:c});const a=i.length-n;if(!(a<=0))for(let s=0;s<a;s++)this.singleDistExplorer.clearAreaNodeCacheByAdcode(i[s])&&this.touchAdcode(i[s],null)}}touchAdcode(e,n){this._touchMap[e]=n}destroy(){this.singleDistExplorer.destroy(),this._touchMap={},this.nodeMap={},this.singleDistExplorer=void 0,this._opts=void 0,this.waitFnList=[],this.singleCountryNode=void 0}};function gxe(t){return[t.x,t.y]}let vxe=class{constructor(e){this._data=[],this._pointsMap={},this._opts=po.extend({topAdcode:1e5},e),this.clearData()}clearData(){this._data=[],this._pointsMap={}}setData(e){this.clearData(),this._data=e,this._updatePointsMap(this._opts.topAdcode,"all",e)}_updatePointsMap(e,n,r){let i=this._pointsMap[e];i||(i=this._pointsMap[e]={}),i[n]=r,i[`${n}_pack`]=this._buildPackItemsByAdcode(e,r)}getPointsByAdcode(e,n){return this._pointsMap[e]?this._pointsMap[e][n||"all"]:[]}getPackItemsByAdcode(e,n){return this._pointsMap[e]?this._pointsMap[e][`${n||"all"}_pack`]:[]}_buildPackItemsByAdcode(e,n){const r=this._opts.pointPacker,i=[];for(let o=0,a=n.length;o<a;o++)i[o]=r.call(this._opts.pointPackerThisArg,n[o]);return i}calcDistGroup(e,n,r,i){const o=this._opts.distMgr.getNodeByAdcode(e);let a=o.acroutes||[1e5];n&&o.acroutes&&(a=[].concat(a),a.push(e)),this._calcGroupWithRoutes(a,0,r,i)}_calcGroupWithRoutes(e,n,r,i){const o=()=>{n<e.length-1?this._calcGroupWithRoutes(e,n+1,r,i):r&&r.call(i)},a=e[n];if(this.getPointsByAdcode(a,"__done"))o.call(this);else{const s=this.getPointsByAdcode(a);if(!s)throw new Error(`Not points found:  ${a}`);this._opts.distMgr.getExplorer().loadAreaNode(a,(l,c)=>{this._groupByAreaNode(c,s),o.call(this)},this,!0)}}_groupByAreaNode(e,n){const r=e.groupByPosition(n,gxe),i=e.getAdcode()===this._opts.topAdcode,o=[];for(let a=0,s=r.length;a<s;a++){const l=r[a];l.subFeature?(this._updatePointsMap(l.subFeature.properties.adcode,"all",l.points),i&&po.mergeArray(o,l.points)):this._updatePointsMap(e.getAdcode(),"hanging",l.points)}i&&this._updatePointsMap(e.getAdcode(),"all",o),this._updatePointsMap(e.getAdcode(),"__done",!0)}destroy(){this.clearData(),this._opts=null}};var yxe=Object.defineProperty,bxe=Object.defineProperties,xxe=Object.getOwnPropertyDescriptors,t8=Object.getOwnPropertySymbols,wxe=Object.prototype.hasOwnProperty,Cxe=Object.prototype.propertyIsEnumerable,n8=(t,e,n)=>e in t?yxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r8=(t,e)=>{for(var n in e||(e={}))wxe.call(e,n)&&n8(t,n,e[n]);if(t8)for(var n of t8(e))Cxe.call(e,n)&&n8(t,n,e[n]);return t},Axe=(t,e)=>bxe(t,xxe(e));let Sxe=class extends n3{constructor(e,n){super(),this.baseId=1,this._currentZoom=2,this._currentFeatures=[],this._loadLeft=0,this._polygonCache=[],this._markerCache=[],this._opts=po.extend({engine:"default",areaNodeCacheLimit:-1,minHeightToShowSubFeatures:630,minSiblingAvgHeightToShowSubFeatures:600,minSubAvgHeightToShowSubFeatures:300,zooms:[2,30],clusterMarkerEventSupport:!0,clusterMarkerClickToShowSub:!0,featureEventSupport:!0,featureClickToShowSub:!1,featureStyleByLevel:{country:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(49, 163, 84)",fillOpacity:.8},province:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(116, 196, 118)",fillOpacity:.7},city:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(161, 217, 155)",fillOpacity:.6},district:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(199, 233, 192)",fillOpacity:.5}}},n),this._map=this._opts.map,this._createLayer(),this._ins=e,this._isRendering=!1,this._loadLeft=0,this._currentFeatures=[]}_createLayer(){this.markerGroup=new AMap.OverlayGroup,this._map.add(this.markerGroup),this.layer=new AMap.VectorLayer({zIndex:this._opts.zIndex||10,visible:this._opts.visible||!0}),this._map.addLayer(this.layer)}zoomToShowSubFeatures(e,n){const r=this.getMinZoomToShowSub(e);if(r>=3){const i=this._ins.getMap();i&&(n||(n=this._ins._distMgr.getNodeByAdcode(e).center),i.setZoomAndCenter(r,n))}}getPixelRatio(){return Math.min(2,Math.round(window.devicePixelRatio||1))}refreshViewState(){if(!this._ins._distMgr.isReady())return!1;const e=this._ins;if(!e.isReady())return!1;const n=e.getMap(),r=n.getBounds(),i=n.getSize(),o=n.getZoom(3),a=this._opts.zooms[1],s=Math.pow(2,a-o),l=r.getNorthWest(),c=n.lngLatToCoords([l.getLng(),l.getLat()]),u=new Sx(c[0],c[1],i.width*s,i.height*s);this._currentZoom=o,this._currentScaleFactor=s,this._currentViewBounds=u,this._currentViewBoundsInLngLat=r,this._currentPixelRatio=this.getPixelRatio()}renderViewport(){if(this.refreshViewState(),!this._currentViewBounds)return!1;this._currentRenderId=this.baseId++,this._loadLeft=0,this._currentFeatures=[],this._renderViewDist(this._currentRenderId),this._isRendering=!1}getCurrentRenderId(){return this._currentRenderId}isRenderIdStillValid(e){return e===this._currentRenderId}_renderViewDist(e){const n=[];if(this._currentZoom<this._opts.zooms[0]||this._currentZoom>this._opts.zooms[1]){this.isRenderIdStillValid(e)&&this._prepareFeatures(e,n);return}this._ins.getDistMgr().traverseTopNodes(this._currentViewBoundsInLngLat,this._currentZoom,r=>{n.push(r.adcode)},()=>{this.isRenderIdStillValid(e)&&this._prepareFeatures(e,n)},this)}getMinZoomToShowSub(e){const n=this._ins._distMgr.getNodeByAdcode(e);if(!n||!n.idealZoom)return-1;if(!n._minZoomToShowSub){const r=this._ins.getZooms();for(let i=r[0];i<=r[1];i++)if(this.shouldShowSubOnZoom(n,i)){n._minZoomToShowSub=i;break}}return n._minZoomToShowSub||-1}shouldShowSubOnZoom(e,n){if(!e.idealZoom)return!1;if(e._minZoomToShowSub&&n>=e._minZoomToShowSub)return!0;let r=this._ins._distMgr.getNodeBoundsSize(e,n);if(e.adcode===1e5&&r[1]>400)return!0;if(r[1]<this._opts.minHeightToShowSubFeatures)return!1;let i,o,a;if(e.children){const l=e.children;if(a=0,o=l.length,o){for(i=0;i<o;i++)r=this._ins._distMgr.getNodeBoundsSize(l[i],n),a+=r[1];if(a/o<this._opts.minSubAvgHeightToShowSubFeatures)return!1}}const s=this._ins._distMgr.getParentAdcode(e.adcode,e.acroutes);if(s){const l=this._ins._distMgr.getNodeByAdcode(s),c=l.children;if(c||console.error("No children bound",e,l),o=c.length,o>1){for(a=0,i=0;i<o;i++)c[i].adcode!==e.adcode&&(r=this._ins._distMgr.getNodeBoundsSize(c[i],n),a+=r[1]);if(a/(o-1)<this._opts.minSiblingAvgHeightToShowSubFeatures)return!1}}return!0}_shouldShowSub(e){return!(!e.children||!e.children.length)&&this.shouldShowSubOnZoom(e,this._currentZoom)}_prepareFeatures(e,n){const r=[],i=[];for(let o=0,a=n.length;o<a;o++){const s=this._ins._distMgr.getNodeByAdcode(n[o]);if(!s)throw new Error(`Can not find node: ${n[o]}`);this._shouldShowSub(s)?i.push(n[o]):r.push(n[o])}this._prepareSelfFeatures(e,r),this._prepareSubFeatures(e,i),this._checkLoadFinish(e)}_prepareSelfFeatures(e,n){let r;const i=this._currentZoom;for(let o=0,a=n.length;o<a;o++){const s=this._ins._distMgr.getNodeByAdcode(n[o]);if(r=null,s.acroutes){const l=this._ins._distMgr.getNodeByAdcode(s.acroutes[s.acroutes.length-1]);(!s.idealZoom||i<s.idealZoom-1||Math.abs(i-l.idealZoom)<=Math.abs(s.idealZoom-i))&&(r=l.adcode)}this._loadAndRenderSelf(e,r||n[o],n[o])}}_prepareSubFeatures(e,n){let r,i;for(r=0,i=n.length;r<i;r++)this._loadAndRenderSub(e,n[r])}_renderSelf(e,n,r){let i;if(n===r.getAdcode())i=r.getParentFeature();else{const o=r.getSubFeatures(),a=this._ins._distMgr.getSubIdx(n);if(i=o[a],!i){console.warn("Werid, can not find sub feature",r.getAdcode(),n);return}if(i.properties.adcode!==n){console.warn("Sub adcode not match!!",o,a);return}}this._ins.getDistCounter().calcDistGroup(n,!1,()=>{this.isRenderIdStillValid(e)&&this._prepRenderFeatureInPixel(e,i)},this)}_checkLoadFinish(e){if(this._loadLeft===0){const n=this;setTimeout(function(){n.isRenderIdStillValid(e)&&n._handleRenderFinish()},0)}}_renderSub(e,n){const r=n.getSubFeatures();this._ins.getDistCounter().calcDistGroup(n.getAdcode(),!0,()=>{if(this.isRenderIdStillValid(e))for(let i=0,o=r.length;i<o;i++)this._prepRenderFeatureInPixel(e,r[i])},this)}_handleRenderFinish(){this._tryFreeMemery(),this._renderAllFeature()}_renderAllFeature(){this._renderAllFeatureByDefault()}_renderAllFeatureByDefault(){var e,n;const r=[],i=[],o=[],a=[];for(let s=0;s<this._polygonCache.length;s++){const l=this._polygonCache[s],c=l.getExtData()._data.adcode;let u=!1;for(let d=0;d<this._currentFeatures.length;d++){const h=this._currentFeatures[d].feature.properties;if(c===h.adcode){u=!0,this._currentFeatures.splice(d,1);break}}u||(i.push(l),this._polygonCache.splice(s,1),a.push(this._markerCache[s]),this._markerCache.splice(s,1),s--)}this._currentFeatures.forEach(s=>{const l=this._createPolygonFeature(s.feature,s.dataItems);this._opts.featureEventSupport&&(l.on("click",po.bind(u=>{this.emit("featureClick",u,s.feature),this._opts.featureClickToShowSub&&this._ins.zoomToShowSubFeatures(s.feature.properties.adcode)},this)),l.on("mouseover",po.bind(u=>{this.emit("featureMouseover",u,s.feature)},this)),l.on("mouseout",po.bind(u=>{this.emit("featureMouseout",u,s.feature)},this)));const c=this._createClusterMarker(s.feature,s.dataItems);this._opts.clusterMarkerEventSupport&&c.on("click",po.bind(u=>{this.emit("clusterMarkerClick",u,r8({adcode:s.feature.properties.adcode},s)),this._opts.clusterMarkerClickToShowSub&&this._ins.zoomToShowSubFeatures(s.feature.properties.adcode)},this)),r.push(l),o.push(c)}),this.layer.remove(i),(e=this.markerGroup)===null||e===void 0||e.removeOverlays(a),this.layer.add(r),this._polygonCache.push(...r),r.length=0,(n=this.markerGroup)===null||n===void 0||n.addOverlays(o),this._markerCache.push(...o),o.length=0}_tryFreeMemery(){this._ins.getDistMgr().tryClearCache(this._currentRenderId,this._opts.areaNodeCacheLimit)}_increaseLoadLeft(){this._loadLeft++}_decreaseLoadLeft(e){this._loadLeft--,this._loadLeft===0&&this._checkLoadFinish(e)}_loadAndRenderSelf(e,n,r){this._ins.getDistMgr().touchAdcode(n,e);const i=this._ins._distMgr.getExplorer(),o=i.getLocalAreaNode(n);o?this._renderSelf(e,r,o):(this._increaseLoadLeft(),i.loadAreaNode(n,(a,s)=>{this.isRenderIdStillValid(e)&&(a?console.error(a):this._renderSelf(e,r,s),this._decreaseLoadLeft(e))},this))}_loadAndRenderSub(e,n){this._ins.getDistMgr().touchAdcode(n,e);const r=this._ins._distMgr.getExplorer(),i=r.getLocalAreaNode(n);i?this._renderSub(e,i):(this._increaseLoadLeft(),r.loadAreaNode(n,(o,a)=>{this.isRenderIdStillValid(e)&&(o?console.error(o):this._renderSub(e,a),this._decreaseLoadLeft(e))},this))}_prepRenderFeatureInPixel(e,n){if(!this._ins.getDistMgr().isExcludedAdcode(n.properties.adcode)){const r=this._ins.getDistCounter().getPackItemsByAdcode(n.properties.adcode);this._currentFeatures.push({feature:n,dataItems:r})}}_createPolygonFeature(e,n){const r=Object.assign({},e.properties);if(r.dataItems=n,this._opts.renderPolygon){const o=this._opts.renderPolygon(e,n),a=o.getExtData()||{};return a._data=r,o.setExtData(a),o}const i=this._getFeatureStyleOptions(e,n)||{};return new AMap.Polygon(Axe(r8({path:e.geometry.coordinates},i),{extData:{_data:r}}))}_createClusterMarker(e,n){const r=e.properties;if(r.dataItems=n,this._opts.renderClusterMarker){const u=this._opts.renderClusterMarker(e,n),d=u.getExtData()||{};return d._data=r,u.setExtData(d),u}const i={title:"amap-ui-district-cluster-marker-title",body:"amap-ui-district-cluster-marker-body",container:"amap-ui-district-cluster-marker"},o=document.createElement("div"),a=document.createElement("span");a.className=i.title;const s=document.createElement("span");s.className=i.body,o.appendChild(a),o.appendChild(s);const l=[],c=[i.container,`level_${r.level}`,`adcode_${r.adcode}`];if(r.acroutes)for(let u=r.acroutes,d=0,h=u.length;d<h;d++)c.push(`descendant_of_${u[d]}`),d===h-1&&c.push(`child_of_${u[d]}`),d>0&&l.push(this._ins._distMgr.getNodeByAdcode(u[d]).name);return o.className=c.join(" "),l.length>0?(l.push(r.name),o.setAttribute("title",l.join(">"))):o.removeAttribute("title"),a.innerHTML=po.escapeHtml(r.name),s.innerHTML=n.length,new AMap.Marker({topWhenClick:!0,offset:new AMap.Pixel(-20,-30),content:o,position:r.center,extData:{_data:r}})}_getFeatureStyleOptions(e,n){const r=this._opts.getFeatureStyle,i=this._opts.featureStyleByLevel[e.properties.level];if(!r)return i;const o=r.call(null,e,n);return o?po.extend({},this._opts.featureStyleByLevel[e.properties.level],o):i}renderLater(e){this._renderLaterId||(this._renderLaterId=setTimeout(()=>{this.render()},e||100))}isRendering(){return this._isRendering}render(){this._renderLaterId&&(clearTimeout(this._renderLaterId),this._renderLaterId=null),this._isRendering=!0,this._ins._distMgr.onReady(this.renderViewport,this,!0)}forceRender(){this._renderLaterId&&(clearTimeout(this._renderLaterId),this._renderLaterId=null),this._isRendering=!0,this.clear(),this._ins._distMgr.onReady(this.renderViewport,this,!0)}getOption(e){return this._opts[e]}getOptions(){return this._opts}show(){var e;this.layer.show(),(e=this.markerGroup)===null||e===void 0||e.show()}hide(){var e;this.layer.hide(),(e=this.markerGroup)===null||e===void 0||e.hide()}clear(){var e;this.layer.clear(),(e=this.markerGroup)===null||e===void 0||e.clearOverlays(),this._polygonCache=[],this._markerCache=[]}setzIndex(e){this.layer.setzIndex(e)}getZooms(){return this._opts.zooms}destroy(){this._map.removeLayer(this.layer),this._map.remove(this.markerGroup),this._currentFeatures=[],this.clear(),this.layer=null,this._map=null,this._ins=null}},kxe=class{constructor(e,n,r){this.x=e,this.y=n,this.idx=r}};var Exe=Object.defineProperty,Txe=Object.defineProperties,Rxe=Object.getOwnPropertyDescriptors,i8=Object.getOwnPropertySymbols,_xe=Object.prototype.hasOwnProperty,Pxe=Object.prototype.propertyIsEnumerable,o8=(t,e,n)=>e in t?Exe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ixe=(t,e)=>{for(var n in e||(e={}))_xe.call(e,n)&&o8(t,n,e[n]);if(i8)for(var n of i8(e))Pxe.call(e,n)&&o8(t,n,e[n]);return t},Lxe=(t,e)=>Txe(t,Rxe(e));let Mxe=class extends n3{constructor(e){super(),this._data={list:[],bounds:null,source:null},this._mouseEvent=po.bind(po.debounce(()=>{this.renderLater()},50),this),this.initCSS();const n={autoSetFitView:!0,topAdcodes:[1e5],visible:!0,excludedAdcodes:null,zIndex:10,renderOptions:{}};this._opts=po.extend({},n,e),this.map=e.map,this._distMgr=new mxe({topAdcodes:this._opts.topAdcodes,excludedAdcodes:this._opts.excludedAdcodes}),this._distCounter=new vxe({distMgr:this._distMgr,pointPackerThisArg:this,pointPacker:r=>this._packDataItem(r)}),this.renderEngine=new Sxe(this,Lxe(Ixe({},e.renderOptions),{zIndex:this._opts.zIndex,visible:this._opts.visible,map:e.map})),this.renderEngine.on("*",(r,...i)=>{this.emit(r,...i)}),this._opts.data&&this.setData(this._opts.data),this.bindOrUnbindMapEvent()}bindOrUnbindMapEvent(e=!0){const n=e?"on":"off";this.map[n]("moveend",this._mouseEvent),this.map[n]("zoomend",this._mouseEvent),this.map[n]("resize",this._mouseEvent),this.map[n]("rotateend",this._mouseEvent),this.map[n]("dragend",this._mouseEvent)}initCSS(){const e="_amap_district_cluster_css";if(document.getElementById(e))return;const n=".amap-ui-district-cluster-container{cursor:default;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0) scale(1,1)}.amap-ui-district-cluster-container canvas{position:absolute}.amap-ui-district-cluster-container .amap-ui-hide{display:none!important}.amap-ui-district-cluster-container .overlay-title,.amap-ui-district-cluster-marker{color:#555;background-color:#fffeef;font-size:12px;white-space:nowrap;position:absolute}.amap-ui-district-cluster-container .overlay-title{padding:2px 6px;display:inline-block;z-index:99999;border:1px solid #7e7e7e;border-radius:2px}.amap-ui-district-cluster-container .overlay-title:after,.amap-ui-district-cluster-container .overlay-title:before{content:'';display:block;position:absolute;margin:auto;width:0;height:0;border:solid transparent;border-width:5px}.amap-ui-district-cluster-container .overlay-title.left{transform:translate(10px,-50%)}.amap-ui-district-cluster-container .overlay-title.left:before{top:5px}.amap-ui-district-cluster-container .overlay-title.left:after{left:-9px;top:5px;border-right-color:#fffeef}.amap-ui-district-cluster-container .overlay-title.left:before{left:-10px;border-right-color:#7e7e7e}.amap-ui-district-cluster-container .overlay-title.top{transform:translate(-50%,-130%)}.amap-ui-district-cluster-container .overlay-title.top:before{left:0;right:0}.amap-ui-district-cluster-container .overlay-title.top:after{bottom:-9px;left:0;right:0;border-top-color:#fffeef}.amap-ui-district-cluster-container .overlay-title.top:before{bottom:-10px;border-top-color:#7e7e7e}.amap-ui-district-cluster-marker{border:1px solid #8e8e8e;width:auto;height:22px;border-radius:5px 5px 5px 0;left:0;top:0}.amap-ui-district-cluster-marker:after,.amap-ui-district-cluster-marker:before{content:'';display:block;position:absolute;width:0;height:0;border:solid rgba(0,0,0,0);border-width:6px;left:13px}.amap-ui-district-cluster-marker:after{bottom:-12px;border-top-color:#fffeef}.amap-ui-district-cluster-marker:before{bottom:-13px;border-top-color:#8e8e8e}.amap-ui-district-cluster-marker span{vertical-align:middle;padding:3px 5px;display:inline-block;height:16px;line-height:16px}.amap-ui-district-cluster-marker-title{border-radius:5px 0 0 0}.amap-ui-district-cluster-marker-body{background-color:#dc3912;color:#fff;border-radius:0 5px 5px 0}.amap-ui-district-cluster-marker.level_country .amap-ui-district-cluster-marker-body{background-color:#36c}.amap-ui-district-cluster-marker.level_province .amap-ui-district-cluster-marker-body{background-color:#dc3912}.amap-ui-district-cluster-marker.level_city .amap-ui-district-cluster-marker-body{background-color:#909}.amap-ui-district-cluster-marker.level_district .amap-ui-district-cluster-marker-body{background-color:#d47}",r=document,i="appendChild",o="styleSheet",a=r.createElement("style");a.id=e,a.type="text/css",r.getElementsByTagName("head")[0][i](a),a[o]?a[o].cssText=n:a[i](r.createTextNode(n))}getMinZoomToShowSub(e){return this.renderEngine.getMinZoomToShowSub(e)}getAreaNodeProps(e){return this._distMgr.getNodeByAdcode(e)}getDistrictExplorer(){return this._distMgr.getExplorer()}getRender(){return this.renderEngine}zoomToShowSubFeatures(e,n){this.renderEngine.zoomToShowSubFeatures(e,n)}renderLater(e){this.renderEngine.renderLater(e)}render(){this.renderEngine.render()}forceRender(){this.renderEngine.forceRender()}getDistMgr(){return this._distMgr}_clearData(){this.trigger("willClearData"),this._data?this._data.list.length=0:this._data={list:[],bounds:null},this._data.source=null,this._data.bounds=null,this._data.kdTree=null,this._distCounter.clearData(),this.trigger("didClearData")}_buildDataItems(e){const n=this._opts,r=n.getPosition,i=this._data.list,o=this._data.bounds;for(let a=0,s=e.length;a<s;a++){let l=e[a],c=r.call(this,l,a);c&&(c.getLng&&(c=[c.getLng(),c.getLat()]),i[a]=new kxe(c[0],c[1],a),o.expandByPoint(c[0],c[1]))}}getDataItemsByBounds(e){const n=this._data.kdTree;if(!n)return null;const r=e.getSouthWest(),i=e.getNorthEast(),o=this._data.list,a=n.range(r.getLng(),r.getLat(),i.getLng(),i.getLat()),s=[];for(let l=0,c=a.length;l<c;l++)s[l]=this._packDataItem(o[a[l]]);return s}_packDataItem(e){if(!e)return null;if(!e._packedItem){const n=e.idx,r=[e.x,e.y];e._packedItem={dataIndex:n,dataItem:this._data.source[n],position:r}}return e._packedItem}_buildData(e){this._clearData(),this.trigger("willBuildData",e),this._data.source=e,this._data.bounds=Sx.getBoundsItemToExpand(),this._buildDataItems(e),this._distCounter.setData(this._data.list),this.trigger("didBuildData",e)}setData(e){e||(e=[]),this._buildData(e),this.forceRender(),e.length&&this._opts.autoSetFitView&&this.setFitView()}isReady(){return this._distMgr.isReady()&&!!this._data}setFitView(){const e=this._data.bounds,n=this.getMap(),r=new AMap.Bounds([e.x,e.y],[e.x+e.width,e.y+e.height]);n&&n.setBounds(r)}getDistCounter(){return this._distCounter}getMap(){return this._opts.map}getZooms(){return this.renderEngine.getZooms()}isHidden(){return!this._opts.visible}show(){return this._opts.visible=!0,this.getRender().show()}hide(){return this._opts.visible=!1,this.getRender().hide()}destroy(){this.bindOrUnbindMapEvent(!1),this.getRender().destroy(),this._distCounter.destroy(),this._distMgr.destroy(),this.renderEngine=null,this._data={list:[],bounds:null},this._distMgr=null,this.map=void 0,this._opts=void 0}getzIndex(){return this._opts.zIndex}setzIndex(e){this._opts.zIndex=e,this.getRender().setzIndex(e)}};var Mm=le({name:"ElAmapLayerDistrictCluster",inheritAttrs:!1,__name:"DistrictCluster",props:zn({data:{required:!0,type:Array},getPosition:{type:Function},autoSetFitView:{type:Boolean,default:!0},topAdcodes:{type:Array},excludedAdcodes:{type:Array},renderOptions:{type:Object}}),emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o}=Vn((a,s)=>new Promise(l=>{a.map=s,i=new Mxe(a),l(i)}),{emits:r,destroyComponent(){i&&(i.destroy(),i=null)}});return e({$$getInstance:o}),(a,s)=>(gn(),Pn("div"))}});Mm.__file="src/vue-amap/packages/layer/data/DistrictCluster/DistrictCluster.vue";Mm.install=t=>(t.component(Mm.name,Mm),t);const Oxe=Mm;var Zb={exports:{}};Zb.exports=Jb,Zb.exports.default=Jb;function Jb(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,o=$B(t,0,i,n,!0),a=[];if(!o||o.next===o.prev)return a;var s,l,c,u,d,h,f;if(r&&(o=Nxe(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(var p=n;p<i;p+=n)d=t[p],h=t[p+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-s,u-l),f=f!==0?32767/f:0}return cg(o,a,n,s,l,f,0),a}function $B(t,e,n,r,i){var o,a;if(i===oS(t,e,n,r)>0)for(o=e;o<n;o+=r)a=a8(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=a8(o,t[o],t[o+1],a);return a&&kx(a,a.next)&&(dg(a),a=a.next),a}function lh(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(kx(n,n.next)||xi(n.prev,n,n.next)===0)){if(dg(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function cg(t,e,n,r,i,o,a){if(t){!a&&o&&Vxe(t,r,i,o);for(var s=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,o?Fxe(t,r,i,o):Dxe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),dg(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=$xe(lh(t),e,n),cg(t,e,n,r,i,o,2)):a===2&&Bxe(t,e,n,r,i,o):cg(lh(t),e,n,r,i,o,1);break}}}}function Dxe(t){var e=t.prev,n=t,r=t.next;if(xi(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,h=i>o?i>a?i:a:o>a?o:a,f=s>l?s>c?s:c:l>c?l:c,p=r.next;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&yf(i,s,o,l,a,c,p.x,p.y)&&xi(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Fxe(t,e,n,r){var i=t.prev,o=t,a=t.next;if(xi(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,f=s<l?s<c?s:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,g=s>l?s>c?s:c:l>c?l:c,m=u>d?u>h?u:h:d>h?d:h,y=rS(f,p,e,n,r),b=rS(g,m,e,n,r),x=t.prevZ,w=t.nextZ;x&&x.z>=y&&w&&w.z<=b;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==i&&x!==a&&yf(s,u,l,d,c,h,x.x,x.y)&&xi(x.prev,x,x.next)>=0||(x=x.prevZ,w.x>=f&&w.x<=g&&w.y>=p&&w.y<=m&&w!==i&&w!==a&&yf(s,u,l,d,c,h,w.x,w.y)&&xi(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;x&&x.z>=y;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==i&&x!==a&&yf(s,u,l,d,c,h,x.x,x.y)&&xi(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;w&&w.z<=b;){if(w.x>=f&&w.x<=g&&w.y>=p&&w.y<=m&&w!==i&&w!==a&&yf(s,u,l,d,c,h,w.x,w.y)&&xi(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function $xe(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!kx(i,o)&&BB(i,r,r.next,o)&&ug(i,o)&&ug(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),dg(r),dg(r.next),r=t=o),r=r.next}while(r!==t);return lh(r)}function Bxe(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Kxe(a,s)){var l=NB(a,s);a=lh(a,a.next),l=lh(l,l.next),cg(a,e,n,r,i,o,0),cg(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Nxe(t,e,n,r){var i=[],o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=$B(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(qxe(c));for(i.sort(zxe),o=0;o<i.length;o++)n=Hxe(i[o],n);return n}function zxe(t,e){return t.x-e.x}function Hxe(t,e){var n=Uxe(t,e);if(!n)return e;var r=NB(n,t);return lh(r,r.next),lh(n,n.next)}function Uxe(t,e){var n=e,r=t.x,i=t.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o&&(o=s,a=n.x<n.next.x?n:n.next,s===r))return a}n=n.next}while(n!==e);if(!a)return null;var l=a,c=a.x,u=a.y,d=1/0,h;n=a;do r>=n.x&&n.x>=c&&r!==n.x&&yf(i<u?r:o,i,c,u,i<u?o:r,i,n.x,n.y)&&(h=Math.abs(i-n.y)/(r-n.x),ug(n,t)&&(h<d||h===d&&(n.x>a.x||n.x===a.x&&jxe(a,n)))&&(a=n,d=h)),n=n.next;while(n!==l);return a}function jxe(t,e){return xi(t.prev,t,e.prev)<0&&xi(e.next,t,t.next)<0}function Vxe(t,e,n,r){var i=t;do i.z===0&&(i.z=rS(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Wxe(i)}function Wxe(t){var e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function rS(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function qxe(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function yf(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Kxe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Gxe(t,e)&&(ug(t,e)&&ug(e,t)&&Yxe(t,e)&&(xi(t.prev,t,e.prev)||xi(t,e.prev,e))||kx(t,e)&&xi(t.prev,t,t.next)>0&&xi(e.prev,e,e.next)>0)}function xi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function kx(t,e){return t.x===e.x&&t.y===e.y}function BB(t,e,n,r){var i=ty(xi(t,e,n)),o=ty(xi(t,e,r)),a=ty(xi(n,r,t)),s=ty(xi(n,r,e));return!!(i!==o&&a!==s||i===0&&ey(t,n,e)||o===0&&ey(t,r,e)||a===0&&ey(n,t,r)||s===0&&ey(n,e,r))}function ey(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ty(t){return t>0?1:t<0?-1:0}function Gxe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&BB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ug(t,e){return xi(t.prev,t,t.next)<0?xi(t,e,t.next)>=0&&xi(t,t.prev,e)>=0:xi(t,e,t.prev)<0||xi(t,t.next,e)<0}function Yxe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function NB(t,e){var n=new iS(t.i,t.x,t.y),r=new iS(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function a8(t,e,n,r){var i=new iS(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function iS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Jb.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(oS(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var c=e[s]*n,u=s<l-1?e[s+1]*n:t.length;a-=Math.abs(oS(t,c,u,n))}var d=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((t[h]-t[p])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[p+1]-t[h+1]))}return a===0&&d===0?0:Math.abs((d-a)/a)};function oS(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}Jb.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};const Cl={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function Xxe(t,{precision:e=Cl.precision}={}){return t=Qxe(t),"".concat(parseFloat(t.toPrecision(e)))}function aS(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zB(t,e,n){const r=Cl.EPSILON;try{if(t===e)return!0;if(aS(t)&&aS(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!zB(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=Cl.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{Cl.EPSILON=r}}function Qxe(t){return Math.round(t/Cl.EPSILON)*Cl.EPSILON}function Zxe(t){function e(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}class Jxe extends Zxe(Array){clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:aS(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Cl)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+Xxe(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(n,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!zB(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let i=0;i<this.ELEMENTS;++i){const o=e[i];this[i]=o+r*(n[i]-o)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(Cl.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}}function ewe(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function twe(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function b2(t,e,n=""){if(Cl.debug&&!ewe(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}var kn={},Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.setMatrixArrayType=rwe,Co.toRadian=owe,Co.equals=awe,Co.RANDOM=Co.ARRAY_TYPE=Co.EPSILON=void 0;var HB=1e-6;Co.EPSILON=HB;var UB=typeof Float32Array<"u"?Float32Array:Array;Co.ARRAY_TYPE=UB;var nwe=Math.random;Co.RANDOM=nwe;function rwe(t){Co.ARRAY_TYPE=UB=t}var iwe=Math.PI/180;function owe(t){return t*iwe}function awe(t,e){return Math.abs(t-e)<=HB*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Ky(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ky=function(e){return typeof e}:Ky=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}Object.defineProperty(kn,"__esModule",{value:!0}),kn.create=VB,kn.clone=cwe,kn.fromValues=uwe,kn.copy=dwe,kn.set=hwe,kn.add=fwe,kn.subtract=WB,kn.multiply=qB,kn.divide=KB,kn.ceil=pwe,kn.floor=mwe,kn.min=gwe,kn.max=vwe,kn.round=ywe,kn.scale=bwe,kn.scaleAndAdd=xwe,kn.distance=GB,kn.squaredDistance=YB,kn.length=XB,kn.squaredLength=QB,kn.negate=wwe,kn.inverse=Cwe,kn.normalize=Awe,kn.dot=Swe,kn.cross=kwe,kn.lerp=Ewe,kn.random=Twe,kn.transformMat2=Rwe,kn.transformMat2d=_we,kn.transformMat3=Pwe;var swe=kn.transformMat4=Iwe;kn.rotate=Lwe,kn.angle=Mwe,kn.zero=Owe,kn.str=Dwe,kn.exactEquals=Fwe,kn.equals=$we,kn.forEach=kn.sqrLen=kn.sqrDist=kn.dist=kn.div=kn.mul=kn.sub=kn.len=void 0;var ch=lwe(Co);function jB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(jB=function(r){return r?n:e})(t)}function lwe(t,e){if(t&&t.__esModule)return t;if(t===null||Ky(t)!=="object"&&typeof t!="function")return{default:t};var n=jB(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function VB(){var t=new ch.ARRAY_TYPE(2);return ch.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function cwe(t){var e=new ch.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function uwe(t,e){var n=new ch.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function dwe(t,e){return t[0]=e[0],t[1]=e[1],t}function hwe(t,e,n){return t[0]=e,t[1]=n,t}function fwe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function WB(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function qB(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function KB(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function pwe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function mwe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function gwe(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function vwe(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ywe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function bwe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function xwe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function GB(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function YB(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function XB(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function QB(t){var e=t[0],n=t[1];return e*e+n*n}function wwe(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Cwe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Awe(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Swe(t,e){return t[0]*e[0]+t[1]*e[1]}function kwe(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Ewe(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function Twe(t,e){e=e||1;var n=ch.RANDOM()*2*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Rwe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function _we(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Pwe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Iwe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Lwe(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function Mwe(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Owe(t){return t[0]=0,t[1]=0,t}function Dwe(t){return"vec2("+t[0]+", "+t[1]+")"}function Fwe(t,e){return t[0]===e[0]&&t[1]===e[1]}function $we(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=ch.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=ch.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))}var Bwe=XB;kn.len=Bwe;var Nwe=WB;kn.sub=Nwe;var zwe=qB;kn.mul=zwe;var Hwe=KB;kn.div=Hwe;var Uwe=GB;kn.dist=Uwe;var jwe=YB;kn.sqrDist=jwe;var Vwe=QB;kn.sqrLen=Vwe;var Wwe=function(){var t=VB();return function(e,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();kn.forEach=Wwe;function qwe(t,e,n){const r=e[0],i=e[1],o=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/o,t[1]=(n[1]*r+n[5]*i)/o,t}function Kwe(t,e,n){const r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o||1;return t[0]=(n[0]*r+n[4]*i+n[8]*o)/a,t[1]=(n[1]*r+n[5]*i+n[9]*o)/a,t[2]=(n[2]*r+n[6]*i+n[10]*o)/a,t}var mn={};function Gy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gy=function(e){return typeof e}:Gy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}Object.defineProperty(mn,"__esModule",{value:!0}),mn.create=JB,mn.clone=Xwe,mn.length=eN,mn.fromValues=Qwe,mn.copy=Zwe,mn.set=Jwe,mn.add=e2e,mn.subtract=tN,mn.multiply=nN,mn.divide=rN,mn.ceil=t2e,mn.floor=n2e,mn.min=r2e,mn.max=i2e,mn.round=o2e,mn.scale=a2e,mn.scaleAndAdd=s2e,mn.distance=iN,mn.squaredDistance=oN,mn.squaredLength=aN,mn.negate=l2e,mn.inverse=c2e,mn.normalize=u2e,mn.dot=sN,mn.cross=d2e,mn.lerp=h2e,mn.hermite=f2e,mn.bezier=p2e,mn.random=m2e;var Gwe=mn.transformMat4=g2e;mn.transformMat3=v2e,mn.transformQuat=y2e,mn.rotateX=b2e,mn.rotateY=x2e,mn.rotateZ=w2e,mn.angle=C2e,mn.zero=A2e,mn.str=S2e,mn.exactEquals=k2e,mn.equals=E2e,mn.forEach=mn.sqrLen=mn.len=mn.sqrDist=mn.dist=mn.div=mn.mul=mn.sub=void 0;var cc=Ywe(Co);function ZB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ZB=function(r){return r?n:e})(t)}function Ywe(t,e){if(t&&t.__esModule)return t;if(t===null||Gy(t)!=="object"&&typeof t!="function")return{default:t};var n=ZB(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function JB(){var t=new cc.ARRAY_TYPE(3);return cc.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Xwe(t){var e=new cc.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function eN(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Qwe(t,e,n){var r=new cc.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function Zwe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Jwe(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function e2e(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function tN(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function nN(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function rN(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function t2e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function n2e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function r2e(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function i2e(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function o2e(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function a2e(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function s2e(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function iN(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function oN(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function aN(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function l2e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function c2e(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function u2e(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function sN(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function d2e(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function h2e(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function f2e(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+r[0]*c+i[0]*u,t[1]=e[1]*s+n[1]*l+r[1]*c+i[1]*u,t[2]=e[2]*s+n[2]*l+r[2]*c+i[2]*u,t}function p2e(t,e,n,r,i,o){var a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,d=3*l*a,h=l*o;return t[0]=e[0]*c+n[0]*u+r[0]*d+i[0]*h,t[1]=e[1]*c+n[1]*u+r[1]*d+i[1]*h,t[2]=e[2]*c+n[2]*u+r[2]*d+i[2]*h,t}function m2e(t,e){e=e||1;var n=cc.RANDOM()*2*Math.PI,r=cc.RANDOM()*2-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function g2e(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function v2e(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function y2e(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],c=e[2],u=i*c-o*l,d=o*s-r*c,h=r*l-i*s,f=i*h-o*d,p=o*u-r*h,g=r*d-i*u,m=a*2;return u*=m,d*=m,h*=m,f*=2,p*=2,g*=2,t[0]=s+u+f,t[1]=l+d+p,t[2]=c+h+g,t}function b2e(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function x2e(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function w2e(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function C2e(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(n*n+r*r+i*i),c=Math.sqrt(o*o+a*a+s*s),u=l*c,d=u&&sN(t,e)/u;return Math.acos(Math.min(Math.max(d,-1),1))}function A2e(t){return t[0]=0,t[1]=0,t[2]=0,t}function S2e(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function k2e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function E2e(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=cc.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=cc.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=cc.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}var T2e=tN;mn.sub=T2e;var R2e=nN;mn.mul=R2e;var _2e=rN;mn.div=_2e;var P2e=iN;mn.dist=P2e;var I2e=oN;mn.sqrDist=I2e;var L2e=eN;mn.len=L2e;var M2e=aN;mn.sqrLen=M2e;var O2e=function(){var t=JB();return function(e,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();mn.forEach=O2e;class D2e extends Jxe{toString(){let e="[";if(Cl.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+n])}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=twe(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)n[i]=this[r+i];return n}setColumn(e,n){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)this[r+i]=n[i];return this}}var fr={};function Yy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yy=function(e){return typeof e}:Yy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}Object.defineProperty(fr,"__esModule",{value:!0}),fr.create=$2e,fr.fromMat4=B2e,fr.clone=N2e,fr.copy=z2e,fr.fromValues=H2e,fr.set=U2e,fr.identity=j2e,fr.transpose=V2e,fr.invert=W2e,fr.adjoint=q2e,fr.determinant=K2e,fr.multiply=cN,fr.translate=G2e,fr.rotate=Y2e,fr.scale=X2e,fr.fromTranslation=Q2e,fr.fromRotation=Z2e,fr.fromScaling=J2e,fr.fromMat2d=eCe,fr.fromQuat=tCe,fr.normalFromMat4=nCe,fr.projection=rCe,fr.str=iCe,fr.frob=oCe,fr.add=aCe,fr.subtract=uN,fr.multiplyScalar=sCe,fr.multiplyScalarAndAdd=lCe,fr.exactEquals=cCe,fr.equals=uCe,fr.sub=fr.mul=void 0;var Ta=F2e(Co);function lN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(lN=function(r){return r?n:e})(t)}function F2e(t,e){if(t&&t.__esModule)return t;if(t===null||Yy(t)!=="object"&&typeof t!="function")return{default:t};var n=lN(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function $2e(){var t=new Ta.ARRAY_TYPE(9);return Ta.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function B2e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function N2e(t){var e=new Ta.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function z2e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function H2e(t,e,n,r,i,o,a,s,l){var c=new Ta.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c}function U2e(t,e,n,r,i,o,a,s,l,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t}function j2e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function V2e(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function W2e(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*a-s*c,h=-u*o+s*l,f=c*o-a*l,p=n*d+r*h+i*f;return p?(p=1/p,t[0]=d*p,t[1]=(-u*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=h*p,t[4]=(u*n-i*l)*p,t[5]=(-s*n+i*o)*p,t[6]=f*p,t[7]=(-c*n+r*l)*p,t[8]=(a*n-r*o)*p,t):null}function q2e(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t[0]=a*u-s*c,t[1]=i*c-r*u,t[2]=r*s-i*a,t[3]=s*l-o*u,t[4]=n*u-i*l,t[5]=i*o-n*s,t[6]=o*c-a*l,t[7]=r*l-n*c,t[8]=n*a-r*o,t}function K2e(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*(c*o-a*l)+n*(-c*i+a*s)+r*(l*i-o*s)}function cN(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],f=n[1],p=n[2],g=n[3],m=n[4],y=n[5],b=n[6],x=n[7],w=n[8];return t[0]=h*r+f*a+p*c,t[1]=h*i+f*s+p*u,t[2]=h*o+f*l+p*d,t[3]=g*r+m*a+y*c,t[4]=g*i+m*s+y*u,t[5]=g*o+m*l+y*d,t[6]=b*r+x*a+w*c,t[7]=b*i+x*s+w*u,t[8]=b*o+x*l+w*d,t}function G2e(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=h*r+f*a+c,t[7]=h*i+f*s+u,t[8]=h*o+f*l+d,t}function Y2e(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*a,t[1]=f*i+h*s,t[2]=f*o+h*l,t[3]=f*a-h*r,t[4]=f*s-h*i,t[5]=f*l-h*o,t[6]=c,t[7]=u,t[8]=d,t}function X2e(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Q2e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Z2e(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function J2e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function eCe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function tCe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,h=i*a,f=i*s,p=i*l,g=o*a,m=o*s,y=o*l;return t[0]=1-d-p,t[3]=u-y,t[6]=h+m,t[1]=u+y,t[4]=1-c-p,t[7]=f-g,t[2]=h-m,t[5]=f+g,t[8]=1-c-d,t}function nCe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15],b=n*s-r*a,x=n*l-i*a,w=n*c-o*a,C=r*l-i*s,S=r*c-o*s,A=i*c-o*l,T=u*g-d*p,k=u*m-h*p,E=u*y-f*p,P=d*m-h*g,_=d*y-f*g,F=h*y-f*m,N=b*F-x*_+w*P+C*E-S*k+A*T;return N?(N=1/N,t[0]=(s*F-l*_+c*P)*N,t[1]=(l*E-a*F-c*k)*N,t[2]=(a*_-s*E+c*T)*N,t[3]=(i*_-r*F-o*P)*N,t[4]=(n*F-i*E+o*k)*N,t[5]=(r*E-n*_-o*T)*N,t[6]=(g*A-m*S+y*C)*N,t[7]=(m*w-p*A-y*x)*N,t[8]=(p*S-g*w+y*b)*N,t):null}function rCe(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function iCe(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function oCe(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function aCe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function uN(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function sCe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function lCe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function cCe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function uCe(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=e[0],h=e[1],f=e[2],p=e[3],g=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=Ta.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-h)<=Ta.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-f)<=Ta.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=Ta.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=Ta.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=Ta.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-y)<=Ta.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=Ta.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(u-x)<=Ta.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))}var dCe=cN;fr.mul=dCe;var hCe=uN;fr.sub=hCe;var s8;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"})(s8||(s8={}));var yn={};function Xy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xy=function(e){return typeof e}:Xy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}Object.defineProperty(yn,"__esModule",{value:!0}),yn.create=ECe,yn.clone=TCe,yn.copy=RCe,yn.fromValues=_Ce,yn.set=PCe,yn.identity=hN;var fCe=yn.transpose=ICe,pCe=yn.invert=LCe;yn.adjoint=MCe;var mCe=yn.determinant=OCe,l8=yn.multiply=fN,gCe=yn.translate=DCe,vCe=yn.scale=FCe,yCe=yn.rotate=$Ce,bCe=yn.rotateX=BCe,xCe=yn.rotateY=NCe,wCe=yn.rotateZ=zCe;yn.fromTranslation=HCe,yn.fromScaling=UCe,yn.fromRotation=jCe,yn.fromXRotation=VCe,yn.fromYRotation=WCe,yn.fromZRotation=qCe,yn.fromRotationTranslation=pN,yn.fromQuat2=KCe,yn.getTranslation=GCe,yn.getScaling=mN,yn.getRotation=YCe,yn.fromRotationTranslationScale=XCe,yn.fromRotationTranslationScaleOrigin=QCe;var CCe=yn.fromQuat=ZCe,ACe=yn.frustum=JCe;yn.perspectiveNO=gN,yn.perspectiveZO=tAe,yn.perspectiveFromFieldOfView=nAe,yn.orthoNO=yN,yn.orthoZO=iAe;var SCe=yn.lookAt=oAe;yn.targetTo=aAe,yn.str=sAe,yn.frob=lAe,yn.add=cAe,yn.subtract=xN,yn.multiplyScalar=uAe,yn.multiplyScalarAndAdd=dAe,yn.exactEquals=hAe,yn.equals=fAe,yn.sub=yn.mul=bN=yn.ortho=vN=yn.perspective=void 0;var Gr=kCe(Co);function dN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(dN=function(r){return r?n:e})(t)}function kCe(t,e){if(t&&t.__esModule)return t;if(t===null||Xy(t)!=="object"&&typeof t!="function")return{default:t};var n=dN(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function ECe(){var t=new Gr.ARRAY_TYPE(16);return Gr.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function TCe(t){var e=new Gr.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function RCe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function _Ce(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g){var m=new Gr.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=s,m[8]=l,m[9]=c,m[10]=u,m[11]=d,m[12]=h,m[13]=f,m[14]=p,m[15]=g,m}function PCe(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=h,t[12]=f,t[13]=p,t[14]=g,t[15]=m,t}function hN(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ICe(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function LCe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15],b=n*s-r*a,x=n*l-i*a,w=n*c-o*a,C=r*l-i*s,S=r*c-o*s,A=i*c-o*l,T=u*g-d*p,k=u*m-h*p,E=u*y-f*p,P=d*m-h*g,_=d*y-f*g,F=h*y-f*m,N=b*F-x*_+w*P+C*E-S*k+A*T;return N?(N=1/N,t[0]=(s*F-l*_+c*P)*N,t[1]=(i*_-r*F-o*P)*N,t[2]=(g*A-m*S+y*C)*N,t[3]=(h*S-d*A-f*C)*N,t[4]=(l*E-a*F-c*k)*N,t[5]=(n*F-i*E+o*k)*N,t[6]=(m*w-p*A-y*x)*N,t[7]=(u*A-h*w+f*x)*N,t[8]=(a*_-s*E+c*T)*N,t[9]=(r*E-n*_-o*T)*N,t[10]=(p*S-g*w+y*b)*N,t[11]=(d*w-u*S-f*b)*N,t[12]=(s*k-a*P-l*T)*N,t[13]=(n*P-r*k+i*T)*N,t[14]=(g*x-p*C-m*b)*N,t[15]=(u*C-d*x+h*b)*N,t):null}function MCe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15];return t[0]=s*(h*y-f*m)-d*(l*y-c*m)+g*(l*f-c*h),t[1]=-(r*(h*y-f*m)-d*(i*y-o*m)+g*(i*f-o*h)),t[2]=r*(l*y-c*m)-s*(i*y-o*m)+g*(i*c-o*l),t[3]=-(r*(l*f-c*h)-s*(i*f-o*h)+d*(i*c-o*l)),t[4]=-(a*(h*y-f*m)-u*(l*y-c*m)+p*(l*f-c*h)),t[5]=n*(h*y-f*m)-u*(i*y-o*m)+p*(i*f-o*h),t[6]=-(n*(l*y-c*m)-a*(i*y-o*m)+p*(i*c-o*l)),t[7]=n*(l*f-c*h)-a*(i*f-o*h)+u*(i*c-o*l),t[8]=a*(d*y-f*g)-u*(s*y-c*g)+p*(s*f-c*d),t[9]=-(n*(d*y-f*g)-u*(r*y-o*g)+p*(r*f-o*d)),t[10]=n*(s*y-c*g)-a*(r*y-o*g)+p*(r*c-o*s),t[11]=-(n*(s*f-c*d)-a*(r*f-o*d)+u*(r*c-o*s)),t[12]=-(a*(d*m-h*g)-u*(s*m-l*g)+p*(s*h-l*d)),t[13]=n*(d*m-h*g)-u*(r*m-i*g)+p*(r*h-i*d),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),t[15]=n*(s*h-l*d)-a*(r*h-i*d)+u*(r*l-i*s),t}function OCe(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],f=t[12],p=t[13],g=t[14],m=t[15],y=e*a-n*o,b=e*s-r*o,x=e*l-i*o,w=n*s-r*a,C=n*l-i*a,S=r*l-i*s,A=c*p-u*f,T=c*g-d*f,k=c*m-h*f,E=u*g-d*p,P=u*m-h*p,_=d*m-h*g;return y*_-b*P+x*E+w*k-C*T+S*A}function fN(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],g=e[12],m=e[13],y=e[14],b=e[15],x=n[0],w=n[1],C=n[2],S=n[3];return t[0]=x*r+w*s+C*d+S*g,t[1]=x*i+w*l+C*h+S*m,t[2]=x*o+w*c+C*f+S*y,t[3]=x*a+w*u+C*p+S*b,x=n[4],w=n[5],C=n[6],S=n[7],t[4]=x*r+w*s+C*d+S*g,t[5]=x*i+w*l+C*h+S*m,t[6]=x*o+w*c+C*f+S*y,t[7]=x*a+w*u+C*p+S*b,x=n[8],w=n[9],C=n[10],S=n[11],t[8]=x*r+w*s+C*d+S*g,t[9]=x*i+w*l+C*h+S*m,t[10]=x*o+w*c+C*f+S*y,t[11]=x*a+w*u+C*p+S*b,x=n[12],w=n[13],C=n[14],S=n[15],t[12]=x*r+w*s+C*d+S*g,t[13]=x*i+w*l+C*h+S*m,t[14]=x*o+w*c+C*f+S*y,t[15]=x*a+w*u+C*p+S*b,t}function DCe(t,e,n){var r=n[0],i=n[1],o=n[2],a,s,l,c,u,d,h,f,p,g,m,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],l=e[2],c=e[3],u=e[4],d=e[5],h=e[6],f=e[7],p=e[8],g=e[9],m=e[10],y=e[11],t[0]=a,t[1]=s,t[2]=l,t[3]=c,t[4]=u,t[5]=d,t[6]=h,t[7]=f,t[8]=p,t[9]=g,t[10]=m,t[11]=y,t[12]=a*r+u*i+p*o+e[12],t[13]=s*r+d*i+g*o+e[13],t[14]=l*r+h*i+m*o+e[14],t[15]=c*r+f*i+y*o+e[15]),t}function FCe(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $Ce(t,e,n,r){var i=r[0],o=r[1],a=r[2],s=Math.hypot(i,o,a),l,c,u,d,h,f,p,g,m,y,b,x,w,C,S,A,T,k,E,P,_,F,N,W;return s<Gr.EPSILON?null:(s=1/s,i*=s,o*=s,a*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,d=e[0],h=e[1],f=e[2],p=e[3],g=e[4],m=e[5],y=e[6],b=e[7],x=e[8],w=e[9],C=e[10],S=e[11],A=i*i*u+c,T=o*i*u+a*l,k=a*i*u-o*l,E=i*o*u-a*l,P=o*o*u+c,_=a*o*u+i*l,F=i*a*u+o*l,N=o*a*u-i*l,W=a*a*u+c,t[0]=d*A+g*T+x*k,t[1]=h*A+m*T+w*k,t[2]=f*A+y*T+C*k,t[3]=p*A+b*T+S*k,t[4]=d*E+g*P+x*_,t[5]=h*E+m*P+w*_,t[6]=f*E+y*P+C*_,t[7]=p*E+b*P+S*_,t[8]=d*F+g*N+x*W,t[9]=h*F+m*N+w*W,t[10]=f*F+y*N+C*W,t[11]=p*F+b*N+S*W,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function BCe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+d*r,t[7]=l*i+h*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=d*i-s*r,t[11]=h*i-l*r,t}function NCe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-d*r,t[3]=l*i-h*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+d*i,t[11]=l*r+h*i,t}function zCe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+d*r,t[3]=l*i+h*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=d*i-s*r,t[7]=h*i-l*r,t}function HCe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function UCe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jCe(t,e,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),s,l,c;return a<Gr.EPSILON?null:(a=1/a,r*=a,i*=a,o*=a,s=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=i*r*c+o*s,t[2]=o*r*c-i*s,t[3]=0,t[4]=r*i*c-o*s,t[5]=i*i*c+l,t[6]=o*i*c+r*s,t[7]=0,t[8]=r*o*c+i*s,t[9]=i*o*c-r*s,t[10]=o*o*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function VCe(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function WCe(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function qCe(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pN(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,c=o+o,u=r*s,d=r*l,h=r*c,f=i*l,p=i*c,g=o*c,m=a*s,y=a*l,b=a*c;return t[0]=1-(f+g),t[1]=d+b,t[2]=h-y,t[3]=0,t[4]=d-b,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function KCe(t,e){var n=new Gr.ARRAY_TYPE(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=(s*a+u*r+l*o-c*i)*2/d,n[1]=(l*a+u*i+c*r-s*o)*2/d,n[2]=(c*a+u*o+s*i-l*r)*2/d):(n[0]=(s*a+u*r+l*o-c*i)*2,n[1]=(l*a+u*i+c*r-s*o)*2,n[2]=(c*a+u*o+s*i-l*r)*2),pN(t,e,n),t}function GCe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function mN(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,c,u),t}function YCe(t,e){var n=new Gr.ARRAY_TYPE(3);mN(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,c=e[4]*r,u=e[5]*i,d=e[6]*o,h=e[8]*r,f=e[9]*i,p=e[10]*o,g=a+u+p,m=0;return g>0?(m=Math.sqrt(g+1)*2,t[3]=.25*m,t[0]=(d-f)/m,t[1]=(h-l)/m,t[2]=(s-c)/m):a>u&&a>p?(m=Math.sqrt(1+a-u-p)*2,t[3]=(d-f)/m,t[0]=.25*m,t[1]=(s+c)/m,t[2]=(h+l)/m):u>p?(m=Math.sqrt(1+u-a-p)*2,t[3]=(h-l)/m,t[0]=(s+c)/m,t[1]=.25*m,t[2]=(d+f)/m):(m=Math.sqrt(1+p-a-u)*2,t[3]=(s-c)/m,t[0]=(h+l)/m,t[1]=(d+f)/m,t[2]=.25*m),t}function XCe(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,f=i*u,p=o*c,g=o*u,m=a*u,y=s*l,b=s*c,x=s*u,w=r[0],C=r[1],S=r[2];return t[0]=(1-(p+m))*w,t[1]=(h+x)*w,t[2]=(f-b)*w,t[3]=0,t[4]=(h-x)*C,t[5]=(1-(d+m))*C,t[6]=(g+y)*C,t[7]=0,t[8]=(f+b)*S,t[9]=(g-y)*S,t[10]=(1-(d+p))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function QCe(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],c=o+o,u=a+a,d=s+s,h=o*c,f=o*u,p=o*d,g=a*u,m=a*d,y=s*d,b=l*c,x=l*u,w=l*d,C=r[0],S=r[1],A=r[2],T=i[0],k=i[1],E=i[2],P=(1-(g+y))*C,_=(f+w)*C,F=(p-x)*C,N=(f-w)*S,W=(1-(h+y))*S,G=(m+b)*S,Z=(p+x)*A,ie=(m-b)*A,he=(1-(h+g))*A;return t[0]=P,t[1]=_,t[2]=F,t[3]=0,t[4]=N,t[5]=W,t[6]=G,t[7]=0,t[8]=Z,t[9]=ie,t[10]=he,t[11]=0,t[12]=n[0]+T-(P*T+N*k+Z*E),t[13]=n[1]+k-(_*T+W*k+ie*E),t[14]=n[2]+E-(F*T+G*k+he*E),t[15]=1,t}function ZCe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,h=i*a,f=i*s,p=i*l,g=o*a,m=o*s,y=o*l;return t[0]=1-d-p,t[1]=u+y,t[2]=h-m,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=f+g,t[7]=0,t[8]=h+m,t[9]=f-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JCe(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),c=1/(o-a);return t[0]=o*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function gN(t,e,n,r,i){var o=1/Math.tan(e/2),a;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}var eAe=gN,vN=yn.perspective=eAe;function tAe(t,e,n,r,i){var o=1/Math.tan(e/2),a;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(a=1/(r-i),t[10]=i*a,t[14]=i*r*a):(t[10]=-1,t[14]=-r),t}function nAe(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function yN(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}var rAe=yN,bN=yn.ortho=rAe;function iAe(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*c,t[15]=1,t}function oAe(t,e,n,r){var i,o,a,s,l,c,u,d,h,f,p=e[0],g=e[1],m=e[2],y=r[0],b=r[1],x=r[2],w=n[0],C=n[1],S=n[2];return Math.abs(p-w)<Gr.EPSILON&&Math.abs(g-C)<Gr.EPSILON&&Math.abs(m-S)<Gr.EPSILON?hN(t):(u=p-w,d=g-C,h=m-S,f=1/Math.hypot(u,d,h),u*=f,d*=f,h*=f,i=b*h-x*d,o=x*u-y*h,a=y*d-b*u,f=Math.hypot(i,o,a),f?(f=1/f,i*=f,o*=f,a*=f):(i=0,o=0,a=0),s=d*a-h*o,l=h*i-u*a,c=u*o-d*i,f=Math.hypot(s,l,c),f?(f=1/f,s*=f,l*=f,c*=f):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+o*g+a*m),t[13]=-(s*p+l*g+c*m),t[14]=-(u*p+d*g+h*m),t[15]=1,t)}function aAe(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],d=o-n[1],h=a-n[2],f=u*u+d*d+h*h;f>0&&(f=1/Math.sqrt(f),u*=f,d*=f,h*=f);var p=l*h-c*d,g=c*u-s*h,m=s*d-l*u;return f=p*p+g*g+m*m,f>0&&(f=1/Math.sqrt(f),p*=f,g*=f,m*=f),t[0]=p,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-h*g,t[5]=h*p-u*m,t[6]=u*g-d*p,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function sAe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function lAe(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function cAe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function xN(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function uAe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function dAe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function hAe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function fAe(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],b=e[0],x=e[1],w=e[2],C=e[3],S=e[4],A=e[5],T=e[6],k=e[7],E=e[8],P=e[9],_=e[10],F=e[11],N=e[12],W=e[13],G=e[14],Z=e[15];return Math.abs(n-b)<=Gr.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=Gr.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-w)<=Gr.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-C)<=Gr.EPSILON*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(a-S)<=Gr.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-A)<=Gr.EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(l-T)<=Gr.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-k)<=Gr.EPSILON*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(u-E)<=Gr.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-P)<=Gr.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(h-_)<=Gr.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(f-F)<=Gr.EPSILON*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(p-N)<=Gr.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(g-W)<=Gr.EPSILON*Math.max(1,Math.abs(g),Math.abs(W))&&Math.abs(m-G)<=Gr.EPSILON*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(y-Z)<=Gr.EPSILON*Math.max(1,Math.abs(y),Math.abs(Z))}var pAe=fN;yn.mul=pAe;var mAe=xN;yn.sub=mAe;var In={};function Qy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qy=function(e){return typeof e}:Qy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}Object.defineProperty(In,"__esModule",{value:!0}),In.create=CN,In.clone=yAe,In.fromValues=bAe,In.copy=xAe,In.set=wAe,In.add=CAe,In.subtract=AN,In.multiply=SN,In.divide=kN,In.ceil=AAe,In.floor=SAe,In.min=kAe,In.max=EAe,In.round=TAe,In.scale=RAe,In.scaleAndAdd=_Ae,In.distance=EN,In.squaredDistance=TN,In.length=RN,In.squaredLength=_N,In.negate=PAe,In.inverse=IAe,In.normalize=LAe,In.dot=MAe,In.cross=OAe,In.lerp=DAe,In.random=FAe;var gAe=In.transformMat4=$Ae;In.transformQuat=BAe,In.zero=NAe,In.str=zAe,In.exactEquals=HAe,In.equals=UAe,In.forEach=In.sqrLen=In.len=In.sqrDist=In.dist=In.div=In.mul=In.sub=void 0;var rs=vAe(Co);function wN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(wN=function(r){return r?n:e})(t)}function vAe(t,e){if(t&&t.__esModule)return t;if(t===null||Qy(t)!=="object"&&typeof t!="function")return{default:t};var n=wN(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function CN(){var t=new rs.ARRAY_TYPE(4);return rs.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function yAe(t){var e=new rs.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function bAe(t,e,n,r){var i=new rs.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function xAe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function wAe(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function CAe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function AN(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function SN(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function kN(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function AAe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function SAe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function kAe(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function EAe(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function TAe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function RAe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function _Ae(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function EN(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function TN(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function RN(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function _N(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function PAe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function IAe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function LAe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function MAe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function OAe(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],u=e[0],d=e[1],h=e[2],f=e[3];return t[0]=d*c-h*l+f*s,t[1]=-(u*c)+h*a-f*o,t[2]=u*l-d*a+f*i,t[3]=-(u*s)+d*o-h*i,t}function DAe(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function FAe(t,e){e=e||1;var n,r,i,o,a,s;do n=rs.RANDOM()*2-1,r=rs.RANDOM()*2-1,a=n*n+r*r;while(a>=1);do i=rs.RANDOM()*2-1,o=rs.RANDOM()*2-1,s=i*i+o*o;while(s>=1);var l=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*l,t[3]=e*o*l,t}function $Ae(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function BAe(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*o-l*i,d=c*i+l*r-a*o,h=c*o+a*i-s*r,f=-a*r-s*i-l*o;return t[0]=u*c+f*-a+d*-l-h*-s,t[1]=d*c+f*-s+h*-a-u*-l,t[2]=h*c+f*-l+u*-s-d*-a,t[3]=e[3],t}function NAe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function zAe(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function HAe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function UAe(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=e[2],c=e[3];return Math.abs(n-a)<=rs.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=rs.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=rs.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=rs.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var jAe=AN;In.sub=jAe;var VAe=SN;In.mul=VAe;var WAe=kN;In.div=WAe;var qAe=EN;In.dist=qAe;var KAe=TN;In.sqrDist=KAe;var GAe=RN;In.len=GAe;var YAe=_N;In.sqrLen=YAe;var XAe=function(){var t=CN();return function(e,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();In.forEach=XAe;var sS;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(sS||(sS={}));const QAe=45*Math.PI/180,ZAe=1,x2=.1,w2=500,JAe=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Om extends D2e{static get IDENTITY(){return tSe()}static get ZERO(){return eSe()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return sS}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this[4]=o,this[5]=a,this[6]=s,this[7]=l,this[8]=c,this[9]=u,this[10]=d,this[11]=h,this[12]=f,this[13]=p,this[14]=g,this[15]=m,this.check()}setRowMajor(e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m){return this[0]=e,this[1]=o,this[2]=c,this[3]=f,this[4]=n,this[5]=a,this[6]=u,this[7]=p,this[8]=r,this[9]=s,this[10]=d,this[11]=g,this[12]=i,this[13]=l,this[14]=h,this[15]=m,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(JAe)}fromObject(e){return this.check()}fromQuaternion(e){return CCe(this,e),this.check()}frustum(e){const{left:n,right:r,bottom:i,top:o,near:a=x2,far:s=w2}=e;return s===1/0?nSe(this,n,r,i,o,a):ACe(this,n,r,i,o,a,s),this.check()}lookAt(e){const{eye:n,center:r=[0,0,0],up:i=[0,1,0]}=e;return SCe(this,n,r,i),this.check()}ortho(e){const{left:n,right:r,bottom:i,top:o,near:a=x2,far:s=w2}=e;return bN(this,n,r,i,o,a,s),this.check()}orthographic(e){const{fovy:n=QAe,aspect:r=ZAe,focalDistance:i=1,near:o=x2,far:a=w2}=e;c8(n);const s=n/2,l=i*Math.tan(s),c=l*r;return this.ortho({left:-c,right:c,bottom:-l,top:l,near:o,far:a})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:r=1,near:i=.1,far:o=500}=e;return c8(n),vN(this,n,r,i,o),this.check()}determinant(){return mCe(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],a=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*o,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*o,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],a=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*a,e[3]=this[4]*i,e[4]=this[5]*o,e[5]=this[6]*a,e[6]=this[8]*i,e[7]=this[9]*o,e[8]=this[10]*a,e}transpose(){return fCe(this,this),this.check()}invert(){return pCe(this,this),this.check()}multiplyLeft(e){return l8(this,e,this),this.check()}multiplyRight(e){return l8(this,this,e),this.check()}rotateX(e){return bCe(this,this,e),this.check()}rotateY(e){return xCe(this,this,e),this.check()}rotateZ(e){return wCe(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return yCe(this,this,e,n),this.check()}scale(e){return vCe(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return gCe(this,this,e),this.check()}transform(e,n){return e.length===4?(n=gAe(n||[-0,-0,-0,-0],e,this),b2(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:r}=e;let i;switch(r){case 2:i=swe(n||[-0,-0],e,this);break;case 3:i=Gwe(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return b2(i,e.length),i}transformAsVector(e,n){let r;switch(e.length){case 2:r=qwe(n||[-0,-0],e,this);break;case 3:r=Kwe(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return b2(r,e.length),r}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,r){return this.identity().translate([e,n,r])}}let ny,ry;function eSe(){return ny||(ny=new Om([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ny)),ny}function tSe(){return ry||(ry=new Om,Object.freeze(ry)),ry}function c8(t){if(t>Math.PI*2)throw Error("expected radians")}function nSe(t,e,n,r,i,o){const a=2*o/(n-e),s=2*o/(i-r),l=(n+e)/(n-e),c=(i+r)/(i-r),u=-1,d=-1,h=-2*o;return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=l,t[9]=c,t[10]=u,t[11]=d,t[12]=0,t[13]=0,t[14]=h,t[15]=0,t}var pn={};function Zy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zy=function(e){return typeof e}:Zy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}Object.defineProperty(pn,"__esModule",{value:!0}),pn.create=lS,pn.identity=iSe,pn.setAxisAngle=IN,pn.getAxisAngle=oSe,pn.getAngle=aSe,pn.multiply=LN,pn.rotateX=sSe,pn.rotateY=lSe,pn.rotateZ=cSe,pn.calculateW=uSe,pn.exp=MN,pn.ln=ON,pn.pow=dSe,pn.slerp=Jy,pn.random=hSe,pn.invert=fSe,pn.conjugate=pSe,pn.fromMat3=DN,pn.fromEuler=mSe,pn.str=gSe,pn.setAxes=pn.sqlerp=pn.rotationTo=pn.equals=pn.exactEquals=pn.normalize=pn.sqrLen=pn.squaredLength=pn.len=pn.length=pn.lerp=pn.dot=pn.scale=pn.mul=pn.add=pn.set=pn.copy=pn.fromValues=pn.clone=void 0;var Xd=Ex(Co),rSe=Ex(fr),Hl=Ex(mn),qa=Ex(In);function PN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(PN=function(r){return r?n:e})(t)}function Ex(t,e){if(t&&t.__esModule)return t;if(t===null||Zy(t)!=="object"&&typeof t!="function")return{default:t};var n=PN(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function lS(){var t=new Xd.ARRAY_TYPE(4);return Xd.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function iSe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function IN(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function oSe(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>Xd.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function aSe(t,e){var n=$N(t,e);return Math.acos(2*n*n-1)}function LN(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+a*s+i*c-o*l,t[1]=i*u+a*l+o*s-r*c,t[2]=o*u+a*c+r*l-i*s,t[3]=a*u-r*s-i*l-o*c,t}function sSe(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t}function lSe(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t}function cSe(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}function uSe(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function MN(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),l=a>0?s*Math.sin(a)/a:0;return t[0]=n*l,t[1]=r*l,t[2]=i*l,t[3]=s*Math.cos(a),t}function ON(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function dSe(t,e,n){return ON(t,e),FN(t,t,n),MN(t,t),t}function Jy(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=n[0],c=n[1],u=n[2],d=n[3],h,f,p,g,m;return f=i*l+o*c+a*u+s*d,f<0&&(f=-f,l=-l,c=-c,u=-u,d=-d),1-f>Xd.EPSILON?(h=Math.acos(f),p=Math.sin(h),g=Math.sin((1-r)*h)/p,m=Math.sin(r*h)/p):(g=1-r,m=r),t[0]=g*i+m*l,t[1]=g*o+m*c,t[2]=g*a+m*u,t[3]=g*s+m*d,t}function hSe(t){var e=Xd.RANDOM(),n=Xd.RANDOM(),r=Xd.RANDOM(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function fSe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function pSe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function DN(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+a]-e[a*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}function mSe(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=o*l*u-a*s*c,t[1]=a*s*u+o*l*c,t[2]=a*l*c-o*s*u,t[3]=a*l*u+o*s*c,t}function gSe(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var vSe=qa.clone;pn.clone=vSe;var ySe=qa.fromValues;pn.fromValues=ySe;var bSe=qa.copy;pn.copy=bSe;var xSe=qa.set;pn.set=xSe;var wSe=qa.add;pn.add=wSe;var CSe=LN;pn.mul=CSe;var FN=qa.scale;pn.scale=FN;var $N=qa.dot;pn.dot=$N;var ASe=qa.lerp;pn.lerp=ASe;var BN=qa.length;pn.length=BN;var SSe=BN;pn.len=SSe;var NN=qa.squaredLength;pn.squaredLength=NN;var kSe=NN;pn.sqrLen=kSe;var s3=qa.normalize;pn.normalize=s3;var ESe=qa.exactEquals;pn.exactEquals=ESe;var TSe=qa.equals;pn.equals=TSe;var RSe=function(){var t=Hl.create(),e=Hl.fromValues(1,0,0),n=Hl.fromValues(0,1,0);return function(r,i,o){var a=Hl.dot(i,o);return a<-.999999?(Hl.cross(t,e,i),Hl.len(t)<1e-6&&Hl.cross(t,n,i),Hl.normalize(t,t),IN(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Hl.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,s3(r,r))}}();pn.rotationTo=RSe;var _Se=function(){var t=lS(),e=lS();return function(n,r,i,o,a,s){return Jy(t,r,a,s),Jy(e,i,o,s),Jy(n,t,e,2*s*(1-s)),n}}();pn.sqlerp=_Se;var PSe=function(){var t=rSe.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s3(e,DN(e,t))}}();pn.setAxes=PSe;var u8;(function(t){t[t.ZYX=0]="ZYX",t[t.YXZ=1]="YXZ",t[t.XZY=2]="XZY",t[t.ZXY=3]="ZXY",t[t.YZX=4]="YZX",t[t.XYZ=5]="XYZ"})(u8||(u8={}));const gi=3.141592653589793,e1=6378245,t1=.006693421622965943,n1=gi*3e3/180;function a0(t,e,n){const r=gi/180*e,i=Math.pow(2,n),o=Math.floor((t+180)/360*i),a=Math.floor((1-Math.asinh(Math.tan(r))/gi)/2*i);return[o,a]}function d8(t,e,n){const r=Math.pow(2,n),i=t/r*360-180,o=Math.atan(Math.sinh(gi*(1-2*e/r)))*180/gi;return[i,o]}function ISe(t,e){let n=zN(t-105,e-35),r=HN(t-105,e-35);const i=e/180*gi;let o=Math.sin(i);o=1-t1*o*o;const a=Math.sqrt(o);n=n*180/(e1*(1-t1)/(o*a)*gi),r=r*180/(e1/a*Math.cos(i)*gi);const s=e+n;return{lng:t+r,lat:s}}function h8(t,e){const n=MSe(t,e),r=t*2-n.lng,i=e*2-n.lat;return{lng:r,lat:i}}function f8(t,e){const n=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*n1),r=Math.atan2(e,t)+3e-6*Math.cos(t*n1),i=n*Math.cos(r)+.0065,o=n*Math.sin(r)+.006;return{lng:i,lat:o}}function LSe(t,e){const n=t-.0065,r=e-.006,i=Math.sqrt(n*n+r*r)-2e-5*Math.sin(r*n1),o=Math.atan2(r,n)-3e-6*Math.cos(n*n1),a=i*Math.cos(o),s=i*Math.sin(o);return{lng:a,lat:s}}function MSe(t,e){let n=zN(t-105,e-35),r=HN(t-105,e-35);const i=e/180*gi;let o=Math.sin(i);o=1-t1*o*o;const a=Math.sqrt(o);n=n*180/(e1*(1-t1)/(o*a)*gi),r=r*180/(e1/a*Math.cos(i)*gi);const s=e+n;return{lng:t+r,lat:s}}function zN(t,e){let n=-100+2*t+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=(20*Math.sin(6*t*gi)+20*Math.sin(2*t*gi))*2/3,n+=(20*Math.sin(e*gi)+40*Math.sin(e/3*gi))*2/3,n+=(160*Math.sin(e/12*gi)+320*Math.sin(e*gi/30))*2/3,n}function HN(t,e){let n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=(20*Math.sin(6*t*gi)+20*Math.sin(2*t*gi))*2/3,n+=(20*Math.sin(t*gi)+40*Math.sin(t/3*gi))*2/3,n+=(150*Math.sin(t/12*gi)+300*Math.sin(t/30*gi))*2/3,n}function p8(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function OSe(t,e){for(var n in e)t[n]=e[n]}function m8(t){return typeof t=="string"}var g8=void 0,iy=null;function Qa(t,e){isNaN(t)&&(t=Ib(t),t=isNaN(t)?0:t),m8(t)&&(t=parseFloat(t)),isNaN(e)&&(e=Ib(e),e=isNaN(e)?0:e),m8(e)&&(e=parseFloat(e)),this.lng=t,this.lat=e}Qa.TL=function(t){return t&&180>=t.lng&&-180<=t.lng&&74>=t.lat&&-74<=t.lat},Qa.prototype.lb=function(t){return t&&this.lat==t.lat&&this.lng==t.lng};function r1(t,e){this.x=t||0,this.y=e||0,this.x=this.x,this.y=this.y}r1.prototype.lb=function(t){return t&&t.x==this.x&&t.y==this.y};function cS(){}cS.prototype.nh=function(){aa("lngLatToPoint")},cS.prototype.wi=function(){aa("pointToLngLat")};function Gl(){}Gl.prototype=new cS,p8(Gl,{$O:637099681e-2,lG:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],Au:[75,60,45,30,15,0],fP:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],iG:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],Z1:function(i,e){if(!i||!e)return 0;var n,r,i=this.Fb(i);return i?(n=this.Tk(i.lng),r=this.Tk(i.lat),e=this.Fb(e),e?this.Pe(n,this.Tk(e.lng),r,this.Tk(e.lat)):0):0},Vo:function(t,e){return!t||!e?0:(t.lng=this.JD(t.lng,-180,180),t.lat=this.ND(t.lat,-74,74),e.lng=this.JD(e.lng,-180,180),e.lat=this.ND(e.lat,-74,74),this.Pe(this.Tk(t.lng),this.Tk(e.lng),this.Tk(t.lat),this.Tk(e.lat)))},Fb:function(t){if(t===iy||t===g8)return new Qa(0,0);var e,n;e=new Qa(Math.abs(t.lng),Math.abs(t.lat));for(var r=0;r<this.lG.length;r++)if(e.lat>=this.lG[r]){n=this.fP[r];break}return t=this.gK(t,n),t=new Qa(t.lng.toFixed(6),t.lat.toFixed(6))},Eb:function(t){if(t===iy||t===g8||180<t.lng||-180>t.lng||90<t.lat||-90>t.lat)return new Qa(0,0);var e,n;t.lng=this.JD(t.lng,-180,180),t.lat=this.ND(t.lat,-74,74),e=new Qa(t.lng,t.lat);for(var r=0;r<this.Au.length;r++)if(e.lat>=this.Au[r]){n=this.iG[r];break}if(!n){for(r=0;r<this.Au.length;r++)if(e.lat<=-this.Au[r]){n=this.iG[r];break}}return t=this.gK(t,n),t=new Qa(t.lng.toFixed(2),t.lat.toFixed(2))},gK:function(t,e){if(t&&e){var n=e[0]+e[1]*Math.abs(t.lng),r=Math.abs(t.lat)/e[9],r=e[2]+e[3]*r+e[4]*r*r+e[5]*r*r*r+e[6]*r*r*r*r+e[7]*r*r*r*r*r+e[8]*r*r*r*r*r*r,n=n*(0>t.lng?-1:1),r=r*(0>t.lat?-1:1);return new Qa(n,r)}},Pe:function(t,e,n,r){return this.$O*Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(e-t))},Tk:function(t){return Math.PI*t/180},Z3:function(t){return 180*t/Math.PI},ND:function(t,e,n){return e!=iy&&(t=Math.max(t,e)),n!=iy&&(t=Math.min(t,n)),t},JD:function(t,e,n){for(;t>n;)t-=n-e;for(;t<e;)t+=n-e;return t}}),p8(Gl.prototype,{Jm:function(t){return Gl.Eb(t)},nh:function(t){return t=Gl.Eb(t),new r1(t.lng,t.lat)},qh:function(t){return Gl.Fb(t)},wi:function(t){return t=new Qa(t.x,t.y),Gl.Fb(t)},fc:function(t,e,n,r,i){if(t)return t=this.Jm(t,i),e=this.Lc(e),new r1(Math.round((t.lng-n.lng)/e+r.width/2),Math.round((n.lat-t.lat)/e+r.height/2))},zb:function(t,e,n,r,i){if(t)return e=this.Lc(e),this.qh(new Qa(n.lng+e*(t.x-r.width/2),n.lat-e*(t.y-r.height/2)),i)},Lc:function(t){return Math.pow(2,18-t)}});var C2=Gl.prototype;OSe(C2,{lngLatToPoint:C2.nh,pointToLngLat:C2.wi});let A2={Point:Qa,Pixel:r1,MercatorProjection:Gl};class DSe{constructor(e,n){this.projection=new A2.MercatorProjection,this.levelMax=e,this.levelMin=n}_getRetain(e){return Math.pow(2,e-18)}getResolution(e,n){return Math.pow(2,18-n)*Math.cos(e)}lnglatToPoint(e,n){let r=new A2.Point(e,n),i=this.projection.lngLatToPoint(r);return{pointX:i.x,pointY:i.y}}pointToLnglat(e,n){let r=new A2.Pixel(e,n),i=this.projection.pointToLngLat(r);return{lng:i.lng,lat:i.lat}}_lngToTileX(e,n){let r=this.lnglatToPoint(e,0);return Math.floor(r.pointX*this._getRetain(n)/256)}_latToTileY(e,n){let r=this.lnglatToPoint(0,e);return Math.floor(r.pointY*this._getRetain(n)/256)}lnglatToTile(e,n,r){let i=this._lngToTileX(e,r),o=this._latToTileY(n,r);return[i,o]}_lngToPixelX(e,n){let r=this._lngToTileX(e,n),i=this.lnglatToPoint(e,0);return Math.floor(i.pointX*this._getRetain(n)-r*256)}_latToPixelY(e,n){let r=this._latToTileY(e,n),i=this.lnglatToPoint(0,e);return Math.floor(i.pointY*this._getRetain(n)-r*256)}lnglatToPixel(e,n,r){let i=this._lngToPixelX(e,r),o=this._latToPixelY(n,r);return{pixelX:i,pixelY:o}}_pixelXToLng(e,n,r){let i=(n*256+e)/this._getRetain(r);return this.pointToLnglat(i,0).lng}_pixelYToLat(e,n,r){let i=(n*256+e)/this._getRetain(r);return this.pointToLnglat(0,i).lat}pixelToLnglat(e,n,r,i,o){let a=(r*256+e)/this._getRetain(o),s=(i*256+n)/this._getRetain(o),l=this.pointToLnglat(a,s);return[l.lng,l.lat]}}Object.freeze=function(t){return t};var FSe=/\{ *([\w_-]+) *\}/g;function $Se(t,e){return t.replace(FSe,function(n,r){let i=e[r];if(i===void 0)throw new Error(`No value provided for variable ${n}`);return typeof i=="function"&&(i=i(e)),i})}class BSe{constructor(e,n){if(this.program=null,this.showTiles=[],this.isReadRender=!1,this.isLayerShow=!1,this.tileCache=[],this.gridCache={},this.transformBaidu=new DSe,this.maskCache=[],this._projectionMatrix=new Om,this._viewMatrix4=new Om,this._mvpMatrix4=new Om,this.isOrtho=!1,!e)throw new Error("");this.validate(n),this.map=e,this.center=e.getCenter().toArray(),this.options=Object.assign(this.getDefaultGlLayerOptions(),n),this.customCoords=e.customCoords,this.customCoords.lngLatsToCoords([this.center]),this.layer=new AMap.GLCustomLayer({zooms:this.options.zooms,opacity:this.options.opacity,visible:this.options.visible,zIndex:this.options.zIndex,init:r=>{this.gl=r;const i=`
                    uniform mat4 u_ProjectionMatrix;
                    uniform mat4 u_ViewMatrix4;
                    uniform mat4 u_MvpMatrix4;
                    uniform bool u_isOrtho;
                    attribute vec2 a_pos;
                    attribute vec2 a_TextCoord;
                    varying vec2 v_TextCoord;
                    void main() {
                       if(u_isOrtho){
                         gl_Position = u_MvpMatrix4 * vec4(a_pos,0.0, 1.0);
                       }else{
                         gl_Position = u_ProjectionMatrix * u_ViewMatrix4 * vec4(a_pos,0.0, 1.0);
                       }
                       v_TextCoord = a_TextCoord;
                    }`,o=`
                    precision mediump float;
                    uniform sampler2D u_Sampler;
                    uniform bool u_isFirst;
                    varying vec2 v_TextCoord;
                    void main() {
                       if(u_isFirst){
                         gl_FragColor = vec4(1.0, 0.0, 0.0, 0.0);
                       }else{
                         gl_FragColor = texture2D(u_Sampler, v_TextCoord);
                       }
                    }`,a=r.createShader(r.VERTEX_SHADER);r.shaderSource(a,i),r.compileShader(a);const s=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(s,o),r.compileShader(s),this.program=r.createProgram(),r.attachShader(this.program,a),r.attachShader(this.program,s),r.linkProgram(this.program),this.a_Pos=r.getAttribLocation(this.program,"a_pos"),this.a_TextCoord=r.getAttribLocation(this.program,"a_TextCoord");const l="uniform mat4 u_ProjectionMatrix;uniform mat4 u_ViewMatrix4;uniform mat4 u_MvpMatrix4;uniform bool u_isOrtho;attribute vec2 a_pos;void main() {   if(u_isOrtho){     gl_Position = u_MvpMatrix4 * vec4(a_pos,0.0, 1.0);   }else{     gl_Position = u_ProjectionMatrix * u_ViewMatrix4 * vec4(a_pos,0.0, 1.0);   }}",c="void main() {    gl_FragColor = vec4(0.0, 1.0, 0.0, 0.0);}",u=r.createShader(r.VERTEX_SHADER);r.shaderSource(u,l),r.compileShader(u);const d=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(d,c),r.compileShader(d),this.maskProgram=r.createProgram(),r.attachShader(this.maskProgram,u),r.attachShader(this.maskProgram,d),r.linkProgram(this.maskProgram),this.mask_Pos=r.getAttribLocation(this.maskProgram,"a_pos"),this.options.visible&&(this.isLayerShow=!0),this.mapCallback=()=>{this.isLayerShow&&this.update()},e.on("dragging",this.mapCallback),e.on("moveend",this.mapCallback),e.on("zoomchange",this.mapCallback),e.on("rotatechange",this.mapCallback),this._createMask(this.options.mask),this.update()},render:r=>{if(!this.isReadRender)return;const i=this.options.zooms;if(!(this.map.getZoom()<i[0]||this.map.getZoom()>i[1])){if(this.customCoords.setCenter(this.center),e.getView().type==="3D"){this.isOrtho=!1;const{near:o,far:a,fov:s,up:l,lookAt:c,position:u}=this.customCoords.getCameraParams();this._viewMatrix4.lookAt({eye:u,center:c,up:l}).translate([0,0,this.options.altitude]),this._projectionMatrix.perspective({fovy:s*Math.PI/180,far:a,near:o,aspect:r.drawingBufferWidth/r.drawingBufferHeight})}else{this.isOrtho=!0;const o=this.customCoords.getMVPMatrix();this._mvpMatrix4.copy(o)}this.reset(r),this.maskCache.length>0?(r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST),r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),this._renderMask(r),r.stencilFunc(r.EQUAL,1,255),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.disable(r.DEPTH_TEST),this._renderTile(r),r.enable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST)):this._renderTile(r),this.reset(r)}}}),e.add(this.layer)}_renderMask(e){if(this.maskCache.length){this.customCoords.setCenter(this.center),e.useProgram(this.maskProgram),this.setVertex(e,this.maskProgram);for(const n of this.maskCache)e.bindBuffer(e.ARRAY_BUFFER,n.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indexBuffer),e.vertexAttribPointer(this.mask_Pos,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.mask_Pos),e.drawElements(e.TRIANGLES,n.deviationLength,e.UNSIGNED_INT,0)}}_renderTile(e){var n,r,i,o,a,s;this.customCoords.setCenter(this.center),e.useProgram(this.program),this.setVertex(e,this.program);let l=0;for(const c of this.showTiles){if(!c.isLoad||c.imageError)continue;e.bindTexture(e.TEXTURE_2D,c.texture),e.activeTexture(e.TEXTURE0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT);const u=e.getUniformLocation(this.program,"u_Sampler");e.uniform1i(u,0),e.uniform1f(e.getUniformLocation(this.program,"u_isFirst"),l===0),e.bindBuffer(e.ARRAY_BUFFER,c.buffer),e.vertexAttribPointer(this.a_Pos,(n=c.PosParam)===null||n===void 0?void 0:n.size,e.FLOAT,!1,(r=c.PosParam)===null||r===void 0?void 0:r.stride,(i=c.PosParam)===null||i===void 0?void 0:i.offset),e.vertexAttribPointer(this.a_TextCoord,(o=c.TextCoordParam)===null||o===void 0?void 0:o.size,e.FLOAT,!1,(a=c.TextCoordParam)===null||a===void 0?void 0:a.stride,(s=c.TextCoordParam)===null||s===void 0?void 0:s.offset),e.enableVertexAttribArray(this.a_Pos),e.enableVertexAttribArray(this.a_TextCoord),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLE_STRIP,0,4),l++}}reset(e){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height)}validate(e){if(!e.url)throw new Error("url");if(e.url.includes("{s}")&&(!e.subdomains||e.subdomains.length===0))throw new Error("subdomains")}getDefaultGlLayerOptions(){return{url:"",zooms:[2,18],opacity:1,visible:!0,zIndex:120,proj:"gcj02",tileType:"xyz",debug:!1,cacheSize:512,tileMaxZoom:18,altitude:0}}_createMask(e){if(!e||e.length===0){this.maskCache=[];return}const n=this.getMaskDeep(e);if(n<2||n>4){console.warn("mask");return}n===2?e=[[e]]:n===3&&(e=[e]);for(let r of e){r=this._convertMaskLnglatToCoords(r);const i=Zb.exports.flatten(r),o=Zb.exports(i.vertices,i.holes,i.dimensions),a=this.gl,s=new Float32Array(i.vertices),l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,s,a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null);const c=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint32Array(o),a.STATIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null),this.maskCache.push({FSIZE:s.BYTES_PER_ELEMENT,vertexBuffer:l,indexBuffer:c,deviationLength:o.length})}}getMaskDeep(e,n=1){return e.length?typeof e[0]=="number"?n:this.getMaskDeep(e[0],n+1):-1}_convertMaskLnglatToCoords(e){return!e||e.length===0?e:typeof e[0]=="number"?this._convertLnglatToCoords([e[0],e[1]]):e.map(n=>this._convertMaskLnglatToCoords(n))}_convertLnglatToCoords(e){return this.customCoords.setCenter(this.center),this.customCoords.lngLatsToCoords([e])[0]}update(){if(!this.gl)return;this.isReadRender=!1;const e=this.gl,n=this.map,r=n.getCenter();let i=Math.ceil(n.getZoom());i>this.options.tileMaxZoom&&(i=this.options.tileMaxZoom);const o=n.getBounds();let a,s,l,c;if(this.options.tileType==="xyz"?(l=o.getNorthWest().toArray(),c=o.getSouthEast().toArray()):(l=o.getSouthWest().toArray(),c=o.getNorthEast().toArray()),this.options.proj==="wgs84"){const h=h8(...l),f=h8(...c);a=a0(h.lng,h.lat,i),s=a0(f.lng,f.lat,i)}else if(this.options.proj==="bd09"){const h=f8(...l),f=f8(...c);a=this.transformBaidu.lnglatToTile(h.lng,h.lat,i),s=this.transformBaidu.lnglatToTile(f.lng,f.lat,i)}else a=a0(l[0],l[1],i),s=a0(c[0],c[1],i);const u=[];for(let h=a[0];h<=s[0];h++)for(let f=a[1];f<=s[1];f++){const p={x:h,y:f,z:i};u.push(p),this.addGridCache(p,0,0),h===s[0]&&this.addGridCache(p,1,0),f===s[1]&&this.addGridCache(p,0,1),h===s[0]&&f===s[1]&&this.addGridCache(p,1,1)}let d;this.options.tileType==="xyz"?d=a0(r.getLng(),r.getLat(),i):d=this.transformBaidu.lnglatToTile(r.getLng(),r.getLat(),i),u.sort((h,f)=>this.tileDistance(h,d)-this.tileDistance(f,d)),this._cancelOutViewImage(u),this._clearShowTile();for(const h of u){const f=this.createTileKey(h),p=this.getTileCache(f);if(p){if(p.imageError)continue;!p.isLoad&&p.image&&p.imageCanceled&&(p.image.src=p.url,p.imageCanceled=!1),this.showTiles.push(p)}else{const g=this.createTile(e,h);this.showTiles.push(g),this.pushTileCache(g)}}this.showTiles.length>0&&this.showTiles.unshift(this.showTiles[0]),this.isReadRender=!0}_cancelOutViewImage(e){this.tileCache.forEach(n=>{e.findIndex(r=>this.createTileKey(r)===n.xyzKey)===-1&&!n.isLoad&&n.image&&(n.image.src="",n.imageCanceled=!0)})}getTileCache(e){return this.tileCache.find(n=>n.xyzKey===e)}pushTileCache(e){const n=this.options.cacheSize;n>0&&this.tileCache.length>=n&&(this.showTiles.findIndex(r=>r.xyzKey===this.tileCache[0].xyzKey)<0&&this._destroyTile(this.tileCache[0]),this.tileCache.splice(0,1)),this.tileCache.push(e)}addGridCache(e,n,r){const i=this.createTileKey(e.x+n,e.y+r,e.z);if(!this.gridCache[i])if(this.options.proj==="wgs84"){const o=ISe(...d8(e.x+n,e.y+r,e.z)),a=this._convertLnglatToCoords([o.lng,o.lat]);this.gridCache[i]={lng:a[0],lat:a[1]}}else if(this.options.tileType==="bd09"){const o=LSe(...this.transformBaidu.pixelToLnglat(0,0,e.x+n,e.y+r,e.z)),a=this._convertLnglatToCoords([o.lng,o.lat]);this.gridCache[i]={lng:a[0],lat:a[1]}}else{const o=this._convertLnglatToCoords(d8(e.x+n,e.y+r,e.z));this.gridCache[i]={lng:o[0],lat:o[1]}}}tileDistance(e,n){return Math.sqrt(Math.pow(e.x-n[0],2)+Math.pow(e.y-n[1],2))}createTileKey(e,n,r){return e instanceof Object?`${e.z}/${e.x}/${e.y}`:`${r}/${e}/${n}`}deepFormatTileNumber(e,n){return e>=0&&e<n?e:(e>0&&e>=n?e=e-n:e<0&&(e=e+n),this.deepFormatTileNumber(e,n))}createTile(e,n){let r=Math.ceil(this.map.getZoom());r>this.options.tileMaxZoom&&(r=this.options.tileMaxZoom);const i=Math.pow(2,r);let o=n.x,a=n.y;o=this.deepFormatTileNumber(o,i),a=this.deepFormatTileNumber(a,i);const s={x:o,y:a,z:n.z};this.options.subdomains&&(s.s=this.options.subdomains[Math.abs(n.x+n.y)%this.options.subdomains.length]);const l=$Se(this.options.url,s),c={xyz:n,xyzKey:this.createTileKey(n),isLoad:!1,url:l,imageCanceled:!1};let u,d,h,f;this.options.tileType==="xyz"?(u=this.gridCache[this.createTileKey(n)],d=this.gridCache[this.createTileKey(n.x+1,n.y,n.z)],h=this.gridCache[this.createTileKey(n.x,n.y+1,n.z)],f=this.gridCache[this.createTileKey(n.x+1,n.y+1,n.z)]):(u=this.gridCache[this.createTileKey(n.x,n.y+1,n.z)],d=this.gridCache[this.createTileKey(n.x+1,n.y+1,n.z)],h=this.gridCache[this.createTileKey(n)],f=this.gridCache[this.createTileKey(n.x+1,n.y,n.z)]);const p=new Float32Array([u.lng,u.lat,0,1,h.lng,h.lat,0,0,d.lng,d.lat,1,1,f.lng,f.lat,1,0]),g=p.BYTES_PER_ELEMENT,m=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,m),e.bufferData(e.ARRAY_BUFFER,p,e.STATIC_DRAW),c.buffer=m,c.PosParam={size:2,stride:g*4,offset:0},c.TextCoordParam={size:2,stride:g*4,offset:g*2};const y=new Image(256,256);return y.onload=()=>{if(c.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,c.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),this.options.debug){const b=document.createElement("canvas");b.width=256,b.height=256;const x=b.getContext("2d");x.drawImage(y,0,0),x.font="25px Verdana",x.fillStyle="#ff0000",x.strokeStyle="#FF0000",x.strokeRect(0,0,256,256),x.fillText(`(${[n.x,n.y,n.z].join(",")})`,10,30),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,b)}else e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,y);c.isLoad=!0,this.showTiles.findIndex(b=>b===c)>=0&&this.requestRender()},y.onerror=()=>{c.imageCanceled||(c.imageError=!0)},y.crossOrigin="anonymous",y.src=l,c.image=y,c}setVertex(e,n){e.uniformMatrix4fv(e.getUniformLocation(n,"u_ProjectionMatrix"),!1,this._projectionMatrix.toArray()),e.uniformMatrix4fv(e.getUniformLocation(n,"u_ViewMatrix4"),!1,this._viewMatrix4.toArray()),e.uniformMatrix4fv(e.getUniformLocation(n,"u_MvpMatrix4"),!1,this._mvpMatrix4.toArray()),e.uniform1f(e.getUniformLocation(n,"u_isOrtho"),this.isOrtho)}requestRender(){this.map&&(this.map.getContext().setDirty(),this.map.setNeedUpdate(!0))}show(){this.isLayerShow=!0,this.update(),this.layer.show()}hide(){this.isLayerShow=!1,this.layer.hide()}getzIndex(){return this.layer.getzIndex()}setzIndex(e){this.options.zIndex=e,this.layer.setzIndex(e)}getOpacity(){return this.layer.getOpacity()}setOpacity(e){this.options.opacity=e,this.layer.setOpacity(e)}getZooms(){return this.layer.getZooms()}setZooms(e){this.options.zooms=e,this.layer.setZooms(e)}setMask(e){this._destroyMaskCache(),this._createMask(e),this.options.mask=e,this.requestRender()}getMask(){return this.options.mask}getMap(){return this.map}_destroyMaskCache(){this.maskCache.forEach(e=>{this.gl.deleteBuffer(e.vertexBuffer),this.gl.deleteBuffer(e.indexBuffer)}),this.maskCache=[]}_destroyTile(e){e.buffer&&this.gl.deleteBuffer(e.buffer),e.texture&&this.gl.deleteTexture(e.texture)}_clearAllCacheTile(){this.tileCache.forEach(e=>{this._destroyTile(e)}),this.tileCache=[]}_clearShowTile(){this.showTiles.forEach(e=>{this.tileCache.findIndex(n=>n.xyzKey===e.xyzKey)<0&&this._destroyTile(e)}),this.showTiles=[]}destroy(){this.isLayerShow=!1,this.map.remove(this.layer),this.map.off("dragging",this.mapCallback),this.map.off("moveend",this.mapCallback),this.map.off("zoomchange",this.mapCallback),this.map.off("rotatechange",this.mapCallback),this._destroyMaskCache(),this._clearShowTile(),this._clearAllCacheTile(),this.gridCache={},this.transformBaidu=null,this.mapCallback=null,this.gl.deleteProgram(this.program),this.gl.deleteProgram(this.maskProgram),this.program=null,this.maskProgram=null,this.options=void 0,this.customCoords=void 0,this.center=void 0,this.layer=null,this.gl=null,this.map=null}}const NSe=zn({url:{required:!0,type:String},subdomains:{type:Array},tileType:{type:String,default:"xyz",validator:t=>["xyz","bd09"].indexOf(t)!==-1},proj:{type:String,default:"gcj02",validator:t=>["wgs84","gcj02","bd09"].indexOf(t)!==-1},zooms:{type:Object},opacity:{type:Number},zIndex:{type:Number,default:120},mask:{type:Array},cacheSize:{type:Number,default:512},debug:{type:Boolean,default:!1},tileMaxZoom:{type:Number},altitude:{type:Number}});var Dm=le({name:"ElAmapLayerCustomXyz",inheritAttrs:!1,__name:"CustomXyz",props:NSe,emits:["init"],setup(t,{expose:e,emit:n}){const r=n;let i;const{$$getInstance:o}=Vn((a,s)=>new Promise(l=>{i=new BSe(s,a),l(i)}),{emits:r,destroyComponent(){i&&(i.destroy(),i=null)}});return e({$$getInstance:o}),(a,s)=>(gn(),Pn("div"))}});Dm.__file="src/vue-amap/packages/layer/data/CustomXyz/CustomXyz.vue";Dm.install=t=>(t.component(Dm.name,Dm),t);const zSe=Dm;var HSe=[ebe,tbe,rbe,ibe,obe,abe,ube,fbe,pbe,mbe,gbe,vbe,ybe,bbe,xbe,wbe,Cbe,Abe,Sbe,kbe,Ebe,Tbe,Rbe,_be,Pbe,Ibe,Lbe,Mbe,Obe,$be,Bbe,Nbe,Hbe,jbe,Wbe,Kbe,Gbe,Xbe,Zbe,e1e,t1e,r1e,i1e,l1e,c1e,Oxe,zSe],UN=Nye([...HSe]);UN.install;/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const pf=typeof document<"u";function jN(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function USe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&jN(t.default)}const Lr=Object.assign;function S2(t,e){const n={};for(const r in e){const i=e[r];n[r]=Ds(i)?i.map(t):t(i)}return n}const Fm=()=>{},Ds=Array.isArray;function v8(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const VN=/#/g,jSe=/&/g,VSe=/\//g,WSe=/=/g,qSe=/\?/g,WN=/\+/g,KSe=/%5B/g,GSe=/%5D/g,qN=/%5E/g,YSe=/%60/g,KN=/%7B/g,XSe=/%7C/g,GN=/%7D/g,QSe=/%20/g;function l3(t){return t==null?"":encodeURI(""+t).replace(XSe,"|").replace(KSe,"[").replace(GSe,"]")}function ZSe(t){return l3(t).replace(KN,"{").replace(GN,"}").replace(qN,"^")}function uS(t){return l3(t).replace(WN,"%2B").replace(QSe,"+").replace(VN,"%23").replace(jSe,"%26").replace(YSe,"`").replace(KN,"{").replace(GN,"}").replace(qN,"^")}function JSe(t){return uS(t).replace(WSe,"%3D")}function eke(t){return l3(t).replace(VN,"%23").replace(qSe,"%3F")}function tke(t){return eke(t).replace(VSe,"%2F")}function hg(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const nke=/\/$/,rke=t=>t.replace(nke,"");function k2(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("#");let l=e.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(r=e.slice(0,l),o=e.slice(l,s>0?s:e.length),i=t(o.slice(1))),s>=0&&(r=r||e.slice(0,s),a=e.slice(s,e.length)),r=ske(r??e,n),{fullPath:r+o+a,path:r,query:i,hash:hg(a)}}function ike(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function y8(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function oke(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&tp(e.matched[r],n.matched[i])&&YN(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function tp(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function YN(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!ake(t[n],e[n]))return!1;return!0}function ake(t,e){return Ds(t)?b8(t,e):Ds(e)?b8(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function b8(t,e){return Ds(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ske(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,a,s;for(a=0;a<r.length;a++)if(s=r[a],s!==".")if(s==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a).join("/")}const Vc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let dS=function(t){return t.pop="pop",t.push="push",t}({}),E2=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function lke(t){if(!t)if(pf){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),rke(t)}const cke=/^[^#]+#/;function uke(t,e){return t.replace(cke,"#")+e}function dke(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Tx=()=>({left:window.scrollX,top:window.scrollY});function hke(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=dke(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function x8(t,e){return(history.state?history.state.position-e:-1)+t}const hS=new Map;function fke(t,e){hS.set(t,e)}function pke(t){const e=hS.get(t);return hS.delete(t),e}function mke(t){return typeof t=="string"||t&&typeof t=="object"}function XN(t){return typeof t=="string"||typeof t=="symbol"}let Ei=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const QN=Symbol("");Ei.MATCHER_NOT_FOUND+"",Ei.NAVIGATION_GUARD_REDIRECT+"",Ei.NAVIGATION_ABORTED+"",Ei.NAVIGATION_CANCELLED+"",Ei.NAVIGATION_DUPLICATED+"";function np(t,e){return Lr(new Error,{type:t,[QN]:!0},e)}function Ul(t,e){return t instanceof Error&&QN in t&&(e==null||!!(t.type&e))}const gke=["params","query","hash"];function vke(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of gke)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function yke(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(WN," "),o=i.indexOf("="),a=hg(o<0?i:i.slice(0,o)),s=o<0?null:hg(i.slice(o+1));if(a in e){let l=e[a];Ds(l)||(l=e[a]=[l]),l.push(s)}else e[a]=s}return e}function w8(t){let e="";for(let n in t){const r=t[n];if(n=JSe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ds(r)?r.map(i=>i&&uS(i)):[r&&uS(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function bke(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ds(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const xke=Symbol(""),C8=Symbol(""),Rx=Symbol(""),c3=Symbol(""),fS=Symbol("");function s0(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function au(t,e,n,r,i,o=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const c=h=>{h===!1?l(np(Ei.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):mke(h)?l(np(Ei.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(a&&r.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),s())},u=o(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function T2(t,e,n,r,i=o=>o()){const o=[];for(const a of t)for(const s in a.components){let l=a.components[s];if(!(e!=="beforeRouteEnter"&&!a.instances[s]))if(jN(l)){const c=(l.__vccOpts||l)[e];c&&o.push(au(c,n,r,a,s,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const d=USe(u)?u.default:u;a.mods[s]=u,a.components[s]=d;const h=(d.__vccOpts||d)[e];return h&&au(h,n,r,a,s,i)()}))}}return o}function wke(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const s=e.matched[a];s&&(t.matched.find(c=>tp(c,s))?r.push(s):n.push(s));const l=t.matched[a];l&&(e.matched.find(c=>tp(c,l))||i.push(l))}return[n,r,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Cke=()=>location.protocol+"//"+location.host;function ZN(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,s=i.slice(a);return s[0]!=="/"&&(s="/"+s),y8(s,"")}return y8(n,t)+r+i}function Ake(t,e,n,r){let i=[],o=[],a=null;const s=({state:h})=>{const f=ZN(t,location),p=n.value,g=e.value;let m=0;if(h){if(n.value=f,e.value=h,a&&a===p){a=null;return}m=g?h.position-g.position:0}else r(f);i.forEach(y=>{y(n.value,p,{delta:m,type:dS.pop,direction:m?m>0?E2.forward:E2.back:E2.unknown})})};function l(){a=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Lr({},h.state,{scroll:Tx()}),"")}}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",s),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function A8(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Tx():null}}function Ske(t){const{history:e,location:n}=window,r={value:ZN(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Cke()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function a(l,c){o(l,Lr({},e.state,A8(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function s(l,c){const u=Lr({},i.value,e.state,{forward:l,scroll:Tx()});o(u.current,u,!0),o(l,Lr({},A8(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:i,push:s,replace:a}}function kke(t){t=lke(t);const e=Ske(t),n=Ake(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=Lr({location:"",base:t,go:r,createHref:uke.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Eke(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),kke(t)}let Dd=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var no=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(no||{});const Tke={type:Dd.Static,value:""},Rke=/[a-zA-Z0-9_]/;function _ke(t){if(!t)return[[]];if(t==="/")return[[Tke]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=no.Static,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,c="",u="";function d(){c&&(n===no.Static?o.push({type:Dd.Static,value:c}):n===no.Param||n===no.ParamRegExp||n===no.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Dd.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&n!==no.ParamRegExp){r=n,n=no.EscapeNext;continue}switch(n){case no.Static:l==="/"?(c&&d(),a()):l===":"?(d(),n=no.Param):h();break;case no.EscapeNext:h(),n=r;break;case no.Param:l==="("?n=no.ParamRegExp:Rke.test(l)?h():(d(),n=no.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case no.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=no.ParamRegExpEnd:u+=l;break;case no.ParamRegExpEnd:d(),n=no.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--,u="";break;default:e("Unknown state");break}}return n===no.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),a(),i}const S8="[^/]+?",Pke={sensitive:!1,strict:!1,start:!0,end:!0};var Uo=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(Uo||{});const Ike=/[.+*?^${}()[\]/\\]/g;function Lke(t,e){const n=Lr({},Pke,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[Uo.Root];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=Uo.Segment+(n.sensitive?Uo.BonusCaseSensitive:0);if(h.type===Dd.Static)d||(i+="/"),i+=h.value.replace(Ike,"\\$&"),f+=Uo.Static;else if(h.type===Dd.Param){const{value:p,repeatable:g,optional:m,regexp:y}=h;o.push({name:p,repeatable:g,optional:m});const b=y||S8;if(b!==S8){f+=Uo.BonusCustomRegExp;try{`${b}`}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+w.message)}}let x=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(x=m&&c.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),i+=x,f+=Uo.Dynamic,m&&(f+=Uo.BonusOptional),g&&(f+=Uo.BonusRepeatable),b===".*"&&(f+=Uo.BonusWildcard)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=Uo.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(c){const u=c.match(a),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===Dd.Static)u+=f.value;else if(f.type===Dd.Param){const{value:p,repeatable:g,optional:m}=f,y=p in c?c[p]:"";if(Ds(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Ds(y)?y.join("/"):y;if(!b)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:a,score:r,keys:o,parse:s,stringify:l}}function Mke(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Uo.Static+Uo.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Uo.Static+Uo.Segment?1:-1:0}function JN(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=Mke(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(k8(r))return 1;if(k8(i))return-1}return i.length-r.length}function k8(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Oke={strict:!1,end:!0,sensitive:!1};function Dke(t,e,n){const r=Lke(_ke(t.path),n),i=Lr(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Fke(t,e){const n=[],r=new Map;e=v8(Oke,e);function i(d){return r.get(d)}function o(d,h,f){const p=!f,g=T8(d);g.aliasOf=f&&f.record;const m=v8(e,d),y=[g];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of w)y.push(T8(Lr({},g,{components:f?f.record.components:g.components,path:C,aliasOf:f?f.record:g})))}let b,x;for(const w of y){const{path:C}=w;if(h&&C[0]!=="/"){const S=h.record.path,A=S[S.length-1]==="/"?"":"/";w.path=h.record.path+(C&&A+C)}if(b=Dke(w,h,m),f?f.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),p&&d.name&&!R8(b)&&a(d.name)),ez(b)&&l(b),g.children){const S=g.children;for(let A=0;A<S.length;A++)o(S[A],b,f&&f.children[A])}f=f||b}return x?()=>{a(x)}:Fm}function a(d){if(XN(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function s(){return n}function l(d){const h=Nke(d,n);n.splice(h,0,d),d.record.name&&!R8(d)&&r.set(d.record.name,d)}function c(d,h){let f,p={},g,m;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw np(Ei.MATCHER_NOT_FOUND,{location:d});m=f.record.name,p=Lr(E8(h.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&E8(d.params,f.keys.map(x=>x.name))),g=f.stringify(p)}else if(d.path!=null)g=d.path,f=n.find(x=>x.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=h.name?r.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw np(Ei.MATCHER_NOT_FOUND,{location:d,currentLocation:h});m=f.record.name,p=Lr({},h.params,d.params),g=f.stringify(p)}const y=[];let b=f;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:y,meta:Bke(y)}}t.forEach(d=>o(d));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:a,clearRoutes:u,getRoutes:s,getRecordMatcher:i}}function E8(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function T8(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$ke(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $ke(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function R8(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Bke(t){return t.reduce((e,n)=>Lr(e,n.meta),{})}function Nke(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;JN(t,e[o])<0?r=o:n=o+1}const i=zke(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function zke(t){let e=t;for(;e=e.parent;)if(ez(e)&&JN(t,e)===0)return e}function ez({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function _8(t){const e=ut(Rx),n=ut(c3),r=L(()=>{const l=Di(t.to);return e.resolve(l)}),i=L(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(tp.bind(null,u));if(h>-1)return h;const f=P8(l[c-2]);return c>1&&P8(u)===f&&d[d.length-1].path!==f?d.findIndex(tp.bind(null,l[c-2])):h}),o=L(()=>i.value>-1&&Wke(n.params,r.value.params)),a=L(()=>i.value>-1&&i.value===n.matched.length-1&&YN(n.params,r.value.params));function s(l={}){if(Vke(l)){const c=e[Di(t.replace)?"replace":"push"](Di(t.to)).catch(Fm);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:L(()=>r.value.href),isActive:o,isExactActive:a,navigate:s}}function Hke(t){return t.length===1?t[0]:t}const Uke=le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:_8,setup(t,{slots:e}){const n=Tl(_8(t)),{options:r}=ut(Rx),i=L(()=>({[I8(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[I8(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&Hke(e.default(n));return t.custom?o:v("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),jke=Uke;function Vke(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Wke(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ds(i)||i.length!==r.length||r.some((o,a)=>o.valueOf()!==i[a].valueOf()))return!1}return!0}function P8(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const I8=(t,e,n)=>t??e??n,qke=le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ut(fS),i=L(()=>t.route||r.value),o=ut(C8,0),a=L(()=>{let c=Di(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),s=L(()=>i.value.matched[a.value]);zt(C8,L(()=>a.value+1)),zt(xke,s),zt(fS,i);const l=V();return qt(()=>[l.value,s.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!tp(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=s.value,h=d&&d.components[u];if(!h)return L8(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=v(h,Lr({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return L8(n.default,{Component:m,route:c})||m}}});function L8(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const tz=qke;function Kke(t){const e=Fke(t.routes,t),n=t.parseQuery||yke,r=t.stringifyQuery||w8,i=t.history,o=s0(),a=s0(),s=s0(),l=xk(Vc);let c=Vc;pf&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=S2.bind(null,ye=>""+ye),d=S2.bind(null,tke),h=S2.bind(null,hg);function f(ye,Be){let J,Ue;return XN(ye)?(J=e.getRecordMatcher(ye),Ue=Be):Ue=ye,e.addRoute(Ue,J)}function p(ye){const Be=e.getRecordMatcher(ye);Be&&e.removeRoute(Be)}function g(){return e.getRoutes().map(ye=>ye.record)}function m(ye){return!!e.getRecordMatcher(ye)}function y(ye,Be){if(Be=Lr({},Be||l.value),typeof ye=="string"){const ke=k2(n,ye,Be.path),Ke=e.resolve({path:ke.path},Be),Ne=i.createHref(ke.fullPath);return Lr(ke,Ke,{params:h(Ke.params),hash:hg(ke.hash),redirectedFrom:void 0,href:Ne})}let J;if(ye.path!=null)J=Lr({},ye,{path:k2(n,ye.path,Be.path).path});else{const ke=Lr({},ye.params);for(const Ke in ke)ke[Ke]==null&&delete ke[Ke];J=Lr({},ye,{params:d(ke)}),Be.params=d(Be.params)}const Ue=e.resolve(J,Be),Qe=ye.hash||"";Ue.params=u(h(Ue.params));const ae=ike(r,Lr({},ye,{hash:ZSe(Qe),path:Ue.path})),fe=i.createHref(ae);return Lr({fullPath:ae,hash:Qe,query:r===w8?bke(ye.query):ye.query||{}},Ue,{redirectedFrom:void 0,href:fe})}function b(ye){return typeof ye=="string"?k2(n,ye,l.value.path):Lr({},ye)}function x(ye,Be){if(c!==ye)return np(Ei.NAVIGATION_CANCELLED,{from:Be,to:ye})}function w(ye){return A(ye)}function C(ye){return w(Lr(b(ye),{replace:!0}))}function S(ye,Be){const J=ye.matched[ye.matched.length-1];if(J&&J.redirect){const{redirect:Ue}=J;let Qe=typeof Ue=="function"?Ue(ye,Be):Ue;return typeof Qe=="string"&&(Qe=Qe.includes("?")||Qe.includes("#")?Qe=b(Qe):{path:Qe},Qe.params={}),Lr({query:ye.query,hash:ye.hash,params:Qe.path!=null?{}:ye.params},Qe)}}function A(ye,Be){const J=c=y(ye),Ue=l.value,Qe=ye.state,ae=ye.force,fe=ye.replace===!0,ke=S(J,Ue);if(ke)return A(Lr(b(ke),{state:typeof ke=="object"?Lr({},Qe,ke.state):Qe,force:ae,replace:fe}),Be||J);const Ke=J;Ke.redirectedFrom=Be;let Ne;return!ae&&oke(r,Ue,J)&&(Ne=np(Ei.NAVIGATION_DUPLICATED,{to:Ke,from:Ue}),Q(Ue,Ue,!0,!1)),(Ne?Promise.resolve(Ne):E(Ke,Ue)).catch(Ae=>Ul(Ae)?Ul(Ae,Ei.NAVIGATION_GUARD_REDIRECT)?Ae:xe(Ae):ie(Ae,Ke,Ue)).then(Ae=>{if(Ae){if(Ul(Ae,Ei.NAVIGATION_GUARD_REDIRECT))return A(Lr({replace:fe},b(Ae.to),{state:typeof Ae.to=="object"?Lr({},Qe,Ae.to.state):Qe,force:ae}),Be||Ke)}else Ae=_(Ke,Ue,!0,fe,Qe);return P(Ke,Ue,Ae),Ae})}function T(ye,Be){const J=x(ye,Be);return J?Promise.reject(J):Promise.resolve()}function k(ye){const Be=ne.values().next().value;return Be&&typeof Be.runWithContext=="function"?Be.runWithContext(ye):ye()}function E(ye,Be){let J;const[Ue,Qe,ae]=wke(ye,Be);J=T2(Ue.reverse(),"beforeRouteLeave",ye,Be);for(const ke of Ue)ke.leaveGuards.forEach(Ke=>{J.push(au(Ke,ye,Be))});const fe=T.bind(null,ye,Be);return J.push(fe),Se(J).then(()=>{J=[];for(const ke of o.list())J.push(au(ke,ye,Be));return J.push(fe),Se(J)}).then(()=>{J=T2(Qe,"beforeRouteUpdate",ye,Be);for(const ke of Qe)ke.updateGuards.forEach(Ke=>{J.push(au(Ke,ye,Be))});return J.push(fe),Se(J)}).then(()=>{J=[];for(const ke of ae)if(ke.beforeEnter)if(Ds(ke.beforeEnter))for(const Ke of ke.beforeEnter)J.push(au(Ke,ye,Be));else J.push(au(ke.beforeEnter,ye,Be));return J.push(fe),Se(J)}).then(()=>(ye.matched.forEach(ke=>ke.enterCallbacks={}),J=T2(ae,"beforeRouteEnter",ye,Be,k),J.push(fe),Se(J))).then(()=>{J=[];for(const ke of a.list())J.push(au(ke,ye,Be));return J.push(fe),Se(J)}).catch(ke=>Ul(ke,Ei.NAVIGATION_CANCELLED)?ke:Promise.reject(ke))}function P(ye,Be,J){s.list().forEach(Ue=>k(()=>Ue(ye,Be,J)))}function _(ye,Be,J,Ue,Qe){const ae=x(ye,Be);if(ae)return ae;const fe=Be===Vc,ke=pf?history.state:{};J&&(Ue||fe?i.replace(ye.fullPath,Lr({scroll:fe&&ke&&ke.scroll},Qe)):i.push(ye.fullPath,Qe)),l.value=ye,Q(ye,Be,J,fe),xe()}let F;function N(){F||(F=i.listen((ye,Be,J)=>{if(!ve.listening)return;const Ue=y(ye),Qe=S(Ue,ve.currentRoute.value);if(Qe){A(Lr(Qe,{replace:!0,force:!0}),Ue).catch(Fm);return}c=Ue;const ae=l.value;pf&&fke(x8(ae.fullPath,J.delta),Tx()),E(Ue,ae).catch(fe=>Ul(fe,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_CANCELLED)?fe:Ul(fe,Ei.NAVIGATION_GUARD_REDIRECT)?(A(Lr(b(fe.to),{force:!0}),Ue).then(ke=>{Ul(ke,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===dS.pop&&i.go(-1,!1)}).catch(Fm),Promise.reject()):(J.delta&&i.go(-J.delta,!1),ie(fe,Ue,ae))).then(fe=>{fe=fe||_(Ue,ae,!1),fe&&(J.delta&&!Ul(fe,Ei.NAVIGATION_CANCELLED)?i.go(-J.delta,!1):J.type===dS.pop&&Ul(fe,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),P(Ue,ae,fe)}).catch(Fm)}))}let W=s0(),G=s0(),Z;function ie(ye,Be,J){xe(ye);const Ue=G.list();return Ue.length?Ue.forEach(Qe=>Qe(ye,Be,J)):console.error(ye),Promise.reject(ye)}function he(){return Z&&l.value!==Vc?Promise.resolve():new Promise((ye,Be)=>{W.add([ye,Be])})}function xe(ye){return Z||(Z=!ye,N(),W.list().forEach(([Be,J])=>ye?J(ye):Be()),W.reset()),ye}function Q(ye,Be,J,Ue){const{scrollBehavior:Qe}=t;if(!pf||!Qe)return Promise.resolve();const ae=!J&&pke(x8(ye.fullPath,0))||(Ue||!J)&&history.state&&history.state.scroll||null;return vn().then(()=>Qe(ye,Be,ae)).then(fe=>fe&&hke(fe)).catch(fe=>ie(fe,ye,Be))}const X=ye=>i.go(ye);let K;const ne=new Set,ve={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:t,push:w,replace:C,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:G.add,isReady:he,install(ye){ye.component("RouterLink",jke),ye.component("RouterView",tz),ye.config.globalProperties.$router=ve,Object.defineProperty(ye.config.globalProperties,"$route",{enumerable:!0,get:()=>Di(l)}),pf&&!K&&l.value===Vc&&(K=!0,w(i.location).catch(Ue=>{}));const Be={};for(const Ue in Vc)Object.defineProperty(Be,Ue,{get:()=>l.value[Ue],enumerable:!0});ye.provide(Rx,ve),ye.provide(c3,f7(Be)),ye.provide(fS,l);const J=ye.unmount;ne.add(ye),ye.unmount=function(){ne.delete(ye),ne.size<1&&(c=Vc,F&&F(),F=null,l.value=Vc,K=!1,Z=!1),J()}}};function Se(ye){return ye.reduce((Be,J)=>Be.then(()=>k(J)),Promise.resolve())}return ve}function Gke(){return ut(Rx)}function _x(t){return ut(c3)}const Yke={class:"app"},Xke={class:"router"},Qke=le({__name:"App",setup(t){return(e,n)=>(gn(),jf(Di($4),null,{default:iu(()=>[Wf("nav",Yke,[Wf("div",Xke,[ci(Di(tz))])])]),_:1}))}}),u3=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Zke=u3(Qke,[["__scopeId","data-v-6f1d907b"]]),Jke="modulepreload",e4e=function(t,e){return new URL(t,e).href},M8={},l0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=e4e(c,r),c in M8)return;M8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!r)for(let p=a.length-1;p>=0;p--){const g=a[p];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Jke,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},t4e={};function n4e(t,e){return gn(),Pn("main")}const r4e=u3(t4e,[["render",n4e]]);function nz(t,e){return function(){return t.apply(e,arguments)}}const{toString:i4e}=Object.prototype,{getPrototypeOf:d3}=Object,{iterator:Px,toStringTag:rz}=Symbol,Ix=(t=>e=>{const n=i4e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=t=>(t=t.toLowerCase(),e=>Ix(e)===t),Lx=t=>e=>typeof e===t,{isArray:yp}=Array,rp=Lx("undefined");function ev(t){return t!==null&&!rp(t)&&t.constructor!==null&&!rp(t.constructor)&&ga(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iz=Ns("ArrayBuffer");function o4e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iz(t.buffer),e}const a4e=Lx("string"),ga=Lx("function"),oz=Lx("number"),tv=t=>t!==null&&typeof t=="object",s4e=t=>t===!0||t===!1,eb=t=>{if(Ix(t)!=="object")return!1;const e=d3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rz in t)&&!(Px in t)},l4e=t=>{if(!tv(t)||ev(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},c4e=Ns("Date"),u4e=Ns("File"),d4e=Ns("Blob"),h4e=Ns("FileList"),f4e=t=>tv(t)&&ga(t.pipe),p4e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ga(t.append)&&((e=Ix(t))==="formdata"||e==="object"&&ga(t.toString)&&t.toString()==="[object FormData]"))},m4e=Ns("URLSearchParams"),[g4e,v4e,y4e,b4e]=["ReadableStream","Request","Response","Headers"].map(Ns),x4e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),yp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ev(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(r=0;r<a;r++)s=o[r],e.call(null,t[s],s,t)}}function az(t,e){if(ev(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sz=t=>!rp(t)&&t!==Fd;function pS(){const{caseless:t,skipUndefined:e}=sz(this)&&this||{},n={},r=(i,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const a=t&&az(n,o)||o;eb(n[a])&&eb(i)?n[a]=pS(n[a],i):eb(i)?n[a]=pS({},i):yp(i)?n[a]=i.slice():(!e||!rp(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&nv(arguments[i],r);return n}const w4e=(t,e,n,{allOwnKeys:r}={})=>(nv(e,(i,o)=>{n&&ga(i)?Object.defineProperty(t,o,{value:nz(i,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),C4e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),A4e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},S4e=(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&d3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},k4e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},E4e=t=>{if(!t)return null;if(yp(t))return t;let e=t.length;if(!oz(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},T4e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&d3(Uint8Array)),R4e=(t,e)=>{const r=(t&&t[Px]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},_4e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},P4e=Ns("HTMLFormElement"),I4e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),O8=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),L4e=Ns("RegExp"),lz=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nv(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},M4e=t=>{lz(t,(e,n)=>{if(ga(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ga(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},O4e=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return yp(t)?r(t):r(String(t).split(e)),n},D4e=()=>{},F4e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $4e(t){return!!(t&&ga(t.append)&&t[rz]==="FormData"&&t[Px])}const B4e=t=>{const e=new Array(10),n=(r,i)=>{if(tv(r)){if(e.indexOf(r)>=0)return;if(ev(r))return r;if(!("toJSON"in r)){e[i]=r;const o=yp(r)?[]:{};return nv(r,(a,s)=>{const l=n(a,i+1);!rp(l)&&(o[s]=l)}),e[i]=void 0,o}}return r};return n(t,0)},N4e=Ns("AsyncFunction"),z4e=t=>t&&(tv(t)||ga(t))&&ga(t.then)&&ga(t.catch),cz=((t,e)=>t?setImmediate:e?((n,r)=>(Fd.addEventListener("message",({source:i,data:o})=>{i===Fd&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ga(Fd.postMessage)),H4e=typeof queueMicrotask<"u"?queueMicrotask.bind(Fd):typeof process<"u"&&process.nextTick||cz,U4e=t=>t!=null&&ga(t[Px]),ht={isArray:yp,isArrayBuffer:iz,isBuffer:ev,isFormData:p4e,isArrayBufferView:o4e,isString:a4e,isNumber:oz,isBoolean:s4e,isObject:tv,isPlainObject:eb,isEmptyObject:l4e,isReadableStream:g4e,isRequest:v4e,isResponse:y4e,isHeaders:b4e,isUndefined:rp,isDate:c4e,isFile:u4e,isBlob:d4e,isRegExp:L4e,isFunction:ga,isStream:f4e,isURLSearchParams:m4e,isTypedArray:T4e,isFileList:h4e,forEach:nv,merge:pS,extend:w4e,trim:x4e,stripBOM:C4e,inherits:A4e,toFlatObject:S4e,kindOf:Ix,kindOfTest:Ns,endsWith:k4e,toArray:E4e,forEachEntry:R4e,matchAll:_4e,isHTMLForm:P4e,hasOwnProperty:O8,hasOwnProp:O8,reduceDescriptors:lz,freezeMethods:M4e,toObjectSet:O4e,toCamelCase:I4e,noop:D4e,toFiniteNumber:F4e,findKey:az,global:Fd,isContextDefined:sz,isSpecCompliantForm:$4e,toJSONObject:B4e,isAsyncFn:N4e,isThenable:z4e,setImmediate:cz,asap:H4e,isIterable:U4e};let Bn=class uz extends Error{static from(e,n,r,i,o,a){const s=new uz(e.message,n||e.code,r,i,o);return s.cause=e,s.name=e.name,a&&Object.assign(s,a),s}constructor(e,n,r,i,o){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.status}}};Bn.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Bn.ERR_BAD_OPTION="ERR_BAD_OPTION";Bn.ECONNABORTED="ECONNABORTED";Bn.ETIMEDOUT="ETIMEDOUT";Bn.ERR_NETWORK="ERR_NETWORK";Bn.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Bn.ERR_DEPRECATED="ERR_DEPRECATED";Bn.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Bn.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Bn.ERR_CANCELED="ERR_CANCELED";Bn.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Bn.ERR_INVALID_URL="ERR_INVALID_URL";const j4e=null;function mS(t){return ht.isPlainObject(t)||ht.isArray(t)}function dz(t){return ht.endsWith(t,"[]")?t.slice(0,-2):t}function D8(t,e,n){return t?t.concat(e).map(function(i,o){return i=dz(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function V4e(t){return ht.isArray(t)&&!t.some(mS)}const W4e=ht.toFlatObject(ht,{},null,function(e){return/^is[A-Z]/.test(e)});function Mx(t,e,n){if(!ht.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ht.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!ht.isUndefined(m[g])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ht.isSpecCompliantForm(e);if(!ht.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ht.isDate(p))return p.toISOString();if(ht.isBoolean(p))return p.toString();if(!l&&ht.isBlob(p))throw new Bn("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(p)||ht.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,m){let y=p;if(p&&!m&&typeof p=="object"){if(ht.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(ht.isArray(p)&&V4e(p)||(ht.isFileList(p)||ht.endsWith(g,"[]"))&&(y=ht.toArray(p)))return g=dz(g),y.forEach(function(x,w){!(ht.isUndefined(x)||x===null)&&e.append(a===!0?D8([g],w,o):a===null?g:g+"[]",c(x))}),!1}return mS(p)?!0:(e.append(D8(m,g,o),c(p)),!1)}const d=[],h=Object.assign(W4e,{defaultVisitor:u,convertValue:c,isVisitable:mS});function f(p,g){if(!ht.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),ht.forEach(p,function(y,b){(!(ht.isUndefined(y)||y===null)&&i.call(e,y,ht.isString(b)?b.trim():b,g,h))===!0&&f(y,g?g.concat(b):[b])}),d.pop()}}if(!ht.isObject(t))throw new TypeError("data must be an object");return f(t),e}function F8(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function h3(t,e){this._pairs=[],t&&Mx(t,this,e)}const hz=h3.prototype;hz.append=function(e,n){this._pairs.push([e,n])};hz.toString=function(e){const n=e?function(r){return e.call(this,r,F8)}:F8;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function q4e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fz(t,e,n){if(!e)return t;const r=n&&n.encode||q4e,i=ht.isFunction(n)?{serialize:n}:n,o=i&&i.serialize;let a;if(o?a=o(e,i):a=ht.isURLSearchParams(e)?e.toString():new h3(e,i).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class $8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ht.forEach(this.handlers,function(r){r!==null&&e(r)})}}const f3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},K4e=typeof URLSearchParams<"u"?URLSearchParams:h3,G4e=typeof FormData<"u"?FormData:null,Y4e=typeof Blob<"u"?Blob:null,X4e={isBrowser:!0,classes:{URLSearchParams:K4e,FormData:G4e,Blob:Y4e},protocols:["http","https","file","blob","url","data"]},p3=typeof window<"u"&&typeof document<"u",gS=typeof navigator=="object"&&navigator||void 0,Q4e=p3&&(!gS||["ReactNative","NativeScript","NS"].indexOf(gS.product)<0),Z4e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J4e=p3&&window.location.href||"http://localhost",e3e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:p3,hasStandardBrowserEnv:Q4e,hasStandardBrowserWebWorkerEnv:Z4e,navigator:gS,origin:J4e},Symbol.toStringTag,{value:"Module"})),Do={...e3e,...X4e};function t3e(t,e){return Mx(t,new Do.classes.URLSearchParams,{visitor:function(n,r,i,o){return Do.isNode&&ht.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function n3e(t){return ht.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r3e(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function pz(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=n.length;return a=!a&&ht.isArray(i)?i.length:a,l?(ht.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s):((!i[a]||!ht.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&ht.isArray(i[a])&&(i[a]=r3e(i[a])),!s)}if(ht.isFormData(t)&&ht.isFunction(t.entries)){const n={};return ht.forEachEntry(t,(r,i)=>{e(n3e(r),i,n,0)}),n}return null}function i3e(t,e,n){if(ht.isString(t))try{return(e||JSON.parse)(t),ht.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rv={transitional:f3,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ht.isObject(e);if(o&&ht.isHTMLForm(e)&&(e=new FormData(e)),ht.isFormData(e))return i?JSON.stringify(pz(e)):e;if(ht.isArrayBuffer(e)||ht.isBuffer(e)||ht.isStream(e)||ht.isFile(e)||ht.isBlob(e)||ht.isReadableStream(e))return e;if(ht.isArrayBufferView(e))return e.buffer;if(ht.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t3e(e,this.formSerializer).toString();if((s=ht.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Mx(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),i3e(e)):e}],transformResponse:[function(e){const n=this.transitional||rv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ht.isResponse(e)||ht.isReadableStream(e))return e;if(e&&ht.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?Bn.from(s,Bn.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Do.classes.FormData,Blob:Do.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],t=>{rv.headers[t]={}});const o3e=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a3e=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&o3e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B8=Symbol("internals");function c0(t){return t&&String(t).trim().toLowerCase()}function tb(t){return t===!1||t==null?t:ht.isArray(t)?t.map(tb):String(t)}function s3e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const l3e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function R2(t,e,n,r,i){if(ht.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ht.isString(e)){if(ht.isString(r))return e.indexOf(r)!==-1;if(ht.isRegExp(r))return r.test(e)}}function c3e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function u3e(t,e){const n=ht.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}let va=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(s,l,c){const u=c0(l);if(!u)throw new Error("header name must be a non-empty string");const d=ht.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=tb(s))}const a=(s,l)=>ht.forEach(s,(c,u)=>o(c,u,l));if(ht.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ht.isString(e)&&(e=e.trim())&&!l3e(e))a(a3e(e),n);else if(ht.isObject(e)&&ht.isIterable(e)){let s={},l,c;for(const u of e){if(!ht.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?ht.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(s,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=c0(e),e){const r=ht.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return s3e(i);if(ht.isFunction(n))return n.call(this,i,r);if(ht.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=c0(e),e){const r=ht.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||R2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=c0(a),a){const s=ht.findKey(r,a);s&&(!n||R2(r,r[s],s,n))&&(delete r[s],i=!0)}}return ht.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||R2(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ht.forEach(this,(i,o)=>{const a=ht.findKey(r,o);if(a){n[a]=tb(i),delete n[o];return}const s=e?c3e(o):String(o).trim();s!==o&&delete n[o],n[s]=tb(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ht.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ht.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B8]=this[B8]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=c0(a);r[s]||(u3e(i,a),r[s]=!0)}return ht.isArray(e)?e.forEach(o):o(e),this}};va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ht.reduceDescriptors(va.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ht.freezeMethods(va);function _2(t,e){const n=this||rv,r=e||n,i=va.from(r.headers);let o=r.data;return ht.forEach(t,function(s){o=s.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function mz(t){return!!(t&&t.__CANCEL__)}let iv=class extends Bn{constructor(e,n,r){super(e??"canceled",Bn.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function gz(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Bn("Request failed with status code "+n.status,[Bn.ERR_BAD_REQUEST,Bn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function d3e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function h3e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];a||(a=c),n[i]=l,r[i]=c;let d=o,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function f3e(t,e){let n=0,r=1e3/e,i,o;const a=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?a(c,u):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},r-d)))},()=>i&&a(i)]}const i1=(t,e,n=3)=>{let r=0;const i=h3e(50,250);return f3e(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-r,c=i(l),u=a<=s;r=a;const d={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(d)},n)},N8=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},z8=t=>(...e)=>ht.asap(()=>t(...e)),p3e=Do.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Do.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Do.origin),Do.navigator&&/(msie|trident)/i.test(Do.navigator.userAgent)):()=>!0,m3e=Do.hasStandardBrowserEnv?{write(t,e,n,r,i,o,a){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];ht.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),ht.isString(r)&&s.push(`path=${r}`),ht.isString(i)&&s.push(`domain=${i}`),o===!0&&s.push("secure"),ht.isString(a)&&s.push(`SameSite=${a}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function g3e(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function v3e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vz(t,e,n){let r=!g3e(e);return t&&(r||n==!1)?v3e(t,e):e}const H8=t=>t instanceof va?{...t}:t;function uh(t,e){e=e||{};const n={};function r(c,u,d,h){return ht.isPlainObject(c)&&ht.isPlainObject(u)?ht.merge.call({caseless:h},c,u):ht.isPlainObject(u)?ht.merge({},u):ht.isArray(u)?u.slice():u}function i(c,u,d,h){if(ht.isUndefined(u)){if(!ht.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function o(c,u){if(!ht.isUndefined(u))return r(void 0,u)}function a(c,u){if(ht.isUndefined(u)){if(!ht.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,d)=>i(H8(c),H8(u),d,!0)};return ht.forEach(Object.keys({...t,...e}),function(u){if(u==="__proto__"||u==="constructor"||u==="prototype")return;const d=ht.hasOwnProp(l,u)?l[u]:i,h=d(t[u],e[u],u);ht.isUndefined(h)&&d!==s||(n[u]=h)}),n}const yz=t=>{const e=uh({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;if(e.headers=a=va.from(a),e.url=fz(vz(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),ht.isFormData(n)){if(Do.hasStandardBrowserEnv||Do.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ht.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&a.set(u,d)})}}if(Do.hasStandardBrowserEnv&&(r&&ht.isFunction(r)&&(r=r(e)),r||r!==!1&&p3e(e.url))){const l=i&&o&&m3e.read(o);l&&a.set(i,l)}return e},y3e=typeof XMLHttpRequest<"u",b3e=y3e&&function(t){return new Promise(function(n,r){const i=yz(t);let o=i.data;const a=va.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function y(){if(!m)return;const x=va.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),C={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:t,request:m};gz(function(A){n(A),g()},function(A){r(A),g()},C),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(r(new Bn("Request aborted",Bn.ECONNABORTED,t,m)),m=null)},m.onerror=function(w){const C=w&&w.message?w.message:"Network Error",S=new Bn(C,Bn.ERR_NETWORK,t,m);S.event=w||null,r(S),m=null},m.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||f3;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new Bn(w,C.clarifyTimeoutError?Bn.ETIMEDOUT:Bn.ECONNABORTED,t,m)),m=null},o===void 0&&a.setContentType(null),"setRequestHeader"in m&&ht.forEach(a.toJSON(),function(w,C){m.setRequestHeader(C,w)}),ht.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),s&&s!=="json"&&(m.responseType=i.responseType),c&&([h,p]=i1(c,!0),m.addEventListener("progress",h)),l&&m.upload&&([d,f]=i1(l),m.upload.addEventListener("progress",d),m.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=x=>{m&&(r(!x||x.type?new iv(null,t,m):x),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=d3e(i.url);if(b&&Do.protocols.indexOf(b)===-1){r(new Bn("Unsupported protocol "+b+":",Bn.ERR_BAD_REQUEST,t));return}m.send(o||null)})},x3e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Bn?u:new iv(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,o(new Bn(`timeout of ${e}ms exceeded`,Bn.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>ht.asap(s),l}},w3e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},C3e=async function*(t,e){for await(const n of A3e(t))yield*w3e(n,e)},A3e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},U8=(t,e,n,r)=>{const i=C3e(t,e);let o=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(n){let h=o+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},j8=64*1024,{isFunction:oy}=ht,S3e=(({Request:t,Response:e})=>({Request:t,Response:e}))(ht.global),{ReadableStream:V8,TextEncoder:W8}=ht.global,q8=(t,...e)=>{try{return!!t(...e)}catch{return!1}},k3e=t=>{t=ht.merge.call({skipUndefined:!0},S3e,t);const{fetch:e,Request:n,Response:r}=t,i=e?oy(e):typeof fetch=="function",o=oy(n),a=oy(r);if(!i)return!1;const s=i&&oy(V8),l=i&&(typeof W8=="function"?(p=>g=>p.encode(g))(new W8):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=o&&s&&q8(()=>{let p=!1;const g=new n(Do.origin,{body:new V8,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),u=a&&s&&q8(()=>ht.isReadableStream(new r("").body)),d={stream:u&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(g,m)=>{let y=g&&g[p];if(y)return y.call(g);throw new Bn(`Response type '${p}' is not supported`,Bn.ERR_NOT_SUPPORT,m)})});const h=async p=>{if(p==null)return 0;if(ht.isBlob(p))return p.size;if(ht.isSpecCompliantForm(p))return(await new n(Do.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(ht.isArrayBufferView(p)||ht.isArrayBuffer(p))return p.byteLength;if(ht.isURLSearchParams(p)&&(p=p+""),ht.isString(p))return(await l(p)).byteLength},f=async(p,g)=>{const m=ht.toFiniteNumber(p.getContentLength());return m??h(g)};return async p=>{let{url:g,method:m,data:y,signal:b,cancelToken:x,timeout:w,onDownloadProgress:C,onUploadProgress:S,responseType:A,headers:T,withCredentials:k="same-origin",fetchOptions:E}=yz(p),P=e||fetch;A=A?(A+"").toLowerCase():"text";let _=x3e([b,x&&x.toAbortSignal()],w),F=null;const N=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let W;try{if(S&&c&&m!=="get"&&m!=="head"&&(W=await f(T,y))!==0){let Q=new n(g,{method:"POST",body:y,duplex:"half"}),X;if(ht.isFormData(y)&&(X=Q.headers.get("content-type"))&&T.setContentType(X),Q.body){const[K,ne]=N8(W,i1(z8(S)));y=U8(Q.body,j8,K,ne)}}ht.isString(k)||(k=k?"include":"omit");const G=o&&"credentials"in n.prototype,Z={...E,signal:_,method:m.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:G?k:void 0};F=o&&new n(g,Z);let ie=await(o?P(F,E):P(g,Z));const he=u&&(A==="stream"||A==="response");if(u&&(C||he&&N)){const Q={};["status","statusText","headers"].forEach(ve=>{Q[ve]=ie[ve]});const X=ht.toFiniteNumber(ie.headers.get("content-length")),[K,ne]=C&&N8(X,i1(z8(C),!0))||[];ie=new r(U8(ie.body,j8,K,()=>{ne&&ne(),N&&N()}),Q)}A=A||"text";let xe=await d[ht.findKey(d,A)||"text"](ie,p);return!he&&N&&N(),await new Promise((Q,X)=>{gz(Q,X,{data:xe,headers:va.from(ie.headers),status:ie.status,statusText:ie.statusText,config:p,request:F})})}catch(G){throw N&&N(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Bn("Network Error",Bn.ERR_NETWORK,p,F,G&&G.response),{cause:G.cause||G}):Bn.from(G,G&&G.code,p,F,G&&G.response)}}},E3e=new Map,bz=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let a=o.length,s=a,l,c,u=E3e;for(;s--;)l=o[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:k3e(e)),u=c;return c};bz();const m3={http:j4e,xhr:b3e,fetch:{get:bz}};ht.forEach(m3,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const K8=t=>`- ${t}`,T3e=t=>ht.isFunction(t)||t===null||t===!1;function R3e(t,e){t=ht.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let a=0;a<n;a++){r=t[a];let s;if(i=r,!T3e(r)&&(i=m3[(s=String(r)).toLowerCase()],i===void 0))throw new Bn(`Unknown adapter '${s}'`);if(i&&(ht.isFunction(i)||(i=i.get(e))))break;o[s||"#"+a]=i}if(!i){const a=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(K8).join(`
`):" "+K8(a[0]):"as no adapter specified";throw new Bn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const xz={getAdapter:R3e,adapters:m3};function P2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new iv(null,t)}function G8(t){return P2(t),t.headers=va.from(t.headers),t.data=_2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xz.getAdapter(t.adapter||rv.adapter,t)(t).then(function(r){return P2(t),r.data=_2.call(t,t.transformResponse,r),r.headers=va.from(r.headers),r},function(r){return mz(r)||(P2(t),r&&r.response&&(r.response.data=_2.call(t,t.transformResponse,r.response),r.response.headers=va.from(r.response.headers))),Promise.reject(r)})}const wz="1.13.5",Ox={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ox[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Y8={};Ox.transitional=function(e,n,r){function i(o,a){return"[Axios v"+wz+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,s)=>{if(e===!1)throw new Bn(i(a," has been removed"+(n?" in "+n:"")),Bn.ERR_DEPRECATED);return n&&!Y8[a]&&(Y8[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,s):!0}};Ox.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function _3e(t,e,n){if(typeof t!="object")throw new Bn("options must be an object",Bn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new Bn("option "+o+" must be "+l,Bn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Bn("Unknown option "+o,Bn.ERR_BAD_OPTION)}}const nb={assertOptions:_3e,validators:Ox},Xa=nb.validators;let Qd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $8,response:new $8}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=uh(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&nb.assertOptions(r,{silentJSONParsing:Xa.transitional(Xa.boolean),forcedJSONParsing:Xa.transitional(Xa.boolean),clarifyTimeoutError:Xa.transitional(Xa.boolean),legacyInterceptorReqResOrdering:Xa.transitional(Xa.boolean)},!1),i!=null&&(ht.isFunction(i)?n.paramsSerializer={serialize:i}:nb.assertOptions(i,{encode:Xa.function,serialize:Xa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nb.assertOptions(n,{baseUrl:Xa.spelling("baseURL"),withXsrfToken:Xa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&ht.merge(o.common,o[n.method]);o&&ht.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=va.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){if(typeof g.runWhen=="function"&&g.runWhen(n)===!1)return;l=l&&g.synchronous;const m=n.transitional||f3;m&&m.legacyInterceptorReqResOrdering?s.unshift(g.fulfilled,g.rejected):s.push(g.fulfilled,g.rejected)});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,h;if(!l){const p=[G8.bind(this),void 0];for(p.unshift(...s),p.push(...c),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=s.length;let f=n;for(;d<h;){const p=s[d++],g=s[d++];try{f=p(f)}catch(m){g.call(this,m);break}}try{u=G8.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=uh(this.defaults,e);const n=vz(e.baseURL,e.url,e.allowAbsoluteUrls);return fz(n,e.params,e.paramsSerializer)}};ht.forEach(["delete","get","head","options"],function(e){Qd.prototype[e]=function(n,r){return this.request(uh(r||{},{method:e,url:n,data:(r||{}).data}))}});ht.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,s){return this.request(uh(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Qd.prototype[e]=n(),Qd.prototype[e+"Form"]=n(!0)});let P3e=class Cz{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{r.subscribe(s),o=s}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,s){r.reason||(r.reason=new iv(o,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Cz(function(i){e=i}),cancel:e}}};function I3e(t){return function(n){return t.apply(null,n)}}function L3e(t){return ht.isObject(t)&&t.isAxiosError===!0}const vS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vS).forEach(([t,e])=>{vS[e]=t});function Az(t){const e=new Qd(t),n=nz(Qd.prototype.request,e);return ht.extend(n,Qd.prototype,e,{allOwnKeys:!0}),ht.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Az(uh(t,i))},n}const Wi=Az(rv);Wi.Axios=Qd;Wi.CanceledError=iv;Wi.CancelToken=P3e;Wi.isCancel=mz;Wi.VERSION=wz;Wi.toFormData=Mx;Wi.AxiosError=Bn;Wi.Cancel=Wi.CanceledError;Wi.all=function(e){return Promise.all(e)};Wi.spread=I3e;Wi.isAxiosError=L3e;Wi.mergeConfig=uh;Wi.AxiosHeaders=va;Wi.formToJSON=t=>pz(ht.isHTMLForm(t)?new FormData(t):t);Wi.getAdapter=xz.getAdapter;Wi.HttpStatusCode=vS;Wi.default=Wi;const{Axios:_Me,AxiosError:ay,CanceledError:PMe,isCancel:IMe,CancelToken:LMe,VERSION:MMe,all:OMe,Cancel:DMe,isAxiosError:FMe,spread:$Me,toFormData:BMe,AxiosHeaders:NMe,HttpStatusCode:zMe,formToJSON:HMe,getAdapter:UMe,mergeConfig:jMe}=Wi,{message:I2}=nF(["message"]);class M3e{constructor(){Pt(this,"instance",null);this.instance=Wi.create({baseURL:"http://110.42.253.75:40092",timeout:1e4,headers:{token:localStorage.getItem("token")||""}}),this.instance.interceptors.request.use(e=>(e.meta=e.meta||{},e.meta.timer=new Date().getTime(),e)),this.instance.interceptors.response.use(e=>e,e=>{var n;return(n=e.response)==null||n.status,console.log("Error: ",e.code),e.code===ay.ERR_NETWORK?I2.error(""):e.code===ay.ECONNABORTED?I2.error(""):(e.code===ay.ERR_BAD_REQUEST||e.code==ay.ERR_BAD_RESPONSE)&&I2.error(""),Promise.reject(e)})}}class Sz extends M3e{constructor(){super()}async login(e){return(await this.instance.get("/public/login",{params:e})).data}async selectUser(){return(await this.instance.get("/users/me")).data}}new Sz;const O3e=Kke({history:Eke(),routes:[{path:"/",name:"home",component:r4e},{path:"/testMarkdown",name:"testMarkdown",component:()=>l0(()=>Promise.resolve().then(()=>LTe),void 0,import.meta.url)},{path:"/testLogin",name:"testLogin",component:()=>l0(()=>Promise.resolve().then(()=>FTe),void 0,import.meta.url)},{path:"/testPlyr",name:"testPlyr",component:()=>l0(()=>Promise.resolve().then(()=>QIe),void 0,import.meta.url)},{path:"/testDPlayer",name:"testDPlayer",component:()=>l0(()=>Promise.resolve().then(()=>t7e),void 0,import.meta.url)},{path:"/testXiGuaPlayer",name:"testXiGuaPlayer",component:()=>l0(()=>Promise.resolve().then(()=>dMe),void 0,import.meta.url)}]});Xye({key:"b724b90148aa514b01a39a7393da151d",securityJsCode:"be05d13e6d7cd345577acc79b87499d9"});const kz=IG();kz.use(Bye);const bp=dL(Zke);bp.use(kz);bp.use(Mye);bp.use(O3e);bp.use(hB);bp.use(UN);bp.mount("#app");function g3(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ah=g3();function Ez(t){Ah=t}var Pd={exec:()=>null};function xr(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(Go.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,e)};return r}var D3e=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Go={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),blockquoteBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}>`)},F3e=/^(?:[ \t]*(?:\n|$))+/,$3e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,B3e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ov=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,N3e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,v3=/ {0,3}(?:[*+-]|\d{1,9}[.)])/,Tz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Rz=xr(Tz).replace(/bull/g,v3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),z3e=xr(Tz).replace(/bull/g,v3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),y3=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,H3e=/^[^\n]+/,b3=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,U3e=xr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",b3).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),j3e=xr(/^(bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,v3).getRegex(),Dx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x3=/\x3C!--(?:-?>|[\s\S]*?(?:-->|$))/,V3e=xr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",x3).replace("tag",Dx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_z=xr(y3).replace("hr",ov).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dx).getRegex(),W3e=xr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_z).getRegex(),w3={blockquote:W3e,code:$3e,def:U3e,fences:B3e,heading:N3e,hr:ov,html:V3e,lheading:Rz,list:j3e,newline:F3e,paragraph:_z,table:Pd,text:H3e},X8=xr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ov).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dx).getRegex(),q3e={...w3,lheading:z3e,table:X8,paragraph:xr(y3).replace("hr",ov).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",X8).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dx).getRegex()},K3e={...w3,html:xr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x3).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xr(y3).replace("hr",ov).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Rz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},G3e=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Y3e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Pz=/^( {2,}|\\)\n(?!\s*$)/,X3e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Fx=/[\p{P}\p{S}]/u,C3=/[\s\p{P}\p{S}]/u,Iz=/[^\s\p{P}\p{S}]/u,Q3e=xr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,C3).getRegex(),Lz=/(?!~)[\p{P}\p{S}]/u,Z3e=/(?!~)[\s\p{P}\p{S}]/u,J3e=/(?:[^\s\p{P}\p{S}]|~)/u,Mz=/(?![*_])[\p{P}\p{S}]/u,e5e=/(?![*_])[\s\p{P}\p{S}]/u,t5e=/(?:[^\s\p{P}\p{S}]|[*_])/u,n5e=xr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",D3e?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Oz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,r5e=xr(Oz,"u").replace(/punct/g,Fx).getRegex(),i5e=xr(Oz,"u").replace(/punct/g,Lz).getRegex(),Dz="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",o5e=xr(Dz,"gu").replace(/notPunctSpace/g,Iz).replace(/punctSpace/g,C3).replace(/punct/g,Fx).getRegex(),a5e=xr(Dz,"gu").replace(/notPunctSpace/g,J3e).replace(/punctSpace/g,Z3e).replace(/punct/g,Lz).getRegex(),s5e=xr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Iz).replace(/punctSpace/g,C3).replace(/punct/g,Fx).getRegex(),l5e=xr(/^~~?(?:((?!~)punct)|[^\s~])/,"u").replace(/punct/g,Mz).getRegex(),c5e="^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)",u5e=xr(c5e,"gu").replace(/notPunctSpace/g,t5e).replace(/punctSpace/g,e5e).replace(/punct/g,Mz).getRegex(),d5e=xr(/\\(punct)/,"gu").replace(/punct/g,Fx).getRegex(),h5e=xr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),f5e=xr(x3).replace("(?:-->|$)","-->").getRegex(),p5e=xr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",f5e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),o1=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,m5e=xr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",o1).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fz=xr(/^!?\[(label)\]\[(ref)\]/).replace("label",o1).replace("ref",b3).getRegex(),$z=xr(/^!?\[(ref)\](?:\[\])?/).replace("ref",b3).getRegex(),g5e=xr("reflink|nolink(?!\\()","g").replace("reflink",Fz).replace("nolink",$z).getRegex(),Q8=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,A3={_backpedal:Pd,anyPunctuation:d5e,autolink:h5e,blockSkip:n5e,br:Pz,code:Y3e,del:Pd,delLDelim:Pd,delRDelim:Pd,emStrongLDelim:r5e,emStrongRDelimAst:o5e,emStrongRDelimUnd:s5e,escape:G3e,link:m5e,nolink:$z,punctuation:Q3e,reflink:Fz,reflinkSearch:g5e,tag:p5e,text:X3e,url:Pd},v5e={...A3,link:xr(/^!?\[(label)\]\((.*?)\)/).replace("label",o1).getRegex(),reflink:xr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o1).getRegex()},yS={...A3,emStrongRDelimAst:a5e,emStrongLDelim:i5e,delLDelim:l5e,delRDelim:u5e,url:xr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Q8).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:xr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Q8).getRegex()},y5e={...yS,br:xr(Pz).replace("{2,}","*").getRegex(),text:xr(yS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},sy={normal:w3,gfm:q3e,pedantic:K3e},u0={normal:A3,gfm:yS,breaks:y5e,pedantic:v5e},b5e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z8=t=>b5e[t];function Gs(t,e){if(e){if(Go.escapeTest.test(t))return t.replace(Go.escapeReplace,Z8)}else if(Go.escapeTestNoEncode.test(t))return t.replace(Go.escapeReplaceNoEncode,Z8);return t}function J8(t){try{t=encodeURI(t).replace(Go.percentDecode,"%")}catch{return null}return t}function e_(t,e){var o;let n=t.replace(Go.findPipe,(a,s,l)=>{let c=!1,u=s;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Go.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Go.slashPipe,"|");return r}function d0(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function x5e(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function w5e(t,e=0){let n=e,r="";for(let i of t)if(i==="	"){let o=4-n%4;r+=" ".repeat(o),n+=o}else r+=i,n++;return r}function t_(t,e,n,r,i){let o=e.href,a=e.title||null,s=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:o,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}function C5e(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(o=>{let a=o.match(n.other.beginningSpace);if(a===null)return o;let[s]=a;return s.length>=i.length?o.slice(i.length):o}).join(`
`)}var a1=class{constructor(t){Pt(this,"options");Pt(this,"rules");Pt(this,"lexer");this.options=t||Ah}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:d0(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=C5e(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=d0(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:d0(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=d0(e[0],`
`).split(`
`),r="",i="",o=[];for(;n.length>0;){let a=!1,s=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))s.push(n[l]),a=!0;else if(!a)s.push(n[l]);else break;n=n.slice(l);let c=s.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=d,n.length===0)break;let h=o.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){let f=h,p=f.raw+`
`+n.join(`
`),g=this.blockquote(p);o[o.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,i=i.substring(0,i.length-f.text.length)+g.text;break}else if((h==null?void 0:h.type)==="list"){let f=h,p=f.raw+`
`+n.join(`
`),g=this.list(p);o[o.length-1]=g,r=r.substring(0,r.length-h.raw.length)+g.raw,i=i.substring(0,i.length-f.raw.length)+g.raw,n=p.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(t){var n,r;let e=this.rules.block.list.exec(t);if(e){let i=e[1].trim(),o=i.length>1,a={type:"list",raw:"",ordered:o,start:o?+i.slice(0,-1):"",loose:!1,items:[]};i=o?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=o?i:"[*+-]");let s=this.rules.other.listItemRegex(i),l=!1;for(;t;){let u=!1,d="",h="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;d=e[0],t=t.substring(d.length);let f=w5e(e[2].split(`
`,1)[0],e[1].length),p=t.split(`
`,1)[0],g=!f.trim(),m=0;if(this.options.pedantic?(m=2,h=f.trimStart()):g?m=e[1].length+1:(m=f.search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=f.slice(m),m+=e[1].length),g&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,t=t.substring(p.length+1),u=!0),!u){let y=this.rules.other.nextBulletRegex(m),b=this.rules.other.hrRegex(m),x=this.rules.other.fencesBeginRegex(m),w=this.rules.other.headingBeginRegex(m),C=this.rules.other.htmlBeginRegex(m),S=this.rules.other.blockquoteBeginRegex(m);for(;t;){let A=t.split(`
`,1)[0],T;if(p=A,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),T=p):T=p.replace(this.rules.other.tabCharGlobal,"    "),x.test(p)||w.test(p)||C.test(p)||S.test(p)||y.test(p)||b.test(p))break;if(T.search(this.rules.other.nonSpaceChar)>=m||!p.trim())h+=`
`+T.slice(m);else{if(g||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(f)||w.test(f)||b.test(f))break;h+=`
`+p}g=!p.trim(),d+=A+`
`,t=t.substring(A.length+1),f=T.slice(m)}}a.loose||(l?a.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(l=!0)),a.items.push({type:"list_item",raw:d,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),a.raw+=d}let c=a.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let u of a.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((n=u.tokens[0])==null?void 0:n.type)==="text"||((r=u.tokens[0])==null?void 0:r.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let d=this.rules.other.listTaskCheckbox.exec(u.raw);if(d){let h={type:"checkbox",raw:d[0]+" ",checked:d[0]!=="[ ]"};u.checked=h.checked,a.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=h.raw+u.tokens[0].raw,u.tokens[0].text=h.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(h)):u.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):u.tokens.unshift(h)}}if(!a.loose){let d=u.tokens.filter(f=>f.type==="space"),h=d.length>0&&d.some(f=>this.rules.other.anyLine.test(f.raw));a.loose=h}}if(a.loose)for(let u of a.items){u.loose=!0;for(let d of u.tokens)d.type==="text"&&(d.type="paragraph")}return a}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var a;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=e_(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?o.align.push("right"):this.rules.other.tableAlignCenter.test(s)?o.align.push("center"):this.rules.other.tableAlignLeft.test(s)?o.align.push("left"):o.align.push(null);for(let s=0;s<n.length;s++)o.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:o.align[s]});for(let s of i)o.rows.push(e_(s,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=d0(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=x5e(e[2],"()");if(o===-2)return;if(o>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),t_(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return t_(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,o,a,s=i,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);(r=c.exec(e))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){s+=a;continue}else if((r[5]||r[6])&&i%3&&!((i+a)%3)){l+=a;continue}if(s-=a,s>0)continue;a=Math.min(a,a+s+l);let u=[...r[0]][0].length,d=t.slice(0,i+r.index+u+a);if(Math.min(i,a)%2){let f=d.slice(1,-1);return{type:"em",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}let h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t,e,n=""){let r=this.rules.inline.delLDelim.exec(t);if(r&&(!r[1]||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,o,a,s=i,l=this.rules.inline.delRDelim;for(l.lastIndex=0,e=e.slice(-1*t.length+i);(r=l.exec(e))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o||(a=[...o].length,a!==i))continue;if(r[3]||r[4]){s+=a;continue}if(s-=a,s>0)continue;a=Math.min(a,a+s);let c=[...r[0]][0].length,u=t.slice(0,i+r.index+c+a),d=u.slice(i,-i);return{type:"del",raw:u,text:d,tokens:this.lexer.inlineTokens(d)}}}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let o;do o=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(o!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},As=class bS{constructor(e){Pt(this,"tokens");Pt(this,"options");Pt(this,"state");Pt(this,"inlineQueue");Pt(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ah,this.options.tokenizer=this.options.tokenizer||new a1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Go,block:sy.normal,inline:u0.normal};this.options.pedantic?(n.block=sy.pedantic,n.inline=u0.pedantic):this.options.gfm&&(n.block=sy.gfm,this.options.breaks?n.inline=u0.breaks:n.inline=u0.gfm),this.tokenizer.rules=n}static get rules(){return{block:sy,inline:u0}}static lex(e,n){return new bS(n).lex(e)}static lexInline(e,n){return new bS(n).inlineTokens(e)}lex(e){e=e.replace(Go.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,o,a;for(this.options.pedantic&&(e=e.replace(Go.tabCharGlobal,"    ").replace(Go.spaceLine,""));e;){let s;if((o=(i=this.options.extensions)==null?void 0:i.block)!=null&&o.some(c=>(s=c.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let c=n.at(-1);s.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.at(-1).src=c.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},n.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let l=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,u=e.slice(1),d;this.options.extensions.startBlock.forEach(h=>{d=h.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(l))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(s),r=l.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(s);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,c,u,d,h;let r=e,i=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)f.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)o=i[2]?i[2].length:0,r=r.slice(0,i.index+o)+"["+"a".repeat(i[0].length-o-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let a=!1,s="";for(;e;){a||(s=""),a=!1;let f;if((d=(u=this.options.extensions)==null?void 0:u.inline)!=null&&d.some(g=>(f=g.call({lexer:this},e,n))?(e=e.substring(f.raw.length),n.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let g=n.at(-1);f.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(f=this.tokenizer.emStrong(e,r,s)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.del(e,r,s)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),n.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),n.push(f);continue}let p=e;if((h=this.options.extensions)!=null&&h.startInline){let g=1/0,m=e.slice(1),y;this.options.extensions.startInline.forEach(b=>{y=b.call({lexer:this},m),typeof y=="number"&&y>=0&&(g=Math.min(g,y))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(f=this.tokenizer.inlineText(p)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(s=f.raw.slice(-1)),a=!0;let g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},s1=class{constructor(t){Pt(this,"options");Pt(this,"parser");this.options=t||Ah}space(t){return""}code({text:t,lang:e,escaped:n}){var o;let r=(o=(e||"").match(Go.notSpaceStart))==null?void 0:o[0],i=t.replace(Go.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Gs(r)+'">'+(n?i:Gs(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Gs(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let a=0;a<t.items.length;a++){let s=t.items[a];r+=this.listitem(s)}let i=e?"ol":"ul",o=e&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let o=t.rows[i];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Gs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=J8(t);if(i===null)return r;t=i;let o='<a href="'+t+'"';return e&&(o+=' title="'+Gs(e)+'"'),o+=">"+r+"</a>",o}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=J8(t);if(i===null)return Gs(n);t=i;let o=`<img src="${t}" alt="${Gs(n)}"`;return e&&(o+=` title="${Gs(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Gs(t.text)}},S3=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},Ss=class xS{constructor(e){Pt(this,"options");Pt(this,"renderer");Pt(this,"textRenderer");this.options=e||Ah,this.options.renderer=this.options.renderer||new s1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new S3}static parse(e,n){return new xS(n).parse(e)}static parseInline(e,n){return new xS(n).parseInline(e)}parse(e){var r,i;let n="";for(let o=0;o<e.length;o++){let a=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[a.type]){let l=a,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=c||"";continue}}let s=a;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,n=this.renderer){var i,o;let r="";for(let a=0;a<e.length;a++){let s=e[a];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=c||"";continue}}let l=s;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"checkbox":{r+=n.checkbox(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Fy,w0=(Fy=class{constructor(t){Pt(this,"options");Pt(this,"block");this.options=t||Ah}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?As.lex:As.lexInline}provideParser(){return this.block?Ss.parse:Ss.parseInline}},Pt(Fy,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Pt(Fy,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Fy),A5e=class{constructor(...t){Pt(this,"defaults",g3());Pt(this,"options",this.setOptions);Pt(this,"parse",this.parseMarkdown(!0));Pt(this,"parseInline",this.parseMarkdown(!1));Pt(this,"Parser",Ss);Pt(this,"Renderer",s1);Pt(this,"TextRenderer",S3);Pt(this,"Lexer",As);Pt(this,"Tokenizer",a1);Pt(this,"Hooks",w0);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(let o of t)switch(n=n.concat(e.call(this,o)),o.type){case"table":{let a=o;for(let s of a.header)n=n.concat(this.walkTokens(s.tokens,e));for(let s of a.rows)for(let l of s)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{let a=o;n=n.concat(this.walkTokens(a.items,e));break}default:{let a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(s=>{let l=a[s].flat(1/0);n=n.concat(this.walkTokens(l,e))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=e.renderers[i.name];o?e.renderers[i.name]=function(...a){let s=i.renderer.apply(this,a);return s===!1&&(s=o.apply(this,a)),s}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[i.level];o?o.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=this.defaults.renderer||new s1(this.defaults);for(let o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,s=n.renderer[a],l=i[a];i[a]=(...c)=>{let u=s.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new a1(this.defaults);for(let o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,s=n.tokenizer[a],l=i[a];i[a]=(...c)=>{let u=s.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new w0;for(let o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,s=n.hooks[a],l=i[a];w0.passThroughHooks.has(o)?i[a]=c=>{if(this.defaults.async&&w0.passThroughHooksRespectAsync.has(o))return(async()=>{let d=await s.call(i,c);return l.call(i,d)})();let u=s.call(i,c);return l.call(i,u)}:i[a]=(...c)=>{if(this.defaults.async)return(async()=>{let d=await s.apply(i,c);return d===!1&&(d=await l.apply(i,c)),d})();let u=s.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(a){let s=[];return s.push(o.call(this,a)),i&&(s=s.concat(i.call(this,a))),s}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return As.lex(t,e??this.defaults)}parser(t,e){return Ss.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let a=i.hooks?await i.hooks.preprocess(e):e,s=await(i.hooks?await i.hooks.provideLexer():t?As.lex:As.lexInline)(a,i),l=i.hooks?await i.hooks.processAllTokens(s):s;i.walkTokens&&await Promise.all(this.walkTokens(l,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?Ss.parse:Ss.parseInline)(l,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(o);try{i.hooks&&(e=i.hooks.preprocess(e));let a=(i.hooks?i.hooks.provideLexer():t?As.lex:As.lexInline)(e,i);i.hooks&&(a=i.hooks.processAllTokens(a)),i.walkTokens&&this.walkTokens(a,i.walkTokens);let s=(i.hooks?i.hooks.provideParser():t?Ss.parse:Ss.parseInline)(a,i);return i.hooks&&(s=i.hooks.postprocess(s)),s}catch(a){return o(a)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Gs(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},dh=new A5e;function Fr(t,e){return dh.parse(t,e)}Fr.options=Fr.setOptions=function(t){return dh.setOptions(t),Fr.defaults=dh.defaults,Ez(Fr.defaults),Fr};Fr.getDefaults=g3;Fr.defaults=Ah;Fr.use=function(...t){return dh.use(...t),Fr.defaults=dh.defaults,Ez(Fr.defaults),Fr};Fr.walkTokens=function(t,e){return dh.walkTokens(t,e)};Fr.parseInline=dh.parseInline;Fr.Parser=Ss;Fr.parser=Ss.parse;Fr.Renderer=s1;Fr.TextRenderer=S3;Fr.Lexer=As;Fr.lexer=As.lex;Fr.Tokenizer=a1;Fr.Hooks=w0;Fr.parse=Fr;Fr.options;Fr.setOptions;Fr.use;Fr.walkTokens;Fr.parseInline;Ss.parse;As.lex;class da{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new da(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Fa{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Fa(n,da.range(this,e))}}class Mt{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,a=n&&n.loc;if(a&&a.start<=a.end){var s=a.lexer.input;i=a.start,o=a.end,i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=s.slice(i,o).replace(/[^]/g,"$&"),c;i>15?c=""+s.slice(i-15,i):c=s.slice(0,i);var u;o+15<s.length?u=s.slice(o,o+15)+"":u=s.slice(o),r+=c+l+u}var d=new Error(r);return d.name="ParseError",d.__proto__=Mt.prototype,d.position=i,i!=null&&o!=null&&(d.length=o-i),d.rawMessage=e,d}}Mt.prototype.__proto__=Error.prototype;var S5e=function(e,n){return e===void 0?n:e},k5e=/([A-Z])/g,E5e=function(e){return e.replace(k5e,"-$1").toLowerCase()},T5e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},R5e=/[&><"']/g;function _5e(t){return String(t).replace(R5e,e=>T5e[e])}var Bz=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},P5e=function(e){var n=Bz(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},I5e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},L5e=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},_r={deflt:S5e,escape:_5e,hyphenate:E5e,getBaseElem:Bz,isCharacterBox:P5e,protocolFromUrl:L5e},rb={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function M5e(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let k3=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in rb)if(rb.hasOwnProperty(n)){var r=rb[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:M5e(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Mt("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=_r.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class Wc{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return sl[O5e[this.id]]}sub(){return sl[D5e[this.id]]}fracNum(){return sl[F5e[this.id]]}fracDen(){return sl[$5e[this.id]]}cramp(){return sl[B5e[this.id]]}text(){return sl[N5e[this.id]]}isTight(){return this.size>=2}}var E3=0,l1=1,Rf=2,uc=3,fg=4,is=5,ip=6,Yo=7,sl=[new Wc(E3,0,!1),new Wc(l1,0,!0),new Wc(Rf,1,!1),new Wc(uc,1,!0),new Wc(fg,2,!1),new Wc(is,2,!0),new Wc(ip,3,!1),new Wc(Yo,3,!0)],O5e=[fg,is,fg,is,ip,Yo,ip,Yo],D5e=[is,is,is,is,Yo,Yo,Yo,Yo],F5e=[Rf,uc,fg,is,ip,Yo,ip,Yo],$5e=[uc,uc,is,is,Yo,Yo,Yo,Yo],B5e=[l1,l1,uc,uc,is,is,Yo,Yo],N5e=[E3,l1,Rf,uc,Rf,uc,Rf,uc],_n={DISPLAY:sl[E3],TEXT:sl[Rf],SCRIPT:sl[fg],SCRIPTSCRIPT:sl[ip]},wS=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function z5e(t){for(var e=0;e<wS.length;e++)for(var n=wS[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var ib=[];wS.forEach(t=>t.blocks.forEach(e=>ib.push(...e)));function Nz(t){for(var e=0;e<ib.length;e+=2)if(t>=ib[e]&&t<=ib[e+1])return!0;return!1}var Xh=80,H5e=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},U5e=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},j5e=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},V5e=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},W5e=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},q5e=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},K5e=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},G5e=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=H5e(n,Xh);break;case"sqrtSize1":i=U5e(n,Xh);break;case"sqrtSize2":i=j5e(n,Xh);break;case"sqrtSize3":i=V5e(n,Xh);break;case"sqrtSize4":i=W5e(n,Xh);break;case"sqrtTall":i=K5e(n,Xh,r)}return i},Y5e=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},n_={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},X5e=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class av{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var ml={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ly={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},r_={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Q5e(t,e){ml[t]=e}function T3(t,e,n){if(!ml[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=ml[e][r];if(!i&&t[0]in r_&&(r=r_[t[0]].charCodeAt(0),i=ml[e][r]),!i&&n==="text"&&Nz(r)&&(i=ml[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var L2={};function Z5e(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!L2[e]){var n=L2[e]={cssEmPerMu:ly.quad[e]/18};for(var r in ly)ly.hasOwnProperty(r)&&(n[r]=ly[r][e])}return L2[e]}var J5e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],i_=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],o_=function(e,n){return n.size<2?e:J5e[e-1][n.size-1]};class Zl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Zl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=i_[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Zl(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:o_(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:i_[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=o_(Zl.BASESIZE,e);return this.size===n&&this.textSize===Zl.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Zl.BASESIZE?["sizing","reset-size"+this.size,"size"+Zl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Z5e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Zl.BASESIZE=6;var CS={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},eEe={ex:!0,em:!0,mu:!0},zz=function(e){return typeof e!="string"&&(e=e.unit),e in CS||e in eEe||e==="ex"},vi=function(e,n){var r;if(e.unit in CS)r=CS[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Mt("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},jt=function(e){return+e.toFixed(4)+"em"},Uu=function(e){return e.filter(n=>n).join(" ")},Hz=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},Uz=function(e){var n=document.createElement(e);n.className=Uu(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},tEe=/[\s"'>/=\x00-\x1f]/,jz=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+_r.escape(Uu(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=_r.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+_r.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(tEe.test(o))throw new Mt("Invalid attribute name '"+o+"'");n+=" "+o+'="'+_r.escape(this.attributes[o])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class sv{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Hz.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Uz.call(this,"span")}toMarkup(){return jz.call(this,"span")}}class R3{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Hz.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Uz.call(this,"a")}toMarkup(){return jz.call(this,"a")}}class nEe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+_r.escape(this.src)+'"'+(' alt="'+_r.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=_r.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+_r.escape(n)+'"'),e+="'/>",e}}var rEe={:"",:"",:"",:""};class ss{constructor(e,n,r,i,o,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var c=z5e(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=rEe[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=jt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Uu(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=_r.escape(Uu(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=_r.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+_r.escape(r)+'"');var o=_r.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class xc{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+_r.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class ju{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",n_[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+_r.escape(this.alternate)+'"/>':'<path d="'+_r.escape(n_[this.pathName])+'"/>'}}class AS{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+_r.escape(this.attributes[n])+'"');return e+="/>",e}}function a_(t){if(t instanceof ss)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function iEe(t){if(t instanceof sv)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var oEe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},aEe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ri={math:{},text:{}};function D(t,e,n,r,i,o){ri[t][i]={font:e,group:n,replace:r},o&&r&&(ri[t][r]=ri[t][i])}var z="math",At="text",ee="main",Pe="ams",hi="accent-token",ln="bin",ra="close",xp="inner",Rn="mathord",Zi="op-token",Ka="open",$x="punct",Me="rel",Mc="spacing",qe="textord";D(z,ee,Me,"","\\equiv",!0);D(z,ee,Me,"","\\prec",!0);D(z,ee,Me,"","\\succ",!0);D(z,ee,Me,"","\\sim",!0);D(z,ee,Me,"","\\perp");D(z,ee,Me,"","\\preceq",!0);D(z,ee,Me,"","\\succeq",!0);D(z,ee,Me,"","\\simeq",!0);D(z,ee,Me,"","\\mid",!0);D(z,ee,Me,"","\\ll",!0);D(z,ee,Me,"","\\gg",!0);D(z,ee,Me,"","\\asymp",!0);D(z,ee,Me,"","\\parallel");D(z,ee,Me,"","\\bowtie",!0);D(z,ee,Me,"","\\smile",!0);D(z,ee,Me,"","\\sqsubseteq",!0);D(z,ee,Me,"","\\sqsupseteq",!0);D(z,ee,Me,"","\\doteq",!0);D(z,ee,Me,"","\\frown",!0);D(z,ee,Me,"","\\ni",!0);D(z,ee,Me,"","\\propto",!0);D(z,ee,Me,"","\\vdash",!0);D(z,ee,Me,"","\\dashv",!0);D(z,ee,Me,"","\\owns");D(z,ee,$x,".","\\ldotp");D(z,ee,$x,"","\\cdotp");D(z,ee,qe,"#","\\#");D(At,ee,qe,"#","\\#");D(z,ee,qe,"&","\\&");D(At,ee,qe,"&","\\&");D(z,ee,qe,"","\\aleph",!0);D(z,ee,qe,"","\\forall",!0);D(z,ee,qe,"","\\hbar",!0);D(z,ee,qe,"","\\exists",!0);D(z,ee,qe,"","\\nabla",!0);D(z,ee,qe,"","\\flat",!0);D(z,ee,qe,"","\\ell",!0);D(z,ee,qe,"","\\natural",!0);D(z,ee,qe,"","\\clubsuit",!0);D(z,ee,qe,"","\\wp",!0);D(z,ee,qe,"","\\sharp",!0);D(z,ee,qe,"","\\diamondsuit",!0);D(z,ee,qe,"","\\Re",!0);D(z,ee,qe,"","\\heartsuit",!0);D(z,ee,qe,"","\\Im",!0);D(z,ee,qe,"","\\spadesuit",!0);D(z,ee,qe,"","\\S",!0);D(At,ee,qe,"","\\S");D(z,ee,qe,"","\\P",!0);D(At,ee,qe,"","\\P");D(z,ee,qe,"","\\dag");D(At,ee,qe,"","\\dag");D(At,ee,qe,"","\\textdagger");D(z,ee,qe,"","\\ddag");D(At,ee,qe,"","\\ddag");D(At,ee,qe,"","\\textdaggerdbl");D(z,ee,ra,"","\\rmoustache",!0);D(z,ee,Ka,"","\\lmoustache",!0);D(z,ee,ra,"","\\rgroup",!0);D(z,ee,Ka,"","\\lgroup",!0);D(z,ee,ln,"","\\mp",!0);D(z,ee,ln,"","\\ominus",!0);D(z,ee,ln,"","\\uplus",!0);D(z,ee,ln,"","\\sqcap",!0);D(z,ee,ln,"","\\ast");D(z,ee,ln,"","\\sqcup",!0);D(z,ee,ln,"","\\bigcirc",!0);D(z,ee,ln,"","\\bullet",!0);D(z,ee,ln,"","\\ddagger");D(z,ee,ln,"","\\wr",!0);D(z,ee,ln,"","\\amalg");D(z,ee,ln,"&","\\And");D(z,ee,Me,"","\\longleftarrow",!0);D(z,ee,Me,"","\\Leftarrow",!0);D(z,ee,Me,"","\\Longleftarrow",!0);D(z,ee,Me,"","\\longrightarrow",!0);D(z,ee,Me,"","\\Rightarrow",!0);D(z,ee,Me,"","\\Longrightarrow",!0);D(z,ee,Me,"","\\leftrightarrow",!0);D(z,ee,Me,"","\\longleftrightarrow",!0);D(z,ee,Me,"","\\Leftrightarrow",!0);D(z,ee,Me,"","\\Longleftrightarrow",!0);D(z,ee,Me,"","\\mapsto",!0);D(z,ee,Me,"","\\longmapsto",!0);D(z,ee,Me,"","\\nearrow",!0);D(z,ee,Me,"","\\hookleftarrow",!0);D(z,ee,Me,"","\\hookrightarrow",!0);D(z,ee,Me,"","\\searrow",!0);D(z,ee,Me,"","\\leftharpoonup",!0);D(z,ee,Me,"","\\rightharpoonup",!0);D(z,ee,Me,"","\\swarrow",!0);D(z,ee,Me,"","\\leftharpoondown",!0);D(z,ee,Me,"","\\rightharpoondown",!0);D(z,ee,Me,"","\\nwarrow",!0);D(z,ee,Me,"","\\rightleftharpoons",!0);D(z,Pe,Me,"","\\nless",!0);D(z,Pe,Me,"","\\@nleqslant");D(z,Pe,Me,"","\\@nleqq");D(z,Pe,Me,"","\\lneq",!0);D(z,Pe,Me,"","\\lneqq",!0);D(z,Pe,Me,"","\\@lvertneqq");D(z,Pe,Me,"","\\lnsim",!0);D(z,Pe,Me,"","\\lnapprox",!0);D(z,Pe,Me,"","\\nprec",!0);D(z,Pe,Me,"","\\npreceq",!0);D(z,Pe,Me,"","\\precnsim",!0);D(z,Pe,Me,"","\\precnapprox",!0);D(z,Pe,Me,"","\\nsim",!0);D(z,Pe,Me,"","\\@nshortmid");D(z,Pe,Me,"","\\nmid",!0);D(z,Pe,Me,"","\\nvdash",!0);D(z,Pe,Me,"","\\nvDash",!0);D(z,Pe,Me,"","\\ntriangleleft");D(z,Pe,Me,"","\\ntrianglelefteq",!0);D(z,Pe,Me,"","\\subsetneq",!0);D(z,Pe,Me,"","\\@varsubsetneq");D(z,Pe,Me,"","\\subsetneqq",!0);D(z,Pe,Me,"","\\@varsubsetneqq");D(z,Pe,Me,"","\\ngtr",!0);D(z,Pe,Me,"","\\@ngeqslant");D(z,Pe,Me,"","\\@ngeqq");D(z,Pe,Me,"","\\gneq",!0);D(z,Pe,Me,"","\\gneqq",!0);D(z,Pe,Me,"","\\@gvertneqq");D(z,Pe,Me,"","\\gnsim",!0);D(z,Pe,Me,"","\\gnapprox",!0);D(z,Pe,Me,"","\\nsucc",!0);D(z,Pe,Me,"","\\nsucceq",!0);D(z,Pe,Me,"","\\succnsim",!0);D(z,Pe,Me,"","\\succnapprox",!0);D(z,Pe,Me,"","\\ncong",!0);D(z,Pe,Me,"","\\@nshortparallel");D(z,Pe,Me,"","\\nparallel",!0);D(z,Pe,Me,"","\\nVDash",!0);D(z,Pe,Me,"","\\ntriangleright");D(z,Pe,Me,"","\\ntrianglerighteq",!0);D(z,Pe,Me,"","\\@nsupseteqq");D(z,Pe,Me,"","\\supsetneq",!0);D(z,Pe,Me,"","\\@varsupsetneq");D(z,Pe,Me,"","\\supsetneqq",!0);D(z,Pe,Me,"","\\@varsupsetneqq");D(z,Pe,Me,"","\\nVdash",!0);D(z,Pe,Me,"","\\precneqq",!0);D(z,Pe,Me,"","\\succneqq",!0);D(z,Pe,Me,"","\\@nsubseteqq");D(z,Pe,ln,"","\\unlhd");D(z,Pe,ln,"","\\unrhd");D(z,Pe,Me,"","\\nleftarrow",!0);D(z,Pe,Me,"","\\nrightarrow",!0);D(z,Pe,Me,"","\\nLeftarrow",!0);D(z,Pe,Me,"","\\nRightarrow",!0);D(z,Pe,Me,"","\\nleftrightarrow",!0);D(z,Pe,Me,"","\\nLeftrightarrow",!0);D(z,Pe,Me,"","\\vartriangle");D(z,Pe,qe,"","\\hslash");D(z,Pe,qe,"","\\triangledown");D(z,Pe,qe,"","\\lozenge");D(z,Pe,qe,"","\\circledS");D(z,Pe,qe,"","\\circledR");D(At,Pe,qe,"","\\circledR");D(z,Pe,qe,"","\\measuredangle",!0);D(z,Pe,qe,"","\\nexists");D(z,Pe,qe,"","\\mho");D(z,Pe,qe,"","\\Finv",!0);D(z,Pe,qe,"","\\Game",!0);D(z,Pe,qe,"","\\backprime");D(z,Pe,qe,"","\\blacktriangle");D(z,Pe,qe,"","\\blacktriangledown");D(z,Pe,qe,"","\\blacksquare");D(z,Pe,qe,"","\\blacklozenge");D(z,Pe,qe,"","\\bigstar");D(z,Pe,qe,"","\\sphericalangle",!0);D(z,Pe,qe,"","\\complement",!0);D(z,Pe,qe,"","\\eth",!0);D(At,ee,qe,"","");D(z,Pe,qe,"","\\diagup");D(z,Pe,qe,"","\\diagdown");D(z,Pe,qe,"","\\square");D(z,Pe,qe,"","\\Box");D(z,Pe,qe,"","\\Diamond");D(z,Pe,qe,"","\\yen",!0);D(At,Pe,qe,"","\\yen",!0);D(z,Pe,qe,"","\\checkmark",!0);D(At,Pe,qe,"","\\checkmark");D(z,Pe,qe,"","\\beth",!0);D(z,Pe,qe,"","\\daleth",!0);D(z,Pe,qe,"","\\gimel",!0);D(z,Pe,qe,"","\\digamma",!0);D(z,Pe,qe,"","\\varkappa");D(z,Pe,Ka,"","\\@ulcorner",!0);D(z,Pe,ra,"","\\@urcorner",!0);D(z,Pe,Ka,"","\\@llcorner",!0);D(z,Pe,ra,"","\\@lrcorner",!0);D(z,Pe,Me,"","\\leqq",!0);D(z,Pe,Me,"","\\leqslant",!0);D(z,Pe,Me,"","\\eqslantless",!0);D(z,Pe,Me,"","\\lesssim",!0);D(z,Pe,Me,"","\\lessapprox",!0);D(z,Pe,Me,"","\\approxeq",!0);D(z,Pe,ln,"","\\lessdot");D(z,Pe,Me,"","\\lll",!0);D(z,Pe,Me,"","\\lessgtr",!0);D(z,Pe,Me,"","\\lesseqgtr",!0);D(z,Pe,Me,"","\\lesseqqgtr",!0);D(z,Pe,Me,"","\\doteqdot");D(z,Pe,Me,"","\\risingdotseq",!0);D(z,Pe,Me,"","\\fallingdotseq",!0);D(z,Pe,Me,"","\\backsim",!0);D(z,Pe,Me,"","\\backsimeq",!0);D(z,Pe,Me,"","\\subseteqq",!0);D(z,Pe,Me,"","\\Subset",!0);D(z,Pe,Me,"","\\sqsubset",!0);D(z,Pe,Me,"","\\preccurlyeq",!0);D(z,Pe,Me,"","\\curlyeqprec",!0);D(z,Pe,Me,"","\\precsim",!0);D(z,Pe,Me,"","\\precapprox",!0);D(z,Pe,Me,"","\\vartriangleleft");D(z,Pe,Me,"","\\trianglelefteq");D(z,Pe,Me,"","\\vDash",!0);D(z,Pe,Me,"","\\Vvdash",!0);D(z,Pe,Me,"","\\smallsmile");D(z,Pe,Me,"","\\smallfrown");D(z,Pe,Me,"","\\bumpeq",!0);D(z,Pe,Me,"","\\Bumpeq",!0);D(z,Pe,Me,"","\\geqq",!0);D(z,Pe,Me,"","\\geqslant",!0);D(z,Pe,Me,"","\\eqslantgtr",!0);D(z,Pe,Me,"","\\gtrsim",!0);D(z,Pe,Me,"","\\gtrapprox",!0);D(z,Pe,ln,"","\\gtrdot");D(z,Pe,Me,"","\\ggg",!0);D(z,Pe,Me,"","\\gtrless",!0);D(z,Pe,Me,"","\\gtreqless",!0);D(z,Pe,Me,"","\\gtreqqless",!0);D(z,Pe,Me,"","\\eqcirc",!0);D(z,Pe,Me,"","\\circeq",!0);D(z,Pe,Me,"","\\triangleq",!0);D(z,Pe,Me,"","\\thicksim");D(z,Pe,Me,"","\\thickapprox");D(z,Pe,Me,"","\\supseteqq",!0);D(z,Pe,Me,"","\\Supset",!0);D(z,Pe,Me,"","\\sqsupset",!0);D(z,Pe,Me,"","\\succcurlyeq",!0);D(z,Pe,Me,"","\\curlyeqsucc",!0);D(z,Pe,Me,"","\\succsim",!0);D(z,Pe,Me,"","\\succapprox",!0);D(z,Pe,Me,"","\\vartriangleright");D(z,Pe,Me,"","\\trianglerighteq");D(z,Pe,Me,"","\\Vdash",!0);D(z,Pe,Me,"","\\shortmid");D(z,Pe,Me,"","\\shortparallel");D(z,Pe,Me,"","\\between",!0);D(z,Pe,Me,"","\\pitchfork",!0);D(z,Pe,Me,"","\\varpropto");D(z,Pe,Me,"","\\blacktriangleleft");D(z,Pe,Me,"","\\therefore",!0);D(z,Pe,Me,"","\\backepsilon");D(z,Pe,Me,"","\\blacktriangleright");D(z,Pe,Me,"","\\because",!0);D(z,Pe,Me,"","\\llless");D(z,Pe,Me,"","\\gggtr");D(z,Pe,ln,"","\\lhd");D(z,Pe,ln,"","\\rhd");D(z,Pe,Me,"","\\eqsim",!0);D(z,ee,Me,"","\\Join");D(z,Pe,Me,"","\\Doteq",!0);D(z,Pe,ln,"","\\dotplus",!0);D(z,Pe,ln,"","\\smallsetminus");D(z,Pe,ln,"","\\Cap",!0);D(z,Pe,ln,"","\\Cup",!0);D(z,Pe,ln,"","\\doublebarwedge",!0);D(z,Pe,ln,"","\\boxminus",!0);D(z,Pe,ln,"","\\boxplus",!0);D(z,Pe,ln,"","\\divideontimes",!0);D(z,Pe,ln,"","\\ltimes",!0);D(z,Pe,ln,"","\\rtimes",!0);D(z,Pe,ln,"","\\leftthreetimes",!0);D(z,Pe,ln,"","\\rightthreetimes",!0);D(z,Pe,ln,"","\\curlywedge",!0);D(z,Pe,ln,"","\\curlyvee",!0);D(z,Pe,ln,"","\\circleddash",!0);D(z,Pe,ln,"","\\circledast",!0);D(z,Pe,ln,"","\\centerdot");D(z,Pe,ln,"","\\intercal",!0);D(z,Pe,ln,"","\\doublecap");D(z,Pe,ln,"","\\doublecup");D(z,Pe,ln,"","\\boxtimes",!0);D(z,Pe,Me,"","\\dashrightarrow",!0);D(z,Pe,Me,"","\\dashleftarrow",!0);D(z,Pe,Me,"","\\leftleftarrows",!0);D(z,Pe,Me,"","\\leftrightarrows",!0);D(z,Pe,Me,"","\\Lleftarrow",!0);D(z,Pe,Me,"","\\twoheadleftarrow",!0);D(z,Pe,Me,"","\\leftarrowtail",!0);D(z,Pe,Me,"","\\looparrowleft",!0);D(z,Pe,Me,"","\\leftrightharpoons",!0);D(z,Pe,Me,"","\\curvearrowleft",!0);D(z,Pe,Me,"","\\circlearrowleft",!0);D(z,Pe,Me,"","\\Lsh",!0);D(z,Pe,Me,"","\\upuparrows",!0);D(z,Pe,Me,"","\\upharpoonleft",!0);D(z,Pe,Me,"","\\downharpoonleft",!0);D(z,ee,Me,"","\\origof",!0);D(z,ee,Me,"","\\imageof",!0);D(z,Pe,Me,"","\\multimap",!0);D(z,Pe,Me,"","\\leftrightsquigarrow",!0);D(z,Pe,Me,"","\\rightrightarrows",!0);D(z,Pe,Me,"","\\rightleftarrows",!0);D(z,Pe,Me,"","\\twoheadrightarrow",!0);D(z,Pe,Me,"","\\rightarrowtail",!0);D(z,Pe,Me,"","\\looparrowright",!0);D(z,Pe,Me,"","\\curvearrowright",!0);D(z,Pe,Me,"","\\circlearrowright",!0);D(z,Pe,Me,"","\\Rsh",!0);D(z,Pe,Me,"","\\downdownarrows",!0);D(z,Pe,Me,"","\\upharpoonright",!0);D(z,Pe,Me,"","\\downharpoonright",!0);D(z,Pe,Me,"","\\rightsquigarrow",!0);D(z,Pe,Me,"","\\leadsto");D(z,Pe,Me,"","\\Rrightarrow",!0);D(z,Pe,Me,"","\\restriction");D(z,ee,qe,"","`");D(z,ee,qe,"$","\\$");D(At,ee,qe,"$","\\$");D(At,ee,qe,"$","\\textdollar");D(z,ee,qe,"%","\\%");D(At,ee,qe,"%","\\%");D(z,ee,qe,"_","\\_");D(At,ee,qe,"_","\\_");D(At,ee,qe,"_","\\textunderscore");D(z,ee,qe,"","\\angle",!0);D(z,ee,qe,"","\\infty",!0);D(z,ee,qe,"","\\prime");D(z,ee,qe,"","\\triangle");D(z,ee,qe,"","\\Gamma",!0);D(z,ee,qe,"","\\Delta",!0);D(z,ee,qe,"","\\Theta",!0);D(z,ee,qe,"","\\Lambda",!0);D(z,ee,qe,"","\\Xi",!0);D(z,ee,qe,"","\\Pi",!0);D(z,ee,qe,"","\\Sigma",!0);D(z,ee,qe,"","\\Upsilon",!0);D(z,ee,qe,"","\\Phi",!0);D(z,ee,qe,"","\\Psi",!0);D(z,ee,qe,"","\\Omega",!0);D(z,ee,qe,"A","");D(z,ee,qe,"B","");D(z,ee,qe,"E","");D(z,ee,qe,"Z","");D(z,ee,qe,"H","");D(z,ee,qe,"I","");D(z,ee,qe,"K","");D(z,ee,qe,"M","");D(z,ee,qe,"N","");D(z,ee,qe,"O","");D(z,ee,qe,"P","");D(z,ee,qe,"T","");D(z,ee,qe,"X","");D(z,ee,qe,"","\\neg",!0);D(z,ee,qe,"","\\lnot");D(z,ee,qe,"","\\top");D(z,ee,qe,"","\\bot");D(z,ee,qe,"","\\emptyset");D(z,Pe,qe,"","\\varnothing");D(z,ee,Rn,"","\\alpha",!0);D(z,ee,Rn,"","\\beta",!0);D(z,ee,Rn,"","\\gamma",!0);D(z,ee,Rn,"","\\delta",!0);D(z,ee,Rn,"","\\epsilon",!0);D(z,ee,Rn,"","\\zeta",!0);D(z,ee,Rn,"","\\eta",!0);D(z,ee,Rn,"","\\theta",!0);D(z,ee,Rn,"","\\iota",!0);D(z,ee,Rn,"","\\kappa",!0);D(z,ee,Rn,"","\\lambda",!0);D(z,ee,Rn,"","\\mu",!0);D(z,ee,Rn,"","\\nu",!0);D(z,ee,Rn,"","\\xi",!0);D(z,ee,Rn,"","\\omicron",!0);D(z,ee,Rn,"","\\pi",!0);D(z,ee,Rn,"","\\rho",!0);D(z,ee,Rn,"","\\sigma",!0);D(z,ee,Rn,"","\\tau",!0);D(z,ee,Rn,"","\\upsilon",!0);D(z,ee,Rn,"","\\phi",!0);D(z,ee,Rn,"","\\chi",!0);D(z,ee,Rn,"","\\psi",!0);D(z,ee,Rn,"","\\omega",!0);D(z,ee,Rn,"","\\varepsilon",!0);D(z,ee,Rn,"","\\vartheta",!0);D(z,ee,Rn,"","\\varpi",!0);D(z,ee,Rn,"","\\varrho",!0);D(z,ee,Rn,"","\\varsigma",!0);D(z,ee,Rn,"","\\varphi",!0);D(z,ee,ln,"","*",!0);D(z,ee,ln,"+","+");D(z,ee,ln,"","-",!0);D(z,ee,ln,"","\\cdot",!0);D(z,ee,ln,"","\\circ",!0);D(z,ee,ln,"","\\div",!0);D(z,ee,ln,"","\\pm",!0);D(z,ee,ln,"","\\times",!0);D(z,ee,ln,"","\\cap",!0);D(z,ee,ln,"","\\cup",!0);D(z,ee,ln,"","\\setminus",!0);D(z,ee,ln,"","\\land");D(z,ee,ln,"","\\lor");D(z,ee,ln,"","\\wedge",!0);D(z,ee,ln,"","\\vee",!0);D(z,ee,qe,"","\\surd");D(z,ee,Ka,"","\\langle",!0);D(z,ee,Ka,"","\\lvert");D(z,ee,Ka,"","\\lVert");D(z,ee,ra,"?","?");D(z,ee,ra,"!","!");D(z,ee,ra,"","\\rangle",!0);D(z,ee,ra,"","\\rvert");D(z,ee,ra,"","\\rVert");D(z,ee,Me,"=","=");D(z,ee,Me,":",":");D(z,ee,Me,"","\\approx",!0);D(z,ee,Me,"","\\cong",!0);D(z,ee,Me,"","\\ge");D(z,ee,Me,"","\\geq",!0);D(z,ee,Me,"","\\gets");D(z,ee,Me,">","\\gt",!0);D(z,ee,Me,"","\\in",!0);D(z,ee,Me,"","\\@not");D(z,ee,Me,"","\\subset",!0);D(z,ee,Me,"","\\supset",!0);D(z,ee,Me,"","\\subseteq",!0);D(z,ee,Me,"","\\supseteq",!0);D(z,Pe,Me,"","\\nsubseteq",!0);D(z,Pe,Me,"","\\nsupseteq",!0);D(z,ee,Me,"","\\models");D(z,ee,Me,"","\\leftarrow",!0);D(z,ee,Me,"","\\le");D(z,ee,Me,"","\\leq",!0);D(z,ee,Me,"<","\\lt",!0);D(z,ee,Me,"","\\rightarrow",!0);D(z,ee,Me,"","\\to");D(z,Pe,Me,"","\\ngeq",!0);D(z,Pe,Me,"","\\nleq",!0);D(z,ee,Mc,"","\\ ");D(z,ee,Mc,"","\\space");D(z,ee,Mc,"","\\nobreakspace");D(At,ee,Mc,"","\\ ");D(At,ee,Mc,""," ");D(At,ee,Mc,"","\\space");D(At,ee,Mc,"","\\nobreakspace");D(z,ee,Mc,null,"\\nobreak");D(z,ee,Mc,null,"\\allowbreak");D(z,ee,$x,",",",");D(z,ee,$x,";",";");D(z,Pe,ln,"","\\barwedge",!0);D(z,Pe,ln,"","\\veebar",!0);D(z,ee,ln,"","\\odot",!0);D(z,ee,ln,"","\\oplus",!0);D(z,ee,ln,"","\\otimes",!0);D(z,ee,qe,"","\\partial",!0);D(z,ee,ln,"","\\oslash",!0);D(z,Pe,ln,"","\\circledcirc",!0);D(z,Pe,ln,"","\\boxdot",!0);D(z,ee,ln,"","\\bigtriangleup");D(z,ee,ln,"","\\bigtriangledown");D(z,ee,ln,"","\\dagger");D(z,ee,ln,"","\\diamond");D(z,ee,ln,"","\\star");D(z,ee,ln,"","\\triangleleft");D(z,ee,ln,"","\\triangleright");D(z,ee,Ka,"{","\\{");D(At,ee,qe,"{","\\{");D(At,ee,qe,"{","\\textbraceleft");D(z,ee,ra,"}","\\}");D(At,ee,qe,"}","\\}");D(At,ee,qe,"}","\\textbraceright");D(z,ee,Ka,"{","\\lbrace");D(z,ee,ra,"}","\\rbrace");D(z,ee,Ka,"[","\\lbrack",!0);D(At,ee,qe,"[","\\lbrack",!0);D(z,ee,ra,"]","\\rbrack",!0);D(At,ee,qe,"]","\\rbrack",!0);D(z,ee,Ka,"(","\\lparen",!0);D(z,ee,ra,")","\\rparen",!0);D(At,ee,qe,"<","\\textless",!0);D(At,ee,qe,">","\\textgreater",!0);D(z,ee,Ka,"","\\lfloor",!0);D(z,ee,ra,"","\\rfloor",!0);D(z,ee,Ka,"","\\lceil",!0);D(z,ee,ra,"","\\rceil",!0);D(z,ee,qe,"\\","\\backslash");D(z,ee,qe,"","|");D(z,ee,qe,"","\\vert");D(At,ee,qe,"|","\\textbar",!0);D(z,ee,qe,"","\\|");D(z,ee,qe,"","\\Vert");D(At,ee,qe,"","\\textbardbl");D(At,ee,qe,"~","\\textasciitilde");D(At,ee,qe,"\\","\\textbackslash");D(At,ee,qe,"^","\\textasciicircum");D(z,ee,Me,"","\\uparrow",!0);D(z,ee,Me,"","\\Uparrow",!0);D(z,ee,Me,"","\\downarrow",!0);D(z,ee,Me,"","\\Downarrow",!0);D(z,ee,Me,"","\\updownarrow",!0);D(z,ee,Me,"","\\Updownarrow",!0);D(z,ee,Zi,"","\\coprod");D(z,ee,Zi,"","\\bigvee");D(z,ee,Zi,"","\\bigwedge");D(z,ee,Zi,"","\\biguplus");D(z,ee,Zi,"","\\bigcap");D(z,ee,Zi,"","\\bigcup");D(z,ee,Zi,"","\\int");D(z,ee,Zi,"","\\intop");D(z,ee,Zi,"","\\iint");D(z,ee,Zi,"","\\iiint");D(z,ee,Zi,"","\\prod");D(z,ee,Zi,"","\\sum");D(z,ee,Zi,"","\\bigotimes");D(z,ee,Zi,"","\\bigoplus");D(z,ee,Zi,"","\\bigodot");D(z,ee,Zi,"","\\oint");D(z,ee,Zi,"","\\oiint");D(z,ee,Zi,"","\\oiiint");D(z,ee,Zi,"","\\bigsqcup");D(z,ee,Zi,"","\\smallint");D(At,ee,xp,"","\\textellipsis");D(z,ee,xp,"","\\mathellipsis");D(At,ee,xp,"","\\ldots",!0);D(z,ee,xp,"","\\ldots",!0);D(z,ee,xp,"","\\@cdots",!0);D(z,ee,xp,"","\\ddots",!0);D(z,ee,qe,"","\\varvdots");D(At,ee,qe,"","\\varvdots");D(z,ee,hi,"","\\acute");D(z,ee,hi,"","\\grave");D(z,ee,hi,"","\\ddot");D(z,ee,hi,"~","\\tilde");D(z,ee,hi,"","\\bar");D(z,ee,hi,"","\\breve");D(z,ee,hi,"","\\check");D(z,ee,hi,"^","\\hat");D(z,ee,hi,"","\\vec");D(z,ee,hi,"","\\dot");D(z,ee,hi,"","\\mathring");D(z,ee,Rn,"","\\@imath");D(z,ee,Rn,"","\\@jmath");D(z,ee,qe,"","");D(z,ee,qe,"","");D(At,ee,qe,"","\\i",!0);D(At,ee,qe,"","\\j",!0);D(At,ee,qe,"","\\ss",!0);D(At,ee,qe,"","\\ae",!0);D(At,ee,qe,"","\\oe",!0);D(At,ee,qe,"","\\o",!0);D(At,ee,qe,"","\\AE",!0);D(At,ee,qe,"","\\OE",!0);D(At,ee,qe,"","\\O",!0);D(At,ee,hi,"","\\'");D(At,ee,hi,"","\\`");D(At,ee,hi,"","\\^");D(At,ee,hi,"","\\~");D(At,ee,hi,"","\\=");D(At,ee,hi,"","\\u");D(At,ee,hi,"","\\.");D(At,ee,hi,"","\\c");D(At,ee,hi,"","\\r");D(At,ee,hi,"","\\v");D(At,ee,hi,"",'\\"');D(At,ee,hi,"","\\H");D(At,ee,hi,"","\\textcircled");var Vz={"--":!0,"---":!0,"``":!0,"''":!0};D(At,ee,qe,"","--",!0);D(At,ee,qe,"","\\textendash");D(At,ee,qe,"","---",!0);D(At,ee,qe,"","\\textemdash");D(At,ee,qe,"","`",!0);D(At,ee,qe,"","\\textquoteleft");D(At,ee,qe,"","'",!0);D(At,ee,qe,"","\\textquoteright");D(At,ee,qe,"","``",!0);D(At,ee,qe,"","\\textquotedblleft");D(At,ee,qe,"","''",!0);D(At,ee,qe,"","\\textquotedblright");D(z,ee,qe,"","\\degree",!0);D(At,ee,qe,"","\\degree");D(At,ee,qe,"","\\textdegree",!0);D(z,ee,qe,"","\\pounds");D(z,ee,qe,"","\\mathsterling",!0);D(At,ee,qe,"","\\pounds");D(At,ee,qe,"","\\textsterling",!0);D(z,Pe,qe,"","\\maltese");D(At,Pe,qe,"","\\maltese");var s_='0123456789/@."';for(var M2=0;M2<s_.length;M2++){var l_=s_.charAt(M2);D(z,ee,qe,l_,l_)}var c_='0123456789!@*()-=+";:?/.,';for(var O2=0;O2<c_.length;O2++){var u_=c_.charAt(O2);D(At,ee,qe,u_,u_)}var c1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var D2=0;D2<c1.length;D2++){var cy=c1.charAt(D2);D(z,ee,Rn,cy,cy),D(At,ee,qe,cy,cy)}D(z,Pe,qe,"C","");D(At,Pe,qe,"C","");D(z,Pe,qe,"H","");D(At,Pe,qe,"H","");D(z,Pe,qe,"N","");D(At,Pe,qe,"N","");D(z,Pe,qe,"P","");D(At,Pe,qe,"P","");D(z,Pe,qe,"Q","");D(At,Pe,qe,"Q","");D(z,Pe,qe,"R","");D(At,Pe,qe,"R","");D(z,Pe,qe,"Z","");D(At,Pe,qe,"Z","");D(z,ee,Rn,"h","");D(At,ee,Rn,"h","");var Dn="";for(var No=0;No<c1.length;No++){var Ai=c1.charAt(No);Dn=String.fromCharCode(55349,56320+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56372+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56424+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56580+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56684+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56736+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56788+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56840+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56944+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),No<26&&(Dn=String.fromCharCode(55349,56632+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn),Dn=String.fromCharCode(55349,56476+No),D(z,ee,Rn,Ai,Dn),D(At,ee,qe,Ai,Dn))}Dn="";D(z,ee,Rn,"k",Dn);D(At,ee,qe,"k",Dn);for(var yd=0;yd<10;yd++){var qc=yd.toString();Dn=String.fromCharCode(55349,57294+yd),D(z,ee,Rn,qc,Dn),D(At,ee,qe,qc,Dn),Dn=String.fromCharCode(55349,57314+yd),D(z,ee,Rn,qc,Dn),D(At,ee,qe,qc,Dn),Dn=String.fromCharCode(55349,57324+yd),D(z,ee,Rn,qc,Dn),D(At,ee,qe,qc,Dn),Dn=String.fromCharCode(55349,57334+yd),D(z,ee,Rn,qc,Dn),D(At,ee,qe,qc,Dn)}var SS="";for(var F2=0;F2<SS.length;F2++){var uy=SS.charAt(F2);D(z,ee,Rn,uy,uy),D(At,ee,qe,uy,uy)}var dy=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],d_=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],sEe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[dy[s][2],dy[s][a]]}else if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[d_[l][2],d_[l][a]]}else{if(o===120485||o===120486)return[dy[0][2],dy[0][a]];if(120486<o&&o<120782)return["",""];throw new Mt("Unsupported character: "+e)}},Bx=function(e,n,r){return ri[r][e]&&ri[r][e].replace&&(e=ri[r][e].replace),{value:e,metrics:T3(e,n,r)}},Cs=function(e,n,r,i,o){var a=Bx(e,n,r),s=a.metrics;e=a.value;var l;if(s){var c=s.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new ss(e,s.height,s.depth,c,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new ss(e,0,0,0,0,0,o);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},lEe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Bx(e,"Main-Bold",n).metrics?Cs(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ri[n][e].font==="main"?Cs(e,"Main-Regular",n,r,i):Cs(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},cEe=function(e,n,r,i,o){return o!=="textord"&&Bx(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},uEe=function(e,n,r){var i=e.mode,o=e.text,a=["mord"],s=i==="math"||i==="text"&&n.font,l=s?n.font:n.fontFamily,c="",u="";if(o.charCodeAt(0)===55349&&([c,u]=sEe(o,i)),c.length>0)return Cs(o,c,i,n,a.concat(u));if(l){var d,h;if(l==="boldsymbol"){var f=cEe(o,i,n,a,r);d=f.fontName,h=[f.fontClass]}else s?(d=Kz[l].fontName,h=[l]):(d=hy(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(Bx(o,d,i).metrics)return Cs(o,d,i,n,a.concat(h));if(Vz.hasOwnProperty(o)&&d.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<o.length;g++)p.push(Cs(o[g],d,i,n,a.concat(h)));return qz(p)}}if(r==="mathord")return Cs(o,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var m=ri[i][o]&&ri[i][o].font;if(m==="ams"){var y=hy("amsrm",n.fontWeight,n.fontShape);return Cs(o,y,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(m==="main"||!m){var b=hy("textrm",n.fontWeight,n.fontShape);return Cs(o,b,i,n,a.concat(n.fontWeight,n.fontShape))}else{var x=hy(m,n.fontWeight,n.fontShape);return Cs(o,x,i,n,a.concat(x,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},dEe=(t,e)=>{if(Uu(t.classes)!==Uu(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},hEe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof ss&&r instanceof ss&&dEe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},_3=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var a=e.children[o];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},ua=function(e,n,r,i){var o=new sv(e,n,r,i);return _3(o),o},Wz=(t,e,n,r)=>new sv(t,e,n,r),fEe=function(e,n,r){var i=ua([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=jt(i.height),i.maxFontSize=1,i},pEe=function(e,n,r,i){var o=new R3(e,n,r,i);return _3(o),o},qz=function(e){var n=new av(e);return _3(n),n},mEe=function(e,n){return e instanceof av?ua([],[e],n):e},gEe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,a=1;a<n.length;a++){var s=-n[a].shift-o-n[a].elem.depth,l=s-(n[a-1].elem.height+n[a-1].elem.depth);o=o+s,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];u-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},vEe=function(e,n){for(var{children:r,depth:i}=gEe(e),o=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var l=s.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var c=ua(["pstrut"],[]);c.style.height=jt(o);for(var u=[],d=i,h=i,f=i,p=0;p<r.length;p++){var g=r[p];if(g.type==="kern")f+=g.size;else{var m=g.elem,y=g.wrapperClasses||[],b=g.wrapperStyle||{},x=ua(y,[c,m],void 0,b);x.style.top=jt(-o-f-m.depth),g.marginLeft&&(x.style.marginLeft=g.marginLeft),g.marginRight&&(x.style.marginRight=g.marginRight),u.push(x),f+=m.height+m.depth}d=Math.min(d,f),h=Math.max(h,f)}var w=ua(["vlist"],u);w.style.height=jt(h);var C;if(d<0){var S=ua([],[]),A=ua(["vlist"],[S]);A.style.height=jt(-d);var T=ua(["vlist-s"],[new ss("")]);C=[ua(["vlist-r"],[w,T]),ua(["vlist-r"],[A])]}else C=[ua(["vlist-r"],[w])];var k=ua(["vlist-t"],C);return C.length===2&&k.classes.push("vlist-t2"),k.height=h,k.depth=-d,k},yEe=(t,e)=>{var n=ua(["mspace"],[],e),r=vi(t,e);return n.style.marginRight=jt(r),n},hy=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},Kz={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Gz={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},bEe=function(e,n){var[r,i,o]=Gz[e],a=new ju(r),s=new xc([a],{width:jt(i),height:jt(o),style:"width:"+jt(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Wz(["overlay"],[s],n);return l.height=o,l.style.height=jt(o),l.style.width=jt(i),l},nt={fontMap:Kz,makeSymbol:Cs,mathsym:lEe,makeSpan:ua,makeSvgSpan:Wz,makeLineSpan:fEe,makeAnchor:pEe,makeFragment:qz,wrapFragment:mEe,makeVList:vEe,makeOrd:uEe,makeGlue:yEe,staticSvg:bEe,svgData:Gz,tryCombineChars:hEe},pi={number:3,unit:"mu"},bd={number:4,unit:"mu"},jl={number:5,unit:"mu"},xEe={mord:{mop:pi,mbin:bd,mrel:jl,minner:pi},mop:{mord:pi,mop:pi,mrel:jl,minner:pi},mbin:{mord:bd,mop:bd,mopen:bd,minner:bd},mrel:{mord:jl,mop:jl,mopen:jl,minner:jl},mopen:{},mclose:{mop:pi,mbin:bd,mrel:jl,minner:pi},mpunct:{mord:pi,mop:pi,mrel:jl,mopen:pi,mclose:pi,mpunct:pi,minner:pi},minner:{mord:pi,mop:pi,mbin:bd,mrel:jl,mopen:pi,mpunct:pi,minner:pi}},wEe={mord:{mop:pi},mop:{mord:pi,mop:pi},mbin:{},mrel:{},mopen:{},mclose:{mop:pi},mpunct:{},minner:{mop:pi}},Yz={},u1={},d1={};function nn(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)Yz[n[l]]=s;e&&(o&&(u1[e]=o),a&&(d1[e]=a))}function Sh(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;nn({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var h1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ui=function(e){return e.type==="ordgroup"?e.body:[e]},wc=nt.makeSpan,CEe=["leftmost","mbin","mopen","mrel","mop","mpunct"],AEe=["rightmost","mrel","mclose","mpunct"],SEe={display:_n.DISPLAY,text:_n.TEXT,script:_n.SCRIPT,scriptscript:_n.SCRIPTSCRIPT},kEe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},lo=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],a=0;a<e.length;a++){var s=kr(e[a],n);if(s instanceof av){var l=s.children;o.push(...l)}else o.push(s)}if(nt.tryCombineChars(o),!r)return o;var c=n;if(e.length===1){var u=e[0];u.type==="sizing"?c=n.havingSize(u.size):u.type==="styling"&&(c=n.havingStyle(SEe[u.style]))}var d=wc([i[0]||"leftmost"],[],n),h=wc([i[1]||"rightmost"],[],n),f=r==="root";return h_(o,(p,g)=>{var m=g.classes[0],y=p.classes[0];m==="mbin"&&AEe.includes(y)?g.classes[0]="mord":y==="mbin"&&CEe.includes(m)&&(p.classes[0]="mord")},{node:d},h,f),h_(o,(p,g)=>{var m=kS(g),y=kS(p),b=m&&y?p.hasClass("mtight")?wEe[m][y]:xEe[m][y]:null;if(b)return nt.makeGlue(b,c)},{node:d},h,f),o},h_=function t(e,n,r,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=Xz(s);if(l){t(l.children,n,r,null,o);continue}var c=!s.hasClass("mspace");if(c){var u=n(s,r.node);u&&(r.insertAfter?r.insertAfter(u):(e.unshift(u),a++))}c?r.node=s:o&&s.hasClass("newline")&&(r.node=wc(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),a++})(a)}i&&e.pop()},Xz=function(e){return e instanceof av||e instanceof R3||e instanceof sv&&e.hasClass("enclosing")?e:null},EEe=function t(e,n){var r=Xz(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},kS=function(e,n){return e?(n&&(e=EEe(e,n)),kEe[e.classes[0]]||null):null},pg=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return wc(n.concat(r))},kr=function(e,n,r){if(!e)return wc();if(u1[e.type]){var i=u1[e.type](e,n);if(r&&n.size!==r.size){i=wc(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new Mt("Got group of unknown type: '"+e.type+"'")};function fy(t,e){var n=wc(["base"],t,e),r=wc(["strut"]);return r.style.height=jt(n.height+n.depth),n.depth&&(r.style.verticalAlign=jt(-n.depth)),n.children.unshift(r),n}function ES(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=lo(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],a=[],s=0;s<r.length;s++)if(a.push(r[s]),r[s].hasClass("mbin")||r[s].hasClass("mrel")||r[s].hasClass("allowbreak")){for(var l=!1;s<r.length-1&&r[s+1].hasClass("mspace")&&!r[s+1].hasClass("newline");)s++,a.push(r[s]),r[s].hasClass("nobreak")&&(l=!0);l||(o.push(fy(a,e)),a=[])}else r[s].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(fy(a,e)),a=[]),o.push(r[s]));a.length>0&&o.push(fy(a,e));var c;n?(c=fy(lo(n,e,!0)),c.classes=["tag"],o.push(c)):i&&o.push(i);var u=wc(["katex-html"],o);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=jt(u.height+u.depth),u.depth&&(d.style.verticalAlign=jt(-u.depth))}return u}function Qz(t){return new av(t)}class Ia{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Uu(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof gl&&this.children[r+1]instanceof gl){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof gl;)i+=this.children[++r].toText();e.appendChild(new gl(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=_r.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+_r.escape(Uu(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class gl{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return _r.escape(this.toText())}toText(){return this.text}}class TEe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",jt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+jt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var It={MathNode:Ia,TextNode:gl,SpaceNode:TEe,newDocumentFragment:Qz},ls=function(e,n,r){return ri[n][e]&&ri[n][e].replace&&e.charCodeAt(0)!==55349&&!(Vz.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ri[n][e].replace),new It.TextNode(e)},P3=function(e){return e.length===1?e[0]:new It.MathNode("mrow",e)},I3=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;ri[i][o]&&ri[i][o].replace&&(o=ri[i][o].replace);var a=nt.fontMap[r].fontName;return T3(o,a,i)?nt.fontMap[r].variant:null};function $2(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof gl&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof gl&&n.text===","}else return!1}var Sa=function(e,n,r){if(e.length===1){var i=ei(e[0],n);return r&&i instanceof Ia&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],a,s=0;s<e.length;s++){var l=ei(e[s],n);if(l instanceof Ia&&a instanceof Ia){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if($2(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&$2(a))l.children=[...a.children,...l.children],o.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||$2(a))){var c=l.children[0];c instanceof Ia&&c.type==="mn"&&(c.children=[...a.children,...c.children],o.pop())}else if(a.type==="mi"&&a.children.length===1){var u=a.children[0];if(u instanceof gl&&u.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof gl&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),o.pop())}}}o.push(l),a=l}return o},Vu=function(e,n,r){return P3(Sa(e,n,r))},ei=function(e,n){if(!e)return new It.MathNode("mrow");if(d1[e.type]){var r=d1[e.type](e,n);return r}else throw new Mt("Got group of unknown type: '"+e.type+"'")};function f_(t,e,n,r,i){var o=Sa(t,n),a;o.length===1&&o[0]instanceof Ia&&["mrow","mtable"].includes(o[0].type)?a=o[0]:a=new It.MathNode("mrow",o);var s=new It.MathNode("annotation",[new It.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new It.MathNode("semantics",[a,s]),c=new It.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return nt.makeSpan([u],[c])}var Zz=function(e){return new Zl({style:e.displayMode?_n.DISPLAY:_n.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Jz=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=nt.makeSpan(r,[e])}return e},REe=function(e,n,r){var i=Zz(r),o;if(r.output==="mathml")return f_(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=ES(e,i);o=nt.makeSpan(["katex"],[a])}else{var s=f_(e,n,i,r.displayMode,!1),l=ES(e,i);o=nt.makeSpan(["katex"],[s,l])}return Jz(o,r)},_Ee=function(e,n,r){var i=Zz(r),o=ES(e,i),a=nt.makeSpan(["katex"],[o]);return Jz(a,r)},PEe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},IEe=function(e){var n=new It.MathNode("mo",[new It.TextNode(PEe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},LEe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},MEe=function(e){return e.type==="ordgroup"?e.body.length:1},OEe=function(e,n){function r(){var s=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var c=e,u=MEe(c.base),d,h,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,f=.42,h=l+"4"):(d=312,s=2340,f=.34,h="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],h=l+p):(s=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new ju(h),m=new xc([g],{width:"100%",height:jt(f),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:nt.makeSvgSpan([],[m],n),minWidth:0,height:f}}else{var y=[],b=LEe[l],[x,w,C]=b,S=C/1e3,A=x.length,T,k;if(A===1){var E=b[3];T=["hide-tail"],k=[E]}else if(A===2)T=["halfarrow-left","halfarrow-right"],k=["xMinYMin","xMaxYMin"];else if(A===3)T=["brace-left","brace-center","brace-right"],k=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+A+" children.");for(var P=0;P<A;P++){var _=new ju(x[P]),F=new xc([_],{width:"400em",height:jt(S),viewBox:"0 0 "+s+" "+C,preserveAspectRatio:k[P]+" slice"}),N=nt.makeSvgSpan([T[P]],[F],n);if(A===1)return{span:N,minWidth:w,height:S};N.style.height=jt(S),y.push(N)}return{span:nt.makeSpan(["stretchy"],y,n),minWidth:w,height:S}}}var{span:i,minWidth:o,height:a}=r();return i.height=a,i.style.height=jt(a),o>0&&(i.style.minWidth=jt(o)),i},DEe=function(e,n,r,i,o){var a,s=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=nt.makeSpan(["stretchy",n],[],o),n==="fbox"){var l=o.color&&o.getColor();l&&(a.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new AS({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new AS({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new xc(c,{width:"100%",height:jt(s)});a=nt.makeSvgSpan([],[u],o)}return a.height=s,a.style.height=jt(s),a},Cc={encloseSpan:DEe,mathMLnode:IEe,svgSpan:OEe};function nr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function L3(t){var e=Nx(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Nx(t){return t&&(t.type==="atom"||aEe.hasOwnProperty(t.type))?t:null}var M3=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=nr(t.base,"accent"),n=r.base,t.base=n,i=iEe(kr(t,e)),t.base=r):(r=nr(t,"accent"),n=r.base);var o=kr(n,e.havingCrampedStyle()),a=r.isShifty&&_r.isCharacterBox(n),s=0;if(a){var l=_r.getBaseElem(n),c=kr(l,e.havingCrampedStyle());s=a_(c).skew}var u=r.label==="\\c",d=u?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=Cc.svgSpan(r,e),h=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+jt(2*s)+")",marginLeft:jt(2*s)}:void 0}]},e);else{var f,p;r.label==="\\vec"?(f=nt.staticSvg("vec",e),p=nt.svgData.vec[1]):(f=nt.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=a_(f),f.italic=0,p=f.width,u&&(d+=f.depth)),h=nt.makeSpan(["accent-body"],[f]);var g=r.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=o.height);var m=s;g||(m-=p/2),h.style.left=jt(m),r.label==="\\textcircled"&&(h.style.top=".2em"),h=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var y=nt.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},eH=(t,e)=>{var n=t.isStretchy?Cc.mathMLnode(t.label):new It.MathNode("mo",[ls(t.label,t.mode)]),r=new It.MathNode("mover",[ei(t.base,e),n]);return r.setAttribute("accent","true"),r},FEe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));nn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=h1(e[0]),r=!FEe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:M3,mathmlBuilder:eH});nn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:M3,mathmlBuilder:eH});nn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=kr(t.base,e),r=Cc.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=nt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return nt.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=Cc.mathMLnode(t.label),r=new It.MathNode("munder",[ei(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var py=t=>{var e=new It.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};nn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=nt.wrapFragment(kr(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=nt.wrapFragment(kr(t.below,r,e),e),a.classes.push(o+"-arrow-pad"));var s=Cc.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*s.height,c=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*s.height+.111;u=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:s,shift:l},{type:"elem",elem:a,shift:d}]},e)}else u=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:s,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),nt.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Cc.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=py(ei(t.body,e));if(t.below){var o=py(ei(t.below,e));r=new It.MathNode("munderover",[n,o,i])}else r=new It.MathNode("mover",[n,i])}else if(t.below){var a=py(ei(t.below,e));r=new It.MathNode("munder",[n,a])}else r=py(),r=new It.MathNode("mover",[n,r]);return r}});var $Ee=nt.makeSpan;function tH(t,e){var n=lo(t.body,e,!0);return $Ee([t.mclass],n,e)}function nH(t,e){var n,r=Sa(t.body,e);return t.mclass==="minner"?n=new It.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new It.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new It.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}nn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ui(i),isCharacterBox:_r.isCharacterBox(i)}},htmlBuilder:tH,mathmlBuilder:nH});var zx=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};nn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:zx(e[0]),body:Ui(e[1]),isCharacterBox:_r.isCharacterBox(e[1])}}});nn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],a;r!=="\\stackrel"?a=zx(i):a="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ui(i)},l={type:"supsub",mode:o.mode,base:s,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:_r.isCharacterBox(l)}},htmlBuilder:tH,mathmlBuilder:nH});nn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:zx(e[0]),body:Ui(e[0])}},htmlBuilder(t,e){var n=lo(t.body,e,!0),r=nt.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Sa(t.body,e),r=new It.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var BEe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},p_=()=>({type:"styling",body:[],mode:"math",style:"display"}),m_=t=>t.type==="textord"&&t.text==="@",NEe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function zEe(t,e,n){var r=BEe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[o],[]),s=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,s]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function HEe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Mt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var a=e[o],s=p_(),l=0;l<a.length;l++)if(!m_(a[l]))s.body.push(a[l]);else{r.push(s),l+=1;var c=L3(a[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<a.length;f++){if(NEe(a[f],c)){h=!1,l=f;break}if(m_(a[f]))throw new Mt("Missing a "+c+" character to complete a CD arrow.",a[f]);u[d].body.push(a[f])}if(h)throw new Mt("Missing a "+c+" character to complete a CD arrow.",a[l])}else throw new Mt('Expected one of "<>AV=|." after @',a[l]);var p=zEe(c,u,t),g={type:"styling",body:[p],mode:"math",style:"display"};r.push(g),s=p_()}o%2===0?r.push(s):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var m=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:m,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}nn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=nt.wrapFragment(kr(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=jt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new It.MathNode("mrow",[ei(t.label,e)]);return n=new It.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new It.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});nn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=nt.wrapFragment(kr(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new It.MathNode("mrow",[ei(t.fragment,e)])}});nn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=nr(e[0],"ordgroup"),i=r.body,o="",a=0;a<i.length;a++){var s=nr(i[a],"textord");o+=s.text}var l=parseInt(o),c;if(isNaN(l))throw new Mt("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new Mt("\\@char with invalid code point "+o);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var rH=(t,e)=>{var n=lo(t.body,e.withColor(t.color),!1);return nt.makeFragment(n)},iH=(t,e)=>{var n=Sa(t.body,e.withColor(t.color)),r=new It.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};nn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=nr(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ui(i)}},htmlBuilder:rH,mathmlBuilder:iH});nn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=nr(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:rH,mathmlBuilder:iH});nn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&nr(i,"size").value}},htmlBuilder(t,e){var n=nt.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=jt(vi(t.size,e)))),n},mathmlBuilder(t,e){var n=new It.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",jt(vi(t.size,e)))),n}});var TS={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},oH=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Mt("Expected a control sequence",t);return e},UEe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},aH=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};nn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(TS[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=TS[r.text]),nr(e.parseFunction(),"internal");throw new Mt("Invalid token after macro prefix",r)}});nn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Mt("Expected a control sequence",r);for(var o=0,a,s=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),s[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Mt('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new Mt('Argument number "'+r.text+'" out of order');o++,s.push([])}else{if(r.text==="EOF")throw new Mt("Expected a macro definition");s[o].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:o,delimiters:s},n===TS[n]),{type:"internal",mode:e.mode}}});nn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=oH(e.gullet.popToken());e.gullet.consumeSpaces();var i=UEe(e);return aH(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});nn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=oH(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return aH(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var C0=function(e,n,r){var i=ri.math[e]&&ri.math[e].replace,o=T3(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},O3=function(e,n,r,i){var o=r.havingBaseStyle(n),a=nt.makeSpan(i.concat(o.sizingClasses(r)),[e],r),s=o.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=o.sizeMultiplier,a},sH=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=jt(o),e.height-=o,e.depth+=o},jEe=function(e,n,r,i,o,a){var s=nt.makeSymbol(e,"Main-Regular",o,i),l=O3(s,n,i,a);return r&&sH(l,i,n),l},VEe=function(e,n,r,i){return nt.makeSymbol(e,"Size"+n+"-Regular",r,i)},lH=function(e,n,r,i,o,a){var s=VEe(e,n,o,i),l=O3(nt.makeSpan(["delimsizing","size"+n],[s],i),_n.TEXT,i,a);return r&&sH(l,i,_n.TEXT),l},B2=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=nt.makeSpan(["delimsizinginner",i],[nt.makeSpan([],[nt.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},N2=function(e,n,r){var i=ml["Size4-Regular"][e.charCodeAt(0)]?ml["Size4-Regular"][e.charCodeAt(0)][4]:ml["Size1-Regular"][e.charCodeAt(0)][4],o=new ju("inner",Y5e(e,Math.round(1e3*n))),a=new xc([o],{width:jt(i),height:jt(n),style:"width:"+jt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=nt.makeSvgSpan([],[a],r);return s.height=n,s.style.height=jt(n),s.style.width=jt(i),{type:"elem",elem:s}},RS=.008,my={type:"kern",size:-1*RS},WEe=["|","\\lvert","\\rvert","\\vert"],qEe=["\\|","\\lVert","\\rVert","\\Vert"],cH=function(e,n,r,i,o,a){var s,l,c,u,d="",h=0;s=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="":e==="\\Uparrow"?c=u="":e==="\\downarrow"?s=c="":e==="\\Downarrow"?s=c="":e==="\\updownarrow"?(s="\\uparrow",c="",u="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",c="",u="\\Downarrow"):WEe.includes(e)?(c="",d="vert",h=333):qEe.includes(e)?(c="",d="doublevert",h=556):e==="["||e==="\\lbrack"?(s="",c="",u="",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(s="",c="",u="",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e===""?(c=s="",u="",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e===""?(s="",c=u="",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e===""?(c=s="",u="",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e===""?(s="",c=u="",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(s="",c="",u="",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(s="",c="",u="",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(s="",l="",u="",c="",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="",l="",u="",c="",f="Size4-Regular"):e==="\\lgroup"||e===""?(s="",u="",c="",f="Size4-Regular"):e==="\\rgroup"||e===""?(s="",u="",c="",f="Size4-Regular"):e==="\\lmoustache"||e===""?(s="",u="",c="",f="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(s="",u="",c="",f="Size4-Regular");var p=C0(s,f,o),g=p.height+p.depth,m=C0(c,f,o),y=m.height+m.depth,b=C0(u,f,o),x=b.height+b.depth,w=0,C=1;if(l!==null){var S=C0(l,f,o);w=S.height+S.depth,C=2}var A=g+x+w,T=Math.max(0,Math.ceil((n-A)/(C*y))),k=A+T*C*y,E=i.fontMetrics().axisHeight;r&&(E*=i.sizeMultiplier);var P=k/2-E,_=[];if(d.length>0){var F=k-g-x,N=Math.round(k*1e3),W=X5e(d,Math.round(F*1e3)),G=new ju(d,W),Z=(h/1e3).toFixed(3)+"em",ie=(N/1e3).toFixed(3)+"em",he=new xc([G],{width:Z,height:ie,viewBox:"0 0 "+h+" "+N}),xe=nt.makeSvgSpan([],[he],i);xe.height=N/1e3,xe.style.width=Z,xe.style.height=ie,_.push({type:"elem",elem:xe})}else{if(_.push(B2(u,f,o)),_.push(my),l===null){var Q=k-g-x+2*RS;_.push(N2(c,Q,i))}else{var X=(k-g-x-w)/2+2*RS;_.push(N2(c,X,i)),_.push(my),_.push(B2(l,f,o)),_.push(my),_.push(N2(c,X,i))}_.push(my),_.push(B2(s,f,o))}var K=i.havingBaseStyle(_n.TEXT),ne=nt.makeVList({positionType:"bottom",positionData:P,children:_},K);return O3(nt.makeSpan(["delimsizing","mult"],[ne],K),_n.TEXT,i,a)},z2=80,H2=.08,U2=function(e,n,r,i,o){var a=G5e(e,i,r),s=new ju(e,a),l=new xc([s],{width:"400em",height:jt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return nt.makeSvgSpan(["hide-tail"],[l],o)},KEe=function(e,n){var r=n.havingBaseSizing(),i=fH("\\surd",e*r.sizeMultiplier,hH,r),o=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*a+z2,e<1?o=1:e<1.4&&(o=.7),l=(1+a+H2)/o,c=(1+a)/o,s=U2("sqrtMain",l,u,a,n),s.style.minWidth="0.853em",d=.833/o):i.type==="large"?(u=(1e3+z2)*$m[i.size],c=($m[i.size]+a)/o,l=($m[i.size]+a+H2)/o,s=U2("sqrtSize"+i.size,l,u,a,n),s.style.minWidth="1.02em",d=1/o):(l=e+a+H2,c=e+a,u=Math.floor(1e3*e+a)+z2,s=U2("sqrtTall",l,u,a,n),s.style.minWidth="0.742em",d=1.056),s.height=c,s.style.height=jt(l),{span:s,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*o}},uH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],GEe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],dH=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],$m=[0,1.2,1.8,2.4,3],YEe=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),uH.includes(e)||dH.includes(e))return lH(e,n,!1,r,i,o);if(GEe.includes(e))return cH(e,$m[n],!1,r,i,o);throw new Mt("Illegal delimiter: '"+e+"'")},XEe=[{type:"small",style:_n.SCRIPTSCRIPT},{type:"small",style:_n.SCRIPT},{type:"small",style:_n.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],QEe=[{type:"small",style:_n.SCRIPTSCRIPT},{type:"small",style:_n.SCRIPT},{type:"small",style:_n.TEXT},{type:"stack"}],hH=[{type:"small",style:_n.SCRIPTSCRIPT},{type:"small",style:_n.SCRIPT},{type:"small",style:_n.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ZEe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},fH=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),a=o;a<r.length&&r[a].type!=="stack";a++){var s=C0(e,ZEe(r[a]),"math"),l=s.height+s.depth;if(r[a].type==="small"){var c=i.havingBaseStyle(r[a].style);l*=c.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},pH=function(e,n,r,i,o,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var s;dH.includes(e)?s=XEe:uH.includes(e)?s=hH:s=QEe;var l=fH(e,n,s,i);return l.type==="small"?jEe(e,l.style,r,i,o,a):l.type==="large"?lH(e,l.size,r,i,o,a):cH(e,n,r,i,o,a)},JEe=function(e,n,r,i,o,a){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(n-s,r+s),d=Math.max(u/500*l,2*u-c);return pH(e,d,!0,i,o,a)},dc={sqrtImage:KEe,sizedDelim:YEe,sizeToMaxHeight:$m,customSizedDelim:pH,leftRightDelim:JEe},g_={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},eTe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Hx(t,e){var n=Nx(t);if(n&&eTe.includes(n.text))return n;throw n?new Mt("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Mt("Invalid delimiter type '"+t.type+"'",t)}nn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Hx(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:g_[t.funcName].size,mclass:g_[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?nt.makeSpan([t.mclass]):dc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ls(t.delim,t.mode));var n=new It.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=jt(dc.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function v_(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Mt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Hx(e[0],t).text,color:n}}});nn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Hx(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=nr(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{v_(t);for(var n=lo(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,a=0;a<n.length;a++)n[a].isMiddle?o=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(t.left==="."?s=pg(e,["mopen"]):s=dc.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(s),o)for(var l=1;l<n.length;l++){var c=n[l],u=c.isMiddle;u&&(n[l]=dc.leftRightDelim(u.delim,r,i,u.options,t.mode,[]))}var d;if(t.right===".")d=pg(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=dc.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(d),nt.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{v_(t);var n=Sa(t.body,e);if(t.left!=="."){var r=new It.MathNode("mo",[ls(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new It.MathNode("mo",[ls(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return P3(n)}});nn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Hx(e[0],t);if(!t.parser.leftrightDepth)throw new Mt("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=pg(e,[]);else{n=dc.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ls("|","text"):ls(t.delim,t.mode),r=new It.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var D3=(t,e)=>{var n=nt.wrapFragment(kr(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,a=0,s=_r.isCharacterBox(t.body);if(r==="sout")o=nt.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=vi({number:.6,unit:"pt"},e),c=vi({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=jt(d/2+l);var h=Math.floor(1e3*d*i),f=q5e(h),p=new xc([new ju("phase",f)],{width:"400em",height:jt(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=nt.makeSvgSpan(["hide-tail"],[p],e),o.style.height=jt(d),a=n.depth+l+c}else{/cancel/.test(r)?s||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,m=0,y=0;/box/.test(r)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:y),m=g):r==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*y,m=Math.max(0,.25-n.depth)):(g=s?.2:0,m=g),o=Cc.encloseSpan(n,r,g,m,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=jt(y)):r==="angl"&&y!==.049&&(o.style.borderTopWidth=jt(y),o.style.borderRightWidth=jt(y)),a=n.depth+m,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var b;if(t.backgroundColor)b=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var x=/cancel|phase/.test(r)?["svg-align"]:[];b=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:a,wrapperClasses:x}]},e)}return/cancel/.test(r)&&(b.height=n.height,b.depth=n.depth),/cancel/.test(r)&&!s?nt.makeSpan(["mord","cancel-lap"],[b],e):nt.makeSpan(["mord"],[b],e)},F3=(t,e)=>{var n=0,r=new It.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ei(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};nn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=nr(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:D3,mathmlBuilder:F3});nn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=nr(e[0],"color-token").color,a=nr(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:D3,mathmlBuilder:F3});nn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});nn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:D3,mathmlBuilder:F3});nn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var mH={};function Dl(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)mH[n[l]]=s;o&&(u1[e]=o),a&&(d1[e]=a)}var gH={};function de(t,e){gH[t]=e}function y_(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Ux=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Mt("{"+t.envName+"} can be used only in display mode.")};function $3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function nd(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new Mt("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],g=[p],m=[],y=[],b=l!=null?[]:void 0;function x(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function w(){b&&(t.gullet.macros.get("\\df@tag")?(b.push(t.subparse([new Fa("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),y.push(y_(t));;){var C=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),C={type:"ordgroup",mode:t.mode,body:C},n&&(C={type:"styling",mode:t.mode,style:n,body:[C]}),p.push(C);var S=t.fetch().text;if(S==="&"){if(d&&p.length===d){if(c||s)throw new Mt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(S==="\\end"){w(),p.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!u)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(S==="\\\\"){t.consume();var A=void 0;t.gullet.future().text!==" "&&(A=t.parseSizeGroup(!0)),m.push(A?A.value:null),w(),y.push(y_(t)),p=[],g.push(p),x()}else throw new Mt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:g,cols:o,rowGaps:m,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:s,tags:b,leqno:h}}function B3(t){return t.slice(0,1)==="d"?"display":"text"}var Fl=function(e,n){var r,i,o=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(o),c=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=n.havingStyle(_n.SCRIPT).sizeMultiplier;h=.2778*(f/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?vi({number:3,unit:"ex"},n):12*d,g=3*d,m=e.arraystretch*p,y=.7*m,b=.3*m,x=0;function w(se){for(var be=0;be<se.length;++be)be>0&&(x+=.25),c.push({pos:x,isDashed:se[be]})}for(w(a[0]),r=0;r<e.body.length;++r){var C=e.body[r],S=y,A=b;s<C.length&&(s=C.length);var T=new Array(C.length);for(i=0;i<C.length;++i){var k=kr(C[i],n);A<k.depth&&(A=k.depth),S<k.height&&(S=k.height),T[i]=k}var E=e.rowGaps[r],P=0;E&&(P=vi(E,n),P>0&&(P+=b,A<P&&(A=P),P=0)),e.addJot&&(A+=g),T.height=S,T.depth=A,x+=S,T.pos=x,x+=A+P,l[r]=T,w(a[r+1])}var _=x/2+n.fontMetrics().axisHeight,F=e.cols||[],N=[],W,G,Z=[];if(e.tags&&e.tags.some(se=>se))for(r=0;r<o;++r){var ie=l[r],he=ie.pos-_,xe=e.tags[r],Q=void 0;xe===!0?Q=nt.makeSpan(["eqn-num"],[],n):xe===!1?Q=nt.makeSpan([],[],n):Q=nt.makeSpan([],lo(xe,n,!0),n),Q.depth=ie.depth,Q.height=ie.height,Z.push({type:"elem",elem:Q,shift:he})}for(i=0,G=0;i<s||G<F.length;++i,++G){for(var X=F[G]||{},K=!0;X.type==="separator";){if(K||(W=nt.makeSpan(["arraycolsep"],[]),W.style.width=jt(n.fontMetrics().doubleRuleSep),N.push(W)),X.separator==="|"||X.separator===":"){var ne=X.separator==="|"?"solid":"dashed",ve=nt.makeSpan(["vertical-separator"],[],n);ve.style.height=jt(x),ve.style.borderRightWidth=jt(u),ve.style.borderRightStyle=ne,ve.style.margin="0 "+jt(-u/2);var Se=x-_;Se&&(ve.style.verticalAlign=jt(-Se)),N.push(ve)}else throw new Mt("Invalid separator type: "+X.separator);G++,X=F[G]||{},K=!1}if(!(i>=s)){var ye=void 0;(i>0||e.hskipBeforeAndAfter)&&(ye=_r.deflt(X.pregap,h),ye!==0&&(W=nt.makeSpan(["arraycolsep"],[]),W.style.width=jt(ye),N.push(W)));var Be=[];for(r=0;r<o;++r){var J=l[r],Ue=J[i];if(Ue){var Qe=J.pos-_;Ue.depth=J.depth,Ue.height=J.height,Be.push({type:"elem",elem:Ue,shift:Qe})}}Be=nt.makeVList({positionType:"individualShift",children:Be},n),Be=nt.makeSpan(["col-align-"+(X.align||"c")],[Be]),N.push(Be),(i<s-1||e.hskipBeforeAndAfter)&&(ye=_r.deflt(X.postgap,h),ye!==0&&(W=nt.makeSpan(["arraycolsep"],[]),W.style.width=jt(ye),N.push(W)))}}if(l=nt.makeSpan(["mtable"],N),c.length>0){for(var ae=nt.makeLineSpan("hline",n,u),fe=nt.makeLineSpan("hdashline",n,u),ke=[{type:"elem",elem:l,shift:0}];c.length>0;){var Ke=c.pop(),Ne=Ke.pos-_;Ke.isDashed?ke.push({type:"elem",elem:fe,shift:Ne}):ke.push({type:"elem",elem:ae,shift:Ne})}l=nt.makeVList({positionType:"individualShift",children:ke},n)}if(Z.length===0)return nt.makeSpan(["mord"],[l],n);var Ae=nt.makeVList({positionType:"individualShift",children:Z},n);return Ae=nt.makeSpan(["tag"],[Ae],n),nt.makeFragment([l,Ae])},tTe={c:"center ",l:"left ",r:"right "},$l=function(e,n){for(var r=[],i=new It.MathNode("mtd",[],["mtr-glue"]),o=new It.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],l=[],c=0;c<s.length;c++)l.push(new It.MathNode("mtd",[ei(s[c],n)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(o):l.push(o)),r.push(new It.MathNode("mtr",l))}var u=new It.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",jt(d));var h="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,g="",m=!1,y=0,b=p.length;p[0].type==="separator"&&(h+="top ",y=1),p[p.length-1].type==="separator"&&(h+="bottom ",b-=1);for(var x=y;x<b;x++)p[x].type==="align"?(f+=tTe[p[x].align],m&&(g+="none "),m=!0):p[x].type==="separator"&&m&&(g+=p[x].separator==="|"?"solid ":"dashed ",m=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],C="",S=1;S<w.length;S++)C+=S%2?"0em ":"1em ";u.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var A="",T=e.hLinesBeforeRow;h+=T[0].length>0?"left ":"",h+=T[T.length-1].length>0?"right ":"";for(var k=1;k<T.length-1;k++)A+=T[k].length===0?"none ":T[k][0]?"dashed ":"solid ";return/[sd]/.test(A)&&u.setAttribute("rowlines",A.trim()),h!==""&&(u=new It.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new It.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},vH=function(e,n){e.envName.indexOf("ed")===-1&&Ux(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",a=nd(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:$3(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",d=0;d<n[0].body.length;d++){var h=nr(n[0].body[d],"textord");u+=h.text}s=Number(u),l=s*2}var f=!l;a.body.forEach(function(y){for(var b=1;b<y.length;b+=2){var x=nr(y[b],"styling"),w=nr(x.body[0],"ordgroup");w.body.unshift(c)}if(f)l<y.length&&(l=y.length);else{var C=y.length/2;if(s<C)throw new Mt("Too many math in a row: "+("expected "+s+", but got "+C),y[0])}});for(var p=0;p<l;++p){var g="r",m=0;p%2===1?g="l":p>0&&f&&(m=1),r[p]={type:"align",align:g,pregap:m,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};Dl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Nx(e[0]),r=n?[e[0]]:nr(e[0],"ordgroup").body,i=r.map(function(a){var s=L3(a),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Mt("Unknown column alignment: "+l,a)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return nd(t.parser,o,B3(t.envName))},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Mt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=nd(t.parser,r,B3(t.envName)),a=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=nd(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Nx(e[0]),r=n?[e[0]]:nr(e[0],"ordgroup").body,i=r.map(function(a){var s=L3(a),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Mt("Unknown column alignment: "+l,a)});if(i.length>1)throw new Mt("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=nd(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new Mt("{subarray} can contain only one column");return o},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=nd(t.parser,e,B3(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:vH,htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Ux(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return nd(t.parser,e,"display")},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:vH,htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Ux(t);var e={autoTag:$3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return nd(t.parser,e,"display")},htmlBuilder:Fl,mathmlBuilder:$l});Dl({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Ux(t),HEe(t.parser)},htmlBuilder:Fl,mathmlBuilder:$l});de("\\nonumber","\\gdef\\@eqnsw{0}");de("\\notag","\\nonumber");nn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Mt(t.funcName+" valid only within array environment")}});var b_=mH;nn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Mt("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=nr(i.body[a],"textord").text;if(r==="\\begin"){if(!b_.hasOwnProperty(o))throw new Mt("No such environment: "+o,i);var s=b_[o],{args:l,optArgs:c}=n.parseArguments("\\begin{"+o+"}",s),u={mode:n.mode,envName:o,parser:n},d=s.handler(u,l,c);n.expect("\\end",!1);var h=n.nextToken,f=nr(n.parseFunction(),"environment");if(f.name!==o)throw new Mt("Mismatch: \\begin{"+o+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var yH=(t,e)=>{var n=t.font,r=e.withFont(n);return kr(t.body,r)},bH=(t,e)=>{var n=t.font,r=e.withFont(n);return ei(t.body,r)},x_={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=h1(e[0]),o=r;return o in x_&&(o=x_[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:yH,mathmlBuilder:bH});nn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=_r.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:zx(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});nn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,a=n.parseExpression(!0,i),s="math"+r.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:yH,mathmlBuilder:bH});var xH=(t,e)=>{var n=e;return t==="display"?n=n.id>=_n.SCRIPT.id?n.text():_n.DISPLAY:t==="text"&&n.size===_n.DISPLAY.size?n=_n.TEXT:t==="script"?n=_n.SCRIPT:t==="scriptscript"&&(n=_n.SCRIPTSCRIPT),n},N3=(t,e)=>{var n=xH(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var a=kr(t.numer,o,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}o=e.havingStyle(i);var c=kr(t.denom,o,e),u,d,h;t.hasBarLine?(t.barSize?(d=vi(t.barSize,e),u=nt.makeLineSpan("frac-line",e,d)):u=nt.makeLineSpan("frac-line",e),d=u.height,h=u.height):(u=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,p,g;n.size===_n.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*h:p=7*h,g=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=h):(f=e.fontMetrics().num3,p=3*h),g=e.fontMetrics().denom2);var m;if(u){var b=e.fontMetrics().axisHeight;f-a.depth-(b+.5*d)<p&&(f+=p-(f-a.depth-(b+.5*d))),b-.5*d-(c.height-g)<p&&(g+=p-(b-.5*d-(c.height-g)));var x=-(b-.5*d);m=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:u,shift:x},{type:"elem",elem:a,shift:-f}]},e)}else{var y=f-a.depth-(c.height-g);y<p&&(f+=.5*(p-y),g+=.5*(p-y)),m=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:a,shift:-f}]},e)}o=e.havingStyle(n),m.height*=o.sizeMultiplier/e.sizeMultiplier,m.depth*=o.sizeMultiplier/e.sizeMultiplier;var w;n.size===_n.DISPLAY.size?w=e.fontMetrics().delim1:n.size===_n.SCRIPTSCRIPT.size?w=e.havingStyle(_n.SCRIPT).fontMetrics().delim2:w=e.fontMetrics().delim2;var C,S;return t.leftDelim==null?C=pg(e,["mopen"]):C=dc.customSizedDelim(t.leftDelim,w,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?S=nt.makeSpan([]):t.rightDelim==null?S=pg(e,["mclose"]):S=dc.customSizedDelim(t.rightDelim,w,!0,e.havingStyle(n),t.mode,["mclose"]),nt.makeSpan(["mord"].concat(o.sizingClasses(e)),[C,nt.makeSpan(["mfrac"],[m]),S],e)},z3=(t,e)=>{var n=new It.MathNode("mfrac",[ei(t.numer,e),ei(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=vi(t.barSize,e);n.setAttribute("linethickness",jt(r))}var i=xH(t.size,e.style);if(i.size!==e.style.size){n=new It.MathNode("mstyle",[n]);var o=i.size===_n.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var s=new It.MathNode("mo",[new It.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),t.rightDelim!=null){var l=new It.MathNode("mo",[new It.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return P3(a)}return n};nn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],a,s=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,s="(",l=")";break;case"\\\\bracefrac":a=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:a,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:N3,mathmlBuilder:z3});nn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});nn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var w_=["display","text","script","scriptscript"],C_=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};nn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=h1(e[0]),a=o.type==="atom"&&o.family==="open"?C_(o.text):null,s=h1(e[1]),l=s.type==="atom"&&s.family==="close"?C_(s.text):null,c=nr(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=nr(f.body[0],"textord");h=w_[Number(p.text)]}}else f=nr(f,"textord"),h=w_[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:a,rightDelim:l,size:h}},htmlBuilder:N3,mathmlBuilder:z3});nn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:nr(e[0],"size").value,token:i}}});nn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=I5e(nr(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:N3,mathmlBuilder:z3});var wH=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?kr(t.sup,e.havingStyle(n.sup()),e):kr(t.sub,e.havingStyle(n.sub()),e),i=nr(t.base,"horizBrace")):i=nr(t,"horizBrace");var o=kr(i.base,e.havingBaseStyle(_n.DISPLAY)),a=Cc.svgSpan(i,e),s;if(i.isOver?(s=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=nt.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),r){var l=nt.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):s=nt.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return nt.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},nTe=(t,e)=>{var n=Cc.mathMLnode(t.label);return new It.MathNode(t.isOver?"mover":"munder",[ei(t.base,e),n])};nn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:wH,mathmlBuilder:nTe});nn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=nr(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ui(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=lo(t.body,e,!1);return nt.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Vu(t.body,e);return n instanceof Ia||(n=new Ia("mrow",[n])),n.setAttribute("href",t.href),n}});nn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=nr(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ui(s)}}});nn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ui(e[0])}},htmlBuilder(t,e){var n=lo(t.body,e,!1);return nt.makeFragment(n)},mathmlBuilder(t,e){return new It.MathNode("mrow",Sa(t.body,e))}});nn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=nr(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(r){case"\\htmlClass":l.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var c=o.split(","),u=0;u<c.length;u++){var d=c[u],h=d.indexOf("=");if(h<0)throw new Mt("\\htmlData key/value '"+d+"' missing equals sign");var f=d.slice(0,h),p=d.slice(h+1);l["data-"+f.trim()]=p}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:l,body:Ui(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=lo(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=nt.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Vu(t.body,e)});nn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ui(e[0]),mathml:Ui(e[1])}},htmlBuilder:(t,e)=>{var n=lo(t.html,e,!1);return nt.makeFragment(n)},mathmlBuilder:(t,e)=>Vu(t.mathml,e)});var j2=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Mt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!zz(r))throw new Mt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};nn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(n[0])for(var l=nr(n[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":s=h;break;case"width":i=j2(h);break;case"height":o=j2(h);break;case"totalheight":a=j2(h);break;default:throw new Mt("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=nr(e[0],"url").url;return s===""&&(s=f,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:a,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=vi(t.height,e),r=0;t.totalheight.number>0&&(r=vi(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=vi(t.width,e));var o={height:jt(n+r)};i>0&&(o.width=jt(i)),r>0&&(o.verticalAlign=jt(-r));var a=new nEe(t.src,t.alt,o);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new It.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=vi(t.height,e),i=0;if(t.totalheight.number>0&&(i=vi(t.totalheight,e)-r,n.setAttribute("valign",jt(-i))),n.setAttribute("height",jt(r+i)),t.width.number>0){var o=vi(t.width,e);n.setAttribute("width",jt(o))}return n.setAttribute("src",t.src),n}});nn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=nr(e[0],"size");if(n.settings.strict){var o=r[1]==="m",a=i.value.unit==="mu";o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return nt.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=vi(t.dimension,e);return new It.SpaceNode(n)}});nn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=nt.makeSpan([],[kr(t.body,e)]),n=nt.makeSpan(["inner"],[n],e)):n=nt.makeSpan(["inner"],[kr(t.body,e)]);var r=nt.makeSpan(["fix"],[]),i=nt.makeSpan([t.alignment],[n,r],e),o=nt.makeSpan(["strut"]);return o.style.height=jt(i.height+i.depth),i.depth&&(o.style.verticalAlign=jt(-i.depth)),i.children.unshift(o),i=nt.makeSpan(["thinbox"],[i],e),nt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new It.MathNode("mpadded",[ei(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});nn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});nn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Mt("Mismatched "+t.funcName)}});var A_=(t,e)=>{switch(e.style.size){case _n.DISPLAY.size:return t.display;case _n.TEXT.size:return t.text;case _n.SCRIPT.size:return t.script;case _n.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};nn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ui(e[0]),text:Ui(e[1]),script:Ui(e[2]),scriptscript:Ui(e[3])}},htmlBuilder:(t,e)=>{var n=A_(t,e),r=lo(n,e,!1);return nt.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=A_(t,e);return Vu(n,e)}});var CH=(t,e,n,r,i,o,a)=>{t=nt.makeSpan([],[t]);var s=n&&_r.isCharacterBox(n),l,c;if(e){var u=kr(e,r.havingStyle(i.sup()),r);c={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=kr(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(c&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;h=nt.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:jt(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:jt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=t.height-a;h=nt.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:jt(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var g=t.depth+a;h=nt.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:jt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var m=[h];if(l&&o!==0&&!s){var y=nt.makeSpan(["mspace"],[],r);y.style.marginRight=jt(o),m.unshift(y)}return nt.makeSpan(["mop","op-limits"],m,r)},AH=["\\smallint"],wp=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=nr(t.base,"op"),i=!0):o=nr(t,"op");var a=e.style,s=!1;a.size===_n.DISPLAY.size&&o.symbol&&!AH.includes(o.name)&&(s=!0);var l;if(o.symbol){var c=s?"Size2-Regular":"Size1-Regular",u="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(u=o.name.slice(1),o.name=u==="oiint"?"\\iint":"\\iiint"),l=nt.makeSymbol(o.name,c,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),u.length>0){var d=l.italic,h=nt.staticSvg(u+"Size"+(s?"2":"1"),e);l=nt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:s?.08:0}]},e),o.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(o.body){var f=lo(o.body,e,!0);f.length===1&&f[0]instanceof ss?(l=f[0],l.classes[0]="mop"):l=nt.makeSpan(["mop"],f,e)}else{for(var p=[],g=1;g<o.name.length;g++)p.push(nt.mathsym(o.name[g],o.mode,e));l=nt.makeSpan(["mop"],p,e)}var m=0,y=0;return(l instanceof ss||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(m=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?CH(l,n,r,e,a,y,m):(m&&(l.style.position="relative",l.style.top=jt(m)),l)},lv=(t,e)=>{var n;if(t.symbol)n=new Ia("mo",[ls(t.name,t.mode)]),AH.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ia("mo",Sa(t.body,e));else{n=new Ia("mi",[new gl(t.name.slice(1))]);var r=new Ia("mo",[ls("","text")]);t.parentIsSupSub?n=new Ia("mrow",[n,r]):n=Qz([n,r])}return n},rTe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};nn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=rTe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:wp,mathmlBuilder:lv});nn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ui(r)}},htmlBuilder:wp,mathmlBuilder:lv});var iTe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};nn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:wp,mathmlBuilder:lv});nn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:wp,mathmlBuilder:lv});nn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=iTe[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:wp,mathmlBuilder:lv});var SH=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=nr(t.base,"operatorname"),i=!0):o=nr(t,"operatorname");var a;if(o.body.length>0){for(var s=o.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=lo(s,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof ss&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=nt.makeSpan(["mop"],l,e)}else a=nt.makeSpan(["mop"],[],e);return i?CH(a,n,r,e,e.style,0,0):a},oTe=(t,e)=>{for(var n=Sa(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof It.SpaceNode))if(o instanceof It.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=o.children[0];o.children.length===1&&a instanceof It.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var s=n.map(u=>u.toText()).join("");n=[new It.TextNode(s)]}var l=new It.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new It.MathNode("mo",[ls("","text")]);return t.parentIsSupSub?new It.MathNode("mrow",[l,c]):It.newDocumentFragment([l,c])};nn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ui(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:SH,mathmlBuilder:oTe});de("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Sh({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?nt.makeFragment(lo(t.body,e,!1)):nt.makeSpan(["mord"],lo(t.body,e,!0),e)},mathmlBuilder(t,e){return Vu(t.body,e,!0)}});nn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=kr(t.body,e.havingCrampedStyle()),r=nt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return nt.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new It.MathNode("mo",[new It.TextNode("")]);n.setAttribute("stretchy","true");var r=new It.MathNode("mover",[ei(t.body,e),n]);return r.setAttribute("accent","true"),r}});nn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ui(r)}},htmlBuilder:(t,e)=>{var n=lo(t.body,e.withPhantom(),!1);return nt.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Sa(t.body,e);return new It.MathNode("mphantom",n)}});nn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=nt.makeSpan([],[kr(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),nt.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Sa(Ui(t.body),e),r=new It.MathNode("mphantom",n),i=new It.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});nn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=nt.makeSpan(["inner"],[kr(t.body,e.withPhantom())]),r=nt.makeSpan(["fix"],[]);return nt.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Sa(Ui(t.body),e),r=new It.MathNode("mphantom",n),i=new It.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});nn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=nr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=kr(t.body,e),r=vi(t.dy,e);return nt.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new It.MathNode("mpadded",[ei(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});nn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});nn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=nr(e[0],"size"),a=nr(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&nr(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var n=nt.makeSpan(["mord","rule"],[],e),r=vi(t.width,e),i=vi(t.height,e),o=t.shift?vi(t.shift,e):0;return n.style.borderRightWidth=jt(r),n.style.borderTopWidth=jt(i),n.style.bottom=jt(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=vi(t.width,e),r=vi(t.height,e),i=t.shift?vi(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new It.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",jt(n)),a.setAttribute("height",jt(r));var s=new It.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",jt(i)):(s.setAttribute("height",jt(i)),s.setAttribute("depth",jt(-i))),s.setAttribute("voffset",jt(i)),s}});function kH(t,e,n){for(var r=lo(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+e.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return nt.makeFragment(r)}var S_=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],aTe=(t,e)=>{var n=e.havingSize(t.size);return kH(t.body,n,e)};nn({type:"sizing",names:S_,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:S_.indexOf(r)+1,body:o}},htmlBuilder:aTe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Sa(t.body,n),i=new It.MathNode("mstyle",r);return i.setAttribute("mathsize",jt(n.sizeMultiplier)),i}});nn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,a=n[0]&&nr(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){var c=a.body[l];if(s=c.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var u=e[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=nt.makeSpan([],[kr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return nt.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new It.MathNode("mpadded",[ei(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});nn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=kr(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=nt.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<_n.TEXT.id&&(o=e.fontMetrics().xHeight);var a=i+o/4,s=n.height+n.depth+a+i,{span:l,ruleWidth:c,advanceWidth:u}=dc.sqrtImage(s,e),d=l.height-c;d>n.height+n.depth+a&&(a=(a+d-n.height-n.depth)/2);var h=l.height-n.height-a-c;n.style.paddingLeft=jt(u);var f=nt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(_n.SCRIPTSCRIPT),g=kr(t.index,p,e),m=.6*(f.height-f.depth),y=nt.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:g}]},e),b=nt.makeSpan(["root"],[y]);return nt.makeSpan(["mord","sqrt"],[b,f],e)}else return nt.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new It.MathNode("mroot",[ei(n,e),ei(r,e)]):new It.MathNode("msqrt",[ei(n,e)])}});var k_={display:_n.DISPLAY,text:_n.TEXT,script:_n.SCRIPT,scriptscript:_n.SCRIPTSCRIPT};nn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var n=k_[t.style],r=e.havingStyle(n).withFont("");return kH(t.body,r,e)},mathmlBuilder(t,e){var n=k_[t.style],r=e.havingStyle(n),i=Sa(t.body,r),o=new It.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=a[t.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var sTe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===_n.DISPLAY.size||r.alwaysHandleSupSub);return i?wp:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===_n.DISPLAY.size||r.limits);return o?SH:null}else{if(r.type==="accent")return _r.isCharacterBox(r.base)?M3:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?wH:null}else return null}else return null};Sh({type:"supsub",htmlBuilder(t,e){var n=sTe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,a=kr(r,e),s,l,c=e.fontMetrics(),u=0,d=0,h=r&&_r.isCharacterBox(r);if(i){var f=e.havingStyle(e.style.sup());s=kr(i,f,e),h||(u=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(o){var p=e.havingStyle(e.style.sub());l=kr(o,p,e),h||(d=a.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var g;e.style===_n.DISPLAY?g=c.sup1:e.style.cramped?g=c.sup3:g=c.sup2;var m=e.sizeMultiplier,y=jt(.5/c.ptPerEm/m),b=null;if(l){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ss||x)&&(b=jt(-a.italic))}var w;if(s&&l){u=Math.max(u,g,s.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var C=c.defaultRuleThickness,S=4*C;if(u-s.depth-(l.height-d)<S){d=S-(u-s.depth)+l.height;var A=.8*c.xHeight-(u-s.depth);A>0&&(u+=A,d-=A)}var T=[{type:"elem",elem:l,shift:d,marginRight:y,marginLeft:b},{type:"elem",elem:s,shift:-u,marginRight:y}];w=nt.makeVList({positionType:"individualShift",children:T},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var k=[{type:"elem",elem:l,marginLeft:b,marginRight:y}];w=nt.makeVList({positionType:"shift",positionData:d,children:k},e)}else if(s)u=Math.max(u,g,s.depth+.25*c.xHeight),w=nt.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:s,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var E=kS(a,"right")||"mord";return nt.makeSpan([E],[a,nt.makeSpan(["msupsub"],[w])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ei(t.base,e)];t.sub&&o.push(ei(t.sub,e)),t.sup&&o.push(ei(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===_n.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===_n.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===_n.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===_n.DISPLAY)?a="munder":a="msub"}else{var s=t.base;s&&s.type==="op"&&s.limits&&(e.style===_n.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===_n.DISPLAY)?a="mover":a="msup"}return new It.MathNode(a,o)}});Sh({type:"atom",htmlBuilder(t,e){return nt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new It.MathNode("mo",[ls(t.text,t.mode)]);if(t.family==="bin"){var r=I3(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var EH={mi:"italic",mn:"normal",mtext:"normal"};Sh({type:"mathord",htmlBuilder(t,e){return nt.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new It.MathNode("mi",[ls(t.text,t.mode,e)]),r=I3(t,e)||"italic";return r!==EH[n.type]&&n.setAttribute("mathvariant",r),n}});Sh({type:"textord",htmlBuilder(t,e){return nt.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ls(t.text,t.mode,e),r=I3(t,e)||"normal",i;return t.mode==="text"?i=new It.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new It.MathNode("mn",[n]):t.text==="\\prime"?i=new It.MathNode("mo",[n]):i=new It.MathNode("mi",[n]),r!==EH[i.type]&&i.setAttribute("mathvariant",r),i}});var V2={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},W2={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Sh({type:"spacing",htmlBuilder(t,e){if(W2.hasOwnProperty(t.text)){var n=W2[t.text].className||"";if(t.mode==="text"){var r=nt.makeOrd(t,e,"textord");return r.classes.push(n),r}else return nt.makeSpan(["mspace",n],[nt.mathsym(t.text,t.mode,e)],e)}else{if(V2.hasOwnProperty(t.text))return nt.makeSpan(["mspace",V2[t.text]],[],e);throw new Mt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(W2.hasOwnProperty(t.text))n=new It.MathNode("mtext",[new It.TextNode("")]);else{if(V2.hasOwnProperty(t.text))return new It.MathNode("mspace");throw new Mt('Unknown type of space "'+t.text+'"')}return n}});var E_=()=>{var t=new It.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Sh({type:"tag",mathmlBuilder(t,e){var n=new It.MathNode("mtable",[new It.MathNode("mtr",[E_(),new It.MathNode("mtd",[Vu(t.body,e)]),E_(),new It.MathNode("mtd",[Vu(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var T_={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},R_={"\\textbf":"textbf","\\textmd":"textmd"},lTe={"\\textit":"textit","\\textup":"textup"},__=(t,e)=>{var n=t.font;if(n){if(T_[n])return e.withTextFontFamily(T_[n]);if(R_[n])return e.withTextFontWeight(R_[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(lTe[n])};nn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ui(i),font:r}},htmlBuilder(t,e){var n=__(t,e),r=lo(t.body,n,!0);return nt.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=__(t,e);return Vu(t.body,n)}});nn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=kr(t.body,e),r=nt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=nt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return nt.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new It.MathNode("mo",[new It.TextNode("")]);n.setAttribute("stretchy","true");var r=new It.MathNode("munder",[ei(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});nn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=kr(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return nt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new It.MathNode("mpadded",[ei(t.body,e)],["vcenter"])}});nn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Mt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=P_(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),r.push(nt.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return nt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),nt.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new It.TextNode(P_(t)),r=new It.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var P_=t=>t.body.replace(/ /g,t.star?"":""),bu=Yz,TH=`[ \r
	]`,cTe="\\\\[a-zA-Z@]+",uTe="\\\\[^\uD800-\uDFFF]",dTe="("+cTe+")"+TH+"*",hTe=`\\\\(
|[ \r	]+
?)[ \r	]*`,_S="[-]",fTe=new RegExp(_S+"+$"),pTe="("+TH+"+)|"+(hTe+"|")+"([!-\\[\\]---]"+(_S+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(_S+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+dTe)+("|"+uTe+")");class I_{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(pTe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Fa("EOF",new da(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Mt("Unexpected character: '"+e[n]+"'",new Fa(e[n],new da(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Fa(i,new da(this,n,this.tokenRegex.lastIndex))}}class mTe{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Mt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var gTe=gH;de("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});de("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});de("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});de("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});de("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});de("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");de("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var L_={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};de("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Mt("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=L_[e.text],r==null||r>=n)throw new Mt("Invalid base-"+n+" digit "+e.text);for(var i;(i=L_[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var H3=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Mt("\\newcommand's first argument must be a macro name");var o=i[0].text,a=t.isDefined(o);if(a&&!e)throw new Mt("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!a&&!n)throw new Mt("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Mt("Invalid number of arguments: "+l);s=parseInt(l),i=t.consumeArg().tokens}return a&&r||t.macros.set(o,{tokens:i,numArgs:s}),""};de("\\newcommand",t=>H3(t,!1,!0,!1));de("\\renewcommand",t=>H3(t,!0,!1,!1));de("\\providecommand",t=>H3(t,!0,!0,!0));de("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});de("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});de("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),bu[n],ri.math[n],ri.text[n]),""});de("\\bgroup","{");de("\\egroup","}");de("~","\\nobreakspace");de("\\lq","`");de("\\rq","'");de("\\aa","\\r a");de("\\AA","\\r A");de("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");de("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");de("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");de("","\\mathscr{B}");de("","\\mathscr{E}");de("","\\mathscr{F}");de("","\\mathscr{H}");de("","\\mathscr{I}");de("","\\mathscr{L}");de("","\\mathscr{M}");de("","\\mathscr{R}");de("","\\mathfrak{C}");de("","\\mathfrak{H}");de("","\\mathfrak{Z}");de("\\Bbbk","\\Bbb{k}");de("","\\cdotp");de("\\llap","\\mathllap{\\textrm{#1}}");de("\\rlap","\\mathrlap{\\textrm{#1}}");de("\\clap","\\mathclap{\\textrm{#1}}");de("\\mathstrut","\\vphantom{(}");de("\\underbar","\\underline{\\text{#1}}");de("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');de("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");de("\\ne","\\neq");de("","\\neq");de("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");de("","\\notin");de("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");de("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");de("","\\perp");de("","\\mathclose{!\\mkern-0.8mu!}");de("","\\notni");de("","\\ulcorner");de("","\\urcorner");de("","\\llcorner");de("","\\lrcorner");de("","\\copyright");de("","\\textregistered");de("","\\textregistered");de("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');de("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');de("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');de("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');de("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");de("","\\vdots");de("\\varGamma","\\mathit{\\Gamma}");de("\\varDelta","\\mathit{\\Delta}");de("\\varTheta","\\mathit{\\Theta}");de("\\varLambda","\\mathit{\\Lambda}");de("\\varXi","\\mathit{\\Xi}");de("\\varPi","\\mathit{\\Pi}");de("\\varSigma","\\mathit{\\Sigma}");de("\\varUpsilon","\\mathit{\\Upsilon}");de("\\varPhi","\\mathit{\\Phi}");de("\\varPsi","\\mathit{\\Psi}");de("\\varOmega","\\mathit{\\Omega}");de("\\substack","\\begin{subarray}{c}#1\\end{subarray}");de("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");de("\\boxed","\\fbox{$\\displaystyle{#1}$}");de("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");de("\\implies","\\DOTSB\\;\\Longrightarrow\\;");de("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");de("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");de("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var M_={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};de("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in M_?e=M_[n]:(n.slice(0,4)==="\\not"||n in ri.math&&["bin","rel"].includes(ri.math[n].group))&&(e="\\dotsb"),e});var U3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};de("\\dotso",function(t){var e=t.future().text;return e in U3?"\\ldots\\,":"\\ldots"});de("\\dotsc",function(t){var e=t.future().text;return e in U3&&e!==","?"\\ldots\\,":"\\ldots"});de("\\cdots",function(t){var e=t.future().text;return e in U3?"\\@cdots\\,":"\\@cdots"});de("\\dotsb","\\cdots");de("\\dotsm","\\cdots");de("\\dotsi","\\!\\cdots");de("\\dotsx","\\ldots\\,");de("\\DOTSI","\\relax");de("\\DOTSB","\\relax");de("\\DOTSX","\\relax");de("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");de("\\,","\\tmspace+{3mu}{.1667em}");de("\\thinspace","\\,");de("\\>","\\mskip{4mu}");de("\\:","\\tmspace+{4mu}{.2222em}");de("\\medspace","\\:");de("\\;","\\tmspace+{5mu}{.2777em}");de("\\thickspace","\\;");de("\\!","\\tmspace-{3mu}{.1667em}");de("\\negthinspace","\\!");de("\\negmedspace","\\tmspace-{4mu}{.2222em}");de("\\negthickspace","\\tmspace-{5mu}{.277em}");de("\\enspace","\\kern.5em ");de("\\enskip","\\hskip.5em\\relax");de("\\quad","\\hskip1em\\relax");de("\\qquad","\\hskip2em\\relax");de("\\tag","\\@ifstar\\tag@literal\\tag@paren");de("\\tag@paren","\\tag@literal{({#1})}");de("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Mt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});de("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");de("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");de("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");de("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");de("\\newline","\\\\\\relax");de("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var RH=jt(ml["Main-Regular"][84][1]-.7*ml["Main-Regular"][65][1]);de("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+RH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");de("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+RH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");de("\\hspace","\\@ifstar\\@hspacer\\@hspace");de("\\@hspace","\\hskip #1\\relax");de("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");de("\\ordinarycolon",":");de("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");de("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');de("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');de("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');de("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');de("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');de("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');de("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');de("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');de("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');de("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');de("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');de("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');de("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');de("","\\dblcolon");de("","\\eqcolon");de("","\\coloneqq");de("","\\eqqcolon");de("","\\Coloneqq");de("\\ratio","\\vcentcolon");de("\\coloncolon","\\dblcolon");de("\\colonequals","\\coloneqq");de("\\coloncolonequals","\\Coloneqq");de("\\equalscolon","\\eqqcolon");de("\\equalscoloncolon","\\Eqqcolon");de("\\colonminus","\\coloneq");de("\\coloncolonminus","\\Coloneq");de("\\minuscolon","\\eqcolon");de("\\minuscoloncolon","\\Eqcolon");de("\\coloncolonapprox","\\Colonapprox");de("\\coloncolonsim","\\Colonsim");de("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");de("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");de("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");de("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");de("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");de("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");de("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");de("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");de("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");de("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");de("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");de("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");de("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");de("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");de("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");de("\\ngeqq","\\html@mathml{\\@ngeqq}{}");de("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");de("\\nleqq","\\html@mathml{\\@nleqq}{}");de("\\nleqslant","\\html@mathml{\\@nleqslant}{}");de("\\nshortmid","\\html@mathml{\\@nshortmid}{}");de("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");de("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");de("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");de("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");de("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");de("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");de("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");de("\\imath","\\html@mathml{\\@imath}{}");de("\\jmath","\\html@mathml{\\@jmath}{}");de("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");de("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");de("","\\llbracket");de("","\\rrbracket");de("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");de("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");de("","\\lBrace");de("","\\rBrace");de("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");de("","\\minuso");de("\\darr","\\downarrow");de("\\dArr","\\Downarrow");de("\\Darr","\\Downarrow");de("\\lang","\\langle");de("\\rang","\\rangle");de("\\uarr","\\uparrow");de("\\uArr","\\Uparrow");de("\\Uarr","\\Uparrow");de("\\N","\\mathbb{N}");de("\\R","\\mathbb{R}");de("\\Z","\\mathbb{Z}");de("\\alef","\\aleph");de("\\alefsym","\\aleph");de("\\Alpha","\\mathrm{A}");de("\\Beta","\\mathrm{B}");de("\\bull","\\bullet");de("\\Chi","\\mathrm{X}");de("\\clubs","\\clubsuit");de("\\cnums","\\mathbb{C}");de("\\Complex","\\mathbb{C}");de("\\Dagger","\\ddagger");de("\\diamonds","\\diamondsuit");de("\\empty","\\emptyset");de("\\Epsilon","\\mathrm{E}");de("\\Eta","\\mathrm{H}");de("\\exist","\\exists");de("\\harr","\\leftrightarrow");de("\\hArr","\\Leftrightarrow");de("\\Harr","\\Leftrightarrow");de("\\hearts","\\heartsuit");de("\\image","\\Im");de("\\infin","\\infty");de("\\Iota","\\mathrm{I}");de("\\isin","\\in");de("\\Kappa","\\mathrm{K}");de("\\larr","\\leftarrow");de("\\lArr","\\Leftarrow");de("\\Larr","\\Leftarrow");de("\\lrarr","\\leftrightarrow");de("\\lrArr","\\Leftrightarrow");de("\\Lrarr","\\Leftrightarrow");de("\\Mu","\\mathrm{M}");de("\\natnums","\\mathbb{N}");de("\\Nu","\\mathrm{N}");de("\\Omicron","\\mathrm{O}");de("\\plusmn","\\pm");de("\\rarr","\\rightarrow");de("\\rArr","\\Rightarrow");de("\\Rarr","\\Rightarrow");de("\\real","\\Re");de("\\reals","\\mathbb{R}");de("\\Reals","\\mathbb{R}");de("\\Rho","\\mathrm{P}");de("\\sdot","\\cdot");de("\\sect","\\S");de("\\spades","\\spadesuit");de("\\sub","\\subset");de("\\sube","\\subseteq");de("\\supe","\\supseteq");de("\\Tau","\\mathrm{T}");de("\\thetasym","\\vartheta");de("\\weierp","\\wp");de("\\Zeta","\\mathrm{Z}");de("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");de("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");de("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");de("\\bra","\\mathinner{\\langle{#1}|}");de("\\ket","\\mathinner{|{#1}\\rangle}");de("\\braket","\\mathinner{\\langle{#1}\\rangle}");de("\\Bra","\\left\\langle#1\\right|");de("\\Ket","\\left|#1\\right\\rangle");var _H=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",a),i.length&&h.macros.set("\\|",s));var f=d;if(!d&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...o,...c,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};de("\\bra@ket",_H(!1));de("\\bra@set",_H(!0));de("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");de("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");de("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");de("\\angln","{\\angl n}");de("\\blue","\\textcolor{##6495ed}{#1}");de("\\orange","\\textcolor{##ffa500}{#1}");de("\\pink","\\textcolor{##ff00af}{#1}");de("\\red","\\textcolor{##df0030}{#1}");de("\\green","\\textcolor{##28ae7b}{#1}");de("\\gray","\\textcolor{gray}{#1}");de("\\purple","\\textcolor{##9d38bd}{#1}");de("\\blueA","\\textcolor{##ccfaff}{#1}");de("\\blueB","\\textcolor{##80f6ff}{#1}");de("\\blueC","\\textcolor{##63d9ea}{#1}");de("\\blueD","\\textcolor{##11accd}{#1}");de("\\blueE","\\textcolor{##0c7f99}{#1}");de("\\tealA","\\textcolor{##94fff5}{#1}");de("\\tealB","\\textcolor{##26edd5}{#1}");de("\\tealC","\\textcolor{##01d1c1}{#1}");de("\\tealD","\\textcolor{##01a995}{#1}");de("\\tealE","\\textcolor{##208170}{#1}");de("\\greenA","\\textcolor{##b6ffb0}{#1}");de("\\greenB","\\textcolor{##8af281}{#1}");de("\\greenC","\\textcolor{##74cf70}{#1}");de("\\greenD","\\textcolor{##1fab54}{#1}");de("\\greenE","\\textcolor{##0d923f}{#1}");de("\\goldA","\\textcolor{##ffd0a9}{#1}");de("\\goldB","\\textcolor{##ffbb71}{#1}");de("\\goldC","\\textcolor{##ff9c39}{#1}");de("\\goldD","\\textcolor{##e07d10}{#1}");de("\\goldE","\\textcolor{##a75a05}{#1}");de("\\redA","\\textcolor{##fca9a9}{#1}");de("\\redB","\\textcolor{##ff8482}{#1}");de("\\redC","\\textcolor{##f9685d}{#1}");de("\\redD","\\textcolor{##e84d39}{#1}");de("\\redE","\\textcolor{##bc2612}{#1}");de("\\maroonA","\\textcolor{##ffbde0}{#1}");de("\\maroonB","\\textcolor{##ff92c6}{#1}");de("\\maroonC","\\textcolor{##ed5fa6}{#1}");de("\\maroonD","\\textcolor{##ca337c}{#1}");de("\\maroonE","\\textcolor{##9e034e}{#1}");de("\\purpleA","\\textcolor{##ddd7ff}{#1}");de("\\purpleB","\\textcolor{##c6b9fc}{#1}");de("\\purpleC","\\textcolor{##aa87ff}{#1}");de("\\purpleD","\\textcolor{##7854ab}{#1}");de("\\purpleE","\\textcolor{##543b78}{#1}");de("\\mintA","\\textcolor{##f5f9e8}{#1}");de("\\mintB","\\textcolor{##edf2df}{#1}");de("\\mintC","\\textcolor{##e0e5cc}{#1}");de("\\grayA","\\textcolor{##f6f7f7}{#1}");de("\\grayB","\\textcolor{##f0f1f2}{#1}");de("\\grayC","\\textcolor{##e3e5e6}{#1}");de("\\grayD","\\textcolor{##d6d8da}{#1}");de("\\grayE","\\textcolor{##babec2}{#1}");de("\\grayF","\\textcolor{##888d93}{#1}");de("\\grayG","\\textcolor{##626569}{#1}");de("\\grayH","\\textcolor{##3b3e40}{#1}");de("\\grayI","\\textcolor{##21242c}{#1}");de("\\kaBlue","\\textcolor{##314453}{#1}");de("\\kaGreen","\\textcolor{##71B307}{#1}");var PH={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class vTe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new mTe(gTe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new I_(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Fa("EOF",r.loc)),this.pushTokens(i),new Fa("",da.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,a=0,s=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++a;else if(o.text==="}"){if(--a,a===-1)throw new Mt("Extra }",o)}else if(o.text==="EOF")throw new Mt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",o);if(e&&r)if((a===0||a===1&&e[s]==="{")&&o.text===e[s]){if(++s,s===e.length){n.splice(-s,s);break}}else s=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Mt("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new Mt("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(n&&n[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Mt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Mt("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var l=o[s];if(l.text==="#"){if(s===0)throw new Mt("Incomplete placeholder at end of macro body",l);if(l=o[--s],l.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(l.text))o.splice(s,2,...a[+l.text-1]);else throw new Mt("Not a valid argument number",l)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Fa(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var s=new I_(i,this.settings),l=[],c=s.lex();c.text!=="EOF";)l.push(c),c=s.lex();l.reverse();var u={tokens:l,numArgs:o};return u}return i}isDefined(e){return this.macros.has(e)||bu.hasOwnProperty(e)||ri.math.hasOwnProperty(e)||ri.text.hasOwnProperty(e)||PH.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:bu.hasOwnProperty(e)&&!bu[e].primitive}}var O_=/^[]/,gy=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),q2={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},D_={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class jx{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new vTe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Mt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Fa("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(jx.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&bu[i.text]&&bu[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Mt("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,a,s=e.slice(0,n),l=e.slice(n+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[o,e[n],a],[]):c=this.callFunction(r,[o,a],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new Mt("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var a=o.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new Mt("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new Mt("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new Mt("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new Mt("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(gy[o.text]){var c=O_.test(o.text),u=[];for(u.push(new Fa(gy[o.text])),this.consume();;){var d=this.fetch().text;if(!gy[d]||O_.test(d)!==c)break;u.unshift(new Fa(gy[d])),this.consume()}var h=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=bu[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new Mt("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new Mt("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new Mt("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,a,s,r,e)}callFunction(e,n,r,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=bu[e];if(s&&s.handler)return s.handler(a,n,r);throw new Mt("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<r;a++){var s=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&a===1&&o[0]==null)&&(s="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)o.push(c);else if(c!=null)i.push(c);else throw new Mt("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new Mt("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Mt("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Mt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",a;(a=this.fetch()).text!=="EOF"&&e.test(o+a.text);)i=a,o+=i.text,this.consume();if(o==="")throw new Mt("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Mt("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Mt("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!zz(o))throw new Mt("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:da.range(r,l),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!PH.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Mt("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:da.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:da.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:da.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Mt(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}D_.hasOwnProperty(n[0])&&!ri[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=D_[n[0]]+n.slice(1));var o=fTe.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var a;if(ri[this.mode][n]){this.settings.strict&&this.mode==="math"&&SS.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var s=ri[this.mode][n].group,l=da.range(e),c;if(oEe.hasOwnProperty(s)){var u=s;c={type:"atom",mode:this.mode,family:u,loc:l,text:n}}else c={type:s,mode:this.mode,loc:l,text:n};a=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Nz(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:da.range(e),text:n};else return null;if(this.consume(),o)for(var d=0;d<o[0].length;d++){var h=o[0][d];if(!q2[h])throw new Mt("Unknown accent ' "+h+"'",e);var f=q2[h][this.mode]||q2[h].text;if(!f)throw new Mt("Accent "+h+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:da.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}}jx.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var j3=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new jx(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Mt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Fa("\\df@tag")])}]}return i},IH=function(e,n,r){n.textContent="";var i=V3(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),IH=function(){throw new Mt("KaTeX doesn't work in quirks mode.")});var yTe=function(e,n){var r=V3(e,n).toMarkup();return r},bTe=function(e,n){var r=new k3(n);return j3(e,r)},LH=function(e,n,r){if(r.throwOnError||!(e instanceof Mt))throw e;var i=nt.makeSpan(["katex-error"],[new ss(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},V3=function(e,n){var r=new k3(n);try{var i=j3(e,r);return REe(i,e,r)}catch(o){return LH(o,e,r)}},xTe=function(e,n){var r=new k3(n);try{var i=j3(e,r);return _Ee(i,e,r)}catch(o){return LH(o,e,r)}},wTe="0.16.28",CTe={Span:sv,Anchor:R3,SymbolNode:ss,SvgNode:xc,PathNode:ju,LineNode:AS},ATe={version:wTe,render:IH,renderToString:yTe,ParseError:Mt,SETTINGS_SCHEMA:rb,__parse:bTe,__renderToDomTree:V3,__renderToHTMLTree:xTe,__setFontMetrics:Q5e,__defineSymbol:D,__defineFunction:nn,__defineMacro:de,__domTree:CTe};const STe=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n\$]))\1(?=[\s?!\.,:]|$)/,kTe=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n\$]))\1/,ETe=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function TTe(t={}){return{extensions:[RTe(t,F_(t,!1)),_Te(t,F_(t,!0))]}}function F_(t,e){return n=>ATe.renderToString(n.text,{...t,displayMode:n.displayMode})+(e?`
`:"")}function RTe(t,e){const n=t&&t.nonStandard,r=n?kTe:STe;return{name:"inlineKatex",level:"inline",start(i){let o,a=i;for(;a;){if(o=a.indexOf("$"),o===-1)return;if((n?o>-1:o===0||a.charAt(o-1)===" ")&&a.substring(o).match(r))return o;a=a.substring(o+1).replace(/^\$+/,"")}},tokenizer(i,o){const a=i.match(r);if(a)return{type:"inlineKatex",raw:a[0],text:a[2].trim(),displayMode:a[1].length===2}},renderer:e}}function _Te(t,e){return{name:"blockKatex",level:"block",tokenizer(n,r){const i=n.match(ETe);if(i)return{type:"blockKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}const PTe=["innerHTML"],ITe=le({__name:"index",setup(t){Fr.use(TTe());const e=_x(),n=V(""),r=V(""),i=async o=>{const a=await fetch(o);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.blob();r.value&&URL.revokeObjectURL(r.value),r.value=URL.createObjectURL(s);const l=await s.text();n.value=await Fr(l)};return jn(()=>{const o=e.query.src;o&&i(o)}),ir(()=>{r.value&&URL.revokeObjectURL(r.value)}),(o,a)=>(gn(),Pn("div",{innerHTML:n.value,class:"markdown-content"},null,8,PTe))}}),LTe=Object.freeze(Object.defineProperty({__proto__:null,default:ITe},Symbol.toStringTag,{value:"Module"})),MTe={class:"test-login"},OTe=le({__name:"index",setup(t){const e=Gke(),n=B4(),r=V(!1),i=V(null),o=new Sz,a=Tl({mobile:"",password:""}),s={mobile:[{required:!0,message:"",trigger:"blur"}],password:[{required:!0,message:"",trigger:"blur"}]},l=async()=>{var c;try{await((c=i.value)==null?void 0:c.validate()),r.value=!0;const u=await o.login({mobile:a.mobile,password:a.password}),d=u==null?void 0:u.data;d?(localStorage.setItem("token",d),n.success(""),setTimeout(()=>{e.push({path:"/"})},1e3)):n.error("")}catch{n.error("")}finally{r.value=!1}};return(c,u)=>(gn(),Pn("div",MTe,[ci(Di(g4),{class:"login-card",title:""},{default:iu(()=>[ci(Di(CF),{ref_key:"formRef",ref:i,model:a,rules:s},{default:iu(()=>[ci(Di(rg),{label:"",path:"mobile"},{default:iu(()=>[ci(Di(_i),{value:a.mobile,"onUpdate:value":u[0]||(u[0]=d=>a.mobile=d),placeholder:"",onKeydown:kE(l,["enter"])},null,8,["value"])]),_:1}),ci(Di(rg),{label:"",path:"password"},{default:iu(()=>[ci(Di(_i),{value:a.password,"onUpdate:value":u[1]||(u[1]=d=>a.password=d),type:"password","show-password-on":"click",placeholder:"",onKeydown:kE(l,["enter"])},null,8,["value"])]),_:1}),ci(Di(Qn),{type:"primary",block:"",loading:r.value,onClick:l},{default:iu(()=>[...u[2]||(u[2]=[Ru("  ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),ci(Di(tB),{depth:"3",style:{display:"block","margin-top":"16px","text-align":"center","font-size":"13px"}},{default:iu(()=>[...u[3]||(u[3]=[Ru("  ",-1)])]),_:1})]),_:1})]))}}),DTe=u3(OTe,[["__scopeId","data-v-6b5487a9"]]),FTe=Object.freeze(Object.defineProperty({__proto__:null,default:DTe},Symbol.toStringTag,{value:"Module"})),Zt=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},$Te=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=BTe},BTe=Number.MAX_SAFE_INTEGER||9007199254740991;let fn=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),et=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),q=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var sr={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},cn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Qh{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class NTe{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Qh(e),this.fast_=new Qh(n),this.defaultTTFB_=i,this.ttfb_=new Qh(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:o}=this;r.halfLife!==e&&(this.slow_=new Qh(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new Qh(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new Qh(e,o.getEstimate(),o.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,o=r/i;this.fast_.sample(i,o),this.slow_.sample(i,o)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function zTe(t,e,n){return(e=UTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qr.apply(null,arguments)}function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){zTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UTe(t){var e=HTe(t,"string");return typeof e=="symbol"?e:e+""}class ps{constructor(e,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=su,this.debug=n.debug.bind(null,r),this.log=n.log.bind(null,r),this.warn=n.warn.bind(null,r),this.info=n.info.bind(null,r),this.error=n.error.bind(null,r)}}const su=function(){},jTe={trace:su,debug:su,log:su,warn:su,info:su,error:su};function PS(){return qr({},jTe)}function VTe(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):su}function B_(t,e,n){return e[t]?e[t].bind(e):VTe(t,n)}const IS=PS();function WTe(t,e,n){const r=PS();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(o=>{r[o]=B_(o,t,n)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return PS()}i.forEach(o=>{IS[o]=B_(o,t)})}else qr(IS,r);return r}const zr=IS;function Wu(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function qTe(t){return typeof self<"u"&&t===self.ManagedMediaSource}function MH(t,e){const n=Object.keys(t),r=Object.keys(e),i=n.length,o=r.length;return!i||!o||i===o&&!n.some(a=>r.indexOf(a)===-1)}function $a(t,e=!1){if(typeof TextDecoder<"u"){const c=new TextDecoder("utf-8").decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const n=t.length;let r,i,o,a="",s=0;for(;s<n;){if(r=t[s++],r===0&&e)return a;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(r);break;case 12:case 13:i=t[s++],a+=String.fromCharCode((r&31)<<6|i&63);break;case 14:i=t[s++],o=t[s++],a+=String.fromCharCode((r&15)<<12|(i&63)<<6|(o&63)<<0);break}}return a}function wo(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function OH(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function KTe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K2={exports:{}},N_;function GTe(){return N_||(N_=1,function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=s.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=s.normalizePath(d.path),s.buildURLFromParts(d)}var h=s.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return u.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):c;var f=s.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var p=i.exec(f.path);f.netLoc=p[1],f.path=p[2]}f.netLoc&&!f.path&&(f.path="/");var g={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(g.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)g.path=f.path,h.params||(g.params=f.params,h.query||(g.query=f.query));else{var m=f.path,y=m.substring(0,m.lastIndexOf("/")+1)+h.path;g.path=s.normalizePath(y)}return g.path===null&&(g.path=u.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(g)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=s})()}(K2)),K2.exports}var W3=GTe();class q3{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Qr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class DH{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,XTe(this,"stats")}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Qr.AUDIO]:null,[Qr.VIDEO]:null,[Qr.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new q3),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=W3.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Qr.AUDIO]=null,e[Qr.VIDEO]=null,e[Qr.AUDIOVIDEO]=null}}function Bi(t){return t.sn!=="initSegment"}class G2 extends DH{constructor(e,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],n=this.byteRange[1];if(Zt(e)&&Zt(n))return n-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:n}=this;if(!n||n.NONE)return null;if(n.identity)this._decryptdata||(this._decryptdata=n.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const r=Object.keys(n);if(r.length===1){const i=this._decryptdata=n[r[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,n))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Zt(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var n;const r=Object.keys(this.levelkeys),i=r.length;if(i>1||i===1&&(n=this.levelkeys[r[0]])!=null&&n.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Zt(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Bi(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const n=this.levelkeys;if(n){var r;const i=n[e];i&&!((r=this._decryptdata)!=null&&r.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,n))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,o,a=!1){const{elementaryStreams:s}=this,l=s[e];if(!l){s[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:o,partial:a};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,o)}}class YTe extends DH{constructor(e,n,r,i,o){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function FH(t,e){const n=Object.getPrototypeOf(t);if(n){const r=Object.getOwnPropertyDescriptor(n,e);return r||FH(n,e)}}function XTe(t,e){const n=FH(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}const z_=Math.pow(2,32)-1,QTe=[].push,$H={video:1,audio:2,id3:3,text:4};function oo(t){return String.fromCharCode.apply(null,t)}function BH(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Un(t,e){const n=NH(t,e);return n<0?4294967296+n:n}function H_(t,e){let n=Un(t,e);return n*=Math.pow(2,32),n+=Un(t,e+4),n}function NH(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function ZTe(t){const e=t.byteLength;for(let n=0;n<e;){const r=Un(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function ar(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const o=Un(t,i),a=oo(t.subarray(i+4,i+8)),s=o>1?i+o:r;if(a===e[0])if(e.length===1)n.push(t.subarray(i+8,s));else{const l=ar(t.subarray(i+8,s),e.slice(1));l.length&&QTe.apply(n,l)}i=s}return n}function JTe(t){const e=[],n=t[0];let r=8;const i=Un(t,r);r+=4;let o=0,a=0;n===0?(o=Un(t,r),a=Un(t,r+4),r+=8):(o=H_(t,r),a=H_(t,r+8),r+=16),r+=2;let s=t.length+a;const l=BH(t,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=Un(t,u);u+=4;const h=d&2147483647;if((d&2147483648)>>>31===1)return zr.warn("SIDX has hierarchical references (not supported)"),null;const p=Un(t,u);u+=4,e.push({referenceSize:h,subsegmentDuration:p,info:{duration:p/i,start:s,end:s+h-1}}),s+=h,u+=4,r=u}return{earliestPresentationTime:o,timescale:i,version:n,referencesCount:l,references:e}}function zH(t){const e=[],n=ar(t,["moov","trak"]);for(let i=0;i<n.length;i++){const o=n[i],a=ar(o,["tkhd"])[0];if(a){let s=a[0];const l=Un(a,s===0?12:20),c=ar(o,["mdia","mdhd"])[0];if(c){s=c[0];const u=Un(c,s===0?12:20),d=ar(o,["mdia","hdlr"])[0];if(d){const h=oo(d.subarray(8,12)),f={soun:Qr.AUDIO,vide:Qr.VIDEO}[h],p=ar(o,["mdia","minf","stbl","stsd"])[0],g=e6e(p);f?(e[l]={timescale:u,type:f,stsd:g},e[f]=Nr({timescale:u,id:l},g)):e[l]={timescale:u,type:h,stsd:g}}}}}return ar(t,["moov","mvex","trex"]).forEach(i=>{const o=Un(i,4),a=e[o];a&&(a.default={duration:Un(i,12),flags:Un(i,20)})}),e}function e6e(t){const e=t.subarray(8),n=e.subarray(86),r=oo(e.subarray(4,8));let i=r,o;const a=r==="enca"||r==="encv";if(a){const c=ar(e,[r])[0].subarray(r==="enca"?28:78);ar(c,["sinf"]).forEach(d=>{const h=ar(d,["schm"])[0];if(h){const f=oo(h.subarray(4,8));if(f==="cbcs"||f==="cenc"){const p=ar(d,["frma"])[0];p&&(i=oo(p))}}})}const s=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const l=ar(n,["avcC"])[0];l&&l.length>3&&(i+="."+yy(l[1])+yy(l[2])+yy(l[3]),o=vy(s==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const l=ar(e,[r])[0],c=ar(l.subarray(28),["esds"])[0];if(c&&c.length>7){let u=4;if(c[u++]!==3)break;u=Y2(c,u),u+=2;const d=c[u++];if(d&128&&(u+=2),d&64&&(u+=c[u++]),c[u++]!==4)break;u=Y2(c,u);const h=c[u++];if(h===64)i+="."+yy(h);else break;if(u+=12,c[u++]!==5)break;u=Y2(c,u);const f=c[u++];let p=(f&248)>>3;p===31&&(p+=1+((f&7)<<3)+((c[u]&224)>>5)),i+="."+p}break}case"hvc1":case"hev1":{const l=ar(n,["hvcC"])[0];if(l&&l.length>12){const c=l[1],u=["","A","B","C"][c>>6],d=c&31,h=Un(l,2),f=(c&32)>>5?"H":"L",p=l[12],g=l.subarray(6,12);i+="."+u+d,i+="."+t6e(h).toString(16).toUpperCase(),i+="."+f+p;let m="";for(let y=g.length;y--;){const b=g[y];(b||m)&&(m="."+b.toString(16).toUpperCase()+m)}i+=m}o=vy(s=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=vy(i,n)||i;break}case"vp09":{const l=ar(n,["vpcC"])[0];if(l&&l.length>6){const c=l[4],u=l[5],d=l[6]>>4&15;i+="."+Zs(c)+"."+Zs(u)+"."+Zs(d)}break}case"av01":{const l=ar(n,["av1C"])[0];if(l&&l.length>2){const c=l[1]>>>5,u=l[1]&31,d=l[2]>>>7?"H":"M",h=(l[2]&64)>>6,f=(l[2]&32)>>5,p=c===2&&h?f?12:10:h?10:8,g=(l[2]&16)>>4,m=(l[2]&8)>>3,y=(l[2]&4)>>2,b=l[2]&3;i+="."+c+"."+Zs(u)+d+"."+Zs(p)+"."+g+"."+m+y+b+"."+Zs(1)+"."+Zs(1)+"."+Zs(1)+"."+0,o=vy("dav1",n)}break}}return{codec:i,encrypted:a,supplemental:o}}function vy(t,e){const n=ar(e,["dvvC"]),r=n.length?n[0]:ar(e,["dvcC"])[0];if(r){const i=r[2]>>1&127,o=r[2]<<5&32|r[3]>>3&31;return t+"."+Zs(i)+"."+Zs(o)}}function t6e(t){let e=0;for(let n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}function Y2(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function yy(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Zs(t){return(t<10?"0":"")+t}function n6e(t,e){if(!t||!e)return;const n=e.keyId;n&&e.isCommonEncryption&&HH(t,(r,i)=>{const o=r.subarray(8,24);o.some(a=>a!==0)||(zr.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${wo(o)} -> ${wo(n)}`),r.set(n,8))})}function r6e(t){const e=[];return HH(t,n=>e.push(n.subarray(8,24))),e}function HH(t,e){ar(t,["moov","trak"]).forEach(r=>{const i=ar(r,["mdia","minf","stbl","stsd"])[0];if(!i)return;const o=i.subarray(8);let a=ar(o,["enca"]);const s=a.length>0;s||(a=ar(o,["encv"])),a.forEach(l=>{const c=s?l.subarray(28):l.subarray(78);ar(c,["sinf"]).forEach(d=>{const h=UH(d);h&&e(h,s)})})})}function UH(t){const e=ar(t,["schm"])[0];if(e){const n=oo(e.subarray(4,8));if(n==="cbcs"||n==="cenc"){const r=ar(t,["schi","tenc"])[0];if(r)return r}}}function i6e(t,e,n){const r={},i=ar(t,["moof","traf"]);for(let o=0;o<i.length;o++){const a=i[o],s=ar(a,["tfhd"])[0],l=Un(s,4),c=e[l];if(!c)continue;r[l]||(r[l]={start:NaN,duration:0,sampleCount:0,timescale:c.timescale,type:c.type});const u=r[l],d=ar(a,["tfdt"])[0];if(d){const x=d[0];let w=Un(d,4);x===1&&(w===z_?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(w*=z_+1,w+=Un(d,8))),Zt(w)&&(!Zt(u.start)||w<u.start)&&(u.start=w)}const h=c.default,f=Un(s,0)|(h==null?void 0:h.flags);let p=(h==null?void 0:h.duration)||0;f&8&&(f&2?p=Un(s,12):p=Un(s,8));const g=ar(a,["trun"]);let m=u.start||0,y=0,b=p;for(let x=0;x<g.length;x++){const w=g[x],C=Un(w,4),S=u.sampleCount;u.sampleCount+=C;const A=w[3]&1,T=w[3]&4,k=w[2]&1,E=w[2]&2,P=w[2]&4,_=w[2]&8;let F=8,N=C;for(A&&(F+=4),T&&C&&(!(w[F+1]&1)&&u.keyFrameIndex===void 0&&(u.keyFrameIndex=S),F+=4,k?(b=Un(w,F),F+=4):b=p,E&&(F+=4),_&&(F+=4),m+=b,y+=b,N--);N--;)k?(b=Un(w,F),F+=4):b=p,E&&(F+=4),P&&(w[F+1]&1||u.keyFrameIndex===void 0&&(u.keyFrameIndex=u.sampleCount-(N+1),u.keyFrameStart=m),F+=4),_&&(F+=4),m+=b,y+=b;!y&&p&&(y+=p*C)}u.duration+=y}if(!Object.keys(r).some(o=>r[o].duration)){let o=1/0,a=0;const s=ar(t,["sidx"]);for(let l=0;l<s.length;l++){const c=JTe(s[l]);if(c!=null&&c.references){o=Math.min(o,c.earliestPresentationTime/c.timescale);const u=c.references.reduce((d,h)=>d+h.info.duration||0,0);a=Math.max(a,u+c.earliestPresentationTime/c.timescale)}}a&&Zt(a)&&Object.keys(r).forEach(l=>{r[l].duration||(r[l].duration=a*r[l].timescale-r[l].start)})}return r}function o6e(t){const e={valid:null,remainder:null},n=ar(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=t.slice(0,r.byteOffset-8),e.remainder=t.slice(r.byteOffset-8),e}function cs(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function U_(t,e){const n=[],r=e.samples,i=e.timescale,o=e.id;let a=!1;return ar(r,["moof"]).map(l=>{const c=l.byteOffset-8;ar(l,["traf"]).map(d=>{const h=ar(d,["tfdt"]).map(f=>{const p=f[0];let g=Un(f,4);return p===1&&(g*=Math.pow(2,32),g+=Un(f,8)),g/i})[0];return h!==void 0&&(t=h),ar(d,["tfhd"]).map(f=>{const p=Un(f,4),g=Un(f,0)&16777215,m=(g&1)!==0,y=(g&2)!==0,b=(g&8)!==0;let x=0;const w=(g&16)!==0;let C=0;const S=(g&32)!==0;let A=8;p===o&&(m&&(A+=8),y&&(A+=4),b&&(x=Un(f,A),A+=4),w&&(C=Un(f,A),A+=4),S&&(A+=4),e.type==="video"&&(a=Vx(e.codec)),ar(d,["trun"]).map(T=>{const k=T[0],E=Un(T,0)&16777215,P=(E&1)!==0;let _=0;const F=(E&4)!==0,N=(E&256)!==0;let W=0;const G=(E&512)!==0;let Z=0;const ie=(E&1024)!==0,he=(E&2048)!==0;let xe=0;const Q=Un(T,4);let X=8;P&&(_=Un(T,X),X+=4),F&&(X+=4);let K=_+c;for(let ne=0;ne<Q;ne++){if(N?(W=Un(T,X),X+=4):W=x,G?(Z=Un(T,X),X+=4):Z=C,ie&&(X+=4),he&&(k===0?xe=Un(T,X):xe=NH(T,X),X+=4),e.type===Qr.VIDEO){let ve=0;for(;ve<Z;){const Se=Un(r,K);if(K+=4,a6e(a,r[K])){const ye=r.subarray(K,K+Se);K3(ye,a?2:1,t+xe/i,n)}K+=Se,ve+=Se+4}}t+=W/i}}))})})}),n}function Vx(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function a6e(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function K3(t,e,n,r){const i=jH(t);let o=0;o+=e;let a=0,s=0,l=0;for(;o<i.length;){a=0;do{if(o>=i.length)break;l=i[o++],a+=l}while(l===255);s=0;do{if(o>=i.length)break;l=i[o++],s+=l}while(l===255);const c=i.length-o;let u=o;if(s<c)o+=s;else if(s>c){zr.error(`Malformed SEI payload. ${s} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(i[u++]===181){const h=BH(i,u);if(u+=2,h===49){const f=Un(i,u);if(u+=4,f===1195456820){const p=i[u++];if(p===3){const g=i[u++],m=31&g,y=64&g,b=y?2+m*3:0,x=new Uint8Array(b);if(y){x[0]=g;for(let w=1;w<b;w++)x[w]=i[u++]}r.push({type:p,payloadType:a,pts:n,bytes:x})}}}}}else if(a===5&&s>16){const d=[];for(let p=0;p<16;p++){const g=i[u++].toString(16);d.push(g.length==1?"0"+g:g),(p===3||p===5||p===7||p===9)&&d.push("-")}const h=s-16,f=new Uint8Array(h);for(let p=0;p<h;p++)f[p]=i[u++];r.push({payloadType:a,pts:n,uuid:d.join(""),userData:$a(f),userDataBytes:f})}}}function jH(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,o=new Uint8Array(i);let a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=t[a];return o}function s6e(t){const e=t[0];let n="",r="",i=0,o=0,a=0,s=0,l=0,c=0;if(e===0){for(;oo(t.subarray(c,c+1))!=="\0";)n+=oo(t.subarray(c,c+1)),c+=1;for(n+=oo(t.subarray(c,c+1)),c+=1;oo(t.subarray(c,c+1))!=="\0";)r+=oo(t.subarray(c,c+1)),c+=1;r+=oo(t.subarray(c,c+1)),c+=1,i=Un(t,12),o=Un(t,16),s=Un(t,20),l=Un(t,24),c=28}else if(e===1){c+=4,i=Un(t,c),c+=4;const d=Un(t,c);c+=4;const h=Un(t,c);for(c+=4,a=2**32*d+h,$Te(a)||(a=Number.MAX_SAFE_INTEGER,zr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Un(t,c),c+=4,l=Un(t,c),c+=4;oo(t.subarray(c,c+1))!=="\0";)n+=oo(t.subarray(c,c+1)),c+=1;for(n+=oo(t.subarray(c,c+1)),c+=1;oo(t.subarray(c,c+1))!=="\0";)r+=oo(t.subarray(c,c+1)),c+=1;r+=oo(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:l,payload:u}}function l6e(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(t,4),i=0,r=8;i<n;i++)o.set(e[i],r),r+=e[i].byteLength;return o}function c6e(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let o;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const a=new Uint8Array(4);return n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),l6e([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,i,a,n)}function u6e(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),o=d6e(i);e.push(o),r+=o.size}}return e}function d6e(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const o=t.getUint32(8)>>>24;if(o!==0&&o!==1)return{offset:n,size:e};const a=t.buffer,s=wo(new Uint8Array(a,n+12,16));let l=null,c=null,u=0;if(o===0)u=28;else{const h=t.getUint32(28);if(!h||r<32+h*16)return{offset:n,size:e};l=[];for(let f=0;f<h;f++)l.push(new Uint8Array(a,n+32+f*16,16));u=32+h*16}if(!u)return{offset:n,size:e};const d=t.getUint32(u);return e-32<d?{offset:n,size:e}:(c=new Uint8Array(a,n+u+4,d),{version:o,systemId:s,kids:l,data:c,offset:n,size:e})}const VH=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),op={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function G3(t,e){const n=op[e];return!!n&&!!n[t.slice(0,4)]}function mg(t,e,n=!0){return!t.split(",").some(r=>!Y3(r,e,n))}function Y3(t,e,n=!0){var r;const i=Wu(n);return(r=i==null?void 0:i.isTypeSupported(gg(t,e)))!=null?r:!1}function gg(t,e){return`${e}/mp4;codecs=${t}`}function j_(t){if(t){const e=t.substring(0,4);return op.video[e]}return 2}function f1(t){const e=VH();return t.split(",").reduce((n,r)=>{const o=e&&Vx(r)?9:op.video[r];return o?(o*2+n)/(n?3:2):(op.audio[r]+n)/(n?2:1)},0)}const X2={};function h6e(t,e=!0){if(X2[t])return X2[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<n.length;i++){var r;if(Y3(n[i],"audio",e))return X2[t]=n[i],n[i];if(n[i]==="mp3"&&(r=Wu(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return t}const f6e=/flac|opus|mp4a\.40\.34/i;function p1(t,e=!0){return t.replace(f6e,n=>h6e(n.toLowerCase(),e))}function p6e(t,e){const n=[];if(t){const r=t.split(",");for(let i=0;i<r.length;i++)G3(r[i],"video")||n.push(r[i])}return e&&n.push(e),n.join(",")}function ob(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(V_(t,"audio")||V_(t,"video")))return t;if(e){const n=e.split(",");if(n.length>1){if(t){for(let r=n.length;r--;)if(n[r].substring(0,4)===t.substring(0,4))return n[r]}return n[0]}}return e||t}function V_(t,e){return G3(t,e)&&Y3(t,e)}function m6e(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");r.length>2&&r[0]==="avc1"&&(e[n]=`avc1.${parseInt(r[1]).toString(16)}${("000"+parseInt(r[2]).toString(16)).slice(-4)}`)}return e.join(",")}function g6e(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=n[r-4];return e.join(".")}return t}function W_(t){const e=Wu(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function LS(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const v6e={supported:!0,powerEfficient:!0,smooth:!0},y6e={supported:!1,smooth:!1,powerEfficient:!1},WH={supported:!0,configurations:[],decodingInfoResults:[v6e]};function qH(t,e){return{supported:!1,configurations:e,decodingInfoResults:[y6e],error:t}}function b6e(t,e,n,r,i,o){const a=t.videoCodec,s=t.audioCodec?t.audioGroups:null,l=o==null?void 0:o.audioCodec,c=o==null?void 0:o.channels,u=c?parseInt(c):l?1/0:2;let d=null;if(s!=null&&s.length)try{s.length===1&&s[0]?d=e.groups[s[0]].channels:d=s.reduce((h,f)=>{if(f){const p=e.groups[f];if(!p)throw new Error(`Audio track group ${f} not found`);Object.keys(p.channels).forEach(g=>{h[g]=(h[g]||0)+p.channels[g]})}return h},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(h=>Vx(h))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!d&&Zt(u)&&Object.keys(d).some(h=>parseInt(h)>u)}function KH(t,e,n,r={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!n)return Promise.resolve(WH);const o=[],a=x6e(t),s=a.length,l=w6e(t,e,s>0),c=l.length;for(let u=s||1*c||1;u--;){const d={type:"media-source"};if(s&&(d.video=a[u%s]),c){d.audio=l[u%c];const h=d.audio.bitrate;d.video&&h&&(d.video.bitrate-=h)}o.push(d)}if(i){const u=navigator.userAgent;if(i.split(",").some(d=>Vx(d))&&VH())return Promise.resolve(qH(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${u})`),o))}return Promise.all(o.map(u=>{const d=A6e(u);return r[d]||(r[d]=n.decodingInfo(u))})).then(u=>({supported:!u.some(d=>!d.supported),configurations:o,decodingInfoResults:u})).catch(u=>({supported:!1,configurations:o,decodingInfoResults:[],error:u}))}function x6e(t){var e;const n=(e=t.videoCodec)==null?void 0:e.split(","),r=GH(t),i=t.width||640,o=t.height||480,a=t.frameRate||30,s=t.videoRange.toLowerCase();return n?n.map(l=>{const c={contentType:gg(g6e(l),"video"),width:i,height:o,bitrate:r,framerate:a};return s!=="sdr"&&(c.transferFunction=s),c}):[]}function w6e(t,e,n){var r;const i=(r=t.audioCodec)==null?void 0:r.split(","),o=GH(t);return i&&t.audioGroups?t.audioGroups.reduce((a,s)=>{var l;const c=s?(l=e.groups[s])==null?void 0:l.tracks:null;return c?c.reduce((u,d)=>{if(d.groupId===s){const h=parseFloat(d.channels||"");i.forEach(f=>{const p={contentType:gg(f,"audio"),bitrate:n?C6e(f,o):o};h&&(p.channels=""+h),u.push(p)})}return u},a):a},[]):[]}function C6e(t,e){if(e<=1)return 1;let n=128e3;return t==="ec-3"?n=768e3:t==="ac-3"&&(n=64e4),Math.min(e/2,n)}function GH(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function A6e(t){let e="";const{audio:n,video:r}=t;if(r){const i=LS(r.contentType);e+=`${i}_r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${Math.ceil(r.bitrate/1e5)}`}if(n){const i=LS(n.contentType);e+=`${r?"_":""}${i}_c${n.channels}`}return e}const MS=["NONE","TYPE-0","TYPE-1",null];function S6e(t){return MS.indexOf(t)>-1}const m1=["SDR","PQ","HLG"];function k6e(t){return!!t&&m1.indexOf(t)>-1}var ab={No:"",Yes:"YES",v2:"v2"};function q_(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?ab.v2:ab.Yes:ab.No}class K_{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class vg{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var n;this.supplemental=e.supplemental;const r=(n=e.supplemental)==null?void 0:n.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return G_(this._audioGroups,e)}hasSubtitleGroup(e){return G_(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function G_(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function E6e(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function T6e(t,e){let n=!1,r=[];if(t&&(n=t!=="SDR",r=[t]),e){r=e.allowedVideoRanges||m1.slice(0);const i=r.join("")!=="SDR"&&!e.videoCodec;n=e.preferHDR!==void 0?e.preferHDR:i&&E6e(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const R6e=t=>{const e=new WeakSet;return(n,r)=>{if(t&&(r=t(n,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},Jr=(t,e)=>JSON.stringify(t,R6e(e));function _6e(t,e,n,r,i){const o=Object.keys(t),a=r==null?void 0:r.channels,s=r==null?void 0:r.audioCodec,l=i==null?void 0:i.videoCodec,c=a&&parseInt(a)===2;let u=!1,d=!1,h=1/0,f=1/0,p=1/0,g=1/0,m=0,y=[];const{preferHDR:b,allowedVideoRanges:x}=T6e(e,i);for(let T=o.length;T--;){const k=t[o[T]];u||(u=k.channels[2]>0),h=Math.min(h,k.minHeight),f=Math.min(f,k.minFramerate),p=Math.min(p,k.minBitrate),x.filter(P=>k.videoRanges[P]>0).length>0&&(d=!0)}h=Zt(h)?h:0,f=Zt(f)?f:0;const w=Math.max(1080,h),C=Math.max(30,f);p=Zt(p)?p:n,n=Math.max(p,n),d||(e=void 0);const S=o.length>1;return{codecSet:o.reduce((T,k)=>{const E=t[k];if(k===T)return T;if(y=d?x.filter(P=>E.videoRanges[P]>0):[],S){if(E.minBitrate>n)return Ws(k,`min bitrate of ${E.minBitrate} > current estimate of ${n}`),T;if(!E.hasDefaultAudio)return Ws(k,"no renditions with default or auto-select sound found"),T;if(s&&k.indexOf(s.substring(0,4))%5!==0)return Ws(k,`audio codec preference "${s}" not found`),T;if(a&&!c){if(!E.channels[a])return Ws(k,`no renditions with ${a} channel sound found (channels options: ${Object.keys(E.channels)})`),T}else if((!s||c)&&u&&E.channels[2]===0)return Ws(k,"no renditions with stereo sound found"),T;if(E.minHeight>w)return Ws(k,`min resolution of ${E.minHeight} > maximum of ${w}`),T;if(E.minFramerate>C)return Ws(k,`min framerate of ${E.minFramerate} > maximum of ${C}`),T;if(!y.some(P=>E.videoRanges[P]>0))return Ws(k,`no variants with VIDEO-RANGE of ${Jr(y)} found`),T;if(l&&k.indexOf(l.substring(0,4))%5!==0)return Ws(k,`video codec preference "${l}" not found`),T;if(E.maxScore<m)return Ws(k,`max score of ${E.maxScore} < selected max of ${m}`),T}return T&&(f1(k)>=f1(T)||E.fragmentError>t[T].fragmentError)?T:(g=E.minIndex,m=E.maxScore,k)},void 0),videoRanges:y,preferHDR:b,minFramerate:f,minBitrate:p,minIndex:g}}function Ws(t,e){zr.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function YH(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function P6e(t,e,n,r){return t.slice(n,r+1).reduce((i,o,a)=>{if(!o.codecSet)return i;const s=o.audioGroups;let l=i[o.codecSet];l||(i[o.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!s,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,o.bitrate);const c=Math.min(o.height,o.width);return l.minHeight=Math.min(l.minHeight,c),l.minFramerate=Math.min(l.minFramerate,o.frameRate),l.minIndex=Math.min(l.minIndex,a),l.maxScore=Math.max(l.maxScore,o.score),l.fragmentError+=o.fragmentError,l.videoRanges[o.videoRange]=(l.videoRanges[o.videoRange]||0)+1,s&&s.forEach(u=>{if(!u)return;const d=e.groups[u];d&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?d.hasDefault:d.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(d.channels).forEach(h=>{l.channels[h]=(l.channels[h]||0)+d.channels[h]}))}),i},{})}function Y_(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:o}=t;return{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:o}}function vl(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Zd(t,i,n))return r}return-1}function Zd(t,e,n){const{groupId:r,name:i,lang:o,assocLang:a,default:s}=t,l=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(o===void 0||I6e(o,e.lang))&&(o===void 0||e.assocLang===a)&&(s===void 0||e.default===s)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||L6e(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function I6e(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function L6e(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function Td(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function M6e(t,e,n,r,i){const o=e[r],s=e.reduce((h,f,p)=>{const g=f.uri;return(h[g]||(h[g]=[])).push(p),h},{})[o.uri];s.length>1&&(r=Math.max.apply(Math,s));const l=o.videoRange,c=o.frameRate,u=o.codecSet.substring(0,4),d=X_(e,r,h=>{if(h.videoRange!==l||h.frameRate!==c||h.codecSet.substring(0,4)!==u)return!1;const f=h.audioGroups,p=n.filter(g=>!f||f.indexOf(g.groupId)!==-1);return vl(t,p,i)>-1});return d>-1?d:X_(e,r,h=>{const f=h.audioGroups,p=n.filter(g=>!f||f.indexOf(g.groupId)!==-1);return vl(t,p,i)>-1})}function X_(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}function g1(t,e){var n;return!!t&&t!==((n=e.loadLevelObj)==null?void 0:n.uri)}class O6e extends ps{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var r;const{fragCurrent:i,partCurrent:o,hls:a}=this,{autoLevelEnabled:s,media:l}=a;if(!i||!l)return;const c=performance.now(),u=o?o.stats:i.stats,d=o?o.duration:i.duration,h=c-u.loading.start,f=a.minAutoLevel,p=i.level,g=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||p<=f){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s)return;const m=g>-1&&g!==p,y=!!n||m;if(!y&&(l.paused||!l.playbackRate||!l.readyState))return;const b=a.mainForwardBufferInfo;if(!y&&b===null)return;const x=this.bwEstimator.getEstimateTTFB(),w=Math.abs(l.playbackRate);if(h<=Math.max(x,1e3*(d/(w*2))))return;const C=b?b.len/w:0,S=u.loading.first?u.loading.first-u.loading.start:-1,A=u.loaded&&S>-1,T=this.getBwEstimate(),k=a.levels,E=k[p],P=Math.max(u.loaded,Math.round(d*(i.bitrate||E.averageBitrate)/8));let _=A?h-S:h;_<1&&A&&(_=Math.min(h,u.loaded*8/T));const F=A?u.loaded*1e3/_:0,N=x/1e3,W=F?(P-u.loaded)/F:P*8/T+N;if(W<=C)return;const G=F?F*8:T,Z=((r=(n==null?void 0:n.details)||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,ie=this.hls.config.abrBandWidthUpFactor;let he=Number.POSITIVE_INFINITY,xe;for(xe=p-1;xe>f;xe--){const ne=k[xe].maxBitrate,ve=!k[xe].details||Z;if(he=this.getTimeToLoadFrag(N,G,d*ne,ve),he<Math.min(C,d+N))break}if(he>=W||he>d*10)return;A?this.bwEstimator.sample(h-Math.min(x,S),u.loaded):this.bwEstimator.sampleTTFB(h);const Q=k[xe].maxBitrate;this.getBwEstimate()*ie>Q&&this.resetEstimator(Q);const X=this.findBestLevel(Q,f,xe,0,C,1,1);X>-1&&(xe=X),this.warn(`Fragment ${i.sn}${o?" part "+o.index:""} of level ${p} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${C.toFixed(3)} s
      Estimated load time for current fragment: ${W.toFixed(3)} s
      Estimated load time for down switch fragment: ${he.toFixed(3)} s
      TTFB estimate: ${S|0} ms
      Current BW estimate: ${Zt(T)?T|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${xe} @ ${Q|0} bps`),a.nextLoadLevel=a.nextAutoLevel=xe,this.clearTimer();const K=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===xe&&xe>0){const ne=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${xe>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${ne.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,xe>f){let ve=this.findBestLevel(this.hls.levels[f].bitrate,f,xe,0,ne,1,1);ve===-1&&(ve=f),this.hls.nextLoadLevel=this.hls.nextAutoLevel=ve,this.resetEstimator(this.hls.levels[ve].bitrate)}}};m||W>he*2?K():this.timer=self.setInterval(K,he*1e3),a.trigger(q.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:o,stats:u})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new NTe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.FRAG_LOADING,this.onFragLoading,this),e.on(q.FRAG_LOADED,this.onFragLoaded,this),e.on(q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(q.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.FRAG_LOADING,this.onFragLoading,this),e.off(q.FRAG_LOADED,this.onFragLoaded,this),e.off(q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(q.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(q.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case et.BUFFER_ADD_CODEC_ERROR:case et.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case et.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:o}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const a=performance.now(),s=o?o.stats:r.stats,l=a-s.loading.start,c=s.loading.first?s.loading.first-s.loading.start:-1;if(s.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),s.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,i){const o=e+r/n,a=i?e+this.lastLevelLoadSec:0;return o+a}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,o=i.end-i.first;Zt(o)&&(this.lastLevelLoadSec=o/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===cn.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const o=r?r.duration:n.duration,a=this.hls.levels[n.level],s=(a.loaded?a.loaded.bytes:0)+i.loaded,l=(a.loaded?a.loaded.duration:0)+o;a.loaded={bytes:s,duration:l},a.realBitrate=Math.round(8*s/l)}if(n.bitrateTest){const o={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(q.FRAG_BUFFERED,o),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,o=i!=null&&i.stats.loaded?i.stats:r.stats;if(o.aborted||this.ignoreFragment(r))return;const a=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,o.loaded),o.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==cn.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,o=this.findBestLevel(r,n,e,0,i,1,1);if(o>-1)return o;const a=this.hls.firstLevel,s=Math.min(Math.max(a,n),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${s}`),s}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const o=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,o)&&a[e].loadError<=a[o].loadError)return e}return this._nextAutoLevel=o,this.nextAutoLevelKey=this.getAutoLevelKey(),o}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:i,config:o,minAutoLevel:a}=r,s=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=o.abrBandWidthFactor,d=o.abrBandWidthUpFactor;if(c){const m=this.findBestLevel(l,a,i,c,0,u,d);if(m>=0)return this.rebufferNotice=-1,m}let h=s?Math.min(s,o.maxStarvationDelay):o.maxStarvationDelay;if(!c){const m=this.bitrateTestDelay;m&&(h=(s?Math.min(s,o.maxLoadingDelay):o.maxLoadingDelay)-m,this.info(`bitrate test took ${Math.round(1e3*m)}ms, set first fragment max fetchDuration to ${Math.round(1e3*h)} ms`),u=d=1)}const f=this.findBestLevel(l,a,i,c,h,u,d);if(this.rebufferNotice!==f&&(this.rebufferNotice=f,this.info(`${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${f}`)),f>-1)return f;const p=r.levels[a],g=r.loadLevelObj;return g&&(p==null?void 0:p.bitrate)<g.bitrate?a:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,o,a,s){var l;const c=i+o,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:h,partCurrent:f}=this,{levels:p,allAudioTracks:g,loadLevel:m,config:y}=this.hls;if(p.length===1)return 0;const b=p[d],x=!!((l=this.hls.latestLevelDetails)!=null&&l.live),w=m===-1||u===-1;let C,S="SDR",A=(b==null?void 0:b.frameRate)||0;const{audioPreference:T,videoPreference:k}=y,E=this.audioTracksByGroup||(this.audioTracksByGroup=YH(g));let P=-1;if(w){if(this.firstSelection!==-1)return this.firstSelection;const G=this.codecTiers||(this.codecTiers=P6e(p,E,n,r)),Z=_6e(G,S,e,T,k),{codecSet:ie,videoRanges:he,minFramerate:xe,minBitrate:Q,minIndex:X,preferHDR:K}=Z;P=X,C=ie,S=K?he[he.length-1]:he[0],A=xe,e=Math.max(e,Q),this.log(`picked start tier ${Jr(Z)}`)}else C=b==null?void 0:b.codecSet,S=b==null?void 0:b.videoRange;const _=f?f.duration:h?h.duration:0,F=this.bwEstimator.getEstimateTTFB()/1e3,N=[];for(let G=r;G>=n;G--){var W;const Z=p[G],ie=G>d;if(!Z)continue;if(y.useMediaCapabilities&&!Z.supportedResult&&!Z.supportedPromise){const ve=navigator.mediaCapabilities;typeof(ve==null?void 0:ve.decodingInfo)=="function"&&b6e(Z,E,S,A,e,T)?(Z.supportedPromise=KH(Z,E,ve,this.supportedCache),Z.supportedPromise.then(Se=>{if(!this.hls)return;Z.supportedResult=Se;const ye=this.hls.levels,Be=ye.indexOf(Z);Se.error?this.warn(`MediaCapabilities decodingInfo error: "${Se.error}" for level ${Be} ${Jr(Se)}`):Se.supported?Se.decodingInfoResults.some(J=>J.smooth===!1||J.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${Be} not smooth or powerEfficient: ${Jr(Se)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Be} ${Jr(Se)}`),Be>-1&&ye.length>1&&(this.log(`Removing unsupported level ${Be}`),this.hls.removeLevel(Be),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Se=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Se}`)})):Z.supportedResult=WH}if((C&&Z.codecSet!==C||S&&Z.videoRange!==S||ie&&A>Z.frameRate||!ie&&A>0&&A<Z.frameRate||(W=Z.supportedResult)!=null&&(W=W.decodingInfoResults)!=null&&W.some(ve=>ve.smooth===!1))&&(!w||G!==P)){N.push(G);continue}const he=Z.details,xe=(f?he==null?void 0:he.partTarget:he==null?void 0:he.averagetargetduration)||_;let Q;ie?Q=s*e:Q=a*e;const X=_&&i>=_*2&&o===0?Z.averageBitrate:Z.maxBitrate,K=this.getTimeToLoadFrag(F,Q,X*xe,he===void 0);if(Q>=X&&(G===u||Z.loadError===0&&Z.fragmentError===0)&&(K<=F||!Zt(K)||x&&!this.bitrateTestDelay||K<c)){const ve=this.forcedAutoLevel;return G!==m&&(ve===-1||ve!==m)&&(N.length&&this.trace(`Skipped level(s) ${N.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${p[N[0]].codecs}" ${p[N[0]].videoRange}; not compatible with "${C}" ${S}`),this.info(`switch candidate:${d}->${G} adjustedbw(${Math.round(Q)})-bitrate=${Math.round(Q-X)} ttfb:${F.toFixed(1)} avgDuration:${xe.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${K.toFixed(1)} firstSelection:${w} codecSet:${Z.codecSet} videoRange:${Z.videoRange} hls.loadLevel:${m}`)),w&&(this.firstSelection=G),G}}return-1}set nextAutoLevel(e){const n=this.deriveNextAutoLevel(e);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),n)}}const XH={search:function(t,e){let n=0,r=t.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=t[i];const a=e(o);if(a>0)n=i+1;else if(a<0)r=i-1;else return o}return null}};function D6e(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!Zt(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let o=0;o<t.length;++o){const a=t[o];if($6e(e,n,a))return a}return null}function hh(t,e,n=0,r=0,i=.005){let o=null;if(t){o=e[1+t.sn-e[0].sn]||null;const s=t.endDTS-n;s>0&&s<15e-7&&(n+=15e-7),o&&t.level!==o.level&&o.end<=t.end&&(o=e[2+t.sn-e[0].sn]||null)}else n===0&&e[0].start===0&&(o=e[0]);if(o&&((!t||t.level===o.level)&&Q_(n,r,o)===0||F6e(o,t,Math.min(i,r))))return o;const a=XH.search(e,Q_.bind(null,n,r));return a&&(a!==t||!o)?a:o}function F6e(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,o)=>(o[0]==="INF"&&(i+=parseFloat(o[1])),i),n);return t.start<=r}return!1}function Q_(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function $6e(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function QH(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){let r=t.fragments;const{fragmentHint:i}=t;i&&(r=r.concat(i));let o;return XH.search(r,a=>a.cc<e?1:a.cc>e?-1:(o=a,a.end<=n?1:a.start>n?-1:0)),o||null}return null}function v1(t){switch(t.details){case et.FRAG_LOAD_TIMEOUT:case et.KEY_LOAD_TIMEOUT:case et.LEVEL_LOAD_TIMEOUT:case et.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ZH(t){return t.details.startsWith("key")}function JH(t){return ZH(t)&&!!t.frag&&!t.frag.decryptdata}function Z_(t,e){const n=v1(e);return t.default[`${n?"timeout":"error"}Retry`]}function X3(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function J_(t){return Nr(Nr({},t),{errorRetry:null,timeoutRetry:null})}function y1(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,o=e<t.maxNumRetry&&(B6e(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,o):o}function B6e(t){return OS(t)||!!t&&(t<400||t>499)}function OS(t){return t===0&&navigator.onLine===!1}var xo={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Ea={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class N6e extends ps{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(q.ERROR,this.onError,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(q.ERROR,this.onError,this),e.off(q.ERROR,this.onErrorOut,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===cn.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const n=this.hls,r=n.currentLevel;return(e=n.loadLevelObj)!=null&&e.details||r===-1?n.loadLevel:r}variantHasKey(e,n){if(e){var r;if((r=e.details)!=null&&r.hasKey(n))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(a=>i.indexOf(a.groupId)>=0).some(a=>{var s;return(s=a.details)==null?void 0:s.hasKey(n)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,n){var r;if(n.fatal)return;const i=this.hls,o=n.context;switch(n.details){case et.FRAG_LOAD_ERROR:case et.FRAG_LOAD_TIMEOUT:case et.KEY_LOAD_ERROR:case et.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case et.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction=_f();return}case et.FRAG_GAP:case et.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=xo.SendAlternateToPenaltyBox;return}case et.LEVEL_EMPTY_ERROR:case et.LEVEL_PARSING_ERROR:{var a;const l=n.parent===cn.MAIN?n.level:i.loadLevel;n.details===et.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(a=a.levelDetails)!=null&&a.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,l):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,l))}return;case et.LEVEL_LOAD_ERROR:case et.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case et.AUDIO_TRACK_LOAD_ERROR:case et.AUDIO_TRACK_LOAD_TIMEOUT:case et.SUBTITLE_LOAD_ERROR:case et.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const l=i.loadLevelObj;if(l&&(o.type===sr.AUDIO_TRACK&&l.hasAudioGroup(o.groupId)||o.type===sr.SUBTITLE_TRACK&&l.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,i.loadLevel),n.errorAction.action=xo.SendAlternateToPenaltyBox,n.errorAction.flags=Ea.MoveAllAlternatesMatchingHost;return}}return;case et.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:n.errorAction={action:xo.SendAlternateToPenaltyBox,flags:Ea.MoveAllAlternatesMatchingHDCP};return;case et.KEY_SYSTEM_SESSION_UPDATE_FAILED:case et.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case et.KEY_SYSTEM_NO_SESSION:n.errorAction={action:xo.SendAlternateToPenaltyBox,flags:Ea.MoveAllAlternatesMatchingKey};return;case et.BUFFER_ADD_CODEC_ERROR:case et.REMUX_ALLOC_ERROR:case et.BUFFER_APPEND_ERROR:if(!n.errorAction){var s;n.errorAction=this.getLevelSwitchAction(n,(s=n.level)!=null?s:i.loadLevel)}return;case et.INTERNAL_EXCEPTION:case et.BUFFER_APPENDING_ERROR:case et.BUFFER_FULL_ERROR:case et.LEVEL_SWITCH_ERROR:case et.BUFFER_STALLED_ERROR:case et.BUFFER_SEEK_OVER_HOLE:case et.BUFFER_NUDGE_ON_STALL:n.errorAction=_f();return}n.type===fn.KEY_SYSTEM_ERROR&&(n.levelRetry=!1,n.errorAction=_f())}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=Z_(r.config.playlistLoadPolicy,e),o=this.playlistError++;if(y1(i,o,v1(e),e.response))return{action:xo.RetryRequest,flags:Ea.None,retryConfig:i,retryCount:o};const s=this.getLevelSwitchAction(e,n);return i&&(s.retryConfig=i,s.retryCount=o),s}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:o,keyLoadPolicy:a}=n.config,s=Z_(ZH(e)?a:o,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(i&&(e.details!==et.FRAG_GAP&&i.fragmentError++,!JH(e)&&y1(s,l,v1(e),e.response)))return{action:xo.RetryRequest,flags:Ea.None,retryConfig:s,retryCount:l};const c=this.getLevelSwitchAction(e,r);return s&&(c.retryConfig=s,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var o,a;const c=e.details;i.loadError++,c===et.BUFFER_APPEND_ERROR&&i.fragmentError++;let u=-1;const{levels:d,loadLevel:h,minAutoLevel:f,maxAutoLevel:p}=r;!r.autoLevelEnabled&&!r.config.preserveManualLevelOnError&&(r.loadLevel=-1);const g=(o=e.frag)==null?void 0:o.type,y=(g===cn.AUDIO&&c===et.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===et.BUFFER_ADD_CODEC_ERROR||c===et.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:S})=>i.audioCodec!==S),x=e.sourceBufferName==="video"&&(c===et.BUFFER_ADD_CODEC_ERROR||c===et.BUFFER_APPEND_ERROR)&&d.some(({codecSet:S,audioCodec:A})=>i.codecSet!==S&&i.audioCodec===A),{type:w,groupId:C}=(a=e.context)!=null?a:{};for(let S=d.length;S--;){const A=(S+h)%d.length;if(A!==h&&A>=f&&A<=p&&d[A].loadError===0){var s,l;const T=d[A];if(c===et.FRAG_GAP&&g===cn.MAIN&&e.frag){const k=d[A].details;if(k){const E=hh(e.frag,k.fragments,e.frag.start);if(E!=null&&E.gap)continue}}else{if(w===sr.AUDIO_TRACK&&T.hasAudioGroup(C)||w===sr.SUBTITLE_TRACK&&T.hasSubtitleGroup(C))continue;if(g===cn.AUDIO&&(s=i.audioGroups)!=null&&s.some(k=>T.hasAudioGroup(k))||g===cn.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(k=>T.hasSubtitleGroup(k))||y&&i.audioCodec===T.audioCodec||x&&i.codecSet===T.codecSet||!y&&i.codecSet!==T.codecSet)continue}u=A;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:xo.SendAlternateToPenaltyBox,flags:Ea.None,nextAutoLevel:u}}return{action:xo.SendAlternateToPenaltyBox,flags:Ea.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case xo.DoNothing:break;case xo.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==et.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i}=r,o=r.nextAutoLevel;switch(i){case Ea.None:this.switchLevel(e,o);break;case Ea.MoveAllAlternatesMatchingHDCP:{const l=this.getVariantLevelIndex(e.frag),c=n.levels[l],u=c==null?void 0:c.attrs["HDCP-LEVEL"];if(r.hdcpLevel=u,u==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(u){n.maxHdcpLevel=MS[MS.indexOf(u)-1],r.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}}case Ea.MoveAllAlternatesMatchingKey:{const l=e.decryptdata;if(l){const c=this.hls.levels,u=c.length;for(let h=u;h--;)if(this.variantHasKey(c[h],l)){var a,s;this.log(`Banned key found in level ${h} (${c[h].bitrate}bps) or audio group "${(a=c[h].audioGroups)==null?void 0:a.join(",")}" (${(s=e.frag)==null?void 0:s.type} fragment) ${wo(l.keyId||[])}`),c[h].fragmentError++,c[h].loadError++,this.log(`Removing level ${h} with key error (${e.error})`),this.hls.removeLevel(h)}const d=e.frag;if(this.hls.levels.length<u)r.resolved=!0;else if(d&&d.type!==cn.MAIN){const h=d.decryptdata;h&&!l.matches(h)&&(r.resolved=!0)}}break}}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){if(n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===et.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=LS(e.mimeType),i=this.hls.levels;for(let o=i.length;o--;)i[o][`${e.sourceBufferName}Codec`]===r&&(this.log(`Removing level ${o} for ${e.details} ("${r}" not supported)`),this.hls.removeLevel(o))}}}function _f(t){const e={action:xo.DoNothing,flags:Ea.None};return t&&(e.resolved=!0),e}var ao={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class z6e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.BUFFER_APPENDED,this.onBufferAppended,this),e.on(q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(q.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.BUFFER_APPENDED,this.onBufferAppended,this),e.off(q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(q.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const o=r[i];if(!o)break;if(o.start<=e&&e<=o.end&&o.loaded)return o}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){return this.getFragAtPos(e,n,!0)}getFragAtPos(e,n,r){const{fragments:i}=this,o=Object.keys(i);for(let a=o.length;a--;){const s=i[o[a]];if((s==null?void 0:s.body.type)===n&&(!r||s.buffered)){const l=s.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,n,r,i,o){this.timeRanges&&(this.timeRanges[e]=n);const a=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(s=>{const l=this.fragments[s];if(!l||a>=l.body.sn)return;if(!l.buffered&&(!l.loaded||o)){l.body.type===r&&this.removeFragment(l.body);return}const c=l.range[e];if(c){if(c.time.length===0){this.removeFragment(l.body);return}c.time.some(u=>{const d=!this.isTimeBuffered(u.startPTS,u.endPTS,n);return d&&this.removeFragment(l.body),d})}})}detectPartialFragments(e){const n=this.timeRanges;if(!n||e.frag.sn==="initSegment")return;const r=e.frag,i=Zh(r),o=this.fragments[i];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(s=>{const l=r.elementaryStreams[s];if(!l)return;const c=n[s],u=a||l.partial===!0;o.range[s]=this.getBufferedTimes(r,e.part,u,c)}),o.loaded=null,Object.keys(o.range).length?(this.bufferedEnd(o,r),by(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}bufferedEnd(e,n){e.buffered=!0,(e.body.endList=n.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=eP(r,i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Zh(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,n,r,i){const o={time:[],partial:r},a=e.start,s=e.end,l=e.minEndPTS||s,c=e.maxStartPTS||a;for(let u=0;u<i.length;u++){const d=i.start(u)-this.bufferPadding,h=i.end(u)+this.bufferPadding;if(c>=d&&l<=h){o.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(s,i.end(u))});break}else if(a<h&&s>d){const f=Math.max(a,i.start(u)),p=Math.min(s,i.end(u));p>f&&(o.partial=!0,o.time.push({startPTS:f,endPTS:p}))}else if(s<=d)break}return o}getPartialFragment(e){let n=null,r,i,o,a=0;const{bufferPadding:s,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&by(u)&&(i=u.body.start-s,o=u.body.end+s,e>=i&&e<=o&&(r=Math.min(e-i,o-e),a<=r&&(n=u.body,a=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||by(n))}getState(e){const n=Zh(e),r=this.fragments[n];return r?r.buffered?by(r)?ao.PARTIAL:ao.OK:ao.APPENDING:ao.NOT_LOADED}isTimeBuffered(e,n,r){let i,o;for(let a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,o=r.end(a)+this.bufferPadding,e>=i&&n<=o)return!0;if(n<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const r=n.frag,i=n.part?null:n,o=Zh(r);this.fragments[o]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:o,type:a}=n;if(r.sn==="initSegment")return;const s=r.type;if(i){let c=this.activePartLists[s];c||(this.activePartLists[s]=c=[]),c.push(i)}this.timeRanges=o;const l=o[a];this.detectEvictedFragments(a,l,s,i)}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Zh(e);return!!this.fragments[n]}hasFragments(e){const{fragments:n}=this,r=Object.keys(n);if(!e)return r.length>0;for(let i=r.length;i--;){const o=n[r[i]];if((o==null?void 0:o.body.type)===e)return!0}return!1}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,o){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const s=this.fragments[a];if(!s)return;const l=s.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(s.buffered||o)&&this.removeFragment(l)})}removeFragment(e){const n=Zh(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=eP(r,o=>o.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;n&&n.forEach(r=>r.clearElementaryStreamInfo())}}function by(t){var e,n,r;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(n=t.range.audio)!=null&&n.partial||(r=t.range.audiovideo)!=null&&r.partial)}function Zh(t){return`${t.type}_${t.level}_${t.sn}`}function eP(t,e){return t.filter(n=>{const r=e(n);return r||n.clearElementaryStreamInfo(),r})}var qu={cbc:0,ctr:1};class H6e{constructor(e,n,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=n,this.aesMode=r}decrypt(e,n){switch(this.aesMode){case qu.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e);case qu.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function U6e(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}class j6e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],o=r[1],a=r[2],s=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],h=l[3],f=new Uint32Array(256);let p=0,g=0,m=0;for(m=0;m<256;m++)m<128?f[m]=m<<1:f[m]=m<<1^283;for(m=0;m<256;m++){let y=g^g<<1^g<<2^g<<3^g<<4;y=y>>>8^y&255^99,e[p]=y,n[y]=p;const b=f[p],x=f[b],w=f[x];let C=f[y]*257^y*16843008;i[p]=C<<24|C>>>8,o[p]=C<<16|C>>>16,a[p]=C<<8|C>>>24,s[p]=C,C=w*16843009^x*65537^b*257^p*16843008,c[y]=C<<24|C>>>8,u[y]=C<<16|C>>>16,d[y]=C<<8|C>>>24,h[y]=C,p?(p=b^f[f[f[w^b]]],g^=f[f[g]]):p=g=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const o=this.keySize=n.length;if(o!==4&&o!==6&&o!==8)throw new Error("Invalid aes key size="+o);const a=this.ksRows=(o+6+1)*4;let s,l;const c=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,h=this.rcon,f=this.invSubMix,p=f[0],g=f[1],m=f[2],y=f[3];let b,x;for(s=0;s<a;s++){if(s<o){b=c[s]=n[s];continue}x=b,s%o===0?(x=x<<8|x>>>24,x=d[x>>>24]<<24|d[x>>>16&255]<<16|d[x>>>8&255]<<8|d[x&255],x^=h[s/o|0]<<24):o>6&&s%o===4&&(x=d[x>>>24]<<24|d[x>>>16&255]<<16|d[x>>>8&255]<<8|d[x&255]),c[s]=b=(c[s-o]^x)>>>0}for(l=0;l<a;l++)s=a-l,l&3?x=c[s]:x=c[s-4],l<4||s<=4?u[l]=x:u[l]=p[d[x>>>24]]^g[d[x>>>16&255]]^m[d[x>>>8&255]]^y[d[x&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,o=this.invKeySchedule,a=this.invSBox,s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],h=this.uint8ArrayToUint32Array_(r);let f=h[0],p=h[1],g=h[2],m=h[3];const y=new Int32Array(e),b=new Int32Array(y.length);let x,w,C,S,A,T,k,E,P,_,F,N,W,G;const Z=this.networkToHostOrderSwap;for(;n<y.length;){for(P=Z(y[n]),_=Z(y[n+1]),F=Z(y[n+2]),N=Z(y[n+3]),A=P^o[0],T=N^o[1],k=F^o[2],E=_^o[3],W=4,G=1;G<i;G++)x=l[A>>>24]^c[T>>16&255]^u[k>>8&255]^d[E&255]^o[W],w=l[T>>>24]^c[k>>16&255]^u[E>>8&255]^d[A&255]^o[W+1],C=l[k>>>24]^c[E>>16&255]^u[A>>8&255]^d[T&255]^o[W+2],S=l[E>>>24]^c[A>>16&255]^u[T>>8&255]^d[k&255]^o[W+3],A=x,T=w,k=C,E=S,W=W+4;x=a[A>>>24]<<24^a[T>>16&255]<<16^a[k>>8&255]<<8^a[E&255]^o[W],w=a[T>>>24]<<24^a[k>>16&255]<<16^a[E>>8&255]<<8^a[A&255]^o[W+1],C=a[k>>>24]<<24^a[E>>16&255]<<16^a[A>>8&255]<<8^a[T&255]^o[W+2],S=a[E>>>24]<<24^a[A>>16&255]<<16^a[T>>8&255]<<8^a[k&255]^o[W+3],b[n]=Z(x^f),b[n+1]=Z(S^p),b[n+2]=Z(C^g),b[n+3]=Z(w^m),f=P,p=_,g=F,m=N,n=n+4}return b.buffer}}class V6e{constructor(e,n,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=n,this.aesMode=r}expandKey(){const e=W6e(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function W6e(t){switch(t){case qu.cbc:return"AES-CBC";case qu.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const q6e=16;class Q3{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?U6e(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r,i){return this.useSoftware?new Promise((o,a)=>{const s=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(s,n,r,i);const l=this.flush();l?o(l.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r,i)}softwareDecrypt(e,n,r,i){const{currentIV:o,currentResult:a,remainderData:s}=this;if(i!==qu.cbc||n.byteLength!==16)return zr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),s&&(e=cs(s,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;o&&(r=o);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new j6e),c.expandKey(n);const u=a;return this.currentResult=c.decrypt(l.buffer,0,r),this.currentIV=l.slice(-16).buffer,u||null}webCryptoDecrypt(e,n,r,i){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r,i));this.key=n,this.fastAesKey=new V6e(this.subtle,n,i)}return this.fastAesKey.expandKey().then(o=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new H6e(this.subtle,new Uint8Array(r),i).decrypt(e.buffer,o)):Promise.reject(new Error("web crypto not initialized"))).catch(o=>(zr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`),this.onWebCryptoError(e,n,r,i)))}onWebCryptoError(e,n,r,i){const o=this.enableSoftwareAES;if(o){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(o?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%q6e;return r!==e.length&&(n=e.slice(0,r),this.remainderData=e.slice(r)),n}logOnce(e){this.logEnabled&&(zr.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const tP=Math.pow(2,17);class K6e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Yl({type:fn.NETWORK_ERROR,details:et.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,o=i.fLoader,a=i.loader;return new Promise((s,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){l(rP(e));return}else e.gap=!1;const c=this.loader=o?new o(i):new a(i),u=nP(e);e.loader=c;const d=J_(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:tP};e.stats=c.stats;const f={onSuccess:(p,g,m,y)=>{this.resetLoader(e,c);let b=p.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(b.slice(0,16)),b=b.slice(16)),s({frag:e,part:null,payload:b,networkDetails:y})},onError:(p,g,m,y)=>{this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Nr({url:r,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:m,stats:y}))},onAbort:(p,g,m)=>{this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:p}))},onTimeout:(p,g,m)=>{this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:m,stats:p}))}};n&&(f.onProgress=(p,g,m,y)=>n({frag:e,part:null,payload:m,networkDetails:y})),c.load(u,h,f)})}loadPart(e,n,r){this.abort();const i=this.config,o=i.fLoader,a=i.loader;return new Promise((s,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(rP(e,n));return}const c=this.loader=o?new o(i):new a(i),u=nP(e,n);e.loader=c;const d=J_(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:tP};n.stats=c.stats,c.load(u,h,{onSuccess:(f,p,g,m)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const y={frag:e,part:n,payload:f.data,networkDetails:m};r(y),s(y)},onError:(f,p,g,m)=>{this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:Nr({url:u.url,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:g,stats:m}))},onAbort:(f,p,g)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:g,stats:f}))},onTimeout:(f,p,g)=>{this.resetLoader(e,c),l(new Yl({type:fn.NETWORK_ERROR,details:et.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:g,stats:f}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,o=i.total;if(r.loaded+=i.loaded,o){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/o),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const a=r.loading,s=i.loading;a.start?a.first+=s.first-s.start:(a.start=s.start,a.first=s.first),a.end=s.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function nP(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(Zt(i)&&Zt(o)){var a;let s=i,l=o;if(t.sn==="initSegment"&&G6e((a=t.decryptdata)==null?void 0:a.method)){const c=o-i;c%16&&(l=o+(16-c%16)),i!==0&&(r.resetIV=!0,s=i-16)}r.rangeStart=s,r.rangeEnd=l}return r}function rP(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:fn.MEDIA_ERROR,details:et.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Yl(r)}function G6e(t){return t==="AES-128"||t==="AES-256"}class Yl extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class eU extends ps{constructor(e,n){super(e,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Z3{constructor(e,n,r,i=0,o=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=xy(),this.buffering={audio:xy(),video:xy(),audiovideo:xy()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=o,this.partial=a}}function xy(){return{start:0,executeStart:0,executeEnd:0,end:0}}const iP={length:0,start:()=>0,end:()=>0};class Xn{static isBuffered(e,n){if(e){const r=Xn.getBuffered(e);for(let i=r.length;i--;)if(n>=r.start(i)&&n<=r.end(i))return!0}return!1}static bufferedRanges(e){if(e){const n=Xn.getBuffered(e);return Xn.timeRangesToArray(n)}return[]}static timeRangesToArray(e){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}static bufferInfo(e,n,r){if(e){const i=Xn.bufferedRanges(e);if(i.length)return Xn.bufferedInfo(i,n,r)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.length>1&&e.sort((u,d)=>u.start-d.start||d.end-u.end);let i=-1,o=[];if(r)for(let u=0;u<e.length;u++){n>=e[u].start&&n<=e[u].end&&(i=u);const d=o.length;if(d){const h=o[d-1].end;e[u].start-h<r?e[u].end>h&&(o[d-1].end=e[u].end):o.push(e[u])}else o.push(e[u])}else o=e;let a=0,s,l=n,c=n;for(let u=0;u<o.length;u++){const d=o[u].start,h=o[u].end;if(i===-1&&n>=d&&n<=h&&(i=u),n+r>=d&&n<h)l=d,c=h,a=c-n;else if(n+r<d){s=d;break}}return{len:a,start:l||0,end:c||0,nextStart:s,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||iP}catch(n){return zr.log("failed to get media.buffered",n),iP}}}const tU=/\{\$([a-zA-Z0-9-_]+)\}/g;function oP(t){return tU.test(t)}function DS(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(tU,r=>{const i=r.substring(2,r.length-1),o=n==null?void 0:n[i];return o===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):o})}return e}function aP(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,o;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(n).searchParams;if(a.has(i))o=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,o=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=o||""}function Y6e(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const X6e=/^(\d+)x(\d+)$/,sP=/(.+?)=(".*?"|.*?)(?:,|$)/g;class mi{constructor(e,n){typeof e=="string"&&(e=mi.parseAttrList(e,n)),qr(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}enumeratedStringList(e,n){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((i,o)=>(i[o.toLowerCase()]=!0,i),n)}bool(e){return this[e]==="YES"}decimalResolution(e){const n=X6e.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e,n){let r;const i={},o='"';for(sP.lastIndex=0;(r=sP.exec(e))!==null;){const a=r[1].trim();let s=r[2];const l=s.indexOf(o)===0&&s.lastIndexOf(o)===s.length-1;let c=!1;if(l)s=s.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":c=!0}if(n&&(l||c))s=DS(n,s);else if(!c&&!l)switch(a){case"CLOSED-CAPTIONS":if(s==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":zr.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=s}return i}}const Q6e="com.apple.hls.interstitial";function Z6e(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function J6e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class nU{constructor(e,n,r=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(n==null?void 0:n.tagAnchor)||null,this.tagOrder=(i=n==null?void 0:n.tagOrder)!=null?i:r,n){const o=n.attr;for(const a in o)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==o[a]){zr.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=qr(new mi({}),o,e)}if(this.attr=e,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const o=(n==null?void 0:n.endDate)||new Date(this.attr["END-DATE"]);Zt(o.getTime())&&(this._endDate=o)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(zr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Zt(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===Q6e}get isValid(){return!!this.id&&!this._badValueForSameId&&Zt(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const eRe=10;class tRe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(n=>{let r=n.decryptdata;return r||(n.setKeyFormat(e.keyFormat),r=n.decryptdata),!!r&&e.matches(r)})}get hasProgramDateTime(){return this.fragments.length?Zt(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||eRe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const n=this.lastPartIndex;if(n!==-1){for(let r=e.length;r--;)if(e[r].index>n)return e[r].index;return n}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function b1(t,e){return t.length===e.length?!t.some((n,r)=>n!==e[r]):!1}function lP(t,e){return!t&&!e?!0:!t||!e?!1:b1(t,e)}function Pf(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function J3(t){switch(t){case"AES-128":case"AES-256":return qu.cbc;case"AES-256-CTR":return qu.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function e5(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function FS(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function nRe(t){const e=FS(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function rU(t){const e=function(r,i,o){const a=r[i];r[i]=r[o],r[o]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function iU(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const o=i[0]==="base64",a=i[1];o?(r.splice(-1,1),n=e5(a)):n=nRe(a)}}return n}const x1=typeof self<"u"?self:void 0;var yi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},So={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function sb(t){switch(t){case So.FAIRPLAY:return yi.FAIRPLAY;case So.PLAYREADY:return yi.PLAYREADY;case So.WIDEVINE:return yi.WIDEVINE;case So.CLEARKEY:return yi.CLEARKEY}}function Q2(t){switch(t){case yi.FAIRPLAY:return So.FAIRPLAY;case yi.PLAYREADY:return So.PLAYREADY;case yi.WIDEVINE:return So.WIDEVINE;case yi.CLEARKEY:return So.CLEARKEY}}function A0(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[yi.FAIRPLAY,yi.WIDEVINE,yi.PLAYREADY,yi.CLEARKEY].filter(i=>!!e[i]):[];return!r[yi.WIDEVINE]&&n&&r.push(yi.WIDEVINE),r}const oU=function(t){return x1!=null&&(t=x1.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function rRe(t,e,n,r){let i;switch(t){case yi.FAIRPLAY:i=["cenc","sinf"];break;case yi.WIDEVINE:case yi.PLAYREADY:i=["cenc"];break;case yi.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return iRe(i,e,n,r)}function iRe(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(o=>({contentType:`audio/mp4; codecs=${o}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(o=>({contentType:`video/mp4; codecs=${o}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function oRe(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(n=>n==="persistent-license")))}function aU(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),a=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(a){const s=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(s){const l=e5(s).subarray(0,16);return rU(l),l}}return null}let Jh={};class Eu{static clearKeyUriToKeyIdMap(){Jh={}}static setKeyIdForUri(e,n){Jh[e]=n}static addKeyIdForUri(e){const n=Object.keys(Jh).length%Number.MAX_SAFE_INTEGER,r=new Uint8Array(16);return new DataView(r.buffer,12,4).setUint32(0,n),Jh[e]=r,r}constructor(e,n,r,i=[1],o=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=o,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Pf(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(OH(a)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&b1(e.keyFormatVersions,this.keyFormatVersions)&&lP(e.iv,this.iv)&&lP(e.keyId,this.keyId)}isSupported(){if(this.method){if(Pf(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case So.FAIRPLAY:case So.WIDEVINE:case So.PLAYREADY:case So.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,n){if(!this.encrypted||!this.uri)return null;if(Pf(this.method)){let o=this.iv;return o||(typeof e!="number"&&(zr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),o=sRe(e)),new Eu(this.method,this.uri,"identity",this.keyFormatVersions,o)}if(this.keyId){const o=Jh[this.uri];if(o&&!b1(this.keyId,o)&&Eu.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const r=iU(this.uri);if(r)switch(this.keyFormat){case So.WIDEVINE:if(this.pssh=r,!this.keyId){const o=u6e(r.buffer);if(o.length){var i;const a=o[0];this.keyId=(i=a.kids)!=null&&i.length?a.kids[0]:null}}this.keyId||(this.keyId=cP(n));break;case So.PLAYREADY:{const o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=c6e(o,null,r),this.keyId=aU(r);break}default:{let o=r.subarray(0,16);if(o.length!==16){const a=new Uint8Array(16);a.set(o,16-o.length),o=a}this.keyId=o;break}}if(!this.keyId||this.keyId.byteLength!==16){let o;o=aRe(n),o||(o=cP(n),o||(o=Jh[this.uri])),o&&(this.keyId=o,Eu.setKeyIdForUri(this.uri,o))}return this}}function aRe(t){const e=t==null?void 0:t[So.WIDEVINE];return e?e.keyId:null}function cP(t){const e=t==null?void 0:t[So.PLAYREADY];if(e){const n=iU(e.uri);if(n)return aU(n)}return null}function sRe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const uP=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,dP=/#EXT-X-MEDIA:(.*)/g,lRe=/^#EXT(?:INF|-X-TARGETDURATION):/m,Z2=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),cRe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class yl{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return W3.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return lRe.test(e)}static parseMasterPlaylist(e,n){const r=oP(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},o=[];if(uP.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let a;for(;(a=uP.exec(e))!=null;)if(a[1]){var s;const c=new mi(a[1],i),u=DS(i,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:yl.resolve(u,n)},h=c.decimalResolution("RESOLUTION");h&&(d.width=h.width,d.height=h.height),pP(c.CODECS,d);const f=c["SUPPLEMENTAL-CODECS"];f&&(d.supplemental={},pP(f,d.supplemental)),(s=d.unknownCodecs)!=null&&s.length||o.push(d),i.levels.push(d)}else if(a[3]){const c=a[3],u=a[4];switch(c){case"SESSION-DATA":{const d=new mi(u,i),h=d["DATA-ID"];h&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[h]=d);break}case"SESSION-KEY":{const d=hP(u,n,i);d.encrypted&&d.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(d)):zr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new mi(u,i);aP(i,d,n)}break}case"CONTENT-STEERING":{const d=new mi(u,i);i.contentSteering={uri:yl.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=fP(u);break}}}const l=o.length>0&&o.length<i.levels.length;return i.levels=l?o:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const o={},a=r.levels,s={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(dP.lastIndex=0;(i=dP.exec(e))!==null;){const c=new mi(i[1],r),u=c.TYPE;if(u){const d=s[u],h=o[u]||[];o[u]=h;const f=c.LANGUAGE,p=c["ASSOC-LANGUAGE"],g=c.CHANNELS,m=c.CHARACTERISTICS,y=c["INSTREAM-ID"],b={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||f||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:f,url:c.URI?yl.resolve(c.URI,n):""};if(p&&(b.assocLang=p),g&&(b.channels=g),m&&(b.characteristics=m),y&&(b.instreamId=y),d!=null&&d.length){const x=yl.findGroup(d,b.groupId)||d[0];mP(b,x,"audioCodec"),mP(b,x,"textCodec")}h.push(b)}}return o}static parseLevelPlaylist(e,n,r,i,o,a){var s;const l={url:n},c=new tRe(n),u=c.fragments,d=[];let h=null,f=0,p=0,g=0,m=0,y=0,b=null,x=new G2(i,l),w,C,S,A=-1,T=!1,k=null,E;if(Z2.lastIndex=0,c.m3u8=e,c.hasVariableRefs=oP(e),((s=Z2.exec(e))==null?void 0:s[0])!=="#EXTM3U")return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;(w=Z2.exec(e))!==null;){T&&(T=!1,x=new G2(i,l),x.playlistOffset=g,x.setStart(g),x.sn=f,x.cc=m,y&&(x.bitrate=y),x.level=r,h&&(x.initSegment=h,h.rawProgramDateTime&&(x.rawProgramDateTime=h.rawProgramDateTime,h.rawProgramDateTime=null),k&&(x.setByteRange(k),k=null)));const N=w[1];if(N){x.duration=parseFloat(N);const W=(" "+w[2]).slice(1);x.title=W||null,x.tagList.push(W?["INF",N,W]:["INF",N])}else if(w[3]){if(Zt(x.duration)){x.playlistOffset=g,x.setStart(g),S&&vP(x,S,c),x.sn=f,x.level=r,x.cc=m,u.push(x);const W=(" "+w[3]).slice(1);x.relurl=DS(c,W),$S(x,b,d),b=x,g+=x.duration,f++,p=0,T=!0}}else{if(w=w[0].match(cRe),!w){zr.warn("No matches on slow regex match for level playlist!");continue}for(C=1;C<w.length&&w[C]===void 0;C++);const W=(" "+w[C]).slice(1),G=(" "+w[C+1]).slice(1),Z=w[C+2]?(" "+w[C+2]).slice(1):null;switch(W){case"BYTERANGE":b?x.setByteRange(G,b):x.setByteRange(G);break;case"PROGRAM-DATE-TIME":x.rawProgramDateTime=G,x.tagList.push(["PROGRAM-DATE-TIME",G]),A===-1&&(A=u.length);break;case"PLAYLIST-TYPE":c.type&&Vl(c,W,w),c.type=G.toUpperCase();break;case"MEDIA-SEQUENCE":c.startSN!==0?Vl(c,W,w):u.length>0&&yP(c,W,w),f=c.startSN=parseInt(G);break;case"SKIP":{c.skippedSegments&&Vl(c,W,w);const ie=new mi(G,c),he=ie.decimalInteger("SKIPPED-SEGMENTS");if(Zt(he)){c.skippedSegments+=he;for(let Q=he;Q--;)u.push(null);f+=he}const xe=ie.enumeratedString("RECENTLY-REMOVED-DATERANGES");xe&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(xe.split("	")));break}case"TARGETDURATION":c.targetduration!==0&&Vl(c,W,w),c.targetduration=Math.max(parseInt(G),1);break;case"VERSION":c.version!==null&&Vl(c,W,w),c.version=parseInt(G);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||Vl(c,W,w),c.live=!1;break;case"#":(G||Z)&&x.tagList.push(Z?[G,Z]:[G]);break;case"DISCONTINUITY":m++,x.tagList.push(["DIS"]);break;case"GAP":x.gap=!0,x.tagList.push([W]);break;case"BITRATE":x.tagList.push([W,G]),y=parseInt(G)*1e3,Zt(y)?x.bitrate=y:y=0;break;case"DATERANGE":{const ie=new mi(G,c),he=new nU(ie,c.dateRanges[ie.ID],c.dateRangeTagCount);c.dateRangeTagCount++,he.isValid||c.skippedSegments?c.dateRanges[he.id]=he:zr.warn(`Ignoring invalid DATERANGE tag: "${G}"`),x.tagList.push(["EXT-X-DATERANGE",G]);break}case"DEFINE":{{const ie=new mi(G,c);"IMPORT"in ie?Y6e(c,ie,a):aP(c,ie,n)}break}case"DISCONTINUITY-SEQUENCE":c.startCC!==0?Vl(c,W,w):u.length>0&&yP(c,W,w),c.startCC=m=parseInt(G);break;case"KEY":{const ie=hP(G,n,c);if(ie.isSupported()){if(ie.method==="NONE"){S=void 0;break}S||(S={});const he=S[ie.keyFormat];he!=null&&he.matches(ie)||(he&&(S=qr({},S)),S[ie.keyFormat]=ie)}else zr.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${G}"`);break}case"START":c.startTimeOffset=fP(G);break;case"MAP":{const ie=new mi(G,c);if(x.duration){const he=new G2(i,l);gP(he,ie,r,S),h=he,x.initSegment=h,h.rawProgramDateTime&&!x.rawProgramDateTime&&(x.rawProgramDateTime=h.rawProgramDateTime)}else{const he=x.byteRangeEndOffset;if(he){const xe=x.byteRangeStartOffset;k=`${he-xe}@${xe}`}else k=null;gP(x,ie,r,S),h=x,T=!0}h.cc=m;break}case"SERVER-CONTROL":{E&&Vl(c,W,w),E=new mi(G),c.canBlockReload=E.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=E.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&E.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=E.optionalFloat("PART-HOLD-BACK",0),c.holdBack=E.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{c.partTarget&&Vl(c,W,w);const ie=new mi(G);c.partTarget=ie.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ie=c.partList;ie||(ie=c.partList=[]);const he=p>0?ie[ie.length-1]:void 0,xe=p++,Q=new mi(G,c),X=new YTe(Q,x,l,xe,he);ie.push(X),x.duration+=X.duration;break}case"PRELOAD-HINT":{const ie=new mi(G,c);c.preloadHint=ie;break}case"RENDITION-REPORT":{const ie=new mi(G,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(ie);break}default:zr.warn(`line parsed but not handled: ${w}`);break}}}b&&!b.relurl?(u.pop(),g-=b.duration,c.partList&&(c.fragmentHint=b)):c.partList&&($S(x,b,d),x.cc=m,c.fragmentHint=x,S&&vP(x,S,c)),c.targetduration||(c.playlistParsingError=new Error("Missing Target Duration"));const P=u.length,_=u[0],F=u[P-1];if(g+=c.skippedSegments*c.targetduration,g>0&&P&&F){c.averagetargetduration=g/P;const N=F.sn;c.endSN=N!=="initSegment"?N:0,c.live||(F.endList=!0),A>0&&(dRe(u,A),_&&d.unshift(_))}return c.fragmentHint&&(g+=c.fragmentHint.duration),c.totalduration=g,d.length&&c.dateRangeTagCount&&_&&sU(d,c),c.endCC=m,c}}function sU(t,e){let n=t.length;if(!n)if(e.hasProgramDateTime){const s=e.fragments[e.fragments.length-1];t.push(s),n++}else return;const r=t[n-1],i=e.live?1/0:e.totalduration,o=Object.keys(e.dateRanges);for(let s=o.length;s--;){const l=e.dateRanges[o[s]],c=l.startDate.getTime();l.tagAnchor=r.ref;for(let u=n;u--;){var a;if(((a=t[u])==null?void 0:a.sn)<e.startSN)break;const d=uRe(e,c,t,u,i);if(d!==-1){l.tagAnchor=e.fragments[d].ref;break}}}}function uRe(t,e,n,r,i){const o=n[r];if(o){const s=o.programDateTime;if(e>=s||r===0){var a;const l=(((a=n[r+1])==null?void 0:a.start)||i)-o.start;if(e<=s+l*1e3){const c=n[r].sn-t.startSN;if(c<0)return-1;const u=t.fragments;if(u.length>n.length){const h=(n[r+1]||u[u.length-1]).sn-t.startSN;for(let f=h;f>c;f--){const p=u[f].programDateTime;if(e>=p&&e<p+u[f].duration*1e3)return f}}return c}}}return-1}function hP(t,e,n){var r,i;const o=new mi(t,n),a=(r=o.METHOD)!=null?r:"",s=o.URI,l=o.hexadecimalInteger("IV"),c=o.KEYFORMATVERSIONS,u=(i=o.KEYFORMAT)!=null?i:"identity";s&&o.IV&&!l&&zr.error(`Invalid IV: ${o.IV}`);const d=s?yl.resolve(s,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Eu(a,d,u,h,l,o.KEYID)}function fP(t){const n=new mi(t).decimalFloatingPoint("TIME-OFFSET");return Zt(n)?n:null}function pP(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(o=>G3(o,r));i.length&&(e[`${r}Codec`]=i.map(o=>o.split("/")[0]).join(","),n=n.filter(o=>i.indexOf(o)===-1))}),e.unknownCodecs=n}function mP(t,e,n){const r=e[n];r&&(t[n]=r)}function dRe(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function $S(t,e,n){t.rawProgramDateTime?n.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function gP(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function vP(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}function Vl(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function yP(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function J2(t,e){const n=e.startPTS;if(Zt(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&i.setDuration(r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function lU(t,e,n,r,i,o,a){r-n<=0&&(a.warn("Fragment should have a positive duration",e),r=n+e.duration,o=i+e.duration);let l=n,c=r;const u=e.startPTS,d=e.endPTS;if(Zt(u)){const y=Math.abs(u-n);t&&y>t.totalduration?a.warn(`media timestamps and playlist times differ by ${y}s for level ${e.level} ${t.url}`):Zt(e.deltaPTS)?e.deltaPTS=Math.max(y,e.deltaPTS):e.deltaPTS=y,l=Math.max(n,u),n=Math.min(n,u),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,c=Math.min(r,d),r=Math.max(r,d),o=e.endDTS!==void 0?Math.max(o,e.endDTS):o}const h=n-e.start;e.start!==0&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=l,e.startDTS=i,e.endPTS=r,e.minEndPTS=c,e.endDTS=o;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let p;const g=f-t.startSN,m=t.fragments;for(m[g]=e,p=g;p>0;p--)J2(m[p],m[p-1]);for(p=g;p<m.length-1;p++)J2(m[p],m[p+1]);return t.fragmentHint&&J2(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,h}function hRe(t,e,n){if(t===e)return;let r=null;const i=t.fragments;for(let u=i.length-1;u>=0;u--){const d=i[u].initSegment;if(d){r=d;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let o;mRe(t,e,(u,d,h,f)=>{if((!e.startCC||e.skippedSegments)&&d.cc!==u.cc){const p=u.cc-d.cc;for(let g=h;g<f.length;g++)f[g].cc+=p;e.endCC=f[f.length-1].cc}Zt(u.startPTS)&&Zt(u.endPTS)&&(d.setStart(d.startPTS=u.startPTS),d.startDTS=u.startDTS,d.maxStartPTS=u.maxStartPTS,d.endPTS=u.endPTS,d.endDTS=u.endDTS,d.minEndPTS=u.minEndPTS,d.setDuration(u.endPTS-u.startPTS),d.duration&&(o=d),e.PTSKnown=e.alignedSliding=!0),u.hasStreams&&(d.elementaryStreams=u.elementaryStreams),d.loader=u.loader,u.hasStats&&(d.stats=u.stats),u.initSegment&&(d.initSegment=u.initSegment,r=u.initSegment)});const a=e.fragments,s=e.fragmentHint?a.concat(e.fragmentHint):a;if(r&&s.forEach(u=>{var d;u&&(!u.initSegment||u.initSegment.relurl===((d=r)==null?void 0:d.relurl))&&(u.initSegment=r)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(u=>!u),e.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=e.skippedSegments;u--;)a.shift();e.startSN=a[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=fRe(t.dateRanges,e,n));const u=t.fragments.filter(d=>d.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let d=1;d<s.length;d++)s[d].programDateTime===null&&$S(s[d],s[d-1],u);sU(u,e)}e.endCC=a[a.length-1].cc}if(!e.startCC){var l;const u=dU(t,e.startSN-1);e.startCC=(l=u==null?void 0:u.cc)!=null?l:a[0].cc}pRe(t.partList,e.partList,(u,d)=>{d.elementaryStreams=u.elementaryStreams,d.stats=u.stats}),o?lU(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS,n):cU(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const c=e.advancedDateTime;if(e.advanced&&c){const u=e.edge;e.driftStart||(e.driftStartTime=c,e.driftStart=u),e.driftEndTime=c,e.driftEnd=u}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function fRe(t,e,n){const{dateRanges:r,recentlyRemovedDateranges:i}=e,o=qr({},t);i&&i.forEach(l=>{delete o[l]});const s=Object.keys(o).length;return s?(Object.keys(r).forEach(l=>{const c=o[l],u=new nU(r[l].attr,c);u.isValid?(o[l]=u,c||(u.tagOrder+=s)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Jr(r[l].attr)}"`)}),o):r}function pRe(t,e,n){if(t&&e){let r=0;for(let i=0,o=t.length;i<=o;i++){const a=t[i],s=e[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}}function mRe(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=o;c++){const u=l[a+c];let d=s[c];if(r&&!d&&u&&(d=e.fragments[c]=u),u&&d){n(u,d,c,s);const h=u.relurl,f=d.relurl;if(h&&gRe(h,f)){e.playlistParsingError=bP(`media sequence mismatch ${d.sn}:`,t,e,u,d);return}else if(u.cc!==d.cc){e.playlistParsingError=bP(`discontinuity sequence mismatch (${u.cc}!=${d.cc})`,t,e,u,d);return}}}}function bP(t,e,n,r,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function cU(t,e,n=!0){const r=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,o=r>=0;let a=0;if(o&&r<i.length)a=i[r].start;else if(o&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(o&&n)a=t.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=t.fragmentStart;else return;BS(e,a)}function BS(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function uU(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const o=r[r.length-1].duration*1e3;o<n&&(n=o)}}else n/=2;return Math.round(n)}function dU(t,e,n){if(!t)return null;let r=t.fragments[e-t.startSN];return r||(r=t.fragmentHint,r&&r.sn===e)?r:e<t.startSN&&n&&n.sn===e?n:null}function xP(t,e,n){return t?hU(t.partList,e,n):null}function hU(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function fU(t){t.forEach((e,n)=>{var r;(r=e.details)==null||r.fragments.forEach(i=>{i.level=n,i.initSegment&&(i.initSegment.level=n)})})}function gRe(t,e){return t!==e&&e?wP(t)!==wP(e):!1}function wP(t){return t.replace(/\?[^?]*$/,"")}function Bm(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function vRe(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function CP(t,e){const n=t.start+e;t.startPTS=n,t.setStart(n),t.endPTS=n+t.duration}function pU(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)CP(n[r],t);e.fragmentHint&&CP(e.fragmentHint,t),e.alignedSliding=!0}function yRe(t,e){t&&(mU(e,t),e.alignedSliding||w1(e,t),!e.alignedSliding&&!e.skippedSegments&&cU(t,e,!1))}function mU(t,e){if(!vRe(e,t))return;const n=Math.min(e.endCC,t.endCC),r=Bm(e.fragments,n),i=Bm(t.fragments,n);if(!r||!i)return;zr.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const o=r.start-i.start;pU(o,t)}function w1(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,o;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=Bm(r,a),o=Bm(n,a)),(!i||!o)&&(i=r[Math.floor(r.length/2)],o=Bm(n,i.cc)||n[Math.floor(n.length/2)]);const s=i.programDateTime,l=o.programDateTime;if(!s||!l)return;const c=(l-s)/1e3-(o.start-i.start);pU(c,t)}function Xo(t,e,n){fa(t,e,n),t.addEventListener(e,n)}function fa(t,e,n){t.removeEventListener(e,n)}const bRe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},bt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class t5 extends eU{constructor(e,n,r,i,o){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=bt.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:s,media:l,mediaBuffer:c,state:u}=this,d=l?l.currentTime:0,h=Xn.bufferInfo(c||l,d,a.maxBufferHole),f=!h.len;if(this.log(`Media seeking to ${Zt(d)?d.toFixed(3):d}, state: ${u}, ${f?"out of":"in"} buffer`),this.state===bt.ENDED)this.resetLoadingState();else if(s){const p=a.maxFragLookUpTolerance,g=s.start-p,m=s.start+s.duration+p;if(f||m<h.start||g>h.end){const y=d>m;(d<g||y)&&(y&&s.loader&&(this.log(`Cancelling fragment load for seek (sn: ${s.sn})`),s.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(l){this.fragmentTracker.removeFragmentsInRange(d,1/0,this.playlistType,!0);const p=this.lastCurrentTime;if(d>p&&(this.lastCurrentTime=d),!this.loadingParts){const g=Math.max(h.end,d),m=this.shouldLoadParts(this.getLevelDetails(),g);m&&(this.log(`LL-Part loading ON after seeking to ${d.toFixed(2)} with buffer @${g.toFixed(2)}`),this.loadingParts=m)}}this.hls.hasEnoughToStart||(this.log(`Setting ${f?"startPosition":"nextLoadPosition"} to ${d} for seek without enough to start`),this.nextLoadPosition=d,f&&(this.startPosition=d)),f&&this.state===bt.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=o,this.hls=e,this.fragmentLoader=new K6e(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new Q3(e.config)}registerListeners(){const{hls:e}=this;e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(q.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===bt.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=bt.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:n}=this;return n===-1&&e?e:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,n){if(n.live||!this.media)return!1;const r=e.end||0,i=this.config.timelineOffset||0;if(r<=i)return!1;const o=e.buffered;this.config.maxBufferHole&&o&&o.length>1&&(e=Xn.bufferedInfo(o,e.start,0));const a=e.nextStart;if(a&&a>i&&a<n.edge||this.media.currentTime<e.start)return!1;const l=n.partList;if(l!=null&&l.length){const u=l[l.length-1];return Xn.isBuffered(this.media,u.start+u.duration/2)}const c=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(c)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||e}return 0}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;Xo(r,"seeking",this.onMediaSeeking),Xo(r,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===bt.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),fa(i,"seeking",this.onMediaSeeking),fa(i,"ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,n){}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=bt.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this.startFragRequested=!0,this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=o=>{const a=o.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${o.part?" part: "+o.part.index:""} of ${this.fragInfo(a,!1,o.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(o)};this._doFragLoad(e,n,r,i).then(o=>{if(!o)return;const a=this.state,s=o.frag;if(this.fragContextChanged(s)){(a===bt.FRAG_LOADING||!this.fragCurrent&&a===bt.PARSING)&&(this.fragmentTracker.removeFragment(s),this.state=bt.IDLE);return}"payload"in o&&(this.log(`Loaded ${s.type} sn: ${s.sn} of ${this.playlistLabel()} ${s.level}`),this.hls.trigger(q.FRAG_LOADED,o)),this._handleFragmentLoadComplete(o)}).catch(o=>{this.state===bt.STOPPED||this.state===bt.ERROR||(this.warn(`Frag error: ${(o==null?void 0:o.message)||o}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===ao.APPENDING){const o=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,o),s=Math.max(e.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(s,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===ao.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const n=e.details;return(n==null?void 0:n.live)&&n.type!=="EVENT"&&(this.levelLastLoaded!==e||n.expired)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(q.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{const i=r==null?void 0:r.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{frag:o,payload:a}=r,s=o.decryptdata;if(a&&a.byteLength>0&&s!=null&&s.key&&s.iv&&Pf(s.method)){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),s.key.buffer,s.iv.buffer,J3(s.method)).catch(c=>{throw i.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:o}),c}).then(c=>{const u=self.performance.now();return i.trigger(q.FRAG_DECRYPTED,{frag:o,payload:c,stats:{tstart:l,tdecrypt:u}}),r.payload=c,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===bt.STOPPED||this.state===bt.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==bt.STOPPED&&(this.state=bt.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,n){var r,i;const o=e.tracks;if(o&&!n.encrypted&&((r=o.audio)!=null&&r.encrypted||(i=o.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,s=new Error(`Encrypted track with no key in ${this.fragInfo(n)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(s.message),!a||a.mediaKeys?!1:(this.hls.trigger(q.ERROR,{type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_NO_KEYS,fatal:!1,error:s,frag:n}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)} > buffer:${r?bRe.toString(Xn.getBuffered(r)):"(detached)"})`),Bi(e)){var i;if(e.type!==cn.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(s=>!!a[s])){this.state=bt.IDLE;return}}const o=(i=this.levels)==null?void 0:i[e.level];o!=null&&o.fragmentError&&(this.log(`Resetting level fragment error count of ${o.fragmentError} on frag buffered`),o.fragmentError=0)}this.state=bt.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:o}=e,a=!o||o.length===0||o.some(l=>!l),s=new Z3(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);n.flush(s)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var o;this.fragCurrent=e;const a=n.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let s=null;if(e.encrypted&&!((o=e.decryptdata)!=null&&o.key)){if(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=bt.KEY_LOADING,this.fragCurrent=e,s=this.keyLoader.load(e).then(h=>{if(!this.fragContextChanged(h.frag))return this.hls.trigger(q.KEY_LOADED,h),this.state===bt.KEY_LOADING&&(this.state=bt.IDLE),h}),this.hls.trigger(q.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(s=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),s&&this.log("[eme] blocking frag load until media-keys acquired"));const l=this.fragPrevious;if(Bi(e)&&(!l||e.sn!==l.sn)){const h=this.shouldLoadParts(n.details,e.end);h!==this.loadingParts&&(this.log(`LL-Part loading ${h?"ON":"OFF"} loading sn ${l==null?void 0:l.sn}->${e.sn}`),this.loadingParts=h)}if(r=Math.max(e.start,r||0),this.loadingParts&&Bi(e)){const h=a.partList;if(h&&i){r>a.fragmentEnd&&a.fragmentHint&&(e=a.fragmentHint);const f=this.getNextPart(h,e,r);if(f>-1){const p=h[f];e=this.fragCurrent=p.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${p.index} (${f}/${h.length-1}) of ${this.fragInfo(e,!1,p)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=p.start+p.duration,this.state=bt.FRAG_LOADING;let g;return s?g=s.then(m=>!m||this.fragContextChanged(m.frag)?null:this.doFragPartsLoad(e,p,n,i)).catch(m=>this.handleFragLoadError(m)):g=this.doFragPartsLoad(e,p,n,i).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(q.FRAG_LOADING,{frag:e,part:p,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):g}else if(!e.url||this.loadedEndOfParts(h,r))return Promise.resolve(null)}}if(Bi(e)&&this.loadingParts){var c;this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(c=a.partList)==null?void 0:c.filter(h=>h.loaded).map(h=>`[${h.start}-${h.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(r.toFixed(3))}`),Zt(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=bt.FRAG_LOADING;const u=this.config.progressive&&e.type!==cn.SUBTITLE;let d;return u&&s?d=s.then(h=>!h||this.fragContextChanged(h.frag)?null:this.fragmentLoader.load(e,i)).catch(h=>this.handleFragLoadError(h)):d=Promise.all([this.fragmentLoader.load(e,u?i:void 0),s]).then(([h])=>(!u&&i&&i(h),h)).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(q.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,n,r,i){return new Promise((o,a)=>{var s;const l=[],c=(s=r.details)==null?void 0:s.partList,u=d=>{this.fragmentLoader.loadPart(e,d,i).then(h=>{l[d.index]=h;const f=h.part;this.hls.trigger(q.FRAG_LOADED,h);const p=xP(r.details,e.sn,d.index+1)||hU(c,e.sn,d.index+1);if(p)u(p);else return o({frag:e,part:f,partsLoaded:l})}).catch(a)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;n.frag&&n.details===et.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):n.frag&&n.type===fn.KEY_SYSTEM_ERROR?(n.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(n.frag)):this.hls.trigger(q.ERROR,n)}else this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==bt.PARSING){!this.fragCurrent&&this.state!==bt.STOPPED&&this.state!==bt.ERROR&&(this.state=bt.IDLE);return}const{frag:r,part:i,level:o}=n,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const s=this.getLevelDetails(),c=s&&r.sn>s.endSN||this.shouldLoadParts(s,r.end);c!==this.loadingParts&&(this.log(`LL-Part loading ${c?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=c),this.updateLevelTiming(r,i,o,e.partial)}shouldLoadParts(e,n){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var r;const o=e.partList[0];if(o.fragment.type===cn.SUBTITLE)return!1;const a=o.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(n>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>o.start-o.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:o,part:a}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${o} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const s=n[i],l=s.details,c=a>-1?xP(l,o,a):null,u=c?c.fragment:dU(l,o,r);return u?(r&&r!==u&&(u.stats=r.stats),{frag:u,part:c,level:s}):null}bufferFragmentData(e,n,r,i,o){if(this.state!==bt.PARSING)return;const{data1:a,data2:s}=e;let l=a;if(s&&(l=cs(a,s)),!l.length)return;const c=this.initPTS[n.cc],u=c?-c.baseTime/c.timescale:void 0,d={type:e.type,frag:n,part:r,chunkMeta:i,offset:u,parent:n.type,data:l};if(this.hls.trigger(q.BUFFER_APPENDING,d),e.dropped&&e.independent&&!r){if(o)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Xn.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=Xn.bufferInfo(n,r,0),o=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,o*.25),s=Math.max(Math.min(e.start-a,i.end-a),r+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}getFwdBufferInfo(e,n){var r;const i=this.getLoadPosition();if(!Zt(i))return null;const a=this.lastCurrentTime>i||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,n,a)}getFwdBufferInfoAtPos(e,n,r,i){const o=Xn.bufferInfo(e,n,i);if(o.len===0&&o.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(n,r);if(a&&(o.nextStart<=a.end||a.gap)){const s=Math.max(Math.min(o.nextStart,a.end)-n,i);return Xn.bufferInfo(e,n,s)}}return o}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),o=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return o>=i?(r.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0):!1}getAppendedFrag(e,n=cn.MAIN){const r=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,n):null;return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:o}=this,a=r[0].start,s=o.lowLatencyMode&&!!n.partList;let l=null;if(n.live){const d=o.initialLiveManifestSize;if(i<d)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${d})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var c;s&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),l=this.getInitialLiveFragment(n);const h=this.hls.startPosition,f=this.hls.liveSyncPosition,p=l?(h!==-1&&h>=a?h:f)||l.start:e;this.log(`Setting startPosition to ${p} to match start frag at live edge. mainStart: ${h} liveSyncPosition: ${f} frag.start: ${(c=l)==null?void 0:c.start}`),this.startPosition=this.nextLoadPosition=p}}else e<=a&&(l=r[0]);if(!l){const d=this.loadingParts?n.partEnd:n.fragmentEnd;l=this.getFragmentAtPosition(e,d,n)}let u=this.filterReplacedPrimary(l,n);if(!u&&l){const d=l.sn-n.startSN;u=this.filterReplacedPrimary(r[d+1]||null,n)}return this.mapToInitFragWhenRequired(u)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===ao.OK||r===ao.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,o){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,n),a&&!a.gap&&r.nextStart)){const s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i,0);if(s!==null&&r.len+s.len>=o){const l=a.sn;return this.loopSn!==l&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${l}`),this.loopSn=l),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(AP(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,n){if(!e)return e;if(AP(this.config)&&e.type!==cn.SUBTITLE){const r=this.hls.interstitialsManager,i=r==null?void 0:r.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&(n==null?void 0:n.live)===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const o=r==null?void 0:r.playerQueue;if(o)for(let a=o.length;a--;){const s=o[a].interstitial;if(s.appendInPlace&&e.start>=s.startTime&&e.end<=s.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,o=!1,a=!0;for(let s=0,l=e.length;s<l;s++){const c=e[s];if(a=a&&!c.independent,i>-1&&r<c.start)break;const u=c.loaded;u?i=-1:(o||(c.independent||a)&&c.fragment===n)&&(c.fragment!==n&&this.warn(`Need buffer at ${r} but next unloaded part starts at ${c.start}`),i=s),o=u}return i}loadedEndOfParts(e,n){let r;for(let i=e.length;i--;){if(r=e[i],!r.loaded)return!1;if(n>r.start)return!0}return!1}getInitialLiveFragment(e){const n=e.fragments,r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=D6e(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const o=r.sn+1;if(o>=e.startSN&&o<=e.endSN){const a=n[o-e.startSN];r.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=QH(e,r.cc,r.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const o=this.hls.liveSyncPosition;o!==null&&(i=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:o}=this,{fragments:a,endSN:s}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=i,u=r.partList,d=!!(this.loadingParts&&u!=null&&u.length&&l);d&&!this.bitrateTest&&u[u.length-1].fragment.sn===l.sn&&(a=a.concat(l),s=l.sn);let h;if(e<n){var f;const g=e<this.lastCurrentTime||e>n-c||(f=this.media)!=null&&f.paused||!this.startFragRequested?0:c;h=hh(o,a,e,g)}else h=a[a.length-1];if(h){const p=h.sn-r.startSN,g=this.fragmentTracker.getState(h);if((g===ao.OK||g===ao.PARTIAL&&h.gap)&&(o=h),o&&h.sn===o.sn&&(!d||u[0].fragment.sn>h.sn||!r.live)&&h.level===o.level){const y=a[p+1];h.sn<s&&this.fragmentTracker.getState(y)!==ao.OK?h=y:h=null}}return h}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const o=e.fragmentStart,a=!n,s=e.alignedSliding&&Zt(o);if(a||!s&&!o){yRe(r,e);const l=e.fragmentStart;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} fragments: ${i}`),l}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;r<n&&(r=-1);const i=this.timelineOffset;if(r===-1){const o=this.startTimeOffset!==null,a=o?this.startTimeOffset:e.startTimeOffset;a!==null&&Zt(a)?(r=n+a,a<0&&(r+=e.edge),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${a} found in ${o?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+i}this.nextLoadPosition=r+i}getLoadPosition(){var e;const{media:n}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&n?r=n.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,n){this.transmuxer&&e.type===this.playlistType&&Bi(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==bt.FRAG_LOADING_WAITING_RETRY)&&(this.state=bt.IDLE)}onFragmentOrKeyLoadError(e,n){var r;if(n.chunkMeta&&!n.frag){const y=this.getCurrentContext(n.chunkMeta);y&&(n.frag=y.frag)}const i=n.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var o;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const a=n.details===et.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);const s=n.errorAction;if(!s){this.state=bt.ERROR;return}const{action:l,flags:c,retryCount:u=0,retryConfig:d}=s,h=!!d,f=h&&l===xo.RetryRequest,p=h&&!s.resolved&&c===Ea.MoveAllAlternatesMatchingHost,g=(r=this.hls.latestLevelDetails)==null?void 0:r.live;if(!f&&p&&Bi(i)&&!i.endList&&g&&!JH(n))this.resetFragmentErrors(e),this.treatAsGap(i),s.resolved=!0;else if((f||p)&&u<d.maxNumRetry){var m;const y=OS((m=n.response)==null?void 0:m.code),b=X3(d,u);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+b,this.state=bt.FRAG_LOADING_WAITING_RETRY,s.resolved=!0,y){this.log("Waiting for connection (offline)"),this.retryDate=1/0,n.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${n.details}, retrying loading ${u+1}/${d.maxNumRetry} in ${b}ms`)}else if(d)if(this.resetFragmentErrors(e),u<d.maxNumRetry)!a&&l!==xo.RemoveAlternatePermanently&&(s.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${u})`);return}else l===xo.SendAlternateToPenaltyBox?this.state=bt.WAITING_LEVEL:this.state=bt.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),n=this.retryDate,r=n===1/0;(!n||e>=n||r&&!OS(0))&&(r&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=bt.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===bt.PARSING||this.state===bt.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const a=!o;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===cn.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==bt.STOPPED&&(this.state=bt.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=Xn.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===bt.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==bt.STOPPED&&(this.state=bt.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,n=e?e.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const h=i?0:lU(o,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS,this);return this.hls.trigger(q.LEVEL_PTS_UPDATED,{details:o,level:r,drift:h,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)){var s;const l=((s=this.transmuxer)==null?void 0:s.error)===null;if((r.fragmentError===0||l&&(r.fragmentError<2||e.endList))&&this.treatAsGap(e,r),l){const c=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(c.message),this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=bt.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)})`),this.hls.trigger(q.FRAG_PARSED,{frag:e,part:n})}playlistLabel(){return this.playlistType===cn.MAIN?"level":"track"}fragInfo(e,n=!0,r){var i,o;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((i=n&&!r?e.startPTS:(r||e).start)!=null?i:NaN).toFixed(3)}-${((o=n&&!r?e.endPTS:(r||e).end)!=null?o:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,n){n&&n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function AP(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class gU{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=xRe(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function xRe(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const o=t[i];n.set(o,r),r+=o.length}return n}var eC={exports:{}},SP;function wRe(){return SP||(SP=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,f,p){var g=n?n+c:c;if(!this._events[g])return!1;var m=this._events[g],y=arguments.length,b,x;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,h),!0;case 5:return m.fn.call(m.context,u,d,h,f),!0;case 6:return m.fn.call(m.context,u,d,h,f,p),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];m.fn.apply(m.context,b)}else{var w=m.length,C;for(x=0;x<w;x++)switch(m[x].once&&this.removeListener(c,m[x].fn,void 0,!0),y){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,u);break;case 3:m[x].fn.call(m[x].context,u,d);break;case 4:m[x].fn.call(m[x].context,u,d,h);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];m[x].fn.apply(m[x].context,b)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var g=0,m=[],y=p.length;g<y;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(eC)),eC.exports}var CRe=wRe(),n5=KTe(CRe);const yg="1.6.15",ap={};function ARe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function SRe(){const t=ap[yg];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),i={worker:new self.Worker(n),objectURL:n,clientCount:1};return ap[yg]=i,i}function kRe(t){const e=ap[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,i={worker:new self.Worker(n),scriptURL:n,clientCount:1};return ap[t]=i,i}function ERe(t){const e=ap[t||yg];if(e&&e.clientCount--===1){const{worker:r,objectURL:i}=e;delete ap[t||yg],i&&self.URL.revokeObjectURL(i),r.terminate()}}function vU(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function r5(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Wx(t,e){let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n}function bg(t,e){const n=e;let r=0;for(;r5(t,e);){r+=10;const i=Wx(t,e+6);r+=i,vU(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)}function TRe(t,e,n,r){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=e[n+2],a=o>>2&15;if(a>12){const f=new Error(`invalid ADTS sampling index:${a}`);t.emit(q.ERROR,q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}const s=(o>>6&3)+1,l=e[n+3]>>6&3|(o&1)<<2,c="mp4a.40."+s,u=i[a];let d=a;(s===5||s===29)&&(d-=3);const h=[s<<3|(d&14)>>1,(d&1)<<7|l<<3];return zr.log(`manifest codec:${r}, parsed codec:${c}, channels:${l}, rate:${u} (ADTS object type:${s} sampling index:${a})`),{config:h,samplerate:u,channelCount:l,codec:c,parsedCodec:c,manifestCodec:r}}function yU(t,e){return t[e]===255&&(t[e+1]&246)===240}function bU(t,e){return t[e+1]&1?7:9}function i5(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function RRe(t,e){return e+5<t.length}function C1(t,e){return e+1<t.length&&yU(t,e)}function _Re(t,e){return RRe(t,e)&&yU(t,e)&&i5(t,e)<=t.length-e}function PRe(t,e){if(C1(t,e)){const n=bU(t,e);if(e+n>=t.length)return!1;const r=i5(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||C1(t,i)}return!1}function xU(t,e,n,r,i){if(!t.samplerate){const o=TRe(e,n,r,i);if(!o)return;qr(t,o)}}function wU(t){return 1024*9e4/t}function IRe(t,e){const n=bU(t,e);if(e+n<=t.length){const r=i5(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function CU(t,e,n,r,i){const o=wU(t.samplerate),a=r+i*o,s=IRe(e,n);let l;if(s){const{frameLength:d,headerLength:h}=s,f=h+d,p=Math.max(0,n+f-e.length);p?(l=new Uint8Array(f-h),l.set(e.subarray(n+h,e.length),0)):l=e.subarray(n+h,n+f);const g={unit:l,pts:a};return p||t.samples.push(g),{sample:g,length:f,missing:p}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:a},length:c,missing:-1}}function LRe(t,e){return r5(t,e)&&Wx(t,e+6)+10<=t.length-e}function MRe(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function tC(t,e=0,n=1/0){return ORe(t,e,n,Uint8Array)}function ORe(t,e,n,r){const i=DRe(t);let o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);const a=FRe(t)?t.byteOffset:0,s=(a+t.byteLength)/o,l=(a+e)/o,c=Math.floor(Math.max(0,Math.min(l,s))),u=Math.floor(Math.min(c+Math.max(n,0),s));return new r(i,c,u-c)}function DRe(t){return t instanceof ArrayBuffer?t:t.buffer}function FRe(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function $Re(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(t.size<2)return;if(t.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const r=t.data.subarray(1).indexOf(0);if(r===-1)return;const i=$a(tC(t.data,1,r)),o=t.data[2+r],a=t.data.subarray(3+r).indexOf(0);if(a===-1)return;const s=$a(tC(t.data,3+r,a));let l;return i==="-->"?l=$a(tC(t.data,4+r+a)):l=MRe(t.data.subarray(4+r+a)),e.mimeType=i,e.pictureType=o,e.description=s,e.data=l,e}function BRe(t){if(t.size<2)return;const e=$a(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}function NRe(t){if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=$a(t.data.subarray(n),!0);n+=r.length+1;const i=$a(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=$a(t.data.subarray(1));return{key:t.type,info:"",data:e}}function zRe(t){if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=$a(t.data.subarray(n),!0);n+=r.length+1;const i=$a(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=$a(t.data);return{key:t.type,info:"",data:e}}function HRe(t){return t.type==="PRIV"?BRe(t):t.type[0]==="W"?zRe(t):t.type==="APIC"?$Re(t):NRe(t)}function URe(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=Wx(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}}const wy=10,jRe=10;function AU(t){let e=0;const n=[];for(;r5(t,e);){const r=Wx(t,e+6);t[e+5]>>6&1&&(e+=wy),e+=wy;const i=e+r;for(;e+jRe<i;){const o=URe(t.subarray(e)),a=HRe(o);a&&n.push(a),e+=o.size+wy}vU(t,e)&&(e+=wy)}return n}function SU(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function VRe(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}}function o5(t){const e=AU(t);for(let n=0;n<e.length;n++){const r=e[n];if(SU(r))return VRe(r)}}let _a=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function ll(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class a5{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=cs(this.cachedData,e),this.cachedData=null);let r=bg(e,0),i=r?r.length:0,o;const a=this._audioTrack,s=this._id3Track,l=r?o5(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Zt(l))&&(this.basePTS=WRe(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:_a.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,o=i):i=c}else LRe(e,i)?(r=bg(e,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:_a.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,o=i):i++;if(i===c&&o!==c){const u=e.slice(o);this.cachedData?this.cachedData=cs(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:ll(),id3Track:s,textTrack:ll()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:ll(),id3Track:this._id3Track,textTrack:ll()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const WRe=(t,e,n)=>{if(Zt(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};let Cy=null;const qRe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],KRe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],GRe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],YRe=[0,1,1,4];function kU(t,e,n,r,i){if(n+24>e.length)return;const o=EU(e,n);if(o&&n+o.frameLength<=e.length){const a=o.samplesPerFrame*9e4/o.sampleRate,s=r+i*a,l={unit:e.subarray(n,n+o.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(l),{sample:l,length:o.frameLength,missing:0}}}function EU(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&o!==3){const a=t[e+2]>>1&1,s=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=qRe[l*14+i-1]*1e3,d=KRe[(n===3?0:n===2?1:2)*3+o],h=s===3?1:2,f=GRe[n][r],p=YRe[r],g=f*8*p,m=Math.floor(f*c/d+a)*p;if(Cy===null){const x=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Cy=x?parseInt(x[1]):0}return!!Cy&&Cy<=87&&r===2&&c>=224e3&&s===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:h,frameLength:m,samplesPerFrame:g}}}function s5(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function TU(t,e){return e+1<t.length&&s5(t,e)}function XRe(t,e){return s5(t,e)&&4<=t.length-e}function RU(t,e){if(e+1<t.length&&s5(t,e)){const r=EU(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const o=e+i;return o===t.length||TU(t,o)}return!1}class QRe extends a5{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,n){if(!e)return!1;const r=bg(e,0);let i=(r==null?void 0:r.length)||0;if(RU(e,i))return!1;for(let o=e.length;i<o;i++)if(PRe(e,i))return n.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return _Re(e,n)}appendFrame(e,n,r){xU(e,this.observer,n,r,e.manifestCodec);const i=CU(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const _U=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),o=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=t[e];const s=Math.min(r,8),l=8-s;o[0]=4278190080>>>24+l<<l,i[0]=(a[0]&o[0])>>l,n=n?n<<s|i[0]:i[0],e+=1,r-=s}return n};class ZRe extends a5{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=PU(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=bg(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&o5(n)!==void 0&&_U(e,r)<16}}function PU(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const o=e[n+4]>>6;if(o>=3)return-1;const s=[48e3,44100,32e3][o],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+o]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let h=0;d===2?h+=2:(d&1&&d!==1&&(h+=2),d&4&&(h+=2));const f=(e[n+6]<<8|e[n+7])>>12-h&1,g=[2,1,2,3,3,4,4,5][d]+f,m=e[n+5]>>3,y=e[n+5]&7,b=new Uint8Array([o<<6|m<<1|y>>2,(y&3)<<6|d<<3|f<<2|l>>4,l<<4&224]),x=1536/s*9e4,w=r+i*x,C=e.subarray(n,n+u);return t.config=b,t.channelCount=g,t.samplerate=s,t.samples.push({unit:C,pts:w}),u}class JRe extends a5{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=bg(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&o5(n)!==void 0&&_U(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(RU(e,r))return zr.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return XRe(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return kU(e,n,r,this.basePTS,this.frameIndex)}}const e8e=/\/emsg[-/]ID3/i;class t8e{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const o=this.videoTrack=ll("video",1),a=this.audioTrack=ll("audio",1),s=this.txtTrack=ll("text",1);if(this.id3Track=ll("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=zH(e);if(l.video){const{id:c,timescale:u,codec:d,supplemental:h}=l.video;o.id=c,o.timescale=s.timescale=u,o.codec=d,o.supplemental=h}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;a.id=c,a.timescale=u,a.codec=d}s.id=$H.text,o.sampleDuration=0,o.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return ZTe(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=cs(this.remainderData,e));const s=o6e(r);this.remainderData=s.remainder,i.samples=s.valid||new Uint8Array}else i.samples=r;const a=this.extractID3Track(i,n);return o.samples=U_(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=U_(e,n),{videoTrack:n,audioTrack:ll(),id3Track:i,textTrack:ll()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=ar(e.samples,["emsg"]);i&&i.forEach(o=>{const a=s6e(o);if(e8e.test(a.schemeIdUri)){const s=kP(a,n);let l=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=a.payload;r.samples.push({data:c,len:c.byteLength,dts:s,pts:s,type:_a.emsg,duration:l})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const s=kP(a,n);r.samples.push({data:a.payload,len:a.payload.byteLength,dts:s,pts:s,type:_a.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function kP(t,e){return Zt(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class n8e{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Q3(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,qu.cbc)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(a).then(s=>{const l=new Uint8Array(s);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)}).catch(r)}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let o=32;o<e.length-16;o+=160,i+=16)r.set(e.subarray(o,o+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let o=32;o<e.length-16;o+=160,i+=16)e.set(r.subarray(i,i+16),o);return e}decryptAvcSample(e,n,r,i,o){const a=jH(o.data),s=this.getAvcEncryptedData(a);this.decryptBuffer(s.buffer).then(l=>{o.data=this.getAvcDecryptedUnit(a,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)}).catch(i)}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const o=e[n].units;for(;!(r>=o.length);r++){const a=o[r];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,n,r,i,a),!this.decrypter.isSync()))return}}}}class IU{constructor(){this.VideoSample=null}createVideoSample(e,n,r){return{key:e,frame:!1,pts:n,dts:r,units:[],length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const o=r.units;i=o[o.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const o=r[i-1];e.pts=o.pts,e.dts=o.dts}else{n.dropped++;return}}n.samples.push(e)}}parseNALu(e,n,r){const i=n.byteLength;let o=e.naluState||0;const a=o,s=[];let l=0,c,u,d,h=-1,f=0;for(o===-1&&(h=0,f=this.getNALuType(n,0),o=0,l=1);l<i;){if(c=n[l++],!o){o=c?0:1;continue}if(o===1){o=c?0:2;continue}if(!c)o=3;else if(c===1){if(u=l-o-1,h>=0){const p={data:n.subarray(h,u),type:f};s.push(p)}else{const p=this.getLastNalUnit(e.samples);p&&(a&&l<=4-a&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-a)),u>0&&(p.data=cs(p.data,n.subarray(0,u)),p.state=0))}l<i?(d=this.getNALuType(n,l),h=l,f=d,o=0):o=-1}else o=0}if(h>=0&&o>=0){const p={data:n.subarray(h,i),type:f,state:o};s.push(p)}if(s.length===0){const p=this.getLastNalUnit(e.samples);p&&(p.data=cs(p.data,n))}return e.naluState=o,s}}class Nm{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),o=Math.min(4,n);if(o===0)throw new Error("no bytes available");i.set(e.subarray(r,r+o)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=o*8,this.bytesAvailable-=o}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&zr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class r8e extends IU{parsePES(e,n,r,i){const o=this.parseNALu(e,r.data,i);let a=this.VideoSample,s,l=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(c=>{var u,d;switch(c.type){case 1:{let g=!1;s=!0;const m=c.data;if(l&&m.length>4){const y=this.readSliceType(m);(y===2||y===4||y===7||y===9)&&(g=!0)}if(g){var h;(h=a)!=null&&h.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.frame=!0,a.key=g;break}case 5:s=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 6:{s=!0,K3(c.data,1,r.pts,n.samples);break}case 7:{var f,p;s=!0,l=!0;const g=c.data,m=this.readSPS(g);if(!e.sps||e.width!==m.width||e.height!==m.height||((f=e.pixelRatio)==null?void 0:f[0])!==m.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==m.pixelRatio[1]){e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.sps=[g];const y=g.subarray(1,4);let b="avc1.";for(let x=0;x<3;x++){let w=y[x].toString(16);w.length<2&&(w="0"+w),b+=w}e.codec=b}break}case 8:s=!0,e.pps=[c.data];break;case 9:s=!0,e.audFound=!0,(d=a)!=null&&d.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:s=!0;break;default:s=!1;break}a&&s&&a.units.push(c)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,n){return e[n]&31}readSliceType(e){const n=new Nm(e);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(e,n){let r=8,i=8,o;for(let a=0;a<e;a++)i!==0&&(o=n.readEG(),i=(r+o+256)%256),r=i===0?r:i}readSPS(e){const n=new Nm(e);let r=0,i=0,o=0,a=0,s,l,c;const u=n.readUByte.bind(n),d=n.readBits.bind(n),h=n.readUEG.bind(n),f=n.readBoolean.bind(n),p=n.skipBits.bind(n),g=n.skipEG.bind(n),m=n.skipUEG.bind(n),y=this.skipScalingList.bind(this);u();const b=u();if(d(5),p(3),u(),m(),b===100||b===110||b===122||b===244||b===44||b===83||b===86||b===118||b===128){const T=h();if(T===3&&p(1),m(),m(),p(1),f())for(l=T!==3?8:12,c=0;c<l;c++)f()&&(c<6?y(16,n):y(64,n))}m();const x=h();if(x===0)h();else if(x===1)for(p(1),g(),g(),s=h(),c=0;c<s;c++)g();m(),p(1);const w=h(),C=h(),S=d(1);S===0&&p(1),p(1),f()&&(r=h(),i=h(),o=h(),a=h());let A=[1,1];if(f()&&f())switch(u()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:{A=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((w+1)*16-r*2-i*2),height:(2-S)*(C+1)*16-(S?2:4)*(o+a),pixelRatio:A}}}class i8e extends IU{constructor(...e){super(...e),this.initVPS=null}parsePES(e,n,r,i){const o=this.parseNALu(e,r.data,i);let a=this.VideoSample,s,l=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(c=>{var u,d;switch(c.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),a.frame=!0,s=!0;break;case 16:case 17:case 18:case 21:if(s=!0,l){var h;(h=a)!=null&&h.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:s=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 39:s=!0,K3(c.data,2,r.pts,n.samples);break;case 32:s=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=qr(e.params,this.readVPS(c.data)),this.initVPS=c.data),e.vps=[c.data];break;case 33:if(s=!0,l=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],c.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const f=this.readSPS(c.data);e.width=f.width,e.height=f.height,e.pixelRatio=f.pixelRatio,e.codec=f.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const p in f.params)e.params[p]=f.params[p]}this.pushParameterSet(e.sps,c.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0;break;case 34:if(s=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const f=this.readPPS(c.data);for(const p in f)e.params[p]=f[p]}this.pushParameterSet(e.pps,c.data,e.vps)}break;case 35:s=!0,e.audFound=!0,(d=a)!=null&&d.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:s=!1;break}a&&s&&a.units.push(c)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,n,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(n)}getNALuType(e,n){return(e[n]&126)>>>1}ebsp2rbsp(e){const n=new Uint8Array(e.byteLength);let r=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(n[r]=e[i],r++);return new Uint8Array(n.buffer,0,r)}pushAccessUnit(e,n){super.pushAccessUnit(e,n),this.initVPS&&(this.initVPS=null)}readVPS(e){const n=new Nm(e);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const r=n.readBits(3),i=n.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:i}}readSPS(e){const n=new Nm(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.readBits(4);const r=n.readBits(3);n.readBoolean();const i=n.readBits(2),o=n.readBoolean(),a=n.readBits(5),s=n.readUByte(),l=n.readUByte(),c=n.readUByte(),u=n.readUByte(),d=n.readUByte(),h=n.readUByte(),f=n.readUByte(),p=n.readUByte(),g=n.readUByte(),m=n.readUByte(),y=n.readUByte(),b=[],x=[];for(let Ne=0;Ne<r;Ne++)b.push(n.readBoolean()),x.push(n.readBoolean());if(r>0)for(let Ne=r;Ne<8;Ne++)n.readBits(2);for(let Ne=0;Ne<r;Ne++)b[Ne]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),x[Ne]&&n.readUByte();n.readUEG();const w=n.readUEG();w==3&&n.skipBits(1);const C=n.readUEG(),S=n.readUEG(),A=n.readBoolean();let T=0,k=0,E=0,P=0;A&&(T+=n.readUEG(),k+=n.readUEG(),E+=n.readUEG(),P+=n.readUEG());const _=n.readUEG(),F=n.readUEG(),N=n.readUEG(),W=n.readBoolean();for(let Ne=W?0:r;Ne<=r;Ne++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let Ae=0;Ae<4;Ae++)for(let se=0;se<(Ae===3?2:6);se++)if(!n.readBoolean())n.readUEG();else{const re=Math.min(64,1<<4+(Ae<<1));Ae>1&&n.readEG();for(let me=0;me<re;me++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const ie=n.readUEG();let he=0;for(let Ne=0;Ne<ie;Ne++){let Ae=!1;if(Ne!==0&&(Ae=n.readBoolean()),Ae){Ne===ie&&n.readUEG(),n.readBoolean(),n.readUEG();let se=0;for(let be=0;be<=he;be++){const re=n.readBoolean();let me=!1;re||(me=n.readBoolean()),(re||me)&&se++}he=se}else{const se=n.readUEG(),be=n.readUEG();he=se+be;for(let re=0;re<se;re++)n.readUEG(),n.readBoolean();for(let re=0;re<be;re++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const Ne=n.readUEG();for(let Ae=0;Ae<Ne;Ae++){for(let se=0;se<N+4;se++)n.readBits(1);n.readBits(1)}}let Q=0,X=1,K=1,ne=!0,ve=1,Se=0;n.readBoolean(),n.readBoolean();let ye=!1;if(n.readBoolean()){if(n.readBoolean()){const De=n.readUByte(),ge=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],pe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];De>0&&De<16?(X=ge[De-1],K=pe[De-1]):De===255&&(X=n.readBits(16),K=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),ye=n.readBoolean(),ye&&(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG()),n.readBoolean()&&(ve=n.readBits(32),Se=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const pe=n.readBoolean(),Te=n.readBoolean();let Xe=!1;(pe||Te)&&(Xe=n.readBoolean(),Xe&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),Xe&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let Oe=0;Oe<=r;Oe++){ne=n.readBoolean();const ft=ne||n.readBoolean();let Lt=!1;ft?n.readEG():Lt=n.readBoolean();const Kt=Lt?1:n.readUEG()+1;if(pe)for(let Dt=0;Dt<Kt;Dt++)n.readUEG(),n.readUEG(),Xe&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(Te)for(let Dt=0;Dt<Kt;Dt++)n.readUEG(),n.readUEG(),Xe&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),Q=n.readUEG())}let J=C,Ue=S;if(A){let Ne=1,Ae=1;w===1?Ne=Ae=2:w==2&&(Ne=2),J=C-Ne*k-Ne*T,Ue=S-Ae*P-Ae*E}const Qe=i?["A","B","C"][i]:"",ae=s<<24|l<<16|c<<8|u;let fe=0;for(let Ne=0;Ne<32;Ne++)fe=(fe|(ae>>Ne&1)<<31-Ne)>>>0;let ke=fe.toString(16);return a===1&&ke==="2"&&(ke="6"),{codecString:`hvc1.${Qe}${a}.${ke}.${o?"H":"L"}${y}.B0`,params:{general_tier_flag:o,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[s,l,c,u],general_constraint_indicator_flags:[d,h,f,p,g,m],general_level_idc:y,bit_depth:_+8,bit_depth_luma_minus8:_,bit_depth_chroma_minus8:F,min_spatial_segmentation_idc:Q,chroma_format_idc:w,frame_rate:{fixed:ne,fps:Se/ve}},width:J,height:Ue,pixelRatio:[X,K]}}readPPS(e){const n=new Nm(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const i=n.readBoolean(),o=n.readBoolean();let a=1;return o&&i?a=0:o?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,n){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const uo=188;class lu{constructor(e,n,r,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=i,this.videoParser=null}static probe(e,n){const r=lu.syncOffset(e);return r>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const n=e.length;let r=Math.min(uo*5,n-uo)+1,i=0;for(;i<r;){let o=!1,a=-1,s=0;for(let l=i;l<n;l+=uo)if(e[l]===71&&(n-l===uo||e[l+uo]===71)){if(s++,a===-1&&(a=l,a!==0&&(r=Math.min(a+uo*99,e.length-uo)+1)),o||(o=NS(e,l)===0),o&&s>1&&(a===0&&s>2||l+uo>r))return a}else{if(s)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:$H[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=lu.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=lu.createTrack("audio",i),this._id3Track=lu.createTrack("id3"),this._txtTrack=lu.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let o;const a=this._videoTrack,s=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=a.pid,d=a.pesData,h=s.pid,f=l.pid,p=s.pesData,g=l.pesData,m=null,y=this.pmtParsed,b=this._pmtId,x=e.length;if(this.remainderData&&(e=cs(this.remainderData,e),x=e.length,this.remainderData=null),x<uo&&!i)return this.remainderData=e,{audioTrack:s,videoTrack:a,id3Track:l,textTrack:c};const w=Math.max(0,lu.syncOffset(e));x-=(x-w)%uo,x<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,x,e.buffer.byteLength-x));let C=0;for(let A=w;A<x;A+=uo)if(e[A]===71){const T=!!(e[A+1]&64),k=NS(e,A),E=(e[A+3]&48)>>4;let P;if(E>1){if(P=A+5+e[A+4],P===A+uo)continue}else P=A+4;switch(k){case u:T&&(d&&(o=ef(d,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,c,o,!1)),d={data:[],size:0}),d&&(d.data.push(e.subarray(P,A+uo)),d.size+=A+uo-P);break;case h:if(T){if(p&&(o=ef(p,this.logger)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,o);break;case"mp3":this.parseMPEGPES(s,o);break;case"ac3":this.parseAC3PES(s,o);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(P,A+uo)),p.size+=A+uo-P);break;case f:T&&(g&&(o=ef(g,this.logger))&&this.parseID3PES(l,o),g={data:[],size:0}),g&&(g.data.push(e.subarray(P,A+uo)),g.size+=A+uo-P);break;case 0:T&&(P+=e[P]+1),b=this._pmtId=o8e(e,P);break;case b:{T&&(P+=e[P]+1);const _=a8e(e,P,this.typeSupported,r,this.observer,this.logger);u=_.videoPid,u>0&&(a.pid=u,a.segmentCodec=_.segmentVideoCodec),h=_.audioPid,h>0&&(s.pid=h,s.segmentCodec=_.segmentAudioCodec),f=_.id3Pid,f>0&&(l.pid=f),m!==null&&!y&&(this.logger.warn(`MPEG-TS PMT found at ${A} after unknown PID '${m}'. Backtracking to sync byte @${w} to parse all TS packets.`),m=null,A=w-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=k;break}}else C++;C>0&&zS(this.observer,new Error(`Found ${C} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=d,s.pesData=p,l.pesData=g;const S={audioTrack:s,videoTrack:a,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(S),S}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:o}=e,a=r.pesData,s=n.pesData,l=i.pesData;let c;if(a&&(c=ef(a,this.logger))?(this.readyVideoParser(r.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(r,o,c,!0),r.pesData=null)):r.pesData=a,s&&(c=ef(s,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else s!=null&&s.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;l&&(c=ef(l,this.logger))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),o=this.sampleAes=new n8e(this.observer,this.config,n);return this.decrypt(i,o)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new r8e:e==="hevc"&&(this.videoParser=new i8e))}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:o}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{o.samples?n.decryptAvcSamples(o.samples,0,0,()=>{r(e)}):r(e)}):o.samples&&n.decryptAvcSamples(o.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let o=n.data;if(i){this.aacOverFlow=null;const d=i.missing,h=i.sample.unit.byteLength;if(d===-1)o=cs(i.sample.unit,o);else{const f=h-d;i.sample.unit.set(o.subarray(0,d),f),e.samples.push(i.sample),r=i.missing}}let a,s;for(a=r,s=o.length;a<s-1&&!C1(o,a);a++);if(a!==r){let d;const h=a<s-1;if(h?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",zS(this.observer,new Error(d),h,this.logger),!h)return}xU(e,this.observer,o,a,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const d=wU(e.samplerate);l=i.sample.pts+d}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;a<s;)if(u=CU(e,o,a,l,c),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;a<s-1&&!C1(o,a);a++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let o=0,a=0;const s=n.pts;if(s===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(TU(r,a)){const l=kU(e,r,a,s,o);if(l)a+=l.length,o++;else break}else a++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const o=r.length;let a=0,s=0,l;for(;s<o&&(l=PU(e,r,s,i,a++))>0;)s+=l}}parseID3PES(e,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=qr({},n,{type:this._videoTrack?_a.emsg:_a.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function NS(t,e){return((t[e+1]&31)<<8)+t[e+2]}function o8e(t,e){return(t[e+10]&31)<<8|t[e+11]}function a8e(t,e,n,r,i,o){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},s=(t[e+1]&15)<<8|t[e+2],l=e+3+s-4,c=(t[e+10]&15)<<8|t[e+11];for(e+=12+c;e<l;){const u=NS(t,e),d=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){nC("ADTS AAC",o);break}case 15:a.audioPid===-1&&(a.audioPid=u);break;case 21:a.id3Pid===-1&&(a.id3Pid=u);break;case 219:if(!r){nC("H.264",o);break}case 27:a.videoPid===-1&&(a.videoPid=u);break;case 3:case 4:!n.mpeg&&!n.mp3?o.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="mp3");break;case 193:if(!r){nC("AC-3",o);break}case 129:n.ac3?a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&d>0){let h=e+5,f=d;for(;f>2;){switch(t[h]){case 106:n.ac3!==!0?o.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=u,a.segmentAudioCodec="ac3");break}const g=t[h+1]+2;h+=g,f-=g}}break;case 194:case 135:return zS(i,new Error("Unsupported EC-3 in M2TS found"),void 0,o),a;case 36:a.videoPid===-1&&(a.videoPid=u,a.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"));break}e+=d+5}return a}function zS(t,e,n,r){r.warn(`parsing error: ${e.message}`),t.emit(q.ERROR,q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function nC(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function ef(t,e){let n=0,r,i,o,a,s;const l=t.data;if(!t||t.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=cs(l[0],l[1]),l.splice(1,1);if(r=l[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(i=(r[4]<<8)+r[5],i&&i>t.size-6)return null;const u=r[7];u&192&&(a=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,u&64?(s=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,a-s>60*9e4&&(e.warn(`${Math.round((a-s)/9e4)}s delta between PTS and DTS, align them`),a=s)):s=a),o=r[8];let d=o+9;if(t.size<=d)return null;t.size-=d;const h=new Uint8Array(t.size);for(let f=0,p=l.length;f<p;f++){r=l[f];let g=r.byteLength;if(d)if(d>g){d-=g;continue}else r=r.subarray(d),g-=d,d=0;h.set(r,n),n+=g}return i&&(i-=o+3),{data:h,pts:a,dts:s,len:i}}return null}class s8e{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Kc=Math.pow(2,32)-1;class Ze{static init(){Ze.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Ze.types)Ze.types.hasOwnProperty(e)&&(Ze.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ze.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);Ze.STTS=Ze.STSC=Ze.STCO=o,Ze.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ze.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ze.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ze.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);Ze.FTYP=Ze.box(Ze.types.ftyp,a,l,a,s),Ze.DINF=Ze.box(Ze.types.dinf,Ze.box(Ze.types.dref,i))}static box(e,...n){let r=8,i=n.length;const o=i;for(;i--;)r+=n[i].byteLength;const a=new Uint8Array(r);for(a[0]=r>>24&255,a[1]=r>>16&255,a[2]=r>>8&255,a[3]=r&255,a.set(e,4),i=0,r=8;i<o;i++)a.set(n[i],r),r+=n[i].byteLength;return a}static hdlr(e){return Ze.box(Ze.types.hdlr,Ze.HDLR_TYPES[e])}static mdat(e){return Ze.box(Ze.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(Kc+1)),i=Math.floor(n%(Kc+1));return Ze.box(Ze.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return Ze.box(Ze.types.mdia,Ze.mdhd(e.timescale||0,e.duration||0),Ze.hdlr(e.type),Ze.minf(e))}static mfhd(e){return Ze.box(Ze.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Ze.box(Ze.types.minf,Ze.box(Ze.types.smhd,Ze.SMHD),Ze.DINF,Ze.stbl(e)):Ze.box(Ze.types.minf,Ze.box(Ze.types.vmhd,Ze.VMHD),Ze.DINF,Ze.stbl(e))}static moof(e,n,r){return Ze.box(Ze.types.moof,Ze.mfhd(e),Ze.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=Ze.trak(e[n]);return Ze.box.apply(null,[Ze.types.moov,Ze.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(Ze.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=Ze.trex(e[n]);return Ze.box.apply(null,[Ze.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(Kc+1)),i=Math.floor(n%(Kc+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ze.box(Ze.types.mvhd,o)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,o;for(i=0;i<n.length;i++)o=n[i].flags,r[i+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return Ze.box(Ze.types.sdtp,r)}static stbl(e){return Ze.box(Ze.types.stbl,Ze.stsd(e),Ze.box(Ze.types.stts,Ze.STTS),Ze.box(Ze.types.stsc,Ze.STSC),Ze.box(Ze.types.stsz,Ze.STSZ),Ze.box(Ze.types.stco,Ze.STCO))}static avc1(e){let n=[],r=[],i,o,a;for(i=0;i<e.sps.length;i++)o=e.sps[i],a=o.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(o));for(i=0;i<e.pps.length;i++)o=e.pps[i],a=o.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(o));const s=Ze.box(Ze.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return Ze.box(Ze.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,Ze.box(Ze.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ze.box(Ze.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(e){const n=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return Ze.box(Ze.types.mp4a,Ze.audioStsd(e),Ze.box(Ze.types.esds,Ze.esds(e)))}static mp3(e){return Ze.box(Ze.types[".mp3"],Ze.audioStsd(e))}static ac3(e){return Ze.box(Ze.types["ac-3"],Ze.audioStsd(e),Ze.box(Ze.types.dac3,e.config))}static stsd(e){const{segmentCodec:n}=e;if(e.type==="audio"){if(n==="aac")return Ze.box(Ze.types.stsd,Ze.STSD,Ze.mp4a(e));if(n==="ac3"&&e.config)return Ze.box(Ze.types.stsd,Ze.STSD,Ze.ac3(e));if(n==="mp3"&&e.codec==="mp3")return Ze.box(Ze.types.stsd,Ze.STSD,Ze.mp3(e))}else if(e.pps&&e.sps){if(n==="avc")return Ze.box(Ze.types.stsd,Ze.STSD,Ze.avc1(e));if(n==="hevc"&&e.vps)return Ze.box(Ze.types.stsd,Ze.STSD,Ze.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${n}/${e.codec})`)}static tkhd(e){const n=e.id,r=(e.duration||0)*(e.timescale||0),i=e.width||0,o=e.height||0,a=Math.floor(r/(Kc+1)),s=Math.floor(r%(Kc+1));return Ze.box(Ze.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,o>>8&255,o&255,0,0]))}static traf(e,n){const r=Ze.sdtp(e),i=e.id,o=Math.floor(n/(Kc+1)),a=Math.floor(n%(Kc+1));return Ze.box(Ze.types.traf,Ze.box(Ze.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),Ze.box(Ze.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255])),Ze.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,Ze.box(Ze.types.trak,Ze.tkhd(e),Ze.mdia(e))}static trex(e){const n=e.id;return Ze.box(Ze.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,o=12+16*i,a=new Uint8Array(o);let s,l,c,u,d,h;for(n+=8+o,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),s=0;s<i;s++)l=r[s],c=l.duration,u=l.size,d=l.flags,h=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,h>>>24&255,h>>>16&255,h>>>8&255,h&255],12+16*s);return Ze.box(Ze.types.trun,a)}static initSegment(e){Ze.types||Ze.init();const n=Ze.moov(e);return cs(Ze.FTYP,n)}static hvc1(e){const n=e.params,r=[e.vps,e.sps,e.pps],i=4,o=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),i-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),r.length]);let a=o.length;for(let p=0;p<r.length;p+=1){a+=3;for(let g=0;g<r[p].length;g+=1)a+=2+r[p][g].length}const s=new Uint8Array(a);s.set(o,0),a=o.length;const l=r.length-1;for(let p=0;p<r.length;p+=1){s.set(new Uint8Array([32+p|(p===l?128:0),0,r[p].length]),a),a+=3;for(let g=0;g<r[p].length;g+=1)s.set(new Uint8Array([r[p][g].length>>8,r[p][g].length&255]),a),a+=2,s.set(r[p][g],a),a+=r[p][g].length}const c=Ze.box(Ze.types.hvcC,s),u=e.width,d=e.height,h=e.pixelRatio[0],f=e.pixelRatio[1];return Ze.box(Ze.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,Ze.box(Ze.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ze.box(Ze.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,f>>24,f>>16&255,f>>8&255,f&255])))}}Ze.types=void 0;Ze.HDLR_TYPES=void 0;Ze.STTS=void 0;Ze.STSC=void 0;Ze.STCO=void 0;Ze.STSZ=void 0;Ze.VMHD=void 0;Ze.SMHD=void 0;Ze.STSD=void 0;Ze.FTYP=void 0;Ze.DINF=void 0;const LU=9e4;function l5(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function l8e(t,e,n=1,r=!1){return l5(t,e,1/n,r)}function h0(t,e=!1){return l5(t,1e3,1/LU,e)}function c8e(t,e=1){return l5(t,LU,1/e)}function EP(t){const{baseTime:e,timescale:n,trackId:r}=t;return`${e/n} (${e}/${n}) trackId: ${r}`}const u8e=10*1e3,d8e=1024,h8e=1152,f8e=1536;let tf=null,rC=null;function TP(t,e,n,r){return{duration:e,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class lb extends ps{constructor(e,n,r,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,tf===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);tf=a?parseInt(a[1]):0}if(rC===null){const o=navigator.userAgent.match(/Safari\/(\d+)/i);rC=o?parseInt(o[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const n=this._initPTS;(!n||!e||e.trackId!==n.trackId||e.baseTime!==n.baseTime||e.timescale!==n.timescale)&&this.log(`Reset initPTS: ${n&&EP(n)} > ${e&&EP(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,i=e.reduce((o,a)=>{let s=a.pts,l=s-o;return l<-4294967296&&(n=!0,s=Ra(s,r),l=s-o),l>0?o:s},r);return n&&this.debug("PTS rollover detected"),i}remux(e,n,r,i,o,a,s,l){let c,u,d,h,f,p,g=o,m=o;const y=e.pid>-1,b=n.pid>-1,x=n.samples.length,w=e.samples.length>0,C=s&&x>0||x>1;if((!y||w)&&(!b||C)||this.ISGenerated||s){if(this.ISGenerated){var A,T,k,E;const N=this.videoTrackConfig;(N&&(n.width!==N.width||n.height!==N.height||((A=n.pixelRatio)==null?void 0:A[0])!==((T=N.pixelRatio)==null?void 0:T[0])||((k=n.pixelRatio)==null?void 0:k[1])!==((E=N.pixelRatio)==null?void 0:E[1]))||!N&&C||this.nextAudioTs===null&&w)&&this.resetInitSegment()}this.ISGenerated||(d=this.generateIS(e,n,o,a));const P=this.isVideoContiguous;let _=-1,F;if(C&&(_=p8e(n.samples),!P&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,_>0){this.warn(`Dropped ${_} out of ${x} video samples due to a missing keyframe`);const N=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(_),n.dropped+=_,m+=(n.samples[0].pts-N)/n.inputTimeScale,F=m}else _===-1&&(this.warn(`No keyframe found out of ${x} video samples`),p=!1);if(this.ISGenerated){if(w&&C){const N=this.getVideoStartPts(n.samples),G=(Ra(e.samples[0].pts,N)-N)/n.inputTimeScale;g+=Math.max(0,G),m+=Math.max(0,-G)}if(w){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),d=this.generateIS(e,n,o,a)),u=this.remuxAudio(e,g,this.isAudioContiguous,a,b||C||l===cn.AUDIO?m:void 0),C){const N=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),d=this.generateIS(e,n,o,a)),c=this.remuxVideo(n,m,P,N)}}else C&&(c=this.remuxVideo(n,m,P,0));c&&(c.firstKeyFrame=_,c.independent=_!==-1,c.firstKeyFramePTS=F)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(f=MU(r,o,this._initPTS,this._initDTS)),i.samples.length&&(h=OU(i,o,this._initPTS))),{audio:u,video:c,initSegment:d,independent:p,text:h,id3:f}}computeInitPts(e,n,r,i){const o=Math.round(r*n);let a=Ra(e,o);if(a<o+n)for(this.log(`Adjusting PTS for rollover in timeline near ${(o-a)/n} ${i}`);a<o+n;)a+=8589934592;return a-o}generateIS(e,n,r,i){const o=e.samples,a=n.samples,s=this.typeSupported,l={},c=this._initPTS;let u=!c||i,d="audio/mp4",h,f,p,g=-1;if(u&&(h=f=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":s.mpeg?(d="audio/mpeg",e.codec=""):s.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&s.mpeg?new Uint8Array(0):Ze.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(g=e.id,p=e.inputTimeScale,!c||p!==c.timescale?h=f=this.computeInitPts(o[0].pts,p,r,"audio"):u=!1)}if(n.sps&&n.pps&&a.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:Ze.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(g=n.id,p=n.inputTimeScale,!c||p!==c.timescale){const m=this.getVideoStartPts(a),y=Ra(a[0].dts,m),b=this.computeInitPts(y,p,r,"video"),x=this.computeInitPts(m,p,r,"video");f=Math.min(f,b),h=Math.min(h,x)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(c&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${r} ${h/p} != initPTS: ${c.baseTime/c.timescale} (${c.baseTime}/${c.timescale}) trackId: ${c.trackId}`),this.log(`Found initPTS at playlist time: ${r} offset: ${h/p} (${h}/${p}) trackId: ${g}`),this._initPTS={baseTime:h,timescale:p,trackId:g},this._initDTS={baseTime:f,timescale:p,trackId:g}):h=p=void 0,{tracks:l,initPTS:h,timescale:p,trackId:g}}remuxVideo(e,n,r,i){const o=e.inputTimeScale,a=e.samples,s=[],l=a.length,c=this._initPTS,u=c.baseTime*o/c.timescale;let d=this.nextVideoTs,h=8,f=this.videoSampleDuration,p,g,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,b=!1;if(!r||d===null){const Q=u+n*o,X=a[0].pts-Ra(a[0].dts,a[0].pts);tf&&d!==null&&Math.abs(Q-X-(d+u))<15e3?r=!0:d=Q-X-u}const x=d+u;for(let Q=0;Q<l;Q++){const X=a[Q];X.pts=Ra(X.pts,x),X.dts=Ra(X.dts,x),X.dts<a[Q>0?Q-1:Q].dts&&(b=!0)}b&&a.sort(function(Q,X){const K=Q.dts-X.dts,ne=Q.pts-X.pts;return K||ne}),p=a[0].dts,g=a[a.length-1].dts;const w=g-p,C=w?Math.round(w/(l-1)):f||e.inputTimeScale/30;if(r){const Q=p-x,X=Q>C,K=Q<-1;if((X||K)&&(X?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${h0(Q,!0)} ms (${Q}dts) hole between fragments detected at ${n.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${h0(-Q,!0)} ms (${Q}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!K||x>=a[0].pts||tf)){p=x;const ne=a[0].pts-Q;if(X)a[0].dts=p,a[0].pts=ne;else{let ve=!0;for(let Se=0;Se<a.length&&!(a[Se].dts>ne&&ve);Se++){const ye=a[Se].pts;if(a[Se].dts-=Q,a[Se].pts-=Q,Se<a.length-1){const Be=a[Se+1].pts,J=a[Se].pts,Ue=Be<=J,Qe=Be<=ye;ve=Ue==Qe}}}this.log(`Video: Initial PTS/DTS adjusted: ${h0(ne,!0)}/${h0(p,!0)}, delta: ${h0(Q,!0)} ms`)}}p=Math.max(0,p);let S=0,A=0,T=p;for(let Q=0;Q<l;Q++){const X=a[Q],K=X.units,ne=K.length;let ve=0;for(let Se=0;Se<ne;Se++)ve+=K[Se].data.length;A+=ve,S+=ne,X.length=ve,X.dts<T?(X.dts=T,T+=C/4|0||1):T=X.dts,m=Math.min(X.pts,m),y=Math.max(X.pts,y)}g=a[l-1].dts;const k=A+4*S+8;let E;try{E=new Uint8Array(k)}catch(Q){this.observer.emit(q.ERROR,q.ERROR,{type:fn.MUX_ERROR,details:et.REMUX_ALLOC_ERROR,fatal:!1,error:Q,bytes:k,reason:`fail allocating video mdat ${k}`});return}const P=new DataView(E.buffer);P.setUint32(0,k),E.set(Ze.types.mdat,4);let _=!1,F=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY;for(let Q=0;Q<l;Q++){const X=a[Q],K=X.units;let ne=0;for(let ye=0,Be=K.length;ye<Be;ye++){const J=K[ye],Ue=J.data,Qe=J.data.byteLength;P.setUint32(h,Qe),h+=4,E.set(Ue,h),h+=Qe,ne+=4+Qe}let ve;if(Q<l-1)f=a[Q+1].dts-X.dts,ve=a[Q+1].pts-X.pts;else{const ye=this.config,Be=Q>0?X.dts-a[Q-1].dts:C;if(ve=Q>0?X.pts-a[Q-1].pts:C,ye.stretchShortVideoTrack&&this.nextAudioTs!==null){const J=Math.floor(ye.maxBufferHole*o),Ue=(i?m+i*o:this.nextAudioTs+u)-X.pts;Ue>J?(f=Ue-Be,f<0?f=Be:_=!0,this.log(`It is approximately ${Ue/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Be}else f=Be}const Se=Math.round(X.pts-X.dts);F=Math.min(F,f),W=Math.max(W,f),N=Math.min(N,ve),G=Math.max(G,ve),s.push(TP(X.key,f,ne,Se))}if(s.length){if(tf){if(tf<70){const Q=s[0].flags;Q.dependsOn=2,Q.isNonSync=0}}else if(rC&&G-N<W-F&&C/W<.025&&s[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Q=p;for(let X=0,K=s.length;X<K;X++){const ne=Q+s[X].duration,ve=Q+s[X].cts;if(X<K-1){const Se=ne+s[X+1].cts;s[X].duration=Se-ve}else s[X].duration=X?s[X-1].duration:C;s[X].cts=0,Q=ne}}}f=_||!f?C:f;const Z=g+f;this.nextVideoTs=d=Z-u,this.videoSampleDuration=f,this.isVideoContiguous=!0;const xe={data1:Ze.moof(e.sequenceNumber++,p,qr(e,{samples:s})),data2:E,startPTS:(m-u)/o,endPTS:(y+f-u)/o,startDTS:(p-u)/o,endDTS:d/o,type:"video",hasAudio:!1,hasVideo:!0,nb:s.length,dropped:e.dropped};return e.samples=[],e.dropped=0,xe}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return h8e;case"ac3":return f8e;default:return d8e}}remuxAudio(e,n,r,i,o){const a=e.inputTimeScale,s=e.samplerate?e.samplerate:a,l=a/s,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,h=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,f=[],p=o!==void 0;let g=e.samples,m=h?0:8,y=this.nextAudioTs||-1;const b=d.baseTime*a/d.timescale,x=b+n*a;if(this.isAudioContiguous=r=r||g.length&&y>0&&(i&&Math.abs(x-(y+b))<9e3||Math.abs(Ra(g[0].pts,x)-(y+b))<20*u),g.forEach(function(G){G.pts=Ra(G.pts,x)}),!r||y<0){const G=g.length;if(g=g.filter(Z=>Z.pts>=0),G!==g.length&&this.warn(`Removed ${g.length-G} of ${G} samples (initPTS ${b} / ${a})`),!g.length)return;o===0?y=0:i&&!p?y=Math.max(0,x-b):y=g[0].pts-b}if(e.segmentCodec==="aac"){const G=this.config.maxAudioFramesDrift;for(let Z=0,ie=y+b;Z<g.length;Z++){const he=g[Z],xe=he.pts,Q=xe-ie,X=Math.abs(1e3*Q/a);if(Q<=-G*u&&p)Z===0&&(this.warn(`Audio frame @ ${(xe/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*Q/a)} ms.`),this.nextAudioTs=y=xe-b,ie=xe);else if(Q>=G*u&&X<u8e&&p){let K=Math.round(Q/u);for(ie=xe-K*u;ie<0&&K&&u;)K--,ie+=u;Z===0&&(this.nextAudioTs=y=ie-b),this.warn(`Injecting ${K} audio frames @ ${((ie-b)/a).toFixed(3)}s due to ${Math.round(1e3*Q/a)} ms gap.`);for(let ne=0;ne<K;ne++){let ve=s8e.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);ve||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),ve=he.unit.subarray()),g.splice(Z,0,{unit:ve,pts:ie}),ie+=u,Z++}}he.pts=ie,ie+=u}}let w=null,C=null,S,A=0,T=g.length;for(;T--;)A+=g[T].unit.byteLength;for(let G=0,Z=g.length;G<Z;G++){const ie=g[G],he=ie.unit;let xe=ie.pts;if(C!==null){const X=f[G-1];X.duration=Math.round((xe-C)/l)}else if(r&&e.segmentCodec==="aac"&&(xe=y+b),w=xe,A>0){A+=m;try{S=new Uint8Array(A)}catch(X){this.observer.emit(q.ERROR,q.ERROR,{type:fn.MUX_ERROR,details:et.REMUX_ALLOC_ERROR,fatal:!1,error:X,bytes:A,reason:`fail allocating audio mdat ${A}`});return}h||(new DataView(S.buffer).setUint32(0,A),S.set(Ze.types.mdat,4))}else return;S.set(he,m);const Q=he.byteLength;m+=Q,f.push(TP(!0,c,Q,0)),C=xe}const k=f.length;if(!k)return;const E=f[f.length-1];y=C-b,this.nextAudioTs=y+l*E.duration;const P=h?new Uint8Array(0):Ze.moof(e.sequenceNumber++,w/l,qr({},e,{samples:f}));e.samples=[];const _=(w-b)/a,F=this.nextAudioTs/a,W={data1:P,data2:S,startPTS:_,endPTS:F,startDTS:_,endDTS:F,type:"audio",hasAudio:!0,hasVideo:!1,nb:k};return this.isAudioContiguous=!0,W}}function Ra(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function p8e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function MU(t,e,n,r){const i=t.samples.length;if(!i)return;const o=t.inputTimeScale;for(let s=0;s<i;s++){const l=t.samples[s];l.pts=Ra(l.pts-n.baseTime*o/n.timescale,e*o)/o,l.dts=Ra(l.dts-r.baseTime*o/r.timescale,e*o)/o}const a=t.samples;return t.samples=[],{samples:a}}function OU(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let a=0;a<r;a++){const s=t.samples[a];s.pts=Ra(s.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((a,s)=>a.pts-s.pts);const o=t.samples;return t.samples=[],{samples:o}}class m8e extends ps{constructor(e,n,r,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const n=this.initPTS;n&&e&&n.baseTime===e.baseTime&&n.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,n){let{audioCodec:r,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:o,video:a}=this.initData=zH(e);if(n)n6e(e,n);else{const l=o||a;l!=null&&l.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${l.codec}")!`)}o&&(r=RP(o,Qr.AUDIO,this)),a&&(i=RP(a,Qr.VIDEO,this));const s={};o&&a?s.audiovideo={container:"video/mp4",codec:r+","+i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:o?s.audio={container:"audio/mp4",codec:r,encrypted:o.encrypted,initSegment:e,id:"audio"}:a?s.video={container:"video/mp4",codec:i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,o,a){var s,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};Zt(u)||(u=this.lastEndTime=o||0);const h=n.samples;if(!h.length)return d;const f={initPTS:void 0,timescale:void 0,trackId:void 0};let p=this.initData;if((s=p)!=null&&s.length||(this.generateInitSegment(h),p=this.initData),!((l=p)!=null&&l.length))return this.warn("Failed to generate initSegment."),d;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);const g=i6e(h,p,this),m=p.audio?g[p.audio.id]:null,y=p.video?g[p.video.id]:null,b=Ay(y,1/0),x=Ay(m,1/0),w=Ay(y,0,!0),C=Ay(m,0,!0);let S=o,A=0;const T=m&&(!y||!c&&x<b||c&&c.trackId===p.audio.id),k=T?m:y;if(k){const ie=k.timescale,he=k.start-o*ie,xe=T?p.audio.id:p.video.id;S=k.start/ie,A=T?C-x:w-b,(a||!c)&&(g8e(c,S,o,A)||ie!==c.timescale)&&(c&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${o} ${he/ie} != initPTS: ${c.baseTime/c.timescale} (${c.baseTime}/${c.timescale}) trackId: ${c.trackId}`),this.log(`Found initPTS at playlist time: ${o} offset: ${S-o} (${he}/${ie}) trackId: ${xe}`),c=null,f.initPTS=he,f.timescale=ie,f.trackId=xe)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${o}`);c?(f.initPTS=c.baseTime,f.timescale=c.timescale,f.trackId=c.trackId):((!f.timescale||f.trackId===void 0||f.initPTS===void 0)&&(this.warn("Could not set initPTS"),f.initPTS=S,f.timescale=1,f.trackId=-1),this.initPTS=c={baseTime:f.initPTS,timescale:f.timescale,trackId:f.trackId});const E=S-c.baseTime/c.timescale,P=E+A;A>0?this.lastEndTime=P:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const _=!!p.audio,F=!!p.video;let N="";_&&(N+="audio"),F&&(N+="video");const W=(p.audio?p.audio.encrypted:!1)||(p.video?p.video.encrypted:!1),G={data1:h,startPTS:E,startDTS:E,endPTS:P,endDTS:P,type:N,hasAudio:_,hasVideo:F,nb:1,dropped:0,encrypted:W};d.audio=_&&!F?G:void 0,d.video=F?G:void 0;const Z=y==null?void 0:y.sampleCount;if(Z){const ie=y.keyFrameIndex,he=ie!==-1;G.nb=Z,G.dropped=ie===0||this.isVideoContiguous?0:he?ie:Z,G.independent=he,G.firstKeyFrame=ie,he&&y.keyFrameStart&&(G.firstKeyFramePTS=(y.keyFrameStart-c.baseTime)/c.timescale),this.isVideoContiguous||(d.independent=he),this.isVideoContiguous||(this.isVideoContiguous=he),G.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${ie}/${Z} dropped: ${G.dropped} start: ${G.firstKeyFramePTS||"NA"}`)}return d.initSegment=f,d.id3=MU(r,o,c,c),i.samples.length&&(d.text=OU(i,o,c)),d}}function Ay(t,e,n=!1){return(t==null?void 0:t.start)!==void 0?(t.start+(n?t.duration:0))/t.timescale:e}function g8e(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>i}function RP(t,e,n){const r=t.codec;return r&&r.length>4?r:e===Qr.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?p1(r,!1):(n.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(n.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let Xl;try{Xl=self.performance.now.bind(self.performance)}catch{Xl=Date.now}const cb=[{demux:t8e,remux:m8e},{demux:lu,remux:lb},{demux:QRe,remux:lb},{demux:JRe,remux:lb}];cb.splice(2,0,{demux:ZRe,remux:lb});class _P{constructor(e,n,r,i,o,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.id=o,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const o=r.transmuxing;o.executeStart=Xl();let a=new Uint8Array(e);const{currentTransmuxState:s,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:h,timeOffset:f,initSegmentChange:p}=i||s,{audioCodec:g,videoCodec:m,defaultInitPts:y,duration:b,initSegmentData:x}=l,w=v8e(a,n);if(w&&Pf(w.method)){const T=this.getDecrypter(),k=J3(w.method);if(T.isSync()){let E=T.softwareDecrypt(a,w.key.buffer,w.iv.buffer,k);if(r.part>-1){const _=T.flush();E=_&&_.buffer}if(!E)return o.executeEnd=Xl(),iC(r);a=new Uint8Array(E)}else return this.asyncResult=!0,this.decryptionPromise=T.webCryptoDecrypt(a,w.key.buffer,w.iv.buffer,k).then(E=>{const P=this.push(E,null,r);return this.decryptionPromise=null,P}),this.decryptionPromise}const C=this.needsProbing(u,d);if(C){const T=this.configureTransmuxer(a);if(T)return this.logger.warn(`[transmuxer] ${T.message}`),this.observer.emit(q.ERROR,q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_PARSING_ERROR,fatal:!1,error:T,reason:T.message}),o.executeEnd=Xl(),iC(r)}(u||d||p||C)&&this.resetInitSegment(x,g,m,b,n),(u||p||C)&&this.resetInitialTimestamp(y),c||this.resetContiguity();const S=this.transmux(a,w,f,h,r);this.asyncResult=xg(S);const A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,o.executeEnd=Xl(),S}flush(e){const n=e.transmuxing;n.executeStart=Xl();const{decrypter:r,currentTransmuxState:i,decryptionPromise:o}=this;if(o)return this.asyncResult=!0,o.then(()=>this.flush(e));const a=[],{timeOffset:s}=i;if(r){const d=r.flush();d&&a.push(this.push(d.buffer,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c){n.executeEnd=Xl();const d=[iC(e)];return this.asyncResult?Promise.resolve(d):d}const u=l.flush(s);return xg(u)?(this.asyncResult=!0,u.then(d=>(this.flushRemux(a,d,e),a))):(this.flushRemux(a,u,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:o,id3Track:a,textTrack:s}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===cn.MAIN?"level":"track"} ${r.level}`);const u=this.remuxer.remux(i,o,a,s,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=Xl()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,o){const{demuxer:a,remuxer:s}=this;!a||!s||(a.resetInitSegment(e,n,r,i),s.resetInitSegment(e,n,r,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,o){let a;return n&&n.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,n,r,i,o):a=this.transmuxUnencrypted(e,r,i,o),a}transmuxUnencrypted(e,n,r,i){const{audioTrack:o,videoTrack:a,id3Track:s,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,a,s,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,o){return this.demuxer.demuxSampleAes(e,n,r).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,r,i,!1,this.id),chunkMeta:o}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i}=this;let o;for(let d=0,h=cb.length;d<h;d++){var a;if((a=cb[d].demux)!=null&&a.probe(e,this.logger)){o=cb[d];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const s=this.demuxer,l=this.remuxer,c=o.remux,u=o.demux;(!l||!(l instanceof c))&&(this.remuxer=new c(r,n,i,this.logger)),(!s||!(s instanceof u))&&(this.demuxer=new u(r,n,i,this.logger),this.probe=u.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Q3(this.config)),e}}function v8e(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const iC=t=>({remuxResult:{},chunkMeta:t});function xg(t){return"then"in t&&t.then instanceof Function}class y8e{constructor(e,n,r,i,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=o||null}}class b8e{constructor(e,n,r,i,o,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=o,this.initSegmentChange=a}}let PP=0;class DU{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=PP++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=l=>{const c=l.data,u=this.hls;if(!(!u||!(c!=null&&c.event)||c.instanceNo!==this.instanceNo))switch(c.event){case"init":{var d;const h=(d=this.workerContext)==null?void 0:d.objectURL;h&&self.URL.revokeObjectURL(h);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":{u.logger[c.data.logType]&&u.logger[c.data.logType](c.data.message);break}default:{c.data=c.data||{},c.data.frag=this.frag,c.data.part=this.part,c.data.id=this.id,u.trigger(c.event,c.data);break}}},this.onWorkerError=l=>{if(!this.hls)return;const c=new Error(`${l.message}  (${l.filename}:${l.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:c})};const o=e.config;this.hls=e,this.id=n,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const a=(l,c)=>{c=c||{},c.frag=this.frag||void 0,l===q.ERROR&&(c=c,c.parent=this.id,c.part=this.part,this.error=c.error),this.hls.trigger(l,c)};this.observer=new n5,this.observer.on(q.FRAG_DECRYPTED,a),this.observer.on(q.ERROR,a);const s=W_(o.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const l=this.hls.logger;if(o.workerPath||ARe()){try{o.workerPath?(l.log(`loading Web Worker ${o.workerPath} for "${n}"`),this.workerContext=kRe(o.workerPath)):(l.log(`injecting Web Worker for "${n}"`),this.workerContext=SRe());const{worker:u}=this.workerContext;u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),u.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:s,id:n,config:Jr(o)})}catch(u){l.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.terminateWorker(),this.error=null,this.transmuxer=new _P(this.observer,s,o,"",n,e.logger)}return}}this.transmuxer=new _P(this.observer,s,o,"",n,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=PP++;const n=this.hls.config,r=W_(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:Jr(n)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),ERe(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,n,r,i,o,a,s,l,c,u){var d,h;c.transmuxing.start=self.performance.now();const{instanceNo:f,transmuxer:p}=this,g=a?a.start:o.start,m=o.decryptdata,y=this.frag,b=!(y&&o.cc===y.cc),x=!(y&&c.level===y.level),w=y?c.sn-y.sn:-1,C=this.part?c.part-this.part.index:-1,S=w===0&&c.id>1&&c.id===(y==null?void 0:y.stats.chunkCount),A=!x&&(w===1||w===0&&(C===1||S&&C<=0)),T=self.performance.now();(x||w||o.stats.parsing.start===0)&&(o.stats.parsing.start=T),a&&(C||!A)&&(a.stats.parsing.start=T);const k=!(y&&((d=o.initSegment)==null?void 0:d.url)===((h=y.initSegment)==null?void 0:h.url)),E=new b8e(b,A,l,x,g,k);if(!A||b||k){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${o.type} sn: ${c.sn}${c.part>-1?" part: "+c.part:""} ${this.id===cn.MAIN?"level":"track"}: ${c.level} id: ${c.id}
        discontinuity: ${b}
        trackSwitch: ${x}
        contiguous: ${A}
        accurateTimeOffset: ${l}
        timeOffset: ${g}
        initSegmentChange: ${k}`);const P=new y8e(r,i,n,s,u);this.configureTransmuxer(P)}if(this.frag=o,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:f,cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:E},e instanceof ArrayBuffer?[e]:[]);else if(p){const P=p.push(e,m,c,E);xg(P)?P.then(_=>{this.handleTransmuxComplete(_)}).catch(_=>{this.transmuxerError(_,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(P)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:e});else if(r){const i=r.flush(e);xg(i)?i.then(o=>{this.handleFlushResult(o,e)}).catch(o=>{this.transmuxerError(o,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}configureTransmuxer(e){const{instanceNo:n,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const IP=100;class x8e extends t5{constructor(e,n,r){super(e,n,r,"audio-stream-controller",cn.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(q.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(q.BUFFER_RESET,this.onBufferReset,this),e.on(q.BUFFER_CREATED,this.onBufferCreated,this),e.on(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(q.FRAG_LOADING,this.onFragLoading,this),e.on(q.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(q.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(q.BUFFER_RESET,this.onBufferReset,this),e.off(q.BUFFER_CREATED,this.onBufferCreated,this),e.off(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(q.FRAG_LOADING,this.onFragLoading,this),e.off(q.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:o,trackId:a}){if(r===cn.MAIN){const s=n.cc,l=this.fragCurrent;if(this.initPTS[s]={baseTime:i,timescale:o,trackId:a},this.log(`InitPTS for cc: ${s} found from main: ${i/o} (${i}/${o}) trackId: ${a}`),this.mainAnchor=n,this.state===bt.WAITING_INIT_PTS){const c=this.waitingData;(!c&&!this.loadingParts||c&&c.frag.cc!==s)&&this.syncWithAnchor(n,c==null?void 0:c.frag)}else!this.hls.hasEnoughToStart&&l&&l.cc!==s?(l.abortRequests(),this.syncWithAnchor(n,l)):this.state===bt.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,n){var r;const i=((r=this.mainFragLoading)==null?void 0:r.frag)||null;if(n&&(i==null?void 0:i.cc)===n.cc)return;const o=(i||e).cc,a=this.getLevelDetails(),s=this.getLoadPosition(),l=QH(a,o,s);l&&(this.log(`Syncing with main frag at ${l.start} cc ${l.cc}`),this.startFragRequested=!1,this.nextLoadPosition=l.start,this.resetLoadingState(),this.state===bt.IDLE&&this.doTickIdle())}startLoad(e,n){if(!this.levels){this.startPosition=e,this.state=bt.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(IP),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=bt.IDLE):this.state=bt.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}doTick(){switch(this.state){case bt.IDLE:this.doTickIdle();break;case bt.WAITING_TRACK:{const{levels:e,trackId:n}=this,r=e==null?void 0:e[n],i=r==null?void 0:r.details;if(i&&!this.waitForLive(r)){if(this.waitForCdnTuneIn(i))break;this.state=bt.WAITING_INIT_PTS}break}case bt.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case bt.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:n,part:r,cache:i,complete:o}=e,a=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=bt.FRAG_LOADING;const s=i.flush().buffer,l={frag:n,part:r,payload:s,networkDetails:null};this._handleFragmentLoadProgress(l),o&&super._handleFragmentLoadComplete(l)}else a&&a.cc!==e.frag.cc&&this.syncWithAnchor(a,e.frag)}else this.state=bt.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:n,levels:r,media:i,trackId:o}=this,a=n.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(r!=null&&r[o]))return;const s=r[o],l=s.details;if(!l||this.waitForLive(s)||this.waitForCdnTuneIn(l)){this.state=bt.WAITING_TRACK,this.startFragRequested=!1;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Qr.AUDIO,cn.AUDIO));const u=this.getFwdBufferInfo(c,cn.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,l)){n.trigger(q.BUFFER_EOS,{type:"audio"}),this.state=bt.ENDED;return}const d=u.len,h=n.maxBufferLength,f=l.fragments,p=f[0].start,g=this.getLoadPosition(),m=this.flushing?g:u.end;if(this.switchingTrack&&i){const x=g;l.PTSKnown&&x<p&&(u.end>p||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=p+.05)}if(d>=h&&!this.switchingTrack&&m<f[f.length-1].start)return;let y=this.getNextFragment(m,l);if(y&&this.isLoopLoading(y,m)&&(y=this.getNextFragmentLoopLoading(y,l,u,cn.MAIN,h)),!y){this.bufferFlushed=!0;return}let b=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&b&&Bi(y)&&!y.endList&&(!l.live||!this.loadingParts&&m<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(b)===ao.OK&&(this.mainFragLoading=b=null),b&&Bi(b))){if(y.start>b.end){const w=this.fragmentTracker.getFragAtPos(m,cn.MAIN);w&&w.end>b.end&&(b=w,this.mainFragLoading={frag:w,targetBufferTime:null})}if(y.start>b.end)return}this.loadFragment(y,s,m)}onMediaDetaching(e,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,n)}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new vg(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==bt.STOPPED&&(this.setInterval(IP),this.state=bt.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,n){this.mainDetails=n.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(q.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,n){var r;const{levels:i}=this,{details:o,id:a,groupId:s,track:l}=n;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${l.name}" of "${s}"`);return}const c=this.mainDetails;if(!c||o.endCC>c.endCC||c.expired){this.cachedTrackLoadedData=n,this.state!==bt.STOPPED&&(this.state=bt.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${l.name}" of "${s}" loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const u=i[a];let d=0;if(o.live||(r=u.details)!=null&&r.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;if(u.details){var h;d=this.alignPlaylists(o,u.details,(h=this.levelLastLoaded)==null?void 0:h.details)}o.alignedSliding||(mU(o,c),o.alignedSliding||w1(o,c),d=o.fragmentStart)}u.details=o,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(c,d),this.hls.trigger(q.AUDIO_TRACK_UPDATED,{details:o,id:a,groupId:n.groupId}),this.state===bt.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=bt.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:o}=e,{config:a,trackId:s,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[s];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new DU(this.hls,cn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const f=this.initPTS[r.cc],p=(n=r.initSegment)==null?void 0:n.data;if(f!==void 0){const m=i?i.index:-1,y=m!==-1,b=new Z3(r.level,r.sn,r.stats.chunkCount,o.byteLength,m,y);h.push(o,p,d,"",r,i,u.totalduration,!1,b,f)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${s}`);const{cache:g}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new gU,complete:!1};g.push(new Uint8Array(o)),this.state!==bt.STOPPED&&(this.state=bt.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,n){this.bufferFlushed=this.flushing=!1;const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,n){!this.audioOnly&&n.frag.type===cn.MAIN&&Bi(n.frag)&&(this.mainFragLoading=n,this.state===bt.IDLE&&this.tick())}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==cn.AUDIO){!this.audioOnly&&r.type===cn.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Bi(r)){this.fragPrevious=r;const o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(q.AUDIO_TRACK_SWITCHED,Nr({},o)))}this.fragBufferedComplete(r,i),this.media&&this.tick()}onError(e,n){var r;if(n.fatal){this.state=bt.ERROR;return}switch(n.details){case et.FRAG_GAP:case et.FRAG_PARSING_ERROR:case et.FRAG_DECRYPT_ERROR:case et.FRAG_LOAD_ERROR:case et.FRAG_LOAD_TIMEOUT:case et.KEY_LOAD_ERROR:case et.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(cn.AUDIO,n);break;case et.AUDIO_TRACK_LOAD_ERROR:case et.AUDIO_TRACK_LOAD_TIMEOUT:case et.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===bt.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===sr.AUDIO_TRACK&&(this.state=bt.IDLE);break;case et.BUFFER_ADD_CODEC_ERROR:case et.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)||this.resetLoadingState();break;case et.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case et.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==Qr.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==Qr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===bt.ENDED&&(this.state=bt.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,cn.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:o,chunkMeta:a}=e,s=this.getCurrentContext(a);if(!s){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=s,{details:d}=u,{audio:h,text:f,id3:p,initSegment:g}=o;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=bt.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),g!=null&&g.tracks){const m=l.initSegment||l;if(this.unhandledEncryptionError(g,l))return;this._bufferInitSegment(u,g.tracks,m,a),i.trigger(q.FRAG_PARSING_INIT_SEGMENT,{frag:m,id:r,tracks:g.tracks})}if(h){const{startPTS:m,endPTS:y,startDTS:b,endDTS:x}=h;c&&(c.elementaryStreams[Qr.AUDIO]={startPTS:m,endPTS:y,startDTS:b,endDTS:x}),l.setElementaryStreamInfo(Qr.AUDIO,m,y,b,x),this.bufferFragmentData(h,l,c,a)}if(p!=null&&(n=p.samples)!=null&&n.length){const m=qr({id:r,frag:l,details:d},p);i.trigger(q.FRAG_PARSING_METADATA,m)}if(f){const m=qr({id:r,frag:l,details:d},f);i.trigger(q.FRAG_PARSING_USERDATA,m)}}_bufferInitSegment(e,n,r,i){if(this.state!==bt.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const o=n.audio;o.id=cn.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${a}/${o.codec}]`),a&&a.split(",").length===1&&(o.levelCodec=a),this.hls.trigger(q.BUFFER_CODECS,n);const s=o.initSegment;if(s!=null&&s.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:s};this.hls.trigger(q.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===ao.NOT_LOADED||i===ao.PARTIAL){var o;if(!Bi(e))this._loadInitSegment(e,n);else if((o=n.details)!=null&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=bt.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==n.details.fragmentStart&&w1(n.details,a)}else super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s}=this.bufferedTrack;Zd({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s},e,Td)||(g1(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(q.AUDIO_TRACK_SWITCHED,Nr({},e))}}class c5 extends ps{constructor(e,n){super(n,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let o=-1;for(let a=0;a<i.length;a++){const s=i[a];let l;try{l=new self.URL(s.URI,n.url).href}catch(c){this.warn(`Could not construct new URL for Rendition Report: ${c}`),l=s.URI||""}if(l===e){o=a;break}else l===e.substring(0,l.length)&&(o=a)}if(o!==-1){const a=i[o],s=parseInt(a["LAST-MSN"])||n.lastPartSn;let l=parseInt(a["LAST-PART"])||n.lastPartIndex;if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=r&&q_(r);return new K_(s,l>=0?l:void 0,c)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,n){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,n){if(n)try{return n.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,n,r){const{details:i,stats:o}=n,a=self.performance.now(),s=o.loading.first?Math.max(0,a-o.loading.first):0;i.advancedDateTime=Date.now()-s;const l=this.hls.config.timelineOffset;if(l!==i.appliedTimelineOffset){const u=Math.max(l||0,0);i.appliedTimelineOffset=u,i.fragments.forEach(d=>{d.setStart(d.playlistOffset+u)})}if(i.live||r!=null&&r.live){const u="levelInfo"in n?n.levelInfo:n.track;if(i.reloaded(r),r&&i.fragments.length>0){hRe(r,i,this);const b=i.playlistParsingError;if(b){this.warn(b);const x=this.hls;if(!x.config.ignorePlaylistParsingErrors){var c;const{networkDetails:w}=n;x.trigger(q.ERROR,{type:fn.NETWORK_ERROR,details:et.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:b,reason:b.message,level:n.level||void 0,parent:(c=i.fragments[0])==null?void 0:c.type,networkDetails:w,stats:o});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=o.loading.start);const d=this.hls.mainForwardBufferInfo,h=d?d.end-d.len:0,f=(i.edge-h)*1e3,p=uU(i,f);if(i.requestScheduled+p<a?i.requestScheduled=a:i.requestScheduled+=p,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let g,m,y;if(i.canBlockReload&&i.endSN&&i.advanced){const b=this.hls.config.lowLatencyMode,x=i.lastPartSn,w=i.endSN,C=i.lastPartIndex,S=C!==-1,A=x===w;S?A?(m=w+1,y=b?0:C):(m=x,y=b?C+1:i.maxPartIndex):m=w+1;const T=i.age,k=T+i.ageHeader;let E=Math.min(k-i.partTarget,i.targetduration*1.5);if(E>0){if(k>i.targetduration*3)this.log(`Playlist last advanced ${T.toFixed(2)}s ago. Omitting segment and part directives.`),m=void 0,y=void 0;else if(r!=null&&r.tuneInGoal&&k-i.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${E} with playlist age: ${i.age}`),E=0;else{const P=Math.floor(E/i.targetduration);if(m+=P,y!==void 0){const _=Math.round(E%i.targetduration/i.partTarget);y+=_}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${T.toFixed(2)}s goal: ${E} skip sn ${P} to part ${y}`)}i.tuneInGoal=E}if(g=this.getDeliveryDirectives(i,n.deliveryDirectives,m,y),b||!A){i.requestScheduled=a,this.loadingPlaylist(u,g);return}}else(i.canBlockReload||i.canSkipUntil)&&(g=this.getDeliveryDirectives(i,n.deliveryDirectives,m,y));g&&m!==void 0&&i.canBlockReload&&(i.requestScheduled=o.loading.first+Math.max(p-s*2,p/2)),this.scheduleLoading(u,g,i)}else this.clearTimer()}scheduleLoading(e,n,r){const i=r||e.details;if(!i){this.loadingPlaylist(e,n);return}const o=self.performance.now(),a=i.requestScheduled;if(o>=a){this.loadingPlaylist(e,n);return}const s=a-o;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(s)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,n),s)}getDeliveryDirectives(e,n,r,i){let o=q_(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,o=ab.No),new K_(r,i,o)}checkRetry(e){const n=e.details,r=v1(e),i=e.errorAction,{action:o,retryCount:a=0,retryConfig:s}=i||{},l=!!i&&!!s&&(o===xo.RetryRequest||!i.resolved&&o===xo.SendAlternateToPenaltyBox);if(l){var c;if(a>=s.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${s.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=X3(s,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${s.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}function FU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!wg(t[n].attrs,e[n].attrs))return!1;return!0}function wg(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function HS(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class w8e extends c5{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.LEVEL_LOADING,this.onLevelLoading,this),e.on(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.LEVEL_LOADING,this.onLevelLoading,this),e.off(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(q.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:o}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const s=a.details;a.details=n.details,this.log(`Audio track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,s)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let o=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(s=>(i==null?void 0:i.indexOf(s))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(h=>h.default)&&(this.selectDefaultTrack=!1),s.forEach((h,f)=>{h.id=f});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const l=this.hls.config.audioPreference;if(!o&&l){const h=vl(l,s,Td);if(h>-1)o=s[h];else{const f=vl(l,this.tracks);o=this.tracks[f]}}let c=this.findTrackId(o);c===-1&&o&&(c=this.findTrackId(null));const u={audioTracks:s};this.log(`Updating audio tracks, ${s.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(q.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(s.length&&d===-1){var a;const h=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${s.length}`);this.warn(h.message),this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}}onError(e,n){n.fatal||!n.context||n.context.type===sr.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Zd(e,i,Td))return i;const o=vl(e,this.tracksInGroup,Td);if(o>-1){const a=this.tracksInGroup[o];return this.setAudioTrack(o),a}else if(i){let a=n.loadLevel;a===-1&&(a=n.firstAutoLevel);const s=M6e(e,n.levels,r,a,Td);if(s===-1)return null;n.nextLoadLevel=s}if(e.channels||e.audioCodec){const a=vl(e,r);if(a>-1)return r[a]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],o=i.details&&!i.details.live;if(e===this.trackId&&i===r&&o||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(q.AUDIO_TRACK_SWITCHING,Nr({},i)),o))return;const a=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(a)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Zd(e,i,Td)))return r}if(e){const{name:r,lang:i,assocLang:o,characteristics:a,audioCodec:s,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(Zd({name:r,lang:i,assocLang:o,characteristics:a,audioCodec:s,channels:l},u,Td))return c}for(let c=0;c<n.length;c++){const u=n[c];if(wg(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(wg(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&g1(n.url,this.hls)&&this.scheduleLoading(n,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,o=this.getUrlWithDirectives(e.url,n),a=e.details,s=a==null?void 0:a.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${i}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${s&&a.live?" age "+s.toFixed(1)+(a.type&&" "+a.type||""):""} ${o}`),this.hls.trigger(q.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:n||null,track:e})}}class C8e{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,n,r){if(this.queues===null||this.tracks===null)return;const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}appendBlocker(e){return new Promise(n=>{const r={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(n=>{if(this.queues){const r={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var n;const r=(n=e[0])==null?void 0:n.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const n=this.queues[e];if(n.length){const i=n[0];try{i.execute()}catch(o){var r;if(i.onError(o),this.queues===null||this.tracks===null)return;const a=(r=this.tracks[e])==null?void 0:r.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var n;return((n=this.queues)==null?void 0:n[e][0])||null}toString(){const{queues:e,tracks:n}=this;return e===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var n,r;return(n=this.queues)!=null&&n[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var n;const r=(n=this.tracks)==null?void 0:n[e],i=r==null?void 0:r.buffer;return i?`SourceBuffer${i.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var n;return((n=this.queues)==null?void 0:n[e].map(r=>r.label).join(", "))||""}}const LP=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,$U="HlsJsTrackRemovedError";class A8e extends Error{constructor(e){super(e),this.name=$U}}class S8e extends ps{constructor(e,n){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:i,mediaSource:o}=this;r&&this.log("Media source opened"),!(!i||!o)&&(o.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(q.MEDIA_ATTACHED,{media:i,mediaSource:o}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e,this.fragmentTracker=n,this.appendSource=qTe(Wu(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.BUFFER_RESET,this.onBufferReset,this),e.on(q.BUFFER_APPENDING,this.onBufferAppending,this),e.on(q.BUFFER_CODECS,this.onBufferCodecs,this),e.on(q.BUFFER_EOS,this.onBufferEos,this),e.on(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(q.FRAG_PARSED,this.onFragParsed,this),e.on(q.FRAG_CHANGED,this.onFragChanged,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.BUFFER_RESET,this.onBufferReset,this),e.off(q.BUFFER_APPENDING,this.onBufferAppending,this),e.off(q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(q.BUFFER_EOS,this.onBufferEos,this),e.off(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(q.FRAG_PARSED,this.onFragParsed,this),e.off(q.FRAG_CHANGED,this.onFragChanged,this),e.off(q.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:n}=this;if(!e)return null;const r={};if(this.operationQueue){const o=this.isUpdating();o||this.operationQueue.removeBlockers();const a=this.isQueued();(o||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${o?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===n?qr(r,i.tracks):this.sourceBuffers.forEach(o=>{const[a]=o;a&&(r[a]=qr({},this.tracks[a]),this.removeBuffer(a)),o[0]=o[1]=null}),{media:e,mediaSource:n,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){var r;let i=2;(n.audio&&!n.video||!n.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,n){const r=this.media=n.media;this.transferData=this.overrides=void 0;const i=Wu(this.appendSource);if(i){const o=!!n.mediaSource;(o||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const a=this.mediaSource=n.mediaSource||new i;if(this.assignMediaSource(a),o)this._objectUrl=r.src,this.attachTransferred();else{const s=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&a instanceof l,MP(r),k8e(r,s),r.load()}catch{r.src=s}else r.src=s}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var n,r;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,n=this.transferData;if(!n||!e)return;const r=this.tracks,i=n.tracks,o=i?Object.keys(i):null,a=o?o.length:0,s=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&o&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Jr(r,(l,c)=>l==="initSegment"?void 0:c)};
transfer tracks: ${Jr(i,(l,c)=>l==="initSegment"?void 0:c)}}`),!MH(i,r)){n.mediaSource=null,n.tracks=void 0;const l=e.currentTime,c=this.details,u=Math.max(l,(c==null?void 0:c.fragments[0].start)||0);if(u-l>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${l} -> ${u}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(r)}") start time: ${u} currentTime: ${l}`),this.onMediaDetaching(q.MEDIA_DETACHING,{}),this.onMediaAttaching(q.MEDIA_ATTACHING,n),e.currentTime=u;return}this.transferData=void 0,o.forEach(l=>{const c=l,u=i[c];if(u){const d=u.buffer;if(d){const h=this.fragmentTracker,f=u.id;if(h.hasFragments(f)||h.hasParts(f)){const m=Xn.getBuffered(d);h.detectEvictedFragments(c,m,f,null,!0)}const p=oC(c),g=[c,d];this.sourceBuffers[p]=g,d.updating&&this.operationQueue&&this.operationQueue.prependBlocker(c),this.trackSourceBuffer(c,u)}}}),s(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),s()}get mediaSourceOpenOrEnded(){var e;const n=(e=this.mediaSource)==null?void 0:e.readyState;return n==="open"||n==="ended"}onMediaDetaching(e,n){const r=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:o,_objectUrl:a}=this;if(o){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([s])=>{s&&this.removeBuffer(s)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const s=o.readyState==="open";try{const l=o.sourceBuffers;for(let c=l.length;c--;)s&&l[c].abort(),o.removeSourceBuffer(l[c]);s&&o.endOfStream()}catch(l){this.warn(`onMediaDetaching: ${l.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),r||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&MP(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(q.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var n;const r=(n=this.tracks[e])==null?void 0:n.buffer;if(this.removeBuffer(e),r)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(o){this.warn(`onBufferReset ${e}`,o)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[oC(e)]=[null,null];const n=this.tracks[e];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new C8e(this.tracks)}onBufferCodecs(e,n){var r;const i=this.tracks,o=Object.keys(n);this.log(`BUFFER_CODECS: "${o}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in n&&(i.audio||i.video)||i.audiovideo&&("audio"in n||"video"in n),s=!a&&this.sourceBufferCount&&this.media&&o.some(l=>!i[l]);if(a||s){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${o}" SourceBuffers`);return}o.forEach(l=>{var c,u;const d=n[l],{id:h,codec:f,levelCodec:p,container:g,metadata:m,supplemental:y}=d;let b=i[l];const x=(c=this.transferData)==null||(c=c.tracks)==null?void 0:c[l],w=x!=null&&x.buffer?x:b,C=(w==null?void 0:w.pendingCodec)||(w==null?void 0:w.codec),S=w==null?void 0:w.levelCodec;b||(b=i[l]={buffer:void 0,listeners:[],codec:f,supplemental:y,container:g,levelCodec:p,metadata:m,id:h});const A=ob(C,S),T=A==null?void 0:A.replace(LP,"$1");let k=ob(f,p);const E=(u=k)==null?void 0:u.replace(LP,"$1");k&&A&&T!==E&&(l.slice(0,5)==="audio"&&(k=p1(k,this.appendSource)),this.log(`switching codec ${C} to ${k}`),k!==(b.pendingCodec||b.codec)&&(b.pendingCodec=k),b.container=g,this.appendChangeType(l,g,k))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!n.video&&((r=n.audio)==null?void 0:r.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,n)=>{const r=this.tracks[n];return e[n]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,n,r){const i=`${n};codecs=${r}`,o={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const s=a.buffer;s!=null&&s.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),s.changeType(i),a.codec=r,a.container=n)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(o,e,this.isPending(this.tracks[e]))}blockAudio(e){var n;const r=e.start,i=r+e.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(r,cn.MAIN))==null?void 0:n.gap)===!0)return;const a={label:"block-audio",execute:()=>{var s;const l=this.tracks.video;(this.lastVideoAppendEnd>i||l!=null&&l.buffer&&Xn.isBuffered(l.buffer,i)||((s=this.fragmentTracker.getAppendedFrag(i,cn.MAIN))==null?void 0:s.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn("Error executing block-audio operation",s)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:n}=this;e&&n&&(this.blockedAudioAppend=null,n.unblockAudio(e.op))}onBufferAppending(e,n){const{tracks:r}=this,{data:i,type:o,parent:a,frag:s,part:l,chunkMeta:c,offset:u}=n,d=c.buffering[o],{sn:h,cc:f}=s,p=self.performance.now();d.start=p;const g=s.stats.buffering,m=l?l.stats.buffering:null;g.start===0&&(g.start=p),m&&m.start===0&&(m.start=p);const y=r.audio;let b=!1;o==="audio"&&(y==null?void 0:y.container)==="audio/mpeg"&&(b=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const x=r.video,w=x==null?void 0:x.buffer;if(w&&h!=="initSegment"){const A=l||s,T=this.blockedAudioAppend;if(o==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(x.ending||x.ended)){const E=A.start+A.duration*.05,P=w.buffered,_=this.currentOp("video");!P.length&&!_?this.blockAudio(A):!_&&!Xn.isBuffered(w,E)&&this.lastVideoAppendEnd<E&&this.blockAudio(A)}else if(o==="video"){const k=A.end;if(T){const E=T.frag.start;(k>E||k<this.lastVideoAppendEnd||Xn.isBuffered(w,E))&&this.unblockAudio()}this.lastVideoAppendEnd=k}}const C=(l||s).start,S={label:`append-${o}`,execute:()=>{var A;d.executeStart=self.performance.now();const T=(A=this.tracks[o])==null?void 0:A.buffer;T&&(b?this.updateTimestampOffset(T,C,.1,o,h,f):u!==void 0&&Zt(u)&&this.updateTimestampOffset(T,u,1e-6,o,h,f)),this.appendExecutor(i,o)},onStart:()=>{},onComplete:()=>{const A=self.performance.now();d.executeEnd=d.end=A,g.first===0&&(g.first=A),m&&m.first===0&&(m.first=A);const T={};this.sourceBuffers.forEach(([k,E])=>{k&&(T[k]=Xn.getBuffered(E))}),this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(q.BUFFER_APPENDED,{type:o,frag:s,part:l,chunkMeta:c,parent:s.type,timeRanges:T})},onError:A=>{var T;const k={type:fn.MEDIA_ERROR,parent:s.type,details:et.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:s,part:l,chunkMeta:c,error:A,err:A,fatal:!1},E=(T=this.media)==null?void 0:T.error;if(A.code===DOMException.QUOTA_EXCEEDED_ERR||A.name=="QuotaExceededError"||"quota"in A)k.details=et.BUFFER_FULL_ERROR;else if(A.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!E)k.errorAction=_f(!0);else if(A.name===$U&&this.sourceBufferCount===0)k.errorAction=_f(!0);else{const P=++this.appendErrors[o];this.warn(`Failed ${P}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer (${E||"no media error"})`),(P>=this.hls.config.appendErrorMaxRetry||E)&&(k.fatal=!0)}this.hls.trigger(q.ERROR,k)}};this.log(`queuing "${o}" append sn: ${h}${l?" p: "+l.index:""} of ${s.type===cn.MAIN?"level":"track"} ${s.level} cc: ${f}`),this.append(S,o,this.isPending(this.tracks[o]))}getFlushOp(e,n,r){return this.log(`queuing "${e}" remove ${n}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,n,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(q.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${n}-${r} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,n){const{type:r,startOffset:i,endOffset:o}=n;r?this.append(this.getFlushOp(r,i,o),r):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,o),a)})}onFragParsed(e,n){const{frag:r,part:i}=n,o=[],a=i?i.elementaryStreams:r.elementaryStreams;a[Qr.AUDIOVIDEO]?o.push("audiovideo"):(a[Qr.AUDIO]&&o.push("audio"),a[Qr.VIDEO]&&o.push("video"));const s=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:r.stats;this.hls.trigger(q.FRAG_BUFFERED,{frag:r,part:i,stats:c,id:r.type})};o.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(s,o).catch(l=>{this.warn(`Fragment buffered callback ${l}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const n=this.tracks[e];if(n)return!n.ended||n.ending}return!1})}onBufferEos(e,n){var r;this.sourceBuffers.forEach(([a])=>{if(a){const s=this.tracks[a];(!n.type||n.type===a)&&(s.ending=!0,s.ended||(s.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var s;return a&&!((s=this.tracks[a])!=null&&s.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(q.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(q.BUFFERED_TO_END,void 0)):n.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const n=this.tracks[e];n&&(n.ending=!1)}})}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,n){if(n.details===et.BUFFER_APPEND_ERROR&&n.frag){var r;const i=(r=n.errorAction)==null?void 0:r.nextAutoLevel;Zt(i)&&i!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.sourceBufferCount)return;const i=e.config,o=r.currentTime,a=n.levelTargetDuration,s=n.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(Zt(s)&&s>=0){const c=Math.max(s,a),u=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,u)}const l=i.frontBufferFlushThreshold;if(Zt(l)&&l>0){const c=Math.max(i.maxBufferLength,l),u=Math.max(c,a),d=Math.floor(o/a)*a+u;this.flushFrontBuffer(o,a,d)}}flushBackBuffer(e,n,r){this.sourceBuffers.forEach(([i,o])=>{if(o){const s=Xn.getBuffered(o);if(s.length>0&&r>s.start(0)){var a;this.hls.trigger(q.BACK_BUFFER_REACHED,{bufferEnd:r});const l=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(q.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l!=null&&l.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(q.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:i})}}})}flushFrontBuffer(e,n,r){this.sourceBuffers.forEach(([i,o])=>{if(o){const a=Xn.getBuffered(o),s=a.length;if(s<2)return;const l=a.start(s-1),c=a.end(s-1);if(r>l||e>=l&&e<=c)return;this.hls.trigger(q.BUFFER_FLUSHING,{startOffset:l,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:n,mediaSource:r}=this;if(!n||!this.media||(r==null?void 0:r.readyState)!=="open")return null;const i=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&r.setLiveSeekableRange){const c=Math.max(0,n.fragmentStart),u=Math.max(c,i);return{duration:1/0,start:c,end:u}}return{duration:1/0}}const o=(e=this.overrides)==null?void 0:e.duration;if(o)return Zt(o)?{duration:o}:null;const a=this.media.duration,s=Zt(r.duration)?r.duration:0;return i>s&&i>a||!Zt(a)?{duration:i}:null}updateMediaSource({duration:e,start:n,end:r}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(Zt(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),n!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${n}-${r}.`),i.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:n,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${e}) ${Jr(r)}`),this.tracksReady){var i;const o=(i=this.transferData)==null?void 0:i.tracks;o&&Object.keys(o).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([n,r])=>{if(n){const i=this.tracks[n];e[n]={buffer:r,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(q.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:n,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const a=o,s=e[a];if(this.isPending(s)){const l=this.getTrackCodec(s,a),c=`${s.container};codecs=${l}`;s.codec=l,this.log(`creating sourceBuffer(${c})${this.currentOp(a)?" Queued":""} ${Jr(s)}`);try{const u=r.addSourceBuffer(c),d=oC(a),h=[a,u];n[d]=h,s.buffer=u}catch(u){var i;this.error(`error while trying to add sourceBuffer: ${u.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:a,mimeType:c,parent:s.id});return}this.trackSourceBuffer(a,s)}}this.bufferCreated()}getTrackCodec(e,n){const r=e.supplemental;let i=e.codec;r&&(n==="video"||n==="audiovideo")&&mg(r,"video")&&(i=p6e(i,r));const o=ob(i,e.levelCodec);return o?n.slice(0,5)==="audio"?p1(o,this.appendSource):o:""}trackSourceBuffer(e,n){const r=n.buffer;if(!r)return;const i=this.getTrackCodec(n,e);this.tracks[e]={buffer:r,codec:i,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(o,a)=>{const s=a.removedRanges;s!=null&&s.length&&this.hls.trigger(q.BUFFER_FLUSHED,{type:o})})}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}onSBUpdateStart(e){const n=this.currentOp(e);n&&n.onStart()}onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const o=this.currentOp(e);o&&o.onError(i)}updateTimestampOffset(e,n,r,i,o,a){const s=n-e.timestampOffset;Math.abs(s)>=r&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${n} (sn: ${o} cc: ${a})`),e.timestampOffset=n)}removeExecutor(e,n,r){const{media:i,mediaSource:o}=this,a=this.tracks[e],s=a==null?void 0:a.buffer;if(!i||!o||!s){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const l=Zt(i.duration)?i.duration:1/0,c=Zt(o.duration)?o.duration:1/0,u=Math.max(0,n),d=Math.min(r,l,c);d>u&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${u},${d}] from the ${e} SourceBuffer`),s.remove(u,d)):this.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.tracks[n],i=r==null?void 0:r.buffer;if(!i)throw new A8e(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([e,n])=>e&&n.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,i=n.map(a=>this.appendBlocker(a));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(n=>{var r;const i=(r=this.tracks[n])==null?void 0:r.buffer;!i||i.updating||this.shiftAndExecuteNext(n)})}append(e,n,r){this.operationQueue&&this.operationQueue.append(e,n,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,n)=>e+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[n])=>e+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,n,r){const i=this.tracks[e];if(!i)return;const o=i.buffer;if(!o)return;const a=r.bind(this,e);i.listeners.push({event:n,listener:a}),o.addEventListener(n,a)}removeBufferListeners(e){const n=this.tracks[e];if(!n)return;const r=n.buffer;r&&(n.listeners.forEach(i=>{r.removeEventListener(i.event,i.listener)}),n.listeners.length=0)}}function MP(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function k8e(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}function oC(t){return t==="audio"?1:0}class u5{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(q.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(q.BUFFER_CODECS,this.onBufferCodecs,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(q.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&Zt(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,o)=>this.isLevelAllowed(i)&&o<=e);return this.clientRect=null,u5.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(s,l)=>l?s.width!==l.width||s.height!==l.height:!0;let o=e.length-1;const a=Math.max(n,r);for(let s=0;s<e.length;s+=1){const l=e[s];if((l.width>=a||l.height>=a)&&i(l,e[s+1])){o=s;break}}return o}}const E8e={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},sa=E8e,T8e={HLS:"h"},R8e=T8e;class kl{constructor(e,n){Array.isArray(e)&&(e=e.map(r=>r instanceof kl?r:new kl(r))),this.value=e,this.params=n}}const _8e="Dict";function P8e(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function I8e(t,e,n,r){return new Error(`failed to ${t} "${P8e(e)}" as ${n}`,{cause:r})}function El(t,e,n){return I8e("serialize",t,e,n)}class BU{constructor(e){this.description=e}}const OP="Bare Item",L8e="Boolean";function M8e(t){if(typeof t!="boolean")throw El(t,L8e);return t?"?1":"?0"}function O8e(t){return btoa(String.fromCharCode(...t))}const D8e="Byte Sequence";function F8e(t){if(ArrayBuffer.isView(t)===!1)throw El(t,D8e);return`:${O8e(t)}:`}const $8e="Integer";function B8e(t){return t<-999999999999999||999999999999999<t}function NU(t){if(B8e(t))throw El(t,$8e);return t.toString()}function N8e(t){return`@${NU(t.getTime()/1e3)}`}function zU(t,e){if(t<0)return-zU(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}const z8e="Decimal";function H8e(t){const e=zU(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw El(t,z8e);const n=e.toString();return n.includes(".")?n:`${n}.0`}const U8e="String",j8e=/[\x00-\x1f\x7f]+/;function V8e(t){if(j8e.test(t))throw El(t,U8e);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function W8e(t){return t.description||t.toString().slice(7,-1)}const q8e="Token";function DP(t){const e=W8e(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw El(e,q8e);return e}function US(t){switch(typeof t){case"number":if(!Zt(t))throw El(t,OP);return Number.isInteger(t)?NU(t):H8e(t);case"string":return V8e(t);case"symbol":return DP(t);case"boolean":return M8e(t);case"object":if(t instanceof Date)return N8e(t);if(t instanceof Uint8Array)return F8e(t);if(t instanceof BU)return DP(t);default:throw El(t,OP)}}const K8e="Key";function jS(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw El(t,K8e);return t}function d5(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${jS(e)}`:`;${jS(e)}=${US(n)}`).join("")}function HU(t){return t instanceof kl?`${US(t.value)}${d5(t.params)}`:US(t)}function G8e(t){return`(${t.value.map(HU).join(" ")})${d5(t.params)}`}function Y8e(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw El(t,_8e);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,o])=>{o instanceof kl||(o=new kl(o));let a=jS(i);return o.value===!0?a+=d5(o.params):(a+="=",Array.isArray(o.value)?a+=G8e(o):a+=HU(o)),a}).join(`,${r}`)}function UU(t,e){return Y8e(t,e)}const qs="CMCD-Object",Si="CMCD-Request",xd="CMCD-Session",Gc="CMCD-Status",X8e={br:qs,ab:qs,d:qs,ot:qs,tb:qs,tpb:qs,lb:qs,tab:qs,lab:qs,url:qs,pb:Si,bl:Si,tbl:Si,dl:Si,ltc:Si,mtp:Si,nor:Si,nrr:Si,rc:Si,sn:Si,sta:Si,su:Si,ttfb:Si,ttfbb:Si,ttlb:Si,cmsdd:Si,cmsds:Si,smrt:Si,df:Si,cs:Si,ts:Si,cid:xd,pr:xd,sf:xd,sid:xd,st:xd,v:xd,msd:xd,bs:Gc,bsd:Gc,cdn:Gc,rtp:Gc,bg:Gc,pt:Gc,ec:Gc,e:Gc},Q8e={REQUEST:Si};function Z8e(t){return Object.keys(t).reduce((e,n)=>{var r;return(r=t[n])===null||r===void 0||r.forEach(i=>e[i]=n),e},{})}function J8e(t,e){const n={};if(!t)return n;const r=Object.keys(t),i=e?Z8e(e):{};return r.reduce((o,a)=>{var s;const l=X8e[a]||i[a]||Q8e.REQUEST,c=(s=o[l])!==null&&s!==void 0?s:o[l]={};return c[a]=t[a],o},n)}function e_e(t){return["ot","sf","st","e","sta"].includes(t)}function t_e(t){return typeof t=="number"?Zt(t):t!=null&&t!==""&&t!==!1}const jU="event";function n_e(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")+n.search+n.hash}const ub=t=>Math.round(t),VS=(t,e)=>Array.isArray(t)?t.map(n=>VS(n,e)):t instanceof kl&&typeof t.value=="string"?new kl(VS(t.value,e),t.params):(e.baseUrl&&(t=n_e(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),Sy=t=>ub(t/100)*100,r_e=(t,e)=>{let n=t;return e.version>=2&&(t instanceof kl&&typeof t.value=="string"?n=new kl([t]):typeof t=="string"&&(n=[t])),VS(n,e)},i_e={br:ub,d:ub,bl:Sy,dl:Sy,mtp:Sy,nor:r_e,rtp:Sy,tb:ub},VU="request",WU="response",h5=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],o_e=["e"],a_e=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function qx(t){return a_e.test(t)}function s_e(t){return h5.includes(t)||o_e.includes(t)||qx(t)}const qU=["d","dl","nor","ot","rtp","su"];function l_e(t){return h5.includes(t)||qU.includes(t)||qx(t)}const c_e=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function u_e(t){return h5.includes(t)||qU.includes(t)||c_e.includes(t)||qx(t)}const d_e=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function h_e(t){return d_e.includes(t)||qx(t)}const f_e={[WU]:u_e,[jU]:s_e,[VU]:l_e};function KU(t,e={}){const n={};if(t==null||typeof t!="object")return n;const r=e.version||t.v||1,i=e.reportingMode||VU,o=r===1?h_e:f_e[i];let a=Object.keys(t).filter(o);const s=e.filter;typeof s=="function"&&(a=a.filter(s));const l=i===WU||i===jU;l&&!a.includes("ts")&&a.push("ts"),r>1&&!a.includes("v")&&a.push("v");const c=qr({},i_e,e.formatters),u={version:r,reportingMode:i,baseUrl:e.baseUrl};return a.sort().forEach(d=>{let h=t[d];const f=c[d];if(typeof f=="function"&&(h=f(h,u)),d==="v"){if(r===1)return;h=r}d=="pr"&&h===1||(l&&d==="ts"&&!Zt(h)&&(h=Date.now()),t_e(h)&&(e_e(d)&&typeof h=="string"&&(h=new BU(h)),n[d]=h))}),n}function p_e(t,e={}){const n={};if(!t)return n;const r=KU(t,e),i=J8e(r,e==null?void 0:e.customHeaderMap);return Object.entries(i).reduce((o,[a,s])=>{const l=UU(s,{whitespace:!1});return l&&(o[a]=l),o},n)}function m_e(t,e,n){return qr(t,p_e(e,n))}const g_e="CMCD";function v_e(t,e={}){return t?UU(KU(t,e),{whitespace:!1}):""}function y_e(t,e={}){if(!t)return"";const n=v_e(t,e);return encodeURIComponent(n)}function b_e(t,e={}){if(!t)return"";const n=y_e(t,e);return`${g_e}=${n}`}const FP=/CMCD=[^&#]+/;function x_e(t,e,n){const r=b_e(e,n);if(!r)return t;if(FP.test(t))return t.replace(FP,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class w_e{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:sa.MANIFEST,su:!this.initialized})}catch(o){this.hls.logger.warn("Could not generate manifest CMCD data.",o)}},this.applyFragmentData=i=>{try{const{frag:o,part:a}=i,s=this.hls.levels[o.level],l=this.getObjectType(o),c={d:(a||o).duration*1e3,ot:l};(l===sa.VIDEO||l===sa.AUDIO||l==sa.MUXED)&&(c.br=s.bitrate/1e3,c.tb=this.getTopBandwidth(l)/1e3,c.bl=this.getBufferLength(l));const u=a?this.getNextPart(a):this.getNextFrag(o);u!=null&&u.url&&u.url!==o.url&&(c.nor=u.url),this.apply(i,c)}catch(o){this.hls.logger.warn("Could not generate segment CMCD data.",o)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHED,this.onMediaDetached,this),e.on(q.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHED,this.onMediaDetached,this),e.off(q.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:R8e.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){qr(n,this.createData());const r=n.ot===sa.INIT||n.ot===sa.VIDEO||n.ot===sa.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((a,s)=>(i.includes(s)&&(a[s]=n[s]),a),{}));const o={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),m_e(e.headers,n,o)):e.url=x_e(e.url,n,o)}getNextFrag(e){var n;const r=(n=this.hls.levels[e.level])==null?void 0:n.details;if(r){const i=e.sn-r.startSN;return r.fragments[i+1]}}getNextPart(e){var n;const{index:r,fragment:i}=e,o=(n=this.hls.levels[i.level])==null||(n=n.details)==null?void 0:n.partList;if(o){const{sn:a}=i;for(let s=o.length-1;s>=0;s--){const l=o[s];if(l.index===r&&l.fragment.sn===a)return o[s+1]}}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return sa.TIMED_TEXT;if(e.sn==="initSegment")return sa.INIT;if(n==="audio")return sa.AUDIO;if(n==="main")return this.hls.audioTracks.length?sa.VIDEO:sa.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===sa.AUDIO)r=i.audioTracks;else{const o=i.maxAutoLevel,a=o>-1?o+1:i.levels.length;r=i.levels.slice(0,a)}return r.forEach(o=>{o.bitrate>n&&(n=o.bitrate)}),n>0?n:NaN}getBufferLength(e){const n=this.media,r=e===sa.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Xn.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,a,s){n(o),this.loader.load(o,a,s)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,a,s){n(o),this.loader.load(o,a,s)}}}}const C_e=3e5;class A_e extends ps{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,n)=>(e.indexOf(n.pathwayId)===-1&&e.push(n.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===xo.SendAlternateToPenaltyBox&&r.flags===Ea.MoveAllAlternatesMatchingHost){const i=this.levels;let o=this._pathwayPriority,a=this.pathwayId;if(n.context){const{groupId:s,pathwayId:l,type:c}=n.context;s&&i?a=this.getPathwayForGroupId(s,c,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!o&&i&&(o=this.pathways()),o&&o.length>1&&(this.updatePathwayPriority(o),r.resolved=this.pathwayId!==a),n.details===et.BUFFER_APPEND_ERROR&&!n.fatal?r.resolved=!0:r.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${Jr(o)} penalized: ${Jr(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(o=>{i-r[o]>C_e&&delete r[o]});for(let o=0;o<e.length;o++){const a=e[o];if(a in r)continue;if(a===this.pathwayId)return;const s=this.hls.nextLoadLevel,l=this.hls.levels[s];if(n=this.getLevelsForPathway(a),n.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,fU(n),this.hls.trigger(q.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[s];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=s);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let o=0;o<i.length;o++)if(n===sr.AUDIO_TRACK&&i[o].hasAudioGroup(e)||n===sr.SUBTITLE_TRACK&&i[o].hasSubtitleGroup(e))return i[o].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(o=>{const{ID:a,"BASE-ID":s,"URI-REPLACEMENT":l}=o;if(n.some(u=>u.pathwayId===a))return;const c=this.getLevelsForPathway(s).map(u=>{const d=new mi(u.attrs);d["PATHWAY-ID"]=a;const h=d.AUDIO&&`${d.AUDIO}_clone_${a}`,f=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;h&&(r[d.AUDIO]=h,d.AUDIO=h),f&&(i[d.SUBTITLES]=f,d.SUBTITLES=f);const p=GU(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),g=new vg({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:p,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let m=1;m<u.audioGroups.length;m++)g.addGroupId("audio",`${u.audioGroups[m]}_clone_${a}`);if(u.subtitleGroups)for(let m=1;m<u.subtitleGroups.length;m++)g.addGroupId("text",`${u.subtitleGroups[m]}_clone_${a}`);return g});n.push(...c),$P(this.audioTracks,r,l,a),$P(this.subtitleTracks,i,l,a)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const o={responseType:"json",url:i.href},a=n.steeringManifestLoadPolicy.default,s=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},c={onSuccess:(u,d,h,f)=>{this.log(`Loaded steering manifest: "${i}"`);const p=u.data;if((p==null?void 0:p.VERSION)!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":g,"PATHWAY-CLONES":m,"PATHWAY-PRIORITY":y}=p;if(g)try{this.uri=new self.URL(g,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${g}`);return}this.scheduleRefresh(this.uri||h.url),m&&this.clonePathways(m);const b={steeringManifest:p,url:i.toString()};this.hls.trigger(q.STEERING_MANIFEST_LOADED,b),y&&this.updatePathwayPriority(y)},onError:(u,d,h,f)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let p=this.timeToLoad*1e3;if(u.code===429){const g=this.loader;if(typeof(g==null?void 0:g.getResponseHeader)=="function"){const m=g.getResponseHeader("Retry-After");m&&(p=parseFloat(m)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,p)},onTimeout:(u,d,h)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(o,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function $P(t,e,n,r){t&&Object.keys(e).forEach(i=>{const o=t.filter(a=>a.groupId===i).map(a=>{const s=qr({},a);return s.details=void 0,s.attrs=new mi(s.attrs),s.url=s.attrs.URI=GU(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),s.groupId=s.attrs["GROUP-ID"]=e[i],s.attrs["PATHWAY-ID"]=r,s});t.push(...o)})}function GU(t,e,n,r){const{HOST:i,PARAMS:o,[n]:a}=r;let s;e&&(s=a==null?void 0:a[e],s&&(t=s));const l=new self.URL(t);return i&&!s&&(l.host=i),o&&Object.keys(o).sort().forEach(c=>{c&&l.searchParams.set(c,o[c])}),l.href}class If extends ps{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=If.CDMCleanupPromise?[If.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=n=>{const{initDataType:r,initData:i}=n,o=`"${n.type}" event: init data type: "${r}"`;if(this.debug(o),i!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=A0(this.config));const s=a.map(Q2).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(s)}this.keyFormatPromise.then(a=>{const s=sb(a);if(r!=="sinf"||s!==yi.FAIRPLAY){this.log(`Ignoring "${n.type}" event with init data type: "${r}" for selected key-system ${s}`);return}let l;try{const f=oo(new Uint8Array(i)),p=e5(JSON.parse(f).sinf),g=UH(p);if(!g)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=new Uint8Array(g.subarray(8,24))}catch(f){this.warn(`${o} Failed to parse sinf: ${f}`);return}const c=wo(l),{keyIdToKeySessionPromise:u,mediaKeySessions:d}=this;let h=u[c];for(let f=0;f<d.length;f++){const p=d[f],g=p.decryptdata;if(!g.keyId)continue;const m=wo(g.keyId);if(b1(l,g.keyId)||g.uri.replace(/-/g,"").indexOf(c)!==-1){if(h=u[m],!h)continue;if(g.pssh)break;delete u[m],g.pssh=new Uint8Array(i),g.keyId=l,h=u[c]=h.then(()=>this.generateRequestWithPreferredKeySession(p,r,i,"encrypted-event-key-match")),h.catch(y=>this.handleError(y));break}}h||this.handleError(new Error(`Key ID ${c} not encountered in playlist. Key-system sessions ${d.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(q.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(q.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(q.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(q.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(q.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(q.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(q.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(q.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n==null?void 0:n[e];if(i)return i.licenseUrl;if(e===yi.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n==null?void 0:n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(a,s,l)=>!!a&&l.indexOf(a)===s,i=n.map(a=>a.audioCodec).filter(r),o=n.map(a=>a.videoCodec).filter(r);return i.length+o.length===0&&o.push("avc1.42e01e"),new Promise((a,s)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,i,o).then(d=>a({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof ka?s(d):s(new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return oU===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){var i;const o=rRe(e,n,r,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[e],s=(i=a)==null?void 0:i.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Jr(o)}`),s=this.requestMediaKeySystemAccess(e,o);const l=a=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),s.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const u=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const d=l.mediaKeys=c.createMediaKeys().then(h=>(this.log(`Media-keys created for "${e}"`),l.hasMediaKeys=!0,u.then(f=>f?this.setMediaKeysServerCertificate(h,e,f):h)));return d.catch(h=>{this.error(`Failed to create media-keys for "${e}"}: ${h}`)}),d})}return s.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${wo(e.keyId||[])} keyUri: ${e.uri}`);const i=r.createSession(),o={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=ky(n),o="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,o,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,n){const r=e.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyId ${wo(e.decryptdata.keyId||[])}
      } (data length: ${n.byteLength})`),r.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Q2(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:n,mediaKeys:r})=>this.attemptSetMediaKeys(n,r))}selectKeySystem(e){return new Promise((n,r)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const o=Q2(i);o?n(o):r(new Error(`Unable to find format for key-system "${i}"`))}).catch(r)})}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){const n=A0(this.config),r=e.map(sb).filter(i=>!!i&&n.indexOf(i)!==-1);return this.selectKeySystem(r)}getKeyStatus(e){const{mediaKeySessions:n}=this;for(let r=0;r<n.length;r++){const i=S_e(e,n[r]);if(i)return i}}loadKey(e){const n=e.keyInfo.decryptdata,r=ky(n),i=this.bannedKeyIds[r];if(i||this.getKeyStatus(n)==="internal-error"){const s=BP(i||"internal-error",n);return this.handleError(s,e.frag),Promise.reject(s)}const o=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${o}`);const a=this.keyIdToKeySessionPromise[r];if(!a){const s=this.getKeySystemForKeyPromise(n).then(({keySystem:l,mediaKeys:c})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(l,c).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:l,mediaKeys:c,decryptdata:n}))))).then(l=>{const c="cenc",u=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(l,c,u,"playlist-key")});return s.catch(l=>this.handleError(l,e.frag)),this.keyIdToKeySessionPromise[r]=s,s}return a.catch(s=>{if(s instanceof ka){const l=Nr({},s.data);this.getKeyStatus(n)==="internal-error"&&(l.decryptdata=n);const c=new ka(l,s.message);this.handleError(c,e.frag)}}),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,n){if(this.hls)if(e instanceof ka){n&&(e.data.frag=n);const r=e.data.decryptdata;this.error(`${e.message}${r?` (${wo(r.keyId||[])})`:""}`),this.hls.trigger(q.ERROR,e.data)}else this.error(e.message),this.hls.trigger(q.ERROR,{type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const n=ky(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=sb(e.keyFormat),o=i?[i]:A0(this.config);return this.attemptKeySystemAccess(o)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=A0(this.config)),e.length===0)throw new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Jr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){if(this.mediaResolved=void 0,this.mediaKeys===n)return Promise.resolve();const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>this.media?this.media.setMediaKeys(n):new Promise((o,a)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return a(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=n,this.media.setMediaKeys(n).then(o).catch(a)}}));return this.mediaKeys=n,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(o=>r.indexOf(o)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var o;const a=(o=this.config.drmSystems)==null||(o=o[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const p=a.call(this.hls,n,r,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");n=p.initDataType,r=p.initData?p.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(p){if(this.warn(p.message),this.hls&&this.hls.config.debug)throw p}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const s=ky(e.decryptdata),l=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${s} URI: ${l} (init data type: ${n} length: ${r.byteLength})`);const c=new n5,u=e._onmessage=p=>{const g=e.mediaKeysSession;if(!g){c.emit("error",new Error("invalid state"));return}const{messageType:m,message:y}=p;this.log(`"${m}" message event for session "${g.sessionId}" message size: ${y.byteLength}`),m==="license-request"||m==="license-renewal"?this.renewLicense(e,y).catch(b=>{c.eventNames().length?c.emit("error",b):this.handleError(b)}):m==="license-release"?e.keySystem===yi.FAIRPLAY&&this.updateKeySession(e,FS("acknowledged")).then(()=>this.removeSession(e)).catch(b=>this.handleError(b)):this.warn(`unhandled media key message type "${m}"`)},d=(p,g)=>{g.keyStatus=p;let m;p.startsWith("usable")?c.emit("resolved"):p==="internal-error"||p==="output-restricted"||p==="output-downscaled"?m=BP(p,g.decryptdata):p==="expired"?m=new Error(`key expired (keyId: ${s})`):p==="released"?m=new Error("key released"):p==="status-pending"||this.warn(`unhandled key status change "${p}" (keyId: ${s})`),m&&(c.eventNames().length?c.emit("error",m):this.handleError(m))},h=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){c.emit("error",new Error("invalid state"));return}const m=this.getKeyStatuses(e);if(!Object.keys(m).some(w=>m[w]!=="status-pending"))return;if(m[s]==="expired"){this.log(`Expired key ${Jr(m)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let b=m[s];if(b)d(b,e);else{var x;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(x=e.keyStatusTimeouts)[s]||(x[s]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const C=this.getKeyStatus(e.decryptdata);if(C&&C!=="status-pending")return this.log(`No status for keyId ${s} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${C} from other session.`),d(C,e);this.log(`key status for ${s} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),b="internal-error",d(b,e)},1e3)),this.log(`No status for keyId ${s} (${Jr(m)}).`)}};Xo(e.mediaKeysSession,"message",u),Xo(e.mediaKeysSession,"keystatuseschange",h);const f=new Promise((p,g)=>{c.on("error",g),c.on("resolved",p)});return e.mediaKeysSession.generateRequest(n,r).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${s} URI: ${l}`)}).catch(p=>{throw new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_NO_SESSION,error:p,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>f).catch(p=>(c.removeAllListeners(),this.removeSession(e).then(()=>{throw p}))).then(()=>(c.removeAllListeners(),e))}getKeyStatuses(e){const n={};return e.mediaKeysSession.keyStatuses.forEach((r,i)=>{if(typeof i=="string"&&typeof r=="object"){const s=i;i=r,r=s}const o="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===yi.PLAYREADY&&o.length===16){const s=wo(o);n[s]=r,rU(o)}const a=wo(o);r==="internal-error"&&(this.bannedKeyIds[a]=r),this.log(`key status change "${r}" for keyStatuses keyId: ${a} key-session "${e.mediaKeysSession.sessionId}"`),n[a]=r}),n}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),o=this.getServerCertificateUrl(e);return o?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,s)=>{const l={responseType:"arraybuffer",url:o},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,f,p,g)=>{a(h.data)},onError:(h,f,p,g)=>{s(new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:Nr({url:l.url,data:void 0},h)},`"${e}" certificate request failed (${o}). Status: ${h.code} (${h.text})`))},onTimeout:(h,f,p)=>{s(new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${o})`))},onAbort:(h,f,p)=>{s(new Error("aborted"))}};i.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,o)=>{e.setServerCertificate(r).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${r.byteLength}) on "${n}"`),i(e)}).catch(a=>{o(new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),o=i.querySelectorAll("HttpHeader");if(o.length>0){let u;for(let d=0,h=o.length;d<h;d++){var a,s;u=o[d];const f=(a=u.querySelector("name"))==null?void 0:a.textContent,p=(s=u.querySelector("value"))==null?void 0:s.textContent;f&&p&&e.setRequestHeader(f,p)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return FS(atob(c))}setupLicenseXHR(e,n,r,i){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,n,r,i)}).catch(a=>{if(!r.decryptdata)throw a;return e.open("POST",n,!0),o.call(this.hls,e,n,r,i)}).then(a=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,o)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(s.readyState===4)if(s.status===200){this._requestLicenseFailureCount=0;let l=s.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,s,a,e)}catch(u){this.error(u)}i(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||s.status>=400&&s.status<500)o(new ka({type:fn.KEY_SYSTEM_ERROR,details:et.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:s,response:{url:a,data:void 0,code:s.status,text:s.statusText}},`License Request XHR failed (${a}). Status: ${s.status} (${s.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(i,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,this.setupLicenseXHR(s,a,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==yi.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)}).catch(o)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,Xo(r,"encrypted",this.onMediaEncrypted),Xo(r,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=r.mediaKeys}onMediaDetached(){const e=this.media;e&&(fa(e,"encrypted",this.onMediaEncrypted),fa(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const n=this.mediaResolved;if(n&&n(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const r=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Eu.clearKeyUriToKeyIdMap();const o=i.length;If.CDMCleanupPromise=Promise.all(i.map(a=>this.removeSession(a)).concat((r==null||(e=r.setMediaKeys(null))==null?void 0:e.catch(a=>{this.log(`Could not clear media keys: ${a}`),this.hls&&this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${a}`)})}))||Promise.resolve())).catch(a=>{this.log(`Could not close sessions and clear media keys: ${a}`),this.hls&&this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${a}`)})}).then(()=>{o&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,o)=>(i.indexOf(o.keyFormat)===-1&&i.push(o.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r,decryptdata:i}=e;if(n){this.log(`Remove licenses and keys and close session "${n.sessionId}" keyId: ${wo((i==null?void 0:i.keyId)||[])}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);o>-1&&this.mediaKeySessions.splice(o,1);const{keyStatusTimeouts:a}=e;a&&Object.keys(a).forEach(c=>self.clearTimeout(a[c]));const{drmSystemOptions:s}=this.config;return(oRe(s)?new Promise((c,u)=>{self.setTimeout(()=>u(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(c).catch(u)}):Promise.resolve()).catch(c=>{this.log(`Could not remove session: ${c}`),this.hls&&this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${c}`)})}).then(()=>n.close()).catch(c=>{this.log(`Could not close session: ${c}`),this.hls&&this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${c}`)})})}return Promise.resolve()}}If.CDMCleanupPromise=void 0;function ky(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return wo(t.keyId)}function S_e(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class ka extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}function BP(t,e){const n=t==="output-restricted",r=n?et.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:et.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new ka({type:fn.KEY_SYSTEM_ERROR,details:r,fatal:!1,decryptdata:e},n?"HDCP level output restricted":`key status changed to "${t}"`)}class k_e{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(q.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(q.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const o=i-this.lastTime,a=r-this.lastDroppedFrames,s=n-this.lastDecodedFrames,l=1e3*a/o,c=this.hls;if(c.trigger(q.FPS_DROP,{currentDropped:a,currentDecoded:s,totalDroppedFrames:r}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*s){let u=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(q.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function YU(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function XU(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){zr.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){zr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function bf(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)e&&t.cues[r].removeEventListener("enter",e),t.removeCue(t.cues[r]);n==="disabled"&&(t.mode=n)}function WS(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const o=T_e(t.cues,e,n);for(let a=0;a<o.length;a++)(!r||r(o[a]))&&t.removeCue(o[a])}i==="disabled"&&(t.mode=i)}function E_e(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n,o;for(;r<=i;)if(o=Math.floor((i+r)/2),e<t[o].startTime)i=o-1;else if(e>t[o].startTime&&r<n)r=o+1;else return o;return t[r].startTime-e<e-t[i].startTime?r:i}function T_e(t,e,n){const r=[],i=E_e(t,e);if(i>-1)for(let o=i,a=t.length;o<a;o++){const s=t[o];if(s.startTime>=e&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}function db(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class R_e extends c5{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=db(this.media.textTracks);for(let o=0;o<r.length;o++)if(r[o].mode==="hidden")n=r[o];else if(r[o].mode==="showing"){n=r[o];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.LEVEL_LOADING,this.onLevelLoading,this),e.on(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.LEVEL_LOADING,this.onLevelLoading,this),e.off(q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(q.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,n){const r=this.media;if(!r)return;const i=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;db(r.textTracks).forEach(a=>{bf(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:o}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const s=a.details;a.details=n.details,this.log(`Subtitle track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,s)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let o=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,d)=>{u.id=d});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const s=this.hls.config.subtitlePreference;if(!o&&s){this.selectDefaultTrack=!1;const u=vl(s,a);if(u>-1)o=a[u];else{const d=vl(s,this.tracks);o=this.tracks[d]}}let l=this.findTrackId(o);l===-1&&o&&(l=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(q.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const o=n[i];if(!(r&&!o.default||!r&&!e)&&(!e||Zd(o,e)))return i}if(e){for(let i=0;i<n.length;i++){const o=n[i];if(wg(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const o=n[i];if(wg(e.attrs,o.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(HS(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===sr.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Zd(e,r))return r;const i=vl(e,this.tracksInGroup);if(i>-1){const o=this.tracksInGroup[i];return this.setSubtitleTrack(i),o}else{if(r)return null;{const o=vl(e,n);if(o>-1)return n[o]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,o=this.getUrlWithDirectives(e.url,n),a=e.details,s=a==null?void 0:a.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${i}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${s&&a.live?" age "+s.toFixed(1)+(a.type&&" "+a.type||""):""} ${o}`),this.hls.trigger(q.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:n||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=db(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(o=>HS(r,o))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(o=>{o.mode!=="disabled"&&o!==i&&(o.mode="disabled")}),i){const o=this.subtitleDisplay?"showing":"hidden";i.mode!==o&&(i.mode=o)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!Zt(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(q.SUBTITLE_TRACK_SWITCH,{id:e});return}const o=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&o)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:s="",name:l,type:c,url:u}=i;this.hls.trigger(q.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:l,type:c,url:u});const d=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(d)}}function __e(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const o=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?o:o&3|8).toString(16)})}}}function zm(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0).toString()}const Lf=.025;let A1=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function P_e(t,e,n){return`${t.identifier}-${n+1}-${zm(e)}`}class I_e{constructor(e,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var n;if(e>0&&e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:r===0?!0:(((n=this.assetList[e])==null?void 0:n.startOffset)||0)>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return aC(e,n)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const n=this.dateRange.startTime,r=aC(n,e);return n-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,n=Zt(e)?e:this.duration;return this.cumulativeDuration+n}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return aC(e,n)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Lf))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(e)&&e<n&&(n=e),n}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?A1.Range:A1.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return L_e(this)}}function aC(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Lf)?e.start:e.start+e.duration}function QU(t,e,n){const r=new self.URL(t,n);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function sC(t,e){for(;(n=t.assetList[++e])!=null&&n.error;)var n;return e}function L_e(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function mf(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class M_e{constructor(e,n,r,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(q.PLAYOUT_LIMIT_REACHED,{})};const o=this.hls=new e(n);this.interstitial=r,this.assetItem=i;const a=()=>{this.hasDetails=!0};o.once(q.LEVEL_LOADED,a),o.once(q.AUDIO_TRACK_LOADED,a),o.once(q.SUBTITLE_TRACK_LOADED,a),o.on(q.MEDIA_ATTACHING,(s,{media:l})=>{this.removeMediaListeners(),this.mediaAttached=l,this.interstitial.playoutLimit&&(l.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&o.on(q.BUFFER_APPENDED,()=>{const u=this.bufferedEnd;this.reachedPlayout(u)&&(this._bufferedEosTime=u,o.trigger(q.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let n=this.assetItem.uri;try{n=QU(n,e.config.primarySessionId||"").href}catch{}e.loadSource(n)}}bufferedInPlaceToEnd(e){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!e)return!1;const r=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,o=Xn.bufferInfo(e,i,0);return this.getAssetTime(o.end)>=r-.02}reachedPlayout(e){const r=this.interstitial.playoutLimit;return this.startOffset+e>=r}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=Xn.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const n=this.interstitial.playoutLimit;if(n){const r=n-this.startOffset;if(r>0&&r<e)return r}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const n=this.timelineOffset;if(e!==n){const r=e-n;if(Math.abs(r)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const n=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-n),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var n;this.loadSource(),(n=this.hls)==null||n.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const n=r=>delete r.details;e.levels.forEach(n),e.allAudioTracks.forEach(n),e.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(e,n,r){var i;(i=this.hls)==null||i.on(e,n)}once(e,n,r){var i;(i=this.hls)==null||i.once(e,n)}off(e,n,r){var i;(i=this.hls)==null||i.off(e,n)}toString(){var e;return`HlsAssetPlayer: ${mf(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const NP=.033;class O_e extends ps{constructor(e,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,n){return this.events?this.events.reduce((r,i)=>e<=i.startOffset&&n>i.startOffset?(delete i.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,n){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[r]||(n===void 0&&(n=e.start),r=this.findItemIndexAtTime(n));r>=0&&(o=i[r])!=null&&o.event;){var o;r--}return r}findItemIndexAtTime(e,n){const r=this.items;if(r)for(let i=0;i<r.length;i++){let o=r[i];if(n&&n!=="primary"&&(o=o[n]),e===o.start||e>o.start&&e<o.end)return i}return-1}findJumpRestrictedIndex(e,n){const r=this.items;if(r)for(let i=e;i<=n&&r[i];i++){const o=r[i].event;if(o!=null&&o.restrictions.jump&&!o.appendInPlace)return i}return-1}findEventIndex(e){const n=this.items;if(n)for(let i=n.length;i--;){var r;if(((r=n[i].event)==null?void 0:r.identifier)===e)return i}return-1}findAssetIndex(e,n){const r=e.assetList,i=r.length;if(i>1)for(let o=0;o<i;o++){const a=r[o];if(!a.error){const s=a.timelineStart;if(n===s||n>s&&(n<s+(a.duration||0)||o===i-1))return o}}return 0}get assetIdAtEnd(){var e;const n=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(n){const r=n.assetList,i=r[r.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,n){const r=e.main.details,{dateRanges:i}=r,o=this.events,a=this.parseDateRanges(i,{url:r.url},n),s=Object.keys(i),l=o?o.filter(c=>!s.includes(c.identifier)):[];a.length&&a.sort((c,u)=>{const d=c.cue.pre,h=c.cue.post,f=u.cue.pre,p=u.cue.post;if(d&&!f)return-1;if(f&&!d||h&&!p)return 1;if(p&&!h)return-1;if(!d&&!f&&!h&&!p){const g=c.startTime,m=u.startTime;if(g!==m)return g-m}return c.dateRange.tagOrder-u.dateRange.tagOrder}),this.events=a,l.forEach(c=>{this.removeEvent(c)}),this.updateSchedule(e,l)}updateSchedule(e,n=[],r=!1){const i=this.events||[];if(i.length||n.length||this.length<2){const o=this.items,a=this.parseSchedule(i,e);(r||n.length||(o==null?void 0:o.length)!==a.length||a.some((l,c)=>Math.abs(l.playout.start-o[c].playout.start)>.005||Math.abs(l.playout.end-o[c].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(n,o))}}parseDateRanges(e,n,r){const i=[],o=Object.keys(e);for(let a=0;a<o.length;a++){const s=o[a],l=e[s];if(l.isInterstitial){let c=this.eventMap[s];c?c.setDateRange(l):(c=new I_e(l,n),this.eventMap[s]=c,r===!1&&(c.appendInPlace=r)),i.push(c)}}return i}parseSchedule(e,n){const r=[],i=n.main.details,o=i.live?1/0:i.edge;let a=0;if(e=e.filter(l=>!l.error&&!(l.cue.once&&l.hasPlayed)),e.length){this.resolveOffsets(e,n);let l=0,c=0;if(e.forEach((u,d)=>{const h=u.cue.pre,f=u.cue.post,p=e[d-1]||null,g=u.appendInPlace,m=f?o:u.startOffset,y=u.duration,b=u.timelineOccupancy===A1.Range?y:0,x=u.resumptionOffset,w=(p==null?void 0:p.startTime)===m,C=m+u.cumulativeDuration;let S=g?C+y:m+x;if(h||!f&&m<=0){const T=c;c+=b,u.timelineStart=C;const k=a;a+=y,r.push({event:u,start:C,end:S,playout:{start:k,end:a},integrated:{start:T,end:c}})}else if(m<=o){if(!w){const E=m-l;if(E>NP){const P=l,_=c;c+=E;const F=a;a+=E;const N={previousEvent:e[d-1]||null,nextEvent:u,start:P,end:P+E,playout:{start:F,end:a},integrated:{start:_,end:c}};r.push(N)}else E>0&&p&&(p.cumulativeDuration+=E,r[r.length-1].end=m)}f&&(S=C),u.timelineStart=C;const T=c;c+=b;const k=a;a+=y,r.push({event:u,start:C,end:S,playout:{start:k,end:a},integrated:{start:T,end:c}})}else return;const A=u.resumeTime;f||A>o?l=o:l=A}),l<o){var s;const u=l,d=c,h=o-l;c+=h;const f=a;a+=h,r.push({previousEvent:((s=r[r.length-1])==null?void 0:s.event)||null,nextEvent:null,start:l,end:u+h,playout:{start:f,end:a},integrated:{start:d,end:c}})}this.setDurations(o,a,c)}else r.push({previousEvent:null,nextEvent:null,start:0,end:o,playout:{start:0,end:o},integrated:{start:0,end:o}}),this.setDurations(o,o,o);return r}setDurations(e,n,r){this.durations={primary:e,playout:n,integrated:r}}resolveOffsets(e,n){const r=n.main.details,i=r.live?1/0:r.edge;let o=0,a=-1;e.forEach((s,l)=>{const c=s.cue.pre,u=s.cue.post,d=c?0:u?i:s.startTime;this.updateAssetDurations(s),a===d?s.cumulativeDuration=o:(o=0,a=d),!u&&s.snapOptions.in&&(s.resumeAnchor=hh(null,r.fragments,s.startOffset+s.resumptionOffset,0,0)||void 0),s.appendInPlace&&!s.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(s,n)||(s.appendInPlace=!1)),!s.appendInPlace&&l+1<e.length&&e[l+1].startTime-e[l].resumeTime<NP&&(e[l+1].appendInPlace=!1,e[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${s}`));const f=Zt(s.resumeOffset)?s.resumeOffset:s.duration;o+=f})}primaryCanResumeInPlaceAt(e,n){const r=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(r-i)>Lf?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${i}`),!1):!Object.keys(n).some(a=>{const s=n[a].details,l=s.edge;if(r>=l)return this.log(`"${e.identifier}" resumption ${r} past ${a} playlist end ${l}`),!1;const c=hh(null,s.fragments,r);if(!c)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${a} playlist (${s.fragStart}-${s.fragmentEnd})`),!0;const u=a==="audio"?.175:0;return Math.abs(c.start-r)<Lf+u||Math.abs(c.end-r)<Lf+u?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${a} fragment bounds (${c.start}-${c.end} sn: ${c.sn} cc: ${c.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const n=e.timelineStart;let r=0,i=!1,o=!1;for(let a=0;a<e.assetList.length;a++){const s=e.assetList[a],l=n+r;s.startOffset=r,s.timelineStart=l,i||(i=s.duration===null),o||(o=!!s.error);const c=s.error?0:s.duration||0;r+=c}i&&!o?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function gs(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class D_e{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,n){const r=e.assetListUrl;let i;try{i=QU(r,this.hls.sessionId,e.baseUrl)}catch(h){const f=this.assignAssetListError(e,et.ASSET_LIST_LOAD_ERROR,h,r);this.hls.trigger(q.ERROR,f);return}n&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+n);const o=this.hls.config,a=o.loader,s=new a(o),l={responseType:"json",url:i.href},c=o.interstitialAssetListLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,f,p,g)=>{const m=h.data,y=m==null?void 0:m.ASSETS;if(!Array.isArray(y)){const b=this.assignAssetListError(e,et.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),p.url,f,g);this.hls.trigger(q.ERROR,b);return}e.assetListResponse=m,this.hls.trigger(q.ASSET_LIST_LOADED,{event:e,assetListResponse:m,networkDetails:g})},onError:(h,f,p,g)=>{const m=this.assignAssetListError(e,et.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${h.code} ${h.text} (${f.url})`),f.url,g,p);this.hls.trigger(q.ERROR,m)},onTimeout:(h,f,p)=>{const g=this.assignAssetListError(e,et.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${f.url})`),f.url,h,p);this.hls.trigger(q.ERROR,g)}};return s.load(l,u,d),this.hls.trigger(q.ASSET_LIST_LOADING,{event:e}),s}assignAssetListError(e,n,r,i,o,a){return e.error=r,{type:fn.NETWORK_ERROR,details:n,fatal:!1,interstitial:e,url:i,error:r,networkDetails:a,stats:o}}}function zP(t){var e;t==null||(e=t.play())==null||e.catch(()=>{})}function Ey(t,e){return`[${t}] Advancing timeline position to ${e}`}class F_e extends ps{constructor(e,n){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled||!this.schedule)return;const i=r-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=r,this.bufferedPos=r;const s=this.playingItem;if(!s){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(r,r-i)&&this.updateSchedule(!0),this.checkBuffer(),a&&r<s.start||r>=s.end){var l;const f=this.findItemIndex(s);let p=this.schedule.findItemIndexAtTime(r);if(p===-1&&(p=f+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${r} (resolving from ${f} to ${p})`)),!this.isInterstitial(s)&&(l=this.media)!=null&&l.paused&&(this.shouldPlay=!1),!a&&p>f){const g=this.schedule.findJumpRestrictedIndex(f+1,p);if(g>f){this.setSchedulePosition(g);return}}this.setSchedulePosition(p);return}const c=this.playingAsset;if(!c){if(this.playingLastItem&&this.isInterstitial(s)){const f=s.event.assetList[0];f&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,f))}return}const u=c.timelineStart,d=c.duration||0;if(a&&r<u||r>=u+d){var h;(h=s.event)!=null&&h.appendInPlace&&(this.clearAssetPlayers(s.event,s),this.flushFrontBuffer(r)),this.setScheduleToAssetAtTime(r,c)}},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(r>=i.end){this.timelinePos=i.end;const s=this.findItemIndex(i);this.setSchedulePosition(s+1)}const o=this.playingAsset;if(!o)return;const a=o.timelineStart+(o.duration||0);r>=a&&this.setScheduleToAssetAtTime(r,o)},this.onScheduleUpdate=(r,i)=>{const o=this.schedule;if(!o)return;const a=this.playingItem,s=o.events||[],l=o.items||[],c=o.durations,u=r.map(g=>g.identifier),d=!!(s.length||u.length);(d||i)&&this.log(`INTERSTITIALS_UPDATED (${s.length}): ${s}
Schedule: ${l.map(g=>gs(g))} pos: ${this.timelinePos}`),u.length&&this.log(`Removed events ${u}`);let h=null,f=null;a&&(h=this.updateItem(a,this.timelinePos),this.itemsMatch(a,h)?this.playingItem=h:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const p=this.bufferingItem;if(p&&(f=this.updateItem(p,this.bufferedPos),this.itemsMatch(p,f)?this.bufferingItem=f:p.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(p.event,null))),r.forEach(g=>{g.assetList.forEach(m=>{this.clearAssetPlayer(m.identifier,null)})}),this.playerQueue.forEach(g=>{if(g.interstitial.appendInPlace){const m=g.assetItem.timelineStart,y=g.timelineOffset-m;if(y)try{g.timelineOffset=m}catch(b){Math.abs(y)>Lf&&this.warn(`${b} ("${g.assetId}" ${g.timelineOffset}->${m})`)}}}),d||i){if(this.hls.trigger(q.INTERSTITIALS_UPDATED,{events:s.slice(0),schedule:l.slice(0),durations:c,removedIds:u}),this.isInterstitial(a)&&u.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(h,a),p&&f!==h&&this.trimInPlace(f,p),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=n,this.assetListLoader=new D_e(e),this.schedule=new O_e(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(q.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(q.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(q.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(q.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(q.BUFFER_APPENDED,this.onBufferAppended,this),e.on(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(q.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(q.MEDIA_ENDED,this.onMediaEnded,this),e.on(q.ERROR,this.onError,this),e.on(q.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(q.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(q.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(q.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(q.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(q.BUFFER_APPENDED,this.onBufferAppended,this),e.off(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(q.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(q.MEDIA_ENDED,this.onMediaEnded,this),e.off(q.ERROR,this.onError,this),e.off(q.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){fa(e,"play",this.onPlay),fa(e,"pause",this.onPause),fa(e,"seeking",this.onSeeking),fa(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,n){const r=this.media=n.media;Xo(r,"seeking",this.onSeeking),Xo(r,"timeupdate",this.onTimeupdate),Xo(r,"play",this.onPlay),Xo(r,"pause",this.onPause)}onMediaAttached(e,n){const r=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!i){this.clearScheduleState();const o=this.findItemIndex(r);this.setSchedulePosition(o)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(this.media=null,!r&&(i&&this.removeMediaListeners(i),this.detachedData)){const o=this.getBufferingPlayer();o&&(this.log(`Removing schedule state for detachedData and ${o}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,o.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,n=()=>e.bufferingItem||e.waitingItem,r=d=>d&&e.getAssetPlayer(d.identifier),i=(d,h,f,p,g)=>{if(d){let m=d[h].start;const y=d.event;if(y){if(h==="playout"||y.timelineOccupancy!==A1.Point){const b=r(f);(b==null?void 0:b.interstitial)===y&&(m+=b.assetItem.startOffset+b[g])}}else{const b=p==="bufferedPos"?a():e[p];m+=b-d.start}return m}return 0},o=(d,h)=>{var f;if(d!==0&&h!=="primary"&&(f=e.schedule)!=null&&f.length){var p;const g=e.schedule.findItemIndexAtTime(d),m=(p=e.schedule.items)==null?void 0:p[g];if(m){const y=m[h].start-m.start;return d+y}}return d},a=()=>{const d=e.bufferedPos;return d===Number.MAX_VALUE?s("primary"):Math.max(d,0)},s=d=>{var h,f;return(h=e.primaryDetails)!=null&&h.live?e.primaryDetails.edge:((f=e.schedule)==null?void 0:f.durations[d])||0},l=(d,h)=>{var f,p;const g=e.effectivePlayingItem;if(g!=null&&(f=g.event)!=null&&f.restrictions.skip||!e.schedule)return;e.log(`seek to ${d} "${h}"`);const m=e.effectivePlayingItem,y=e.schedule.findItemIndexAtTime(d,h),b=(p=e.schedule.items)==null?void 0:p[y],x=e.getBufferingPlayer(),w=x==null?void 0:x.interstitial,C=w==null?void 0:w.appendInPlace,S=m&&e.itemsMatch(m,b);if(m&&(C||S)){const A=r(e.playingAsset),T=(A==null?void 0:A.media)||e.primaryMedia;if(T){const k=h==="primary"?T.currentTime:i(m,h,e.playingAsset,"timelinePos","currentTime"),E=d-k,P=(C?k:T.currentTime)+E;if(P>=0&&(!A||C||P<=A.duration)){T.currentTime=P;return}}}if(b){let A=d;if(h!=="primary"){const k=b[h].start,E=d-k;A=b.start+E}const T=!e.isInterstitial(b);if((!e.isInterstitial(m)||m.event.appendInPlace)&&(T||b.event.appendInPlace)){const k=e.media||(C?x==null?void 0:x.media:null);k&&(k.currentTime=A)}else if(m){const k=e.findItemIndex(m);if(y>k){const P=e.schedule.findJumpRestrictedIndex(k+1,y);if(P>k){e.setSchedulePosition(P);return}}let E=0;if(T)e.timelinePos=A,e.checkBuffer();else{const P=b.event.assetList,_=d-(b[h]||b).start;for(let F=P.length;F--;){const N=P[F];if(N.duration&&_>=N.startOffset&&_<N.startOffset+N.duration){E=F;break}}}e.setSchedulePosition(y,E)}}},c=()=>{const d=e.effectivePlayingItem;if(e.isInterstitial(d))return d;const h=n();return e.isInterstitial(h)?h:null},u={get bufferedEnd(){const d=n(),h=e.bufferingItem;if(h&&h===d){var f;return i(h,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-h.playout.start||((f=e.bufferingAsset)==null?void 0:f.startOffset)||0}return 0},get currentTime(){const d=c(),h=e.effectivePlayingItem;return h&&h===d?i(h,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-h.playout.start:0},set currentTime(d){const h=c(),f=e.effectivePlayingItem;f&&f===h&&l(d+f.playout.start,"playout")},get duration(){const d=c();return d?d.playout.end-d.playout.start:0},get assetPlayers(){var d;const h=(d=c())==null?void 0:d.event.assetList;return h?h.map(f=>e.getAssetPlayer(f.identifier)):[]},get playingIndex(){var d;const h=(d=c())==null?void 0:d.event;return h&&e.effectivePlayingAsset?h.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return c()}};return this.manager={get events(){var d;return((d=e.schedule)==null||(d=d.events)==null?void 0:d.slice(0))||[]},get schedule(){var d;return((d=e.schedule)==null||(d=d.items)==null?void 0:d.slice(0))||[]},get interstitialPlayer(){return c()?u:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const d=n();return e.findItemIndex(d)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const d=e.effectivePlayingItem;return e.findItemIndex(d)},primary:{get bufferedEnd(){return a()},get currentTime(){const d=e.timelinePos;return d>0?d:0},set currentTime(d){l(d,"primary")},get duration(){return s("primary")},get seekableStart(){var d;return((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(n(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(d){l(d,"integrated")},get duration(){return s("integrated")},get seekableStart(){var d;return o(((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0,"integrated")}},skip:()=>{const d=e.effectivePlayingItem,h=d==null?void 0:d.event;if(h&&!h.restrictions.skip){const f=e.findItemIndex(d);if(h.appendInPlace){const p=d.playout.start+d.event.duration;l(p+.001,"playout")}else e.advanceAfterAssetEnded(h,f,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const n=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!n||!r?!1:this.findItemIndex(n)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,n;if(this.mediaSelection===null)return;const r=this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&!r.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const o=(n=i)==null?void 0:n.currentTime;if(!(o===void 0||!Zt(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,n){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,n)}transferMediaFromPlayer(e,n){const r=e.interstitial.appendInPlace,i=e.media;if(r&&i===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&i){this.detachedData={media:i};return}const o=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Jr(o)}`),this.detachedData=o}else n&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,n){var r,i;if(e.media===n)return;let o=null;const a=this.hls,s=e!==a,l=s&&e.interstitial.appendInPlace,c=(r=this.detachedData)==null?void 0:r.mediaSource;let u;if(a.media)l&&(o=a.transferMedia(),this.detachedData=o),u="Primary";else if(c){const p=this.getBufferingPlayer();p?(o=p.transferMedia(),u=`${p}`):u="detached MediaSource"}else u="detached media";if(!o){if(c)o=this.detachedData,this.log(`using detachedData: MediaSource ${Jr(o)}`);else if(!this.detachedData||a.media===n){const p=this.playerQueue;p.length>1&&p.forEach(g=>{if(s&&g.interstitial.appendInPlace!==l){const m=g.interstitial;this.clearInterstitial(g.interstitial,null),m.appendInPlace=!1,m.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${m}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const d=o&&"mediaSource"in o&&((i=o.mediaSource)==null?void 0:i.readyState)!=="closed",h=d&&o?o:n;this.log(`${d?"transfering MediaSource":"attaching media"} to ${s?e:"Primary"} from ${u} (media.currentTime: ${n.currentTime})`);const f=this.schedule;if(h===o&&f){const p=s&&e.assetId===f.assetIdAtEnd;h.overrides={duration:f.duration,endOfStream:!s||p,cueRemoval:!s}}e.attachMedia(h)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,n=e==null?void 0:e.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,i=this.effectivePlayingItem;if(r===-1){const o=this.hls.startPosition;if(this.log(Ey("checkStart",o)),this.timelinePos=o,n.length&&n[0].cue.pre){const a=e.findEventIndex(n[0].identifier);this.setSchedulePosition(a)}else if(o>=0||!this.primaryLive){const a=this.timelinePos=o>0?o:0,s=e.findItemIndexAtTime(a);this.setSchedulePosition(s)}}else if(i&&!this.playingItem){const o=e.findItemIndex(i);this.setSchedulePosition(o)}}advanceAssetBuffering(e,n){const r=e.event,i=r.findAssetIndex(n),o=sC(r,i);if(!r.isAssetPastPlayoutLimit(o))this.bufferedToEvent(e,o);else if(this.schedule){var a;const s=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(e)+1];s&&this.bufferedToItem(s)}}advanceAfterAssetEnded(e,n,r){const i=sC(e,r);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const o=this.schedule.items;if(o){const a=n+1,s=o.length;if(a>=s){this.setSchedulePosition(-1);return}const l=e.resumeTime;this.timelinePos<l&&(this.log(Ey("advanceAfterAssetEnded",l)),this.timelinePos=l,e.appendInPlace&&this.advanceInPlace(l),this.checkBuffer(this.bufferedPos<l)),this.setSchedulePosition(a)}}}else{if(e.appendInPlace){const o=e.assetList[i];o&&this.advanceInPlace(o.timelineStart)}this.setSchedulePosition(n,i)}}setScheduleToAssetAtTime(e,n){const r=this.schedule;if(!r)return;const i=n.parentIdentifier,o=r.getEvent(i);if(o){const a=r.findEventIndex(i),s=r.findAssetIndex(o,e);this.advanceAfterAssetEnded(o,a,s-1)}}setSchedulePosition(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(!i||this.playbackDisabled)return;const o=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${n} (${o&&gs(o)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,s=this.playingLastItem;if(this.isInterstitial(a)){const u=a.event,d=this.playingAsset,h=d==null?void 0:d.identifier,f=h?this.getAssetPlayer(h):null;if(f&&h&&(!this.eventItemsMatch(a,o)||n!==void 0&&h!==u.assetList[n].identifier)){var l;const p=u.findAssetIndex(d);if(this.log(`INTERSTITIAL_ASSET_ENDED ${p+1}/${u.assetList.length} ${mf(d)}`),this.endedAsset=d,this.playingAsset=null,this.hls.trigger(q.INTERSTITIAL_ASSET_ENDED,{asset:d,assetListIndex:p,event:u,schedule:i.slice(0),scheduleIndex:e,player:f}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(u,this.findItemIndex(this.playingItem),p);return}this.retreiveMediaSource(h,o),f.media&&!((l=this.detachedData)!=null&&l.mediaSource)&&f.detachMedia()}if(!this.eventItemsMatch(a,o)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${u} ${gs(a)}`),u.hasPlayed=!0,this.hls.trigger(q.INTERSTITIAL_ENDED,{event:u,schedule:i.slice(0),scheduleIndex:e}),u.cue.once)){var c;this.updateSchedule();const p=(c=this.schedule)==null?void 0:c.items;if(o&&p){const g=this.findItemIndex(o);this.advanceSchedule(g,p,n,a,s)}return}}this.advanceSchedule(e,i,n,a,s)}advanceSchedule(e,n,r,i,o){const a=this.schedule;if(!a)return;const s=n[e]||null,l=this.primaryMedia,c=this.playerQueue;if(c.length&&c.forEach(u=>{const d=u.interstitial,h=a.findEventIndex(d.identifier);(h<e||h>e+1)&&this.clearInterstitial(d,s)}),this.isInterstitial(s)){this.timelinePos=Math.min(Math.max(this.timelinePos,s.start),s.end);const u=s.event;if(r===void 0){r=a.findAssetIndex(u,this.timelinePos);const p=sC(u,r-1);if(u.isAssetPastPlayoutLimit(p)||u.appendInPlace&&this.timelinePos===s.end){this.advanceAfterAssetEnded(u,e,r);return}r=p}const d=this.waitingItem;this.assetsBuffered(s,l)||this.setBufferingItem(s);let h=this.preloadAssets(u,r);if(this.eventItemsMatch(s,d||i)||(this.waitingItem=s,this.log(`INTERSTITIAL_STARTED ${gs(s)} ${u.appendInPlace?"append in place":""}`),this.hls.trigger(q.INTERSTITIAL_STARTED,{event:u,schedule:n.slice(0),scheduleIndex:e})),!u.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${u}`);return}if(u.assetListLoader&&(u.assetListLoader.destroy(),u.assetListLoader=void 0),!l){this.log(`Waiting for attachMedia to start Interstitial ${u}`);return}this.waitingItem=this.endedItem=null,this.playingItem=s;const f=u.assetList[r];if(!f){this.advanceAfterAssetEnded(u,e,r||0);return}if(h||(h=this.getAssetPlayer(f.identifier)),h===null||h.destroyed){const p=u.assetList.length;this.warn(`asset ${r+1}/${p} player destroyed ${u}`),h=this.createAssetPlayer(u,f,r),h.loadSource()}if(!this.eventItemsMatch(s,this.bufferingItem)&&u.appendInPlace&&this.isAssetBuffered(f))return;this.startAssetPlayer(h,r,n,e,l),this.shouldPlay&&zP(h.media)}else s?(this.resumePrimary(s,e,i),this.shouldPlay&&zP(this.hls.media)):o&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,n,r){var i,o;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${gs(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let s=this.timelinePos;(s<e.start||s>=e.end)&&(s=this.getPrimaryResumption(e,n),this.log(Ey("resumePrimary",s)),this.timelinePos=s),this.attachPrimary(s,e)}if(!r)return;const a=(o=this.schedule)==null?void 0:o.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${gs(e)}`),this.hls.trigger(q.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(e,n){const r=e.start;if(this.primaryLive){const i=this.primaryDetails;if(n===0)return this.hls.startPosition;if(i&&(r<i.fragmentStart||r>i.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const n=this.getAssetPlayer(e.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:Xn.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,n,r){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const o=this.hls;o.media?this.checkBuffer():(this.transferMediaTo(o,i),r&&this.startLoadingPrimaryAt(e,r)),r||(this.log(Ey("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,n){var r;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((r=i.mainForwardBufferInfo)==null?void 0:r.start)||i.media.currentTime)-e)>.5?i.startLoad(e,n):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(q.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(q.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,n){if(n.level===-1||!this.schedule)return;const r=this.hls.levels[n.level];if(!r.details)return;const i=Nr(Nr({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,n){const r=this.hls.audioTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=Nr(Nr({},this.altSelection),{},{audio:r});return}const o=Nr(Nr({},i),{},{audio:r});this.mediaSelection=o}onSubtitleTrackUpdated(e,n){const r=this.hls.subtitleTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=Nr(Nr({},this.altSelection),{},{subtitles:r});return}const o=Nr(Nr({},i),{},{subtitles:r});this.mediaSelection=o}onAudioTrackSwitching(e,n){const r=Y_(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(n)||i.setAudioOption(r)))}onSubtitleTrackSwitch(e,n){const r=Y_(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(n)||n.id!==-1&&i.setSubtitleOption(r)))}onBufferCodecs(e,n){const r=n.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,n){this.checkBuffer()}onBufferFlushed(e,n){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let i=0;i<n.length;i++){const o=n[i];if(o.cue.post){var r;const a=this.schedule.findEventIndex(o.identifier),s=(r=this.schedule.items)==null?void 0:r[a];this.isInterstitial(s)&&this.eventItemsMatch(s,this.bufferingItem)&&this.bufferedToItem(s,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const n=this.playingItem;if(!this.playingLastItem&&n){const r=this.findItemIndex(n);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(e&&i){const o=this.findItemIndex(e,n);return i[o]||null}return null}trimInPlace(e,n){if(this.isInterstitial(e)&&e.event.appendInPlace&&n.end-e.end>.25){e.event.assetList.forEach((o,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(o.identifier,null)});const r=e.end+.25,i=Xn.bufferInfo(this.primaryMedia,r,0);(i.end>r||(i.nextStart||0)>r)&&(this.log(`trim buffered interstitial ${gs(e)} (was ${gs(n)})`),this.attachPrimary(r,null,!0),this.flushFrontBuffer(r))}}itemsMatch(e,n){return!!n&&(e===n||e.event&&n.event&&this.eventItemsMatch(e,n)||!e.event&&!n.event&&this.findItemIndex(e)===this.findItemIndex(n))}eventItemsMatch(e,n){var r;return!!n&&(e===n||e.event.identifier===((r=n.event)==null?void 0:r.identifier))}findItemIndex(e,n){return e&&this.schedule?this.schedule.findItemIndex(e,n):-1}updateSchedule(e=!1){var n;const r=this.mediaSelection;r&&((n=this.schedule)==null||n.updateSchedule(r,[],e))}checkBuffer(e){var n;const r=(n=this.schedule)==null?void 0:n.items;if(!r)return;const i=Xn.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,r,e)}updateBufferedPos(e,n,r){const i=this.schedule,o=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(n.length===1&&this.itemsMatch(n[0],o)){this.bufferedPos=e;return}const a=this.playingItem,s=this.findItemIndex(a);let l=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var c;const u=this.findItemIndex(o),d=Math.min(u+1,n.length-1),h=n[d];if((l===-1&&o&&e>=o.end||(c=h.event)!=null&&c.appendInPlace&&e+.01>=h.start)&&(l=d),this.isInterstitial(o)){const f=o.event;if(d-s>1&&f.appendInPlace===!1||f.assetList.length===0&&f.assetListLoader)return}if(this.bufferedPos=e,l>u&&l>s)this.bufferedToItem(h);else{const f=this.primaryDetails;this.primaryLive&&f&&e>f.edge-f.targetduration&&h.start<f.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(h)&&this.preloadAssets(h.event,0)}}else r&&a&&!this.itemsMatch(a,o)&&(l===s?this.bufferedToItem(a):l===s+1&&this.bufferedToItem(n[l]))}assetsBuffered(e,n){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const o=this.getAssetPlayer(i.identifier);return!(o!=null&&o.bufferedInPlaceToEnd(n))})}setBufferingItem(e){const n=this.bufferingItem,r=this.schedule;if(!this.itemsMatch(e,n)&&r){const{items:i,events:o}=r;if(!i||!o)return n;const a=this.isInterstitial(e),s=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const l=s?s.remaining:n?n.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${gs(e)}`+(n?` (${l.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const c=r.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((u,d)=>{const h=this.getAssetPlayer(u.identifier);h&&(d===c&&h.loadSource(),h.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(c=>c.pauseBuffering());this.hls.trigger(q.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return n}bufferedToItem(e,n=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,n);else if(r!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const n=this.findItemIndex(e),r=this.getPrimaryResumption(e,n);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,n){const r=e.event,i=r.assetList.length===0&&!r.assetListLoader,o=r.cue.once;if(i||!o){const a=this.preloadAssets(r,n);if(a!=null&&a.interstitial.appendInPlace){const s=this.primaryMedia;s&&this.bufferAssetPlayer(a,s)}}}preloadAssets(e,n){const r=e.assetUrl,i=e.assetList.length,o=i===0&&!e.assetListLoader,a=e.cue.once;if(o){const l=e.timelineStart;if(e.appendInPlace){var s;const h=this.playingItem;!this.isInterstitial(h)&&(h==null||(s=h.nextEvent)==null?void 0:s.identifier)===e.identifier&&this.flushFrontBuffer(l+.25)}let c,u=0;if(!this.playingItem&&this.primaryLive&&(u=this.hls.startPosition,u===-1&&(u=this.hls.liveSyncPosition||0)),u&&!(e.cue.pre||e.cue.post)){const h=u-l;h>0&&(c=Math.round(h*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${r?1:i} ${e}${c?` live-start: ${u} start-offset: ${c}`:""}`),r)return this.createAsset(e,0,0,l,e.duration,r);const d=this.assetListLoader.loadAssetList(e,c);d&&(e.assetListLoader=d)}else if(!a&&i){for(let c=n;c<i;c++){const u=e.assetList[c],d=this.getAssetPlayerQueueIndex(u.identifier);(d===-1||this.playerQueue[d].destroyed)&&!u.error&&this.createAssetPlayer(e,u,c)}const l=e.assetList[n];if(l){const c=this.getAssetPlayer(l.identifier);return c&&c.loadSource(),c}}return null}flushFrontBuffer(e){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(n).forEach(i=>{this.hls.trigger(q.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const n=this.playerQueue;for(let r=0;r<n.length;r++)if(e===n[r].assetId)return r;return-1}getAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:n}=this;if(n){for(let r=0;r<e.length;r++)if(e[r].media===n)return e[r]}return null}createAsset(e,n,r,i,o,a){const s={parentIdentifier:e.identifier,identifier:P_e(e,a,n),duration:o,startOffset:r,timelineStart:i,uri:a};return this.createAssetPlayer(e,s,n)}createAssetPlayer(e,n,r){const i=this.hls,o=i.userConfig;let a=o.videoPreference;const s=i.loadLevelObj||i.levels[i.currentLevel];(a||s)&&(a=qr({},a),s.videoCodec&&(a.videoCodec=s.videoCodec),s.videoRange&&(a.allowedVideoRanges=[s.videoRange]));const l=i.audioTracks[i.audioTrack],c=i.subtitleTracks[i.subtitleTrack];let u=0;if(this.primaryLive||e.appendInPlace){const w=this.timelinePos-n.timelineStart;if(w>1){const C=n.duration;C&&w<C&&(u=w)}}const d=n.identifier,h=Nr(Nr({},o),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:d,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:u,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:l||o.audioPreference,subtitlePreference:c||o.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,n.timelineStart&&(h.timelineOffset=n.timelineStart));const f=h.cmcd;f!=null&&f.sessionId&&f.contentId&&(h.cmcd=qr({},f,{contentId:zm(n.uri)})),this.getAssetPlayer(d)&&this.warn(`Duplicate date range identifier ${e} and asset ${d}`);const p=new M_e(this.HlsPlayerClass,h,e,n);this.playerQueue.push(p),e.assetList[r]=n;let g=!0;const m=w=>{if(w.live){var C;const T=new Error(`Interstitials MUST be VOD assets ${e}`),k={fatal:!0,type:fn.OTHER_ERROR,details:et.INTERSTITIAL_ASSET_ITEM_ERROR,error:T},E=((C=this.schedule)==null?void 0:C.findEventIndex(e.identifier))||-1;this.handleAssetItemError(k,e,E,r,T.message);return}const S=w.edge-w.fragmentStart,A=n.duration;(g||A===null||S>A)&&(g=!1,this.log(`Interstitial asset "${d}" duration change ${A} > ${S}`),n.duration=S,this.updateSchedule())};p.on(q.LEVEL_UPDATED,(w,{details:C})=>m(C)),p.on(q.LEVEL_PTS_UPDATED,(w,{details:C})=>m(C)),p.on(q.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const y=(w,C)=>{const S=this.getAssetPlayer(d);if(S&&C.tracks){S.off(q.BUFFER_CODECS,y),S.tracks=C.tracks;const A=this.primaryMedia;this.bufferingAsset===S.assetItem&&A&&!S.media&&this.bufferAssetPlayer(S,A)}};p.on(q.BUFFER_CODECS,y);const b=()=>{var w;const C=this.getAssetPlayer(d);if(this.log(`buffered to end of asset ${C}`),!C||!this.schedule)return;const S=this.schedule.findEventIndex(e.identifier),A=(w=this.schedule.items)==null?void 0:w[S];this.isInterstitial(A)&&this.advanceAssetBuffering(A,n)};p.on(q.BUFFERED_TO_END,b);const x=w=>()=>{if(!this.getAssetPlayer(d)||!this.schedule)return;this.shouldPlay=!0;const S=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,S,w)};return p.once(q.MEDIA_ENDED,x(r)),p.once(q.PLAYOUT_LIMIT_REACHED,x(1/0)),p.on(q.ERROR,(w,C)=>{if(!this.schedule)return;const S=this.getAssetPlayer(d);if(C.details===et.BUFFER_STALLED_ERROR){if(S!=null&&S.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(C,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${C.error} ${e}`)}),p.on(q.DESTROYING,()=>{if(!this.getAssetPlayer(d)||!this.schedule)return;const C=new Error(`Asset player destroyed unexpectedly ${d}`),S={fatal:!0,type:fn.OTHER_ERROR,details:et.INTERSTITIAL_ASSET_ITEM_ERROR,error:C};this.handleAssetItemError(S,e,this.schedule.findEventIndex(e.identifier),r,C.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${mf(n)}`),this.hls.trigger(q.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:r,event:e,player:p}),p}clearInterstitial(e,n){this.clearAssetPlayers(e,n),e.reset()}clearAssetPlayers(e,n){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,n)})}resetAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`reset asset player "${e}" after error`);const r=this.playerQueue[n];this.transferMediaFromPlayer(r,null),r.resetDetails()}}clearAssetPlayer(e,n){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){const i=this.playerQueue[r];this.log(`clear ${i} toSegment: ${n&&gs(n)}`),this.transferMediaFromPlayer(i,n),this.playerQueue.splice(r,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,n,r,i,o){const{interstitial:a,assetItem:s,assetId:l}=e,c=a.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=s,(!u||u.identifier!==l)&&(u&&(this.clearAssetPlayer(u.identifier,r[i]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${c} ${mf(s)}`),this.hls.trigger(q.INTERSTITIAL_ASSET_STARTED,{asset:s,assetListIndex:n,event:a,schedule:r.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,o)}bufferAssetPlayer(e,n){var r,i;if(!this.schedule)return;const{interstitial:o,assetItem:a}=e,s=this.schedule.findEventIndex(o.identifier),l=(r=this.schedule.items)==null?void 0:r[s];if(!l)return;e.loadSource(),this.setBufferingItem(l),this.bufferingAsset=a;const c=this.getBufferingPlayer();if(c===e)return;const u=o.appendInPlace;if(u&&(c==null?void 0:c.interstitial.appendInPlace)===!1)return;const d=(c==null?void 0:c.tracks)||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(u&&a!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(d&&!MH(d,e.tracks)){const h=new Error(`Asset ${mf(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(d)}')`),f={fatal:!0,type:fn.OTHER_ERROR,details:et.INTERSTITIAL_ASSET_ITEM_ERROR,error:h},p=o.findAssetIndex(a);this.handleAssetItemError(f,o,s,p,h.message);return}}this.transferMediaTo(e,n)}handleInPlaceStall(e){const n=this.schedule,r=this.primaryMedia;if(!n||!r)return;const i=r.currentTime,o=n.findAssetIndex(e,i),a=e.assetList[o];if(a){const s=this.getAssetPlayer(a.identifier);if(s){const l=s.currentTime||i-a.timelineStart,c=s.duration-l;if(this.warn(`Stalled at ${l} of ${l+c} in ${s} ${e} (media.currentTime: ${i})`),l&&(c/r.playbackRate<.5||s.bufferedInPlaceToEnd(r))&&s.hls){const u=n.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,u,o)}}}}advanceInPlace(e){const n=this.primaryMedia;n&&n.currentTime<e&&(n.currentTime=e)}handleAssetItemError(e,n,r,i,o){if(e.details===et.BUFFER_STALLED_ERROR)return;const a=n.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&mf(a)} ${e.error}`),!this.schedule)return;const s=(a==null?void 0:a.identifier)||"",l=this.getAssetPlayerQueueIndex(s),c=this.playerQueue[l]||null,u=this.schedule.items,d=qr({},e,{fatal:!1,errorAction:_f(!0),asset:a,assetListIndex:i,event:n,schedule:u,scheduleIndex:r,player:c});if(this.hls.trigger(q.INTERSTITIAL_ASSET_ERROR,d),!e.fatal)return;const h=this.playingAsset,f=this.bufferingAsset,p=new Error(o);if(a&&(this.clearAssetPlayer(s,null),a.error=p),!n.assetList.some(g=>!g.error))n.error=p;else for(let g=i;g<n.assetList.length;g++)this.resetAssetPlayer(n.assetList[g].identifier);this.updateSchedule(!0),n.error?this.primaryFallback(n):h&&h.identifier===s?this.advanceAfterAssetEnded(n,r,i):f&&f.identifier===s&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,f)}primaryFallback(e){const n=e.timelineStart,r=this.effectivePlayingItem;let i=this.timelinePos;if(r){this.log(`Fallback to primary from event "${e.identifier}" start: ${n} pos: ${i} playing: ${gs(r)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const a=this.updateItem(r,i);this.itemsMatch(r,a)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const o=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(o)}onAssetListLoaded(e,n){var r,i;const o=n.event,a=o.identifier,s=n.assetListResponse.ASSETS;if(!((r=this.schedule)!=null&&r.hasEvent(a)))return;const l=o.timelineStart,c=o.duration;let u=0;s.forEach((g,m)=>{const y=parseFloat(g.DURATION);this.createAsset(o,m,u,l+u,y,g.URI),u+=y}),o.duration=u,this.log(`Loaded asset-list with duration: ${u} (was: ${c}) ${o}`);const d=this.waitingItem,h=(d==null?void 0:d.event.identifier)===a;this.updateSchedule();const f=(i=this.bufferingItem)==null?void 0:i.event;if(h){var p;const g=this.schedule.findEventIndex(a),m=(p=this.schedule.items)==null?void 0:p[g];if(m){if(!this.playingItem&&this.timelinePos>m.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==g){o.error=new Error(`Interstitial ${s.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${o}`),this.log(o.error.message),this.updateSchedule(!0),this.primaryFallback(o);return}this.setBufferingItem(m)}this.setSchedulePosition(g)}else if((f==null?void 0:f.identifier)===a){const g=o.assetList[0];if(g){const m=this.getAssetPlayer(g.identifier);if(f.appendInPlace){const y=this.primaryMedia;m&&y&&this.bufferAssetPlayer(m,y)}else m&&m.loadSource()}}}onError(e,n){if(this.schedule)switch(n.details){case et.ASSET_LIST_PARSING_ERROR:case et.ASSET_LIST_LOAD_ERROR:case et.ASSET_LIST_LOAD_TIMEOUT:{const r=n.interstitial;r&&(this.updateSchedule(!0),this.primaryFallback(r));break}case et.BUFFER_STALLED_ERROR:{const r=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&r.event.appendInPlace){this.handleInPlaceStall(r.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const HP=500;class $_e extends t5{constructor(e,n,r){super(e,n,r,"subtitle-stream-controller",cn.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(q.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(q.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(q.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(q.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,n){this.stopLoad(),this.state=bt.IDLE,this.setInterval(HP),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,n){this.tracksBuffered=[],super.onMediaDetaching(e,n)}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragContextChanged(r)||(Bi(r)&&(this.fragPrevious=r),this.state=bt.IDLE),!i)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let a;const s=r.start;for(let c=0;c<o.length;c++)if(s>=o[c].start&&s<=o[c].end){a=o[c];break}const l=r.start+r.duration;a?a.end=l:(a={start:s,end:l},o.push(a)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const o=i-1;if(o<=0)return;n.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach(a=>{for(let s=0;s<a.length;){if(a[s].end<=o){a.shift();continue}else if(a[s].start<o)a[s].start=o;else break;s++}}),this.fragmentTracker.removeFragmentsInRange(r,o,cn.SUBTITLE)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===cn.SUBTITLE&&(n.details===et.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==bt.STOPPED&&(this.state=bt.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&FU(this.levels,n)){this.levels=n.map(r=>new vg(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new vg(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,cn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==bt.STOPPED&&this.setInterval(HP)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:o}=this,{details:a,id:s}=n;if(!o){this.warn(`Subtitle tracks were reset while loading level ${s}`);return}const l=o[s];if(s>=o.length||!l)return;this.log(`Subtitle track ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(r=l.details)!=null&&r.live){if(a.deltaUpdateFailed)return;const d=this.mainDetails;if(!d){this.startFragRequested=!1;return}const h=d.fragments[0];if(!l.details)a.hasProgramDateTime&&d.hasProgramDateTime?(w1(a,d),c=a.fragmentStart):h&&(c=h.start,BS(a,c));else{var u;c=this.alignPlaylists(a,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&h&&(c=h.start,BS(a,c))}d&&!this.startFragRequested&&this.setStartPosition(d,c)}l.details=a,this.levelLastLoaded=l,s===i&&(this.hls.trigger(q.SUBTITLE_TRACK_UPDATED,{details:a,id:s,groupId:n.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===bt.IDLE&&(hh(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,o=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&Pf(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer,J3(i.method)).catch(s=>{throw o.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.FRAG_DECRYPT_ERROR,fatal:!1,error:s,reason:s.message,frag:n}),s}).then(s=>{const l=performance.now();o.trigger(q.FRAG_DECRYPTED,{frag:n,payload:s,stats:{tstart:a,tdecrypt:l}})}).catch(s=>{this.warn(`${s.name}: ${s.message}`),this.state=bt.IDLE})}}doTick(){if(!this.media){this.state=bt.IDLE;return}if(this.state===bt.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details||this.waitForLive(r))return;const{config:i}=this,o=this.getLoadPosition(),a=Xn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,i.maxBufferHole),{end:s,len:l}=a,c=r.details,u=this.hls.maxBufferLength+c.levelTargetDuration;if(l>u)return;const d=c.fragments,h=d.length,f=c.edge;let p=null;const g=this.fragPrevious;if(s<f){const b=i.maxFragLookUpTolerance,x=s>f-b?0:b;p=hh(g,d,Math.max(d[0].start,s),x),!p&&g&&g.start<d[0].start&&(p=d[0])}else p=d[h-1];if(p=this.filterReplacedPrimary(p,r.details),!p)return;const m=p.sn-c.startSN,y=d[m-1];if(y&&y.cc===p.cc&&this.fragmentTracker.getState(y)===ao.NOT_LOADED&&(p=y),this.fragmentTracker.getState(p)===ao.NOT_LOADED){const b=this.mapToInitFragWhenRequired(p);b&&this.loadFragment(b,r,s)}}}loadFragment(e,n,r){Bi(e)?super.loadFragment(e,n,r):this._loadInitSegment(e,n)}get mediaBufferTimeRanges(){return new B_e(this.tracksBuffered[this.currentTrackId]||[])}}class B_e{constructor(e){this.buffered=void 0;const n=(r,i,o)=>{if(i=i>>>0,i>o-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${o})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}const N_e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ZU=t=>String.fromCharCode(N_e[t]||t),vs=15,Wl=100,z_e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},H_e={17:2,18:4,21:6,22:8,23:10,19:13,20:15},U_e={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},j_e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},V_e=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class W_e{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;zr.log(`${this.time} [${e}] ${r}`)}}}const wd=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class JU{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class q_e{constructor(){this.uchar=" ",this.penState=new JU}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class K_e{constructor(e){this.chars=[],this.pos=0,this.currPenState=new JU,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Wl;n++)this.chars.push(new q_e);this.logger=e}equals(e){for(let n=0;n<Wl;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Wl;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Wl;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Wl&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Wl)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=ZU(e);if(this.pos>=Wl){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Wl;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Wl;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class lC{constructor(e){this.rows=[],this.currRow=vs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<vs;n++)this.rows.push(new K_e(e));this.logger=e}reset(){for(let e=0;e<vs;e++)this.rows[e].clear();this.currRow=vs-1}equals(e){let n=!0;for(let r=0;r<vs;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<vs;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<vs;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Jr(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let s=0;s<vs;s++)this.rows[s].clear();const o=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const s=a.rows[o].cueStartTime,l=this.logger.time;if(s!==null&&l!==null&&s<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(a.rows[o+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const o=e.indent,a=Math.max(o-1,0);r.setCursor(e.indent),e.color=r.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Jr(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let o=0;o<vs;o++){const a=this.rows[o].getTextString();a&&(i=o+1,e?n.push("Row "+i+": '"+a+"'"):n.push(a.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class UP{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new lC(r),this.nonDisplayedMemory=new lC(r),this.lastOutputScreen=new lC(r),this.currRollUpRow=this.displayedMemory.rows[vs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[vs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+Jr(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class jP{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Y_e(),this.logger=void 0;const i=this.logger=new W_e;this.channels=[null,new UP(e,n,i),new UP(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,o=n[r+1]&127;let a=!1,s=null;if(i===0&&o===0)continue;this.logger.log(3,()=>"["+wd([n[r],n[r+1]])+"] -> ("+wd([i,o])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(G_e(i,o,l)){Ty(null,null,l),this.logger.log(3,()=>"Repeated command ("+wd([i,o])+") is dropped");continue}Ty(i,o,this.cmdHistory),a=this.parseCmd(i,o),a||(a=this.parseMidrow(i,o)),a||(a=this.parsePAC(i,o)),a||(a=this.parseBackgroundAttributes(i,o))}else Ty(null,null,l);if(!a&&(s=this.parseChars(i,o),s)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(s):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!s&&this.logger.log(2,()=>"Couldn't parse cleaned data "+wd([i,o])+" orig: "+wd([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const o=e===20||e===21||e===23?1:2,a=this.channels[o];return e===20||e===21||e===28||e===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),this.currentChannel=o,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+wd([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,o=(e===16||e===24)&&n>=64&&n<=95;if(!(i||o))return!1;const a=e<=23?1:2;n>=64&&n<=95?r=a===1?z_e[e]:U_e[e]:r=a===1?H_e[e]:j_e[e];const s=this.channels[a];return s?(s.setPAC(this.interpretPAC(r,n)),this.currentChannel=a,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),o>=17&&o<=19){let a;o===17?a=n+80:o===18?a=n+112:a=n+144,this.logger.log(2,()=>"Special char '"+ZU(a)+"' in channel "+r),i=[a]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+wd(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let o;const a={};e===16||e===24?(o=Math.floor((n-32)/2),a.background=V_e[o],n%2===1&&(a.background=a.background+"_semi")):n===45?a.background="transparent":(a.foreground="black",n===47&&(a.underline=!0));const s=e<=23?1:2;return this.channels[s].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Ty(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Ty(t,e,n){n.a=t,n.b=e}function G_e(t,e,n){return n.a===t&&n.b===e}function Y_e(){return{a:null,b:null}}var f5=function(){if(x1!=null&&x1.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(s,l){if(typeof l!="string"||!Array.isArray(s))return!1;const c=l.toLowerCase();return~s.indexOf(c)?c:!1}function r(s){return n(t,s)}function i(s){return n(e,s)}function o(s,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)s[d]=u[d]}return s}function a(s,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let h="",f=!1,p=s,g=l,m=c,y=null,b="",x=!0,w="auto",C="start",S=50,A="middle",T=50,k="middle";Object.defineProperty(u,"id",o({},d,{get:function(){return h},set:function(E){h=""+E}})),Object.defineProperty(u,"pauseOnExit",o({},d,{get:function(){return f},set:function(E){f=!!E}})),Object.defineProperty(u,"startTime",o({},d,{get:function(){return p},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");p=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",o({},d,{get:function(){return g},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");g=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",o({},d,{get:function(){return m},set:function(E){m=""+E,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",o({},d,{get:function(){return y},set:function(E){y=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",o({},d,{get:function(){return b},set:function(E){const P=r(E);if(P===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=P,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",o({},d,{get:function(){return x},set:function(E){x=!!E,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",o({},d,{get:function(){return w},set:function(E){if(typeof E!="number"&&E!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");w=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",o({},d,{get:function(){return C},set:function(E){const P=i(E);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");C=P,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",o({},d,{get:function(){return S},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");S=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",o({},d,{get:function(){return A},set:function(E){const P=i(E);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");A=P,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",o({},d,{get:function(){return T},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");T=E,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",o({},d,{get:function(){return k},set:function(E){const P=i(E);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");k=P,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class X_e{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function ej(t){function e(r,i,o,a){return(r|0)*3600+(i|0)*60+(o|0)+parseFloat(a||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class Q_e{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function tj(t,e,n,r){const i=r?t.split(r):[t];for(const o in i){if(typeof i[o]!="string")continue;const a=i[o].split(n);if(a.length!==2)continue;const s=a[0],l=a[1];e(s,l)}}const qS=new f5(0,0,""),Ry=qS.align==="middle"?"middle":"center";function Z_e(t,e,n){const r=t;function i(){const s=ej(t);if(s===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function o(s,l){const c=new Q_e;tj(s,function(h,f){let p;switch(h){case"region":for(let g=n.length-1;g>=0;g--)if(n[g].id===f){c.set(h,n[g].region);break}break;case"vertical":c.alt(h,f,["rl","lr"]);break;case"line":p=f.split(","),c.integer(h,p[0]),c.percent(h,p[0])&&c.set("snapToLines",!1),c.alt(h,p[0],["auto"]),p.length===2&&c.alt("lineAlign",p[1],["start",Ry,"end"]);break;case"position":p=f.split(","),c.percent(h,p[0]),p.length===2&&c.alt("positionAlign",p[1],["start",Ry,"end","line-left","line-right","auto"]);break;case"size":c.percent(h,f);break;case"align":c.alt(h,f,["start",Ry,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&qS.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Ry);let d=c.get("position","auto");d==="auto"&&qS.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),a(),e.endTime=i(),a(),o(t,e)}function nj(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class J_e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new X_e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let o=n.buffer,a=0;for(o=nj(o);a<o.length&&o[a]!=="\r"&&o[a]!==`
`;)++a;const s=o.slice(0,a);return o[a]==="\r"&&++a,o[a]===`
`&&++a,n.buffer=o.slice(a),s}function i(o){tj(o,function(a,s){},/:/)}try{let o="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;o=r();const s=o.match(/^()?WEBVTT([ \t].*)?$/);if(!(s!=null&&s[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let a=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:o=r(),n.state){case"HEADER":/:/.test(o)?i(o):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;if(n.cue=new f5(0,0,""),n.state="CUE",o.indexOf("-->")===-1){n.cue.id=o;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{Z_e(o,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const s=o.indexOf("-->")!==-1;if(!o||s&&(a=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=o}continue;case"BADCUE":o||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const ePe=/\r\n|\n\r|\n|\r/g,cC=function(e,n,r=0){return e.slice(r,r+n.length)===n},tPe=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Zt(n)||!Zt(r)||!Zt(i)||!Zt(o))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*o,n};function p5(t,e,n){return zm(t.toString())+zm(e.toString())+zm(n)}const nPe=function(e,n,r){let i=e[n],o=e[i.prevCC];if(!o||!o.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=o)!=null&&a.new;){var a;e.ccOffset+=i.start-o.start,i.new=!1,i=o,o=e[i.prevCC]}e.presentationOffset=r};function rPe(t,e,n,r,i,o,a){const s=new J_e,l=$a(new Uint8Array(t)).trim().replace(ePe,`
`).split(`
`),c=[],u=e?c8e(e.baseTime,e.timescale):0;let d="00:00.000",h=0,f=0,p,g=!0;s.oncue=function(m){const y=n[r];let b=n.ccOffset;const x=(h-u)/9e4;if(y!=null&&y.new&&(f!==void 0?b=n.ccOffset=y.start:nPe(n,r,x)),x){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}b=x-n.presentationOffset}const w=m.endTime-m.startTime,C=Ra((m.startTime+b-f)*9e4,i*9e4)/9e4;m.startTime=Math.max(C,0),m.endTime=Math.max(C+w,0);const S=m.text.trim();m.text=decodeURIComponent(encodeURIComponent(S)),m.id||(m.id=p5(m.startTime,m.endTime,S)),m.endTime>0&&c.push(m)},s.onparsingerror=function(m){p=m},s.onflush=function(){if(p){a(p);return}o(c)},l.forEach(m=>{if(g)if(cC(m,"X-TIMESTAMP-MAP=")){g=!1,m.slice(16).split(",").forEach(y=>{cC(y,"LOCAL:")?d=y.slice(6):cC(y,"MPEGTS:")&&(h=parseInt(y.slice(7)))});try{f=tPe(d)/1e3}catch(y){p=y}return}else m===""&&(g=!1);s.parse(m+`
`)}),s.flush()}const uC="stpp.ttml.im1t",rj=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ij=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,iPe={left:"start",center:"center",right:"end",start:"start",end:"end"};function VP(t,e,n,r){const i=ar(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const o=i.map(s=>$a(s)),a=l8e(e.baseTime,1,e.timescale);try{o.forEach(s=>n(oPe(s,a)))}catch(s){r(s)}}function oPe(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(o).reduce((d,h)=>(d[h]=i.getAttribute(`ttp:${h}`)||o[h],d),{}),s=i.getAttribute("xml:space")!=="preserve",l=WP(dC(i,"styling","style")),c=WP(dC(i,"layout","region")),u=dC(i,"body","[begin]");return[].map.call(u,d=>{const h=oj(d,s);if(!h||!d.hasAttribute("begin"))return null;const f=fC(d.getAttribute("begin"),a),p=fC(d.getAttribute("dur"),a);let g=fC(d.getAttribute("end"),a);if(f===null)throw qP(d);if(g===null){if(p===null)throw qP(d);g=f+p}const m=new f5(f-e,g-e,h);m.id=p5(m.startTime,m.endTime,m.text);const y=c[d.getAttribute("region")],b=l[d.getAttribute("style")],x=aPe(y,b,l),{textAlign:w}=x;if(w){const C=iPe[w];C&&(m.lineAlign=C),m.align=w}return qr(m,x),m}).filter(d=>d!==null)}function dC(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function WP(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function oj(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var o;return r.nodeName==="br"&&i?n+`
`:(o=r.childNodes)!=null&&o.length?oj(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function aPe(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(i=n[a]),o.reduce((s,l)=>{const c=hC(e,r,l)||hC(t,r,l)||hC(i,r,l);return c&&(s[l]=c),s},{})}function hC(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function qP(t){return new Error(`Could not parse ttml timestamp ${t}`)}function fC(t,e){if(!t)return null;let n=ej(t);return n===null&&(rj.test(t)?n=sPe(t,e):ij.test(t)&&(n=lPe(t,e))),n}function sPe(t,e){const n=rj.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function lPe(t,e){const n=ij.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class _y{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class cPe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=GP(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(q.FRAG_LOADING,this.onFragLoading,this),e.on(q.FRAG_LOADED,this.onFragLoaded,this),e.on(q.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(q.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(q.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(q.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(q.FRAG_LOADING,this.onFragLoading,this),e.off(q.FRAG_LOADED,this.onFragLoaded,this),e.off(q.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(q.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(q.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(q.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new _y(this,"textTrack1"),n=new _y(this,"textTrack2"),r=new _y(this,"textTrack3"),i=new _y(this,"textTrack4");this.cea608Parser1=new jP(1,e,n),this.cea608Parser2=new jP(3,r,i)}addCues(e,n,r,i,o){let a=!1;for(let s=o.length;s--;){const l=o[s],c=uPe(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),a=!0,c/(r-n)>.5))return}if(a||o.push([n,r]),this.config.renderTextTracksNatively){const s=this.captionsTracks[e];this.Cues.newCue(s,n,r,i)}else{const s=this.Cues.newCue(null,n,r,i);this.hls.trigger(q.CUES_PARSED,{type:"captions",cues:s,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:o,trackId:a}){const{unparsedVttFrags:s}=this;r===cn.MAIN&&(this.initPTS[n.cc]={baseTime:i,timescale:o,trackId:a}),s.length&&(this.unparsedVttFrags=[],s.forEach(l=>{this.initPTS[l.frag.cc]?this.onFragLoaded(q.FRAG_LOADED,l):this.hls.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const o=r.textTracks[i];if(KP(o,{name:e,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:o,languageCode:a}=n[e],s=this.getExistingTrack(o,a);if(s)r[e]=s,bf(r[e]),YU(r[e],i);else{const l=this.createTextTrack("captions",o,a);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(q.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(e,n){const r=!!n.transferMedia;if(this.media=null,r)return;const{captionsTracks:i}=this;Object.keys(i).forEach(o=>{bf(i[o]),delete i[o]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=GP(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)bf(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(o=>o.textCodec===uC);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(FU(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const a=this.media,s=a?db(a.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(s){let d=null;for(let h=0;h<s.length;h++)if(s[h]&&KP(s[h],l)){d=s[h],s[h]=null;break}d&&(u=d)}if(u)bf(u);else{const d=aj(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),s!=null&&s.length){const l=s.filter(c=>c!==null).map(c=>c.label);l.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(s=>({label:s.name,kind:s.type.toLowerCase(),default:s.default,subtitleTrack:s}));this.hls.trigger(q.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const o=`textTrack${i[1]}`,a=this.captionsProperties[o];a&&(a.label=r.name,r.lang&&(a.languageCode=r.lang),a.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===cn.MAIN){var r,i;const{cea608Parser1:o,cea608Parser2:a,lastSn:s}=this,{cc:l,sn:c}=n.frag,u=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;o&&a&&(c!==s+1||c===s&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(o.reset(),a.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===cn.SUBTITLE)if(i.byteLength){const o=r.decryptdata,a="stats"in n;if(o==null||!o.encrypted||a){const s=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),s&&s.textCodec===uC?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;VP(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{r.logger.log(`Failed to parse IMSC1: ${i}`),r.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:o,unparsedVttFrags:a}=this,s=o.length-1;if(!o[r.cc]&&s===-1){a.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?cs(r.initSegment.data,new Uint8Array(i)).buffer:i;rPe(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(r,i),l.logger.log(`Failed to parse VTT cue: ${u}`),!(d&&s>r.cc)&&l.trigger(q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||VP(n,this.initPTS[e.cc],()=>{r.textCodec=uC,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(o=>XU(i,o))}else{const i=this.tracks[n];if(!i)return;const o=i.default?"default":"subtitles"+n;r.trigger(q.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===cn.SUBTITLE&&this.onFragLoaded(q.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:i}=n;if(!(r.type===cn.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let o=0;o<i.length;o++){const a=i[o].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const s=this.extractCea608Data(a);this.cea608Parser1.addData(i[o].pts,s[0]),this.cea608Parser2.addData(i[o].pts,s[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:o}){const{media:a}=this;if(!(!a||a.currentTime<r)){if(!o||o==="video"){const{captionsTracks:s}=this;Object.keys(s).forEach(l=>WS(s[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:s}=this;Object.keys(s).forEach(l=>WS(s[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let o=0;o<r;o++){const a=e[i++],s=127&e[i++],l=127&e[i++];if(s===0&&l===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(n[u].push(s),n[u].push(l))}}return n}}function aj(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function KP(t,e){return!!t&&t.kind===aj(e)&&HS(e,t)}function uPe(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function GP(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const dPe=/\s/,hPe={newCue(t,e,n,r){const i=[];let o,a,s,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(o=r.rows[h],s=!0,l=0,c="",!o.isEmpty()){var d;for(let g=0;g<o.chars.length;g++)dPe.test(o.chars[g].uchar)&&s?l++:(c+=o.chars[g].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const f=nj(c.trim()),p=p5(e,n,f);t!=null&&(d=t.cues)!=null&&d.getCueById(p)||(a=new u(e,n,f),a.id=p,a.line=h+1,a.align="left",a.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((h,f)=>h.line==="auto"||f.line==="auto"?0:h.line>8&&f.line>8?f.line-h.line:h.line-f.line),i.forEach(h=>XU(t,h))),i}};function fPe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const pPe=/(\d+)-(\d+)\/(\d+)/;class YP{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||yPe,this.controller=new self.AbortController,this.stats=new q3}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const o=mPe(e,this.controller.signal),a=e.responseType==="arraybuffer",s=a?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),n.timeout=l&&Zt(l)?l:c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},n.timeout),(xg(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(d=>{var h;this.response=this.loader=d;const f=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},c-(f-i.loading.start)),!d.ok){const{status:g,statusText:m}=d;throw new bPe(m||"fetch, bad network response",g,d)}i.loading.first=f,i.total=vPe(d.headers)||i.total;const p=(h=this.callbacks)==null?void 0:h.onProgress;return p&&Zt(n.highWaterMark)?this.loadProgressively(d,i,e,n.highWaterMark,p):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{var h,f;const p=this.response;if(!p)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const g=d[s];g&&(i.loaded=i.total=g);const m={url:p.url,data:d,code:p.status},y=(h=this.callbacks)==null?void 0:h.onProgress;y&&!Zt(n.highWaterMark)&&y(i,e,d,p),(f=this.callbacks)==null||f.onSuccess(m,i,e,p)}).catch(d=>{var h;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const f=d&&d.code||0,p=d?d.message:null;(h=this.callbacks)==null||h.onError({code:f,text:p},e,d?d.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,o){const a=new gU,s=e.body.getReader(),l=()=>s.read().then(c=>{if(c.done)return a.dataLength&&o(n,r,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<i||a.dataLength?(a.push(u),a.dataLength>=i&&o(n,r,a.flush().buffer,e)):o(n,r,u.buffer,e),l()}).catch(()=>Promise.reject());return l()}}function mPe(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(qr({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function gPe(t){const e=pPe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function vPe(t){const e=t.get("Content-Range");if(e){const r=gPe(e);if(Zt(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function yPe(t,e){return new self.Request(t.url,e)}class bPe extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const xPe=/^age:\s*[\d.]+\s*$/im;class sj{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new q3,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return o(r,n.url)}).catch(a=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),o(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(a=>{var s;(s=this.callbacks)==null||s.onError({code:r.status,text:a.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:a}=r.loadPolicy;if(i)for(const s in i)e.setRequestHeader(s,i[s]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=o&&Zt(o)?o:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,o=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const c=n.status,u=n.responseType==="text"?n.responseText:null;if(c>=200&&c<300){const p=u??n.response;if(p!=null){var a,s;r.loading.end=Math.max(self.performance.now(),r.loading.first);const g=n.responseType==="arraybuffer"?p.byteLength:p.length;r.loaded=r.total=g,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const m=(a=this.callbacks)==null?void 0:a.onProgress;m&&m(r,e,p,n);const y={url:n.responseURL,data:p,code:c};(s=this.callbacks)==null||s.onSuccess(y,r,e,n);return}}const d=o.loadPolicy.errorRetry,h=r.retry,f={url:e.url,data:void 0,code:c};if(y1(d,h,!1,f))this.retry(d);else{var l;zr.error(`${c} while loading ${e.url}`),(l=this.callbacks)==null||l.onError({code:c,text:n.statusText},e,n,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(y1(e,n,!0))this.retry(e);else{var r;zr.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=X3(e,r.retry),r.retry++,zr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&xPe.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const wPe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},CPe=Nr(Nr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:sj,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:O6e,bufferController:S8e,capLevelController:u5,errorController:N6e,fpsController:k_e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:oU,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:wPe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},APe()),{},{subtitleStreamController:$_e,subtitleTrackController:R_e,timelineController:cPe,audioStreamController:x8e,audioTrackController:w8e,emeController:If,cmcdController:w_e,contentSteeringController:A_e,interstitialsController:F_e});function APe(){return{cueHandler:hPe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function SPe(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=KS(t),i=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const s=`${a==="level"?"playlist":a}LoadPolicy`,l=e[s]===void 0,c=[];o.forEach(u=>{const d=`${a}Loading${u}`,h=e[d];if(h!==void 0&&l){c.push(d);const f=r[s].default;switch(e[s]={default:f},u){case"TimeOut":f.maxLoadTimeMs=h,f.maxTimeToFirstByteMs=h;break;case"MaxRetry":f.errorRetry.maxNumRetry=h,f.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":f.errorRetry.retryDelayMs=h,f.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=h,f.timeoutRetry.maxRetryDelayMs=h;break}}}),c.length&&n.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${s}": ${Jr(e[s])}`)}),Nr(Nr({},r),e)}function KS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(KS):Object.keys(t).reduce((e,n)=>(e[n]=KS(t[n]),e),{}):t}function kPe(t,e){const n=t.loader;n!==YP&&n!==sj?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):fPe()&&(t.loader=YP,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const hb=2,EPe=.1,TPe=.05,RPe=100;class _Pe extends eU{constructor(e,n){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(q.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,n){this.setInterval(RPe),this.mediaSource=n.mediaSource;const r=this.media=n.media;Xo(r,"playing",this.onMediaPlaying),Xo(r,"waiting",this.onMediaWaiting),Xo(r,"ended",this.onMediaEnded)}onMediaDetaching(e,n){this.clearInterval();const{media:r}=this;r&&(fa(r,"playing",this.onMediaPlaying),fa(r,"waiting",this.onMediaWaiting),fa(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(e,n){var r,i;const o=(r=this.hls)==null?void 0:r.config;if(!o)return;const a=this.media;if(!a)return;const{seeking:s}=a,l=this.seeking&&!s,c=!this.seeking&&s,u=a.paused&&!s||a.ended||a.playbackRate===0;if(this.seeking=s,e!==n){n&&(this.ended=0),this.moved=!0,s||(this.nudgeRetry=0,o.nudgeOnVideoHole&&!u&&e>n&&this.nudgeOnVideoHole(e,n)),this.waiting===0&&this.stallResolved(e);return}if(c||l){l&&this.stallResolved(e);return}if(u){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(q.MEDIA_ENDED,{stalled:!1}));return}if(!Xn.getBuffered(a).length){this.nudgeRetry=0;return}const d=Xn.bufferInfo(a,e,0),h=d.nextStart||0,f=this.fragmentTracker;if(s&&f&&this.hls){const S=XP(this.hls.inFlightFragments,e),A=d.len>hb,T=!h||S||h-e>hb&&!f.getPartialFragment(e);if(A||T)return;this.moved=!1}const p=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&f){if(!(d.len>0)&&!h)return;const A=Math.max(h,d.start||0)-e,k=!!(p!=null&&p.live)?p.targetduration*2:hb,E=Py(e,f);if(A>0&&(A<=k||E)){a.paused||this._trySkipBufferHole(E);return}}const g=o.detectStallWithCurrentTimeMs,m=self.performance.now(),y=this.waiting;let b=this.stalled;if(b===null)if(y>0&&m-y<g)b=this.stalled=y;else{this.stalled=m;return}const x=m-b;if(!s&&(x>=g||y)&&this.hls){var w;if(((w=this.mediaSource)==null?void 0:w.readyState)==="ended"&&!(p!=null&&p.live)&&Math.abs(e-((p==null?void 0:p.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(q.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(d),!this.media||!this.hls)return}const C=Xn.bufferInfo(a,e,o.maxBufferHole);this._tryFixBufferStall(C,x,e)}stallResolved(e){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-n;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(q.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,n){var r;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&i&&i.length>1&&e>i.end(0)){const o=Xn.bufferedInfo(Xn.timeRangesToArray(this.buffered.audio),e,0);if(o.len>1&&n>=o.start){const a=Xn.timeRangesToArray(i),s=Xn.bufferedInfo(a,n,0).bufferedIndex;if(s>-1&&s<a.length-1){const l=Xn.bufferedInfo(a,e,0).bufferedIndex,c=a[s].end,u=a[s+1].start;if((l===-1||l>s)&&u-c<1&&e-c<2){const d=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${c} -> ${u} buffered index: ${l}`);this.warn(d.message),this.media.currentTime+=1e-6;let h=Py(e,this.fragmentTracker);h&&"fragment"in h?h=h.fragment:h||(h=void 0);const f=Xn.bufferInfo(this.media,e,0);this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:h,buffer:f.len,bufferInfo:f})}}}}}_tryFixBufferStall(e,n,r){var i,o;const{fragmentTracker:a,media:s}=this,l=(i=this.hls)==null?void 0:i.config;if(!s||!a||!l)return;const c=(o=this.hls)==null?void 0:o.latestLevelDetails,u=Py(r,a);if((u||c!=null&&c.live&&r<c.fragmentStart)&&(this._trySkipBufferHole(u)||!this.media))return;const d=e.buffered,h=this.adjacentTraversal(e,r);(d&&d.length>1&&e.len>l.maxBufferHole||e.nextStart&&(e.nextStart-r<l.maxBufferHole||h))&&(n>l.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,n){const r=this.fragmentTracker,i=e.nextStart;if(r&&i){const o=r.getFragAtPos(n,cn.MAIN),a=r.getFragAtPos(i,cn.MAIN);if(o&&a)return a.sn-o.sn<2}return!1}_reportStall(e){const{hls:n,media:r,stallReported:i,stalled:o}=this;if(!i&&o!==null&&r&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${Jr(e)})`);this.warn(a.message),n.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:o}})}}_trySkipBufferHole(e){var n;const{fragmentTracker:r,media:i}=this,o=(n=this.hls)==null?void 0:n.config;if(!i||!r||!o)return 0;const a=i.currentTime,s=Xn.bufferInfo(i,a,0),l=a<s.start?s.start:s.nextStart;if(l&&this.hls){const u=s.len<=o.maxBufferHole,d=s.len>0&&s.len<1&&i.readyState<3,h=l-a;if(h>0&&(u||d)){if(h>o.maxBufferHole){let p=!1;if(a===0){const g=r.getAppendedFrag(0,cn.MAIN);g&&l<g.end&&(p=!0)}if(!p&&e){var c;if(!((c=this.hls.loadLevelObj)!=null&&c.details)||XP(this.hls.inFlightFragments,l))return 0;let m=!1,y=e.end;for(;y<l;){const b=Py(y,r);if(b)y+=b.duration;else{m=!0;break}}if(m)return 0}}const f=Math.max(l+TPe,a+EPe);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${f}`),this.moved=!0,i.currentTime=f,!(e!=null&&e.gap)){const p=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${f}`),g={type:fn.MEDIA_ERROR,details:et.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,buffer:s.len,bufferInfo:s};e&&("fragment"in e?g.part=e:g.frag=e),this.hls.trigger(q.ERROR,g)}return f}}return 0}_tryNudgeBuffer(e){const{hls:n,media:r,nudgeRetry:i}=this,o=n==null?void 0:n.config;if(!r||!o)return 0;const a=r.currentTime;if(this.nudgeRetry++,i<o.nudgeMaxRetry){const s=a+(i+1)*o.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${a} to ${s}`);this.warn(l.message),r.currentTime=s,n.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1,buffer:e.len,bufferInfo:e})}else{const s=new Error(`Playhead still not moving while enough data buffered @${a} after ${o.nudgeMaxRetry} nudges`);this.error(s.message),n.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.BUFFER_STALLED_ERROR,error:s,fatal:!0,buffer:e.len,bufferInfo:e})}}}function XP(t,e){const n=QP(t.main);if(n&&n.start<=e)return n;const r=QP(t.audio);return r&&r.start<=e?r:null}function QP(t){if(!t)return null;switch(t.state){case bt.IDLE:case bt.STOPPED:case bt.ENDED:case bt.ERROR:return null}return t.frag}function Py(t,e){return e.getAppendedFrag(t,cn.MAIN)||e.getPartialFragment(t)}const PPe=.25;function GS(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function pC(t,e,n,r,i){let o=new t(e,n,"");try{o.value=r,i&&(o.type=i)}catch{o=new t(e,n,Jr(i?Nr({type:i},r):r))}return o}const Iy=(()=>{const t=GS();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class IPe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(q.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(q.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(q.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,n){var r;this.media=n.media,((r=n.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const n=(e=this.hls)==null?void 0:e.latestLevelDetails;n&&this.updateDateRangeCues(n)}onMediaDetaching(e,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&bf(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return YU(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:r,enableID3MetadataCues:i}=this.hls.config;if(!r&&!i)return;const{samples:o}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=GS();if(a)for(let s=0;s<o.length;s++){const l=o[s].type;if(l===_a.emsg&&!r||!i)continue;const c=AU(o[s].data),u=o[s].pts;let d=u+o[s].duration;d>Iy&&(d=Iy),d-u<=0&&(d=u+PPe);for(let f=0;f<c.length;f++){const p=c[f];if(!SU(p)){this.updateId3CueEnds(u,l);const g=pC(a,u,d,p,l);g&&this.id3Track.addCue(g)}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let o=i.length;o--;){const a=i[o];a.type===n&&a.startTime<e&&a.endTime===Iy&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:o,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:l}}=a;if(o&&(s||l)){let c;i==="audio"?c=u=>u.type===_a.audioId3&&l:i==="video"?c=u=>u.type===_a.emsg&&s:c=u=>u.type===_a.audioId3&&l||u.type===_a.emsg&&s,WS(o,n,r,c)}}onLevelUpdated(e,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(e,n){if(!this.hls||!this.media)return;const{assetPlayerId:r,timelineOffset:i,enableDateRangeMetadataCues:o,interstitialsController:a}=this.hls.config;if(!o)return;const s=GS();if(r&&i&&!a){const{fragmentStart:g,fragmentEnd:m}=e;let y=this.assetCue;y?(y.startTime=g,y.endTime=m):s&&(y=this.assetCue=pC(s,g,m,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),y&&(y.id=r,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(y),y.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:l}=this,{dateRanges:c}=e,u=Object.keys(c);let d=this.dateRangeCuesAppended;if(l&&n){var h;if((h=l.cues)!=null&&h.length){const g=Object.keys(d).filter(m=>!u.includes(m));for(let m=g.length;m--;){var f;const y=g[m],b=(f=d[y])==null?void 0:f.cues;delete d[y],b&&Object.keys(b).forEach(x=>{const w=b[x];if(w){w.removeEventListener("enter",this.onEventCueEnter);try{l.removeCue(w)}catch{}}})}}else d=this.dateRangeCuesAppended={}}const p=e.fragments[e.fragments.length-1];if(!(u.length===0||!Zt(p==null?void 0:p.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let g=0;g<u.length;g++){const m=u[g],y=c[m],b=y.startTime,x=d[m],w=(x==null?void 0:x.cues)||{};let C=(x==null?void 0:x.durationKnown)||!1,S=Iy;const{duration:A,endDate:T}=y;if(T&&A!==null)S=b+A,C=!0;else if(y.endOnNext&&!C){const E=u.reduce((P,_)=>{if(_!==y.id){const F=c[_];if(F.class===y.class&&F.startDate>y.startDate&&(!P||y.startDate<P.startDate))return F}return P},null);E&&(S=E.startTime,C=!0)}const k=Object.keys(y.attr);for(let E=0;E<k.length;E++){const P=k[E];if(!Z6e(P))continue;const _=w[P];if(_)C&&!(x!=null&&x.durationKnown)?_.endTime=S:Math.abs(_.startTime-b)>.01&&(_.startTime=b,_.endTime=S);else if(s){let F=y.attr[P];J6e(P)&&(F=OH(F));const W=pC(s,b,S,{key:P,data:F},_a.dateRange);W&&(W.id=m,this.id3Track.addCue(W),w[P]=W,a&&(P==="X-ASSET-LIST"||P==="X-ASSET-URL")&&W.addEventListener("enter",this.onEventCueEnter))}}d[m]={cues:w,dateRange:y,durationKnown:C}}}}}class LPe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,r=this.levelDetails;if(!n||!r)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:a}=this.config;if(!o||a===1||!r.live)return;const s=this.targetLatency;if(s===null)return;const l=i-s,c=Math.min(this.maxLatency,s+r.targetduration);if(l<c&&l>.05&&this.forwardBufferLength>1){const d=Math.min(2,Math.max(1,a)),h=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20,f=Math.min(d,Math.max(1,h));this.changeMediaPlaybackRate(n,f)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const n=this.levelDetails;return n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:o,liveSyncDurationCount:a,lowLatencyMode:s}=this.config,l=this.hls.userConfig;let c=s&&r||n;(this._targetLatencyUpdated||l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=o!==void 0?o:a*i);const u=i;return c+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency;if(e===null||n===null)return null;const r=this.levelDetails;if(r===null)return null;const i=r.edge,o=e-n-this.edgeStalled,a=i-r.totalduration,s=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,o),s)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e}=this,n=this.levelDetails;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(q.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(q.ERROR,this.onError,this))}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,n){var r;n.details===et.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,n){var r,i;e.playbackRate!==n&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${n}`),e.playbackRate=n)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class MPe extends c5{constructor(e,n){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(q.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(q.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],o={},a={};let s=!1,l=!1,c=!1;n.levels.forEach(u=>{const d=u.attrs;let{audioCodec:h,videoCodec:f}=u;h&&(u.audioCodec=h=p1(h,r)||void 0),f&&(f=u.videoCodec=m6e(f));const{width:p,height:g,unknownCodecs:m}=u,y=(m==null?void 0:m.length)||0;if(s||(s=!!(p&&g)),l||(l=!!f),c||(c=!!h),y||h&&!this.isAudioSupported(h)||f&&!this.isVideoSupported(f)){this.log(`Some or all CODECS not supported "${d.CODECS}"`);return}const{CODECS:b,"FRAME-RATE":x,"HDCP-LEVEL":w,"PATHWAY-ID":C,RESOLUTION:S,"VIDEO-RANGE":A}=d,k=`${`${C||"."}-`}${u.bitrate}-${S}-${x}-${b}-${A}-${w}`;if(o[k])if(o[k].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const E=a[k]+=1;u.attrs["PATHWAY-ID"]=new Array(E+1).join(".");const P=this.createLevel(u);o[k]=P,i.push(P)}else o[k].addGroupId("audio",d.AUDIO),o[k].addGroupId("text",d.SUBTITLES);else{const E=this.createLevel(u);o[k]=E,a[k]=1,i.push(E)}}),this.filterAndSortMediaOptions(i,n,s,l,c)}createLevel(e){const n=new vg(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(i.message),n.supportedResult=qH(i,[])}return n}isAudioSupported(e){return mg(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return mg(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,n,r,i,o){var a;let s=[],l=[],c=e;const u=((a=n.stats)==null?void 0:a.parsing)||{};if((r||i)&&o&&(c=c.filter(({videoCodec:b,videoRange:x,width:w,height:C})=>(!!b||!!(w&&C))&&k6e(x))),c.length===0){Promise.resolve().then(()=>{if(this.hls){let b="no level with compatible codecs found in manifest",x=b;n.levels.length&&(x=`one or more CODECS in variant not supported: ${Jr(n.levels.map(C=>C.attrs.CODECS).filter((C,S,A)=>A.indexOf(C)===S))}`,this.warn(x),b+=` (${x})`);const w=new Error(b);this.hls.trigger(q.ERROR,{type:fn.MEDIA_ERROR,details:et.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:w,reason:x})}}),u.end=performance.now();return}n.audioTracks&&(s=n.audioTracks.filter(b=>!b.audioCodec||this.isAudioSupported(b.audioCodec)),ZP(s)),n.subtitles&&(l=n.subtitles,ZP(l));const d=c.slice(0);c.sort((b,x)=>{if(b.attrs["HDCP-LEVEL"]!==x.attrs["HDCP-LEVEL"])return(b.attrs["HDCP-LEVEL"]||"")>(x.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&b.height!==x.height)return b.height-x.height;if(b.frameRate!==x.frameRate)return b.frameRate-x.frameRate;if(b.videoRange!==x.videoRange)return m1.indexOf(b.videoRange)-m1.indexOf(x.videoRange);if(b.videoCodec!==x.videoCodec){const w=j_(b.videoCodec),C=j_(x.videoCodec);if(w!==C)return C-w}if(b.uri===x.uri&&b.codecSet!==x.codecSet){const w=f1(b.codecSet),C=f1(x.codecSet);if(w!==C)return C-w}return b.averageBitrate!==x.averageBitrate?b.averageBitrate-x.averageBitrate:0});let h=d[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==d.length)){for(let b=0;b<d.length;b++)if(d[b].pathwayId===c[0].pathwayId){h=d[b];break}}this._levels=c;for(let b=0;b<c.length;b++)if(c[b]===h){var f;this._firstLevel=b;const x=h.bitrate,w=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${x}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const C=Math.min(x,this.hls.config.abrEwmaDefaultEstimateMax);C>w&&w===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=C)}break}const p=o&&!i,g=this.hls.config,m=!!(g.audioStreamController&&g.audioTrackController),y={levels:c,audioTracks:s,subtitleTracks:l,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:o,video:i,altAudio:m&&!p&&s.some(b=>!!b.url)};u.end=performance.now(),this.hls.trigger(q.MANIFEST_PARSED,y)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,o=i?i.attrs["PATHWAY-ID"]:void 0,a=n[e],s=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,r===e&&i&&o===s)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${s?" with Pathway "+s:""} from level ${r}${o?" with Pathway "+o:""}`);const l={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(q.LEVEL_SWITCHING,l);const c=a.details;if(!c||c.live){const u=this.switchParams(a.uri,i==null?void 0:i.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const n=this.steering.pathways(),r=e.filter(i=>n.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=r}}onError(e,n){n.fatal||!n.context||n.context.type===sr.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===cn.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(o=>!!r[o]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:o}=n,a=n.levelInfo;if(!a){var s;this.warn(`Invalid level index ${i}`),(s=n.deliveryDirectives)!=null&&s.skip&&(o.deltaUpdateFailed=!0);return}if(a===this.currentLevel||n.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let l=a.details;l===n.details&&l.advanced&&(l=void 0),this.playlistLoaded(i,n,l)}else(r=n.deliveryDirectives)!=null&&r.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=this.getUrlWithDirectives(e.uri,n),i=this.currentLevelIndex,o=e.attrs["PATHWAY-ID"],a=e.details,s=a==null?void 0:a.age;this.log(`Loading level index ${i}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${o?" Pathway "+o:""}${s&&a.live?" age "+s.toFixed(1)+(a.type&&" "+a.type||""):""} ${r}`),this.hls.trigger(q.LEVEL_LOADING,{url:r,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;if(this._levels.length===1)return;const r=this._levels.filter((o,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(o),o===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(s=>s.level=-1)),!1));fU(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=r.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(q.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(q.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function ZP(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}function lj(){return self.SourceBuffer||self.WebKitSourceBuffer}function cj(){if(!Wu())return!1;const e=lj();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function OPe(){if(!cj())return!1;const t=Wu();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(gg(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(gg(e,"audio"))))}function DPe(){var t;const e=lj();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const FPe=100;class $Pe extends t5{constructor(e,n,r){super(e,n,r,"stream-controller",cn.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,o=i?i.currentTime:null;if(o===null||!Zt(o)||(this.log(`Media seeked to ${o.toFixed(3)}`),!this.getBufferedFrag(o)))return;const a=this.getFwdBufferInfoAtPos(i,o,cn.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${o} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(q.LEVEL_LOADING,this.onLevelLoading,this),e.on(q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(q.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(q.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(q.BUFFER_CREATED,this.onBufferCreated,this),e.on(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(q.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(q.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(q.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(q.BUFFER_CREATED,this.onBufferCreated,this),e.off(q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(q.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,n){if(this.levels){const{lastCurrentTime:r,hls:i}=this;if(this.stopLoad(),this.setInterval(FPe),this.level=-1,!this.startFragRequested){let o=i.startLevel;o===-1&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.firstAutoLevel),i.nextLoadLevel=o,this.level=i.loadLevel,this._hasEnoughToStart=!!n}r>0&&e===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=bt.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=bt.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case bt.WAITING_LEVEL:{const{levels:e,level:n}=this,r=e==null?void 0:e[n],i=r==null?void 0:r.details;if(i&&(!i.live||this.levelLastLoaded===r&&!this.waitForLive(r))){if(this.waitForCdnTuneIn(i))break;this.state=bt.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=bt.IDLE;break}break}case bt.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===bt.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[o]))return;const a=r[o],s=this.getMainFwdBufferInfo();if(s===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){const g={};this.altAudio===2&&(g.type="video"),this.hls.trigger(q.BUFFER_EOS,g),this.state=bt.ENDED;return}if(!this.buffering)return;e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const c=a.details;if(!c||this.state===bt.WAITING_LEVEL||this.waitForLive(a)){this.level=o,this.state=bt.WAITING_LEVEL,this.startFragRequested=!1;return}const u=s.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:s.end;let f=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&f&&Bi(f)&&this.fragmentTracker.getState(f)!==ao.OK){var p;const m=((p=this.backtrackFragment)!=null?p:f).sn-c.startSN,y=c.fragments[m-1];y&&f.cc===y.cc&&(f=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,h)){if(!f.gap){const m=this.audioOnly&&!this.altAudio?Qr.AUDIO:Qr.VIDEO,y=(m===Qr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,m,cn.MAIN)}f=this.getNextFragmentLoopLoading(f,c,s,cn.MAIN,d)}f&&(f.initSegment&&!f.initSegment.data&&!this.bitrateTest&&(f=f.initSegment),this.loadFragment(f,a,h))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);i===ao.NOT_LOADED||i===ao.PARTIAL?Bi(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):super.loadFragment(e,n,r):this._loadInitSegment(e,n):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,cn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const o=this.getLevelDetails();if(o!=null&&o.live){const s=this.getMainFwdBufferInfo();if(!s||s.len<o.targetduration*2)return}if(!n.paused&&e){const s=this.hls.nextLoadLevel,l=e[s],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const a=this.getBufferedFrag(n.currentTime+r);if(a){const s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();const l=s.maxStartPTS?s.maxStartPTS:s.start,c=s.duration,u=Math.max(a.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case bt.KEY_LOADING:case bt.FRAG_LOADING:case bt.FRAG_LOADING_WAITING_RETRY:case bt.PARSING:case bt.PARSED:this.state=bt.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio===2?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;Xo(r,"playing",this.onMediaPlaying),Xo(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,n){const{media:r}=this;r&&(fa(r,"playing",this.onMediaPlaying),fa(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(q.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,n){let r=!1,i=!1;for(let o=0;o<n.levels.length;o++){const a=n.levels[o].audioCodec;a&&(r=r||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=r&&i&&!DPe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==bt.IDLE)return;const i=n.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=bt.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i,startFragRequested:o}=this,a=n.level,s=n.details,l=s.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""}, cc [${s.startCC}, ${s.endCC}] duration:${l}`);const c=n.levelInfo,u=this.fragCurrent;u&&(this.state===bt.FRAG_LOADING||this.state===bt.FRAG_LOADING_WAITING_RETRY)&&u.level!==n.level&&u.loader&&this.abortCurrentFrag();let d=0;if(s.live||(r=c.details)!=null&&r.live){var h;if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,c.details,(h=this.levelLastLoaded)==null?void 0:h.details)}if(c.details=s,this.levelLastLoaded=c,o||this.setStartPosition(s,d),this.hls.trigger(q.LEVEL_UPDATED,{details:s,level:a}),this.state===bt.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=bt.IDLE}o&&s.live&&this.synchronizeToLiveEdge(s),this.tick()}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,o=this.getLoadPosition(),a=e.fragmentStart,s=e.edge,l=o>=a-n.maxFragLookUpTolerance&&o<=s;if(i!==null&&r.duration>i&&(o<i||!l)){const u=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;if((!l&&r.readyState<4||o<s-u)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),r.readyState))if(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var c;const d=Xn.bufferInfo(r,i,0);if(!((c=d.buffered)!=null&&c.length)){r.currentTime=i;return}if(d.start<=o){r.currentTime=i;return}const{nextStart:f}=Xn.bufferedInfo(d.buffered,o,0);f&&(r.currentTime=f)}else r.currentTime=i}}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:o}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const s=a[r.level];if(!s){this.warn(`Level ${r.level} not found on progress`);return}const l=s.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=s.videoCodec,u=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,h=this._getAudioCodec(s),f=this.transmuxer=this.transmuxer||new DU(this.hls,cn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,g=p!==-1,m=new Z3(r.level,r.sn,r.stats.chunkCount,o.byteLength,p,g),y=this.initPTS[r.cc];f.push(o,d,h,c,r,i,l.totalduration,u,m,y)}onAudioTrackSwitching(e,n){const r=this.hls,i=this.altAudio!==0;if(g1(n.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),r.once(q.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(q.AUDIO_TRACK_SWITCHED,n)}),r.trigger(q.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(q.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=g1(n.url,this.hls);if(r){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,o,a=!1;for(const s in r){const l=r[s];if(l.id==="main"){if(o=s,i=l,s==="video"){const c=r[s];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n,o=r.type===cn.MAIN;if(o){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===bt.PARSED&&(this.state=bt.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),Bi(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}const a=this.media;a&&(!this._hasEnoughToStart&&Xn.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),o&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,n){var r;if(n.fatal){this.state=bt.ERROR;return}switch(n.details){case et.FRAG_GAP:case et.FRAG_PARSING_ERROR:case et.FRAG_DECRYPT_ERROR:case et.FRAG_LOAD_ERROR:case et.FRAG_LOAD_TIMEOUT:case et.KEY_LOAD_ERROR:case et.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(cn.MAIN,n);break;case et.LEVEL_LOAD_ERROR:case et.LEVEL_LOAD_TIMEOUT:case et.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===bt.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===sr.LEVEL&&(this.state=bt.IDLE);break;case et.BUFFER_ADD_CODEC_ERROR:case et.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.resetLoadingState();break;case et.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case et.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=bt.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Qr.AUDIO||!this.altAudio){const r=(n===Qr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,n,cn.MAIN),this.tick())}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=this.timelineOffset;i&&r&&(r+=i);const o=this.getLevelDetails(),a=Xn.getBuffered(e),s=a.length?a.start(0):0,l=s-r,c=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||l>0&&(l<c||this.loadingParts&&l<2*((o==null?void 0:o.partTarget)||0)))&&(this.log(`adjusting start position by ${l} to match buffer start`),r+=l,this.startPosition=r),n<r&&(this.log(`seek to target start position ${r} from current time ${n} buffer start ${s}`),e.currentTime=r)}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this,o=r==null?void 0:r.frag;if(!o||this.fragContextChanged(o))return;n.fragmentError=0,this.state=bt.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=o.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(q.FRAG_LOADED,r),o.bitrateTest=!1}).catch(r=>{this.state===bt.STOPPED||this.state===bt.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const n=this.playlistType,{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:s,part:l,level:c}=a,{video:u,text:d,id3:h,initSegment:f}=i,{details:p}=c,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s)){this.fragmentTracker.removeFragment(s);return}if(this.state=bt.PARSING,f){const m=f.tracks;if(m){const w=s.initSegment||s;if(this.unhandledEncryptionError(f,s))return;this._bufferInitSegment(c,m,w,o),r.trigger(q.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:n,tracks:m})}const y=f.initPTS,b=f.timescale,x=this.initPTS[s.cc];if(Zt(y)&&(!x||x.baseTime!==y||x.timescale!==b)){const w=f.trackId;this.initPTS[s.cc]={baseTime:y,timescale:b,trackId:w},r.trigger(q.INIT_PTS_FOUND,{frag:s,id:n,initPTS:y,timescale:b,trackId:w})}}if(u&&p){g&&u.type==="audiovideo"&&this.logMuxedErr(s);const m=p.fragments[s.sn-1-p.startSN],y=s.sn===p.startSN,b=!m||s.cc>m.cc;if(i.independent!==!1){const{startPTS:x,endPTS:w,startDTS:C,endDTS:S}=u;if(l)l.elementaryStreams[u.type]={startPTS:x,endPTS:w,startDTS:C,endDTS:S};else if(u.firstKeyFrame&&u.independent&&o.id===1&&!b&&(this.couldBacktrack=!0),u.dropped&&u.independent){const A=this.getMainFwdBufferInfo(),T=(A?A.end:this.getLoadPosition())+this.config.maxBufferHole,k=u.firstKeyFramePTS?u.firstKeyFramePTS:x;if(!y&&T<k-this.config.maxBufferHole&&!b){this.backtrack(s);return}else b&&(s.gap=!0);s.setElementaryStreamInfo(u.type,s.start,w,s.start,S,!0)}else y&&x-(p.appliedTimelineOffset||0)>hb&&(s.gap=!0);s.setElementaryStreamInfo(u.type,x,w,C,S),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(u,s,l,o,y||b)}else if(y||b)s.gap=!0;else{this.backtrack(s);return}}if(g){const{startPTS:m,endPTS:y,startDTS:b,endDTS:x}=g;l&&(l.elementaryStreams[Qr.AUDIO]={startPTS:m,endPTS:y,startDTS:b,endDTS:x}),s.setElementaryStreamInfo(Qr.AUDIO,m,y,b,x),this.bufferFragmentData(g,s,l,o)}if(p&&h!=null&&h.samples.length){const m={id:n,frag:s,details:p,samples:h.samples};r.trigger(q.FRAG_PARSING_METADATA,m)}if(p&&d){const m={id:n,frag:s,details:p,samples:d.samples};r.trigger(q.FRAG_PARSING_USERDATA,m)}}logMuxedErr(e){this.warn(`${Bi(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,n,r,i){if(this.state!==bt.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(r));const{audio:o,video:a,audiovideo:s}=n;if(o){const c=e.audioCodec;let u=ob(o.codec,c);u==="mp4a"&&(u="mp4a.40.5");const d=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){u&&(u.indexOf("mp4a.40.5")!==-1?u="mp4a.40.2":u="mp4a.40.5");const h=o.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&d.indexOf("firefox")===-1&&(u="mp4a.40.5")}u&&u.indexOf("mp4a.40.5")!==-1&&d.indexOf("android")!==-1&&o.container!=="audio/mpeg"&&(u="mp4a.40.2",this.log(`Android: force audio codec to ${u}`)),c&&c!==u&&this.log(`Swapping manifest audio codec "${c}" for "${u}"`),o.levelCodec=u,o.id=cn.MAIN,this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${u||""}/${c||""}/${o.codec}]`),delete n.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=cn.MAIN;const c=a.codec;if((c==null?void 0:c.length)===4)switch(c){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${c}]${a.codec!==c?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete n.audiovideo}s&&(this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${e.codecs}/${s.codec}]`),delete n.video,delete n.audio);const l=Object.keys(n);if(l.length){if(this.hls.trigger(q.BUFFER_CODECS,n),!this.hls)return;l.forEach(c=>{const d=n[c].initSegment;d!=null&&d.byteLength&&this.hls.trigger(q.BUFFER_APPENDING,{type:c,data:d,frag:r,part:null,chunkMeta:i,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,cn.MAIN)}get maxBufferLength(){const{levels:e,level:n}=this,r=e==null?void 0:e[n];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=bt.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Xn.isBuffered(e,r)?n=this.getAppendedFrag(r):Xn.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,o=n.level;(!i||n.sn!==i.sn||i.level!==o)&&(this.fragPlaying=n,this.hls.trigger(q.FRAG_CHANGED,{frag:n}),(!i||i.level!==o)&&this.hls.trigger(q.LEVEL_SWITCHED,{level:o}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Zt(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var e;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Zt(n)){const r=this.getLevelDetails(),i=this.currentFrag||(r?hh(null,r.fragments,n):null);if(i){const o=i.programDateTime;if(o!==null){const a=o+(n-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class BPe extends ps{constructor(e,n){super("key-loader",n),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e].loader;n&&n.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,n=et.KEY_LOAD_ERROR,r,i,o){return new Yl({type:fn.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:o,error:r,networkDetails:i})}loadClear(e,n,r){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length)for(let i=0,o=n.length;i<o;i++){const a=n[i];if(e.cc<=a.cc&&(!Bi(e)||!Bi(a)||e.sn<a.sn)||!r&&i==o-1)return this.emeController.selectKeySystemFormat(a).then(s=>{if(!this.emeController)return;a.setKeyFormat(s);const l=sb(s);if(l)return this.emeController.getKeySystemAccess([l])})}if(this.config.requireKeySystemAccessOnStart){const i=A0(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const o=e.decryptdata;if(!o){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,et.KEY_LOAD_ERROR,c))}const a=o.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,et.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const s=mC(o);let l=this.keyIdToKeyInfo[s];if((r=l)!=null&&r.decryptdata.key)return o.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(this.emeController&&(i=l)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(l.decryptdata)){case"usable":case"usable-in-future":return l.keyLoadPromise.then(u=>{const{keyInfo:d}=u;return o.key=d.decryptdata.key,{frag:e,keyInfo:d}})}switch(this.log(`${this.keyIdToKeyInfo[s]?"Rel":"L"}oading${o.keyId?" keyId: "+wo(o.keyId):""} URI: ${o.uri} from ${e.type} ${e.level}`),l=this.keyIdToKeyInfo[s]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return o.keyFormat==="identity"?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,et.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=n.initSegment)!=null&&i.data){const a=r6e(n.initSegment.data);if(a.length){let s=a[0];s.some(l=>l!==0)?(this.log(`Using keyId found in init segment ${wo(s)}`),Eu.setKeyIdForUri(e.decryptdata.uri,s)):(s=Eu.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${wo(s)}`)),e.decryptdata.keyId=s}}if(!e.decryptdata.keyId&&!Bi(n))return Promise.resolve(r);const o=this.emeController.loadKey(r);return(e.keyLoadPromise=o.then(a=>(e.mediaKeySessionContext=a,r))).catch(a=>{throw e.keyLoadPromise=null,"data"in a&&(a.data.frag=n),a})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,o=new i(r);return n.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((a,s)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,f,p,g)=>{const{frag:m,keyInfo:y}=p,b=mC(y.decryptdata);if(!m.decryptdata||y!==this.keyIdToKeyInfo[b])return s(this.createKeyLoadError(m,et.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),g));y.decryptdata.key=m.decryptdata.key=new Uint8Array(h.data),m.keyLoader=null,y.loader=null,a({frag:m,keyInfo:y})},onError:(h,f,p,g)=>{this.resetLoader(f),s(this.createKeyLoadError(n,et.KEY_LOAD_ERROR,new Error(`HTTP Error ${h.code} loading key ${h.text}`),p,Nr({url:l.url,data:void 0},h)))},onTimeout:(h,f,p)=>{this.resetLoader(f),s(this.createKeyLoadError(n,et.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(h,f,p)=>{this.resetLoader(f),s(this.createKeyLoadError(n,et.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};o.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,o=r.loader;n.keyLoader===o&&(n.keyLoader=null,r.loader=null);const a=mC(r.decryptdata)||i;delete this.keyIdToKeyInfo[a],o&&o.destroy()}}function mC(t){if(t.keyFormat!==So.FAIRPLAY){const e=t.keyId;if(e)return wo(e)}return t.uri}function JP(t){const{type:e}=t;switch(e){case sr.AUDIO_TRACK:return cn.AUDIO;case sr.SUBTITLE_TRACK:return cn.SUBTITLE;default:return cn.MAIN}}function gC(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class NPe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(q.LEVEL_LOADING,this.onLevelLoading,this),e.on(q.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(q.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(q.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(q.LEVEL_LOADING,this.onLevelLoading,this),e.off(q.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(q.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(q.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,o=r||i,a=new o(n);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:sr.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:o,url:a,deliveryDirectives:s,levelInfo:l}=n;this.load({id:r,level:i,pathwayId:o,responseType:"text",type:sr.LEVEL,url:a,deliveryDirectives:s,levelOrTrack:l})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:o,deliveryDirectives:a,track:s}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:sr.AUDIO_TRACK,url:o,deliveryDirectives:a,levelOrTrack:s})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:o,deliveryDirectives:a,track:s}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:sr.SUBTITLE_TRACK,url:o,deliveryDirectives:a,levelOrTrack:s})}onLevelsUpdated(e,n){const r=this.loaders[sr.LEVEL];if(r){const i=r.context;i&&!n.levels.some(o=>o===i.levelOrTrack)&&(r.abort(),delete this.loaders[sr.LEVEL])}}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=this.hls.logger,u=i.context;if(u&&u.levelOrTrack===e.levelOrTrack&&(u.url===e.url||u.deliveryDirectives&&!e.deliveryDirectives)){u.url===e.url?c.log(`[playlist-loader]: ignore ${e.url} ongoing request`):c.log(`[playlist-loader]: ignore ${e.url} in favor of ${u.url}`);return}c.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let o;if(e.type===sr.MANIFEST?o=r.manifestLoadPolicy.default:o=qr({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Zt((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===sr.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===sr.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===sr.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const h=Math.max(u*3,d*.8)*1e3;o=qr({},o,{maxTimeToFirstByteMs:Math.min(h,o.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(h,o.maxTimeToFirstByteMs)})}}}const a=o.errorRetry||o.timeoutRetry||{},s={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,u,d,h)=>{const f=this.getInternalLoader(d);this.resetInternalLoader(d.type);const p=c.data;u.parsing.start=performance.now(),yl.isMediaPlaylist(p)||d.type!==sr.MANIFEST?this.handleTrackOrLevelPlaylist(c,u,d,h||null,f):this.handleMasterPlaylist(c,u,d,h)},onError:(c,u,d,h)=>{this.handleNetworkError(u,d,!1,c,h)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};i.load(e,s,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:n},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(e,n,r,i){const o=this.hls,a=e.data,s=gC(e,r),l=yl.parseMasterPlaylist(a,s);if(l.playlistParsingError){n.parsing.end=performance.now(),this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p}=l;this.variableList=p,u.forEach(b=>{const{unknownCodecs:x}=b;if(x){const{preferManagedMediaSource:w}=this.hls.config;let{audioCodec:C,videoCodec:S}=b;for(let A=x.length;A--;){const T=x[A];mg(T,"audio",w)?(b.audioCodec=C=C?`${C},${T}`:T,op.audio[C.substring(0,4)]=2,x.splice(A,1)):mg(T,"video",w)&&(b.videoCodec=S=S?`${S},${T}`:T,op.video[S.substring(0,4)]=2,x.splice(A,1))}}});const{AUDIO:g=[],SUBTITLES:m,"CLOSED-CAPTIONS":y}=yl.parseMasterPlaylistMedia(a,s,l);g.length&&!g.some(x=>!x.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new mi({}),bitrate:0,url:""})),o.trigger(q.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:m,captions:y,contentSteering:c,url:s,stats:n,networkDetails:i,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p})}handleTrackOrLevelPlaylist(e,n,r,i,o){const a=this.hls,{id:s,level:l,type:c}=r,u=gC(e,r),d=Zt(l)?l:Zt(s)?s:0,h=JP(r),f=yl.parseLevelPlaylist(e.data,u,d,h,0,this.variableList);if(c===sr.MANIFEST){const p={attrs:new mi({}),bitrate:0,details:f,name:"",url:u};f.requestScheduled=n.loading.start+uU(f,0),a.trigger(q.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=f,this.handlePlaylistLoaded(f,e,n,r,i,o)}handleManifestParsingError(e,n,r,i,o){this.hls.trigger(q.ERROR,{type:fn.NETWORK_ERROR,details:et.MANIFEST_PARSING_ERROR,fatal:n.type===sr.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:o})}handleNetworkError(e,n,r=!1,i,o){let a=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===sr.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===sr.AUDIO_TRACK||e.type===sr.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const s=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let l=et.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case sr.MANIFEST:l=r?et.MANIFEST_LOAD_TIMEOUT:et.MANIFEST_LOAD_ERROR,c=!0;break;case sr.LEVEL:l=r?et.LEVEL_LOAD_TIMEOUT:et.LEVEL_LOAD_ERROR,c=!1;break;case sr.AUDIO_TRACK:l=r?et.AUDIO_TRACK_LOAD_TIMEOUT:et.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case sr.SUBTITLE_TRACK:l=r?et.SUBTITLE_TRACK_LOAD_TIMEOUT:et.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:fn.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:s,networkDetails:n,stats:o};if(i){const h=(n==null?void 0:n.url)||e.url;d.response=Nr({url:h,data:void 0},i)}this.hls.trigger(q.ERROR,d)}handlePlaylistLoaded(e,n,r,i,o,a){const s=this.hls,{type:l,level:c,levelOrTrack:u,id:d,groupId:h,deliveryDirectives:f}=i,p=gC(n,i),g=JP(i);let m=typeof i.level=="number"&&g===cn.MAIN?c:void 0;const y=e.playlistParsingError;if(y){if(this.hls.logger.warn(`${y} ${e.url}`),!s.config.ignorePlaylistParsingErrors){s.trigger(q.ERROR,{type:fn.NETWORK_ERROR,details:et.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:y,reason:y.message,response:n,context:i,level:m,parent:g,networkDetails:o,stats:r});return}e.playlistParsingError=null}if(!e.fragments.length){const b=e.playlistParsingError=new Error("No Segments found in Playlist");s.trigger(q.ERROR,{type:fn.NETWORK_ERROR,details:et.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:b,reason:b.message,response:n,context:i,level:m,parent:g,networkDetails:o,stats:r});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case sr.MANIFEST:case sr.LEVEL:if(m){if(!u)m=0;else if(u!==s.levels[m]){const b=s.levels.indexOf(u);b>-1&&(m=b)}}s.trigger(q.LEVEL_LOADED,{details:e,levelInfo:u||s.levels[0],level:m||0,id:d||0,stats:r,networkDetails:o,deliveryDirectives:f,withoutMultiVariant:l===sr.MANIFEST});break;case sr.AUDIO_TRACK:s.trigger(q.AUDIO_TRACK_LOADED,{details:e,track:u,id:d||0,groupId:h||"",stats:r,networkDetails:o,deliveryDirectives:f});break;case sr.SUBTITLE_TRACK:s.trigger(q.SUBTITLE_TRACK_LOADED,{details:e,track:u,id:d||0,groupId:h||"",stats:r,networkDetails:o,deliveryDirectives:f});break}}}class ks{static get version(){return yg}static isMSESupported(){return cj()}static isSupported(){return OPe()}static getMediaSource(){return Wu()}static get Events(){return q}static get MetadataSchema(){return _a}static get ErrorTypes(){return fn}static get ErrorDetails(){return et}static get DefaultConfig(){return ks.defaultConfig?ks.defaultConfig:CPe}static set DefaultConfig(e){ks.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new n5,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=WTe(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=SPe(ks.DefaultConfig,e,n);this.userConfig=e,r.progressive&&kPe(r,n);const{abrController:i,bufferController:o,capLevelController:a,errorController:s,fpsController:l}=r,c=new s(this),u=this.abrController=new i(this),d=new z6e(this),h=r.interstitialsController,f=h?this.interstitialsController=new h(this,ks):null,p=this.bufferController=new o(this,d),g=this.capLevelController=new a(this),m=new l(this),y=new NPe(this),b=r.contentSteeringController,x=b?new b(this):null,w=this.levelController=new MPe(this,x),C=new IPe(this),S=new BPe(this.config,this.logger),A=this.streamController=new $Pe(this,d,S),T=this.gapController=new _Pe(this,d);g.setStreamController(A),m.setStreamController(A);const k=[y,w,A];f&&k.splice(1,0,f),x&&k.splice(1,0,x),this.networkControllers=k;const E=[u,p,T,g,m,C,d];this.audioTrackController=this.createController(r.audioTrackController,k);const P=r.audioStreamController;P&&k.push(this.audioStreamController=new P(this,d,S)),this.subtitleTrackController=this.createController(r.subtitleTrackController,k);const _=r.subtitleStreamController;_&&k.push(this.subtititleStreamController=new _(this,d,S)),this.createController(r.timelineController,E),S.emeController=this.emeController=this.createController(r.emeController,E),this.cmcdController=this.createController(r.cmcdController,E),this.latencyController=this.createController(LPe,E),this.coreComponents=E,k.push(c);const F=c.onErrorOut;typeof F=="function"&&this.on(q.ERROR,F,c),this.on(q.MANIFEST_LOADED,y.onManifestLoaded,y)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===q.ERROR;this.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(q.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const o=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(q.ERROR,{type:fn.OTHER_ERROR,details:et.ATTACH_MEDIA_ERROR,fatal:!0,error:o});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in e,r=n?e.media:e,i=n?e:{media:r};this._media=r,this.trigger(q.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(q.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(q.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const n=this.media,r=this._url,i=this._url=W3.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(q.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,n){this.logger.log(`startLoad(${e+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,n),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[cn.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[cn.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[cn.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,n=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),n&&this.startLoad(n))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=__e()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){S6e(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let o=i;o--;){const a=e[o].attrs["HDCP-LEVEL"];if(a&&a<=r)return o}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(e))||null}setSubtitleOption(e){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,n=this.allAudioTracks){const r=YH(n);return KH(e,r,navigator.mediaCapabilities)}}ks.defaultConfig=void 0;function Qt(t,e,n){return(e=HPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HPe(t){var e=zPe(t,"string");return typeof e=="symbol"?e:e+""}function UPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jPe(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),t}function VPe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){VPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rI={addCSS:!0,thumbWidth:15,watch:!0};function WPe(t,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function qPe(t,e){if(t&&e){var n=new Event(e,{bubbles:!0});t.dispatchEvent(n)}}var cv=function(t){return t!=null?t.constructor:null},m5=function(t,e){return!!(t&&e&&t instanceof e)},uj=function(t){return t==null},dj=function(t){return cv(t)===Object},KPe=function(t){return cv(t)===Number&&!Number.isNaN(t)},hj=function(t){return cv(t)===String},GPe=function(t){return cv(t)===Boolean},YPe=function(t){return cv(t)===Function},fj=function(t){return Array.isArray(t)},pj=function(t){return m5(t,NodeList)},XPe=function(t){return m5(t,Element)},QPe=function(t){return m5(t,Event)},ZPe=function(t){return uj(t)||(hj(t)||fj(t)||pj(t))&&!t.length||dj(t)&&!Object.keys(t).length},Po={nullOrUndefined:uj,object:dj,number:KPe,string:hj,boolean:GPe,function:YPe,array:fj,nodeList:pj,element:XPe,event:QPe,empty:ZPe};function JPe(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function eIe(t,e){if(1>e){var n=JPe(e);return parseFloat(t.toFixed(n))}return Math.round(t/e)*e}var tIe=function(){function t(e,n){UPe(this,t),Po.element(e)?this.element=e:Po.string(e)&&(this.element=document.querySelector(e)),Po.element(this.element)&&Po.empty(this.element.rangeTouch)&&(this.config=nI({},rI,{},n),this.init())}return jPe(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var n=this,r=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(i){n.element[r](i,function(o){return n.set(o)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!Po.event(e))return null;var n,r=e.target,i=e.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,a=parseFloat(r.getAttribute("max"))||100,s=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),o+eIe(n/100*(a-o),s)}},{key:"set",value:function(e){t.enabled&&Po.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),qPe(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Po.empty(e)||Po.string(e)?r=Array.from(document.querySelectorAll(Po.string(e)?e:'input[type="range"]')):Po.element(e)?r=[e]:Po.nodeList(e)?r=Array.from(e):Po.array(e)&&(r=e.filter(Po.element)),Po.empty(r))return null;var i=nI({},rI,{},n);if(Po.string(e)&&i.watch){var o=new MutationObserver(function(a){Array.from(a).forEach(function(s){Array.from(s.addedNodes).forEach(function(l){Po.element(l)&&WPe(l,e)&&new t(l,i)})})});o.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(a){return new t(a,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const uv=t=>t!==null&&typeof t<"u"?t.constructor:null,Ac=(t,e)=>!!(t&&e&&t instanceof e),g5=t=>t===null||typeof t>"u",mj=t=>uv(t)===Object,nIe=t=>uv(t)===Number&&!Number.isNaN(t),Kx=t=>uv(t)===String,rIe=t=>uv(t)===Boolean,gj=t=>typeof t=="function",vj=t=>Array.isArray(t),iIe=t=>Ac(t,WeakMap),yj=t=>Ac(t,NodeList),oIe=t=>uv(t)===Text,aIe=t=>Ac(t,Event),sIe=t=>Ac(t,KeyboardEvent),lIe=t=>Ac(t,window.TextTrackCue)||Ac(t,window.VTTCue),cIe=t=>Ac(t,TextTrack)||!g5(t)&&Kx(t.kind),uIe=t=>Ac(t,Promise)&&gj(t.then);function dIe(t){return t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}function bj(t){return g5(t)||(Kx(t)||vj(t)||yj(t))&&!t.length||mj(t)&&!Object.keys(t).length}function hIe(t){if(Ac(t,window.URL))return!0;if(!Kx(t))return!1;let e=t;(!t.startsWith("http://")||!t.startsWith("https://"))&&(e=`http://${t}`);try{return!bj(new URL(e).hostname)}catch{return!1}}var Ee={nullOrUndefined:g5,object:mj,number:nIe,string:Kx,boolean:rIe,function:gj,array:vj,weakMap:iIe,nodeList:yj,element:dIe,textNode:oIe,event:aIe,keyboardEvent:sIe,cue:lIe,track:cIe,promise:uIe,url:hIe,empty:bj};const YS=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(e).find(r=>t.style[r]!==void 0);return Ee.string(n)?e[n]:!1})();function xj(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch{}},e)}function fIe(t){return JSON.parse(JSON.stringify(t))}function wj(t,e){return e.split(".").reduce((n,r)=>n&&n[r],t)}function Mi(t={},...e){if(!e.length)return t;const n=e.shift();return Ee.object(n)?(Object.keys(n).forEach(r=>{Ee.object(n[r])?(Object.keys(t).includes(r)||Object.assign(t,{[r]:{}}),Mi(t[r],n[r])):Object.assign(t,{[r]:n[r]})}),Mi(t,...e)):t}function Cj(t,e){const n=t.length?t:[t];Array.from(n).reverse().forEach((r,i)=>{const o=i>0?e.cloneNode(!0):e,a=r.parentNode,s=r.nextSibling;o.appendChild(r),s?a.insertBefore(o,s):a.appendChild(o)})}function XS(t,e){!Ee.element(t)||Ee.empty(e)||Object.entries(e).filter(([,n])=>!Ee.nullOrUndefined(n)).forEach(([n,r])=>t.setAttribute(n,r))}function Fn(t,e,n){const r=document.createElement(t);return Ee.object(e)&&XS(r,e),Ee.string(n)&&(r.textContent=n),r}function pIe(t,e){!Ee.element(t)||!Ee.element(e)||e.parentNode.insertBefore(t,e.nextSibling)}function iI(t,e,n,r){Ee.element(e)&&e.appendChild(Fn(t,n,r))}function oc(t){if(Ee.nodeList(t)||Ee.array(t)){Array.from(t).forEach(oc);return}!Ee.element(t)||!Ee.element(t.parentNode)||t.parentNode.removeChild(t)}function fb(t){if(!Ee.element(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function S1(t,e){return!Ee.element(e)||!Ee.element(e.parentNode)||!Ee.element(t)?null:(e.parentNode.replaceChild(t,e),t)}function Js(t,e){if(!Ee.string(t)||Ee.empty(t))return{};const n={},r=Mi({},e);return t.split(",").forEach(i=>{const o=i.trim(),a=o.replace(".",""),l=o.replace(/[[\]]/g,"").split("="),[c]=l,u=l.length>1?l[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":Ee.string(r.class)?n.class=`${r.class} ${a}`:n.class=a;break;case"#":n.id=o.replace("#","");break;case"[":n[c]=u;break}}),Mi(r,n)}function Cd(t,e){if(!Ee.element(t))return;let n=e;Ee.boolean(n)||(n=!t.hidden),t.hidden=n}function Dr(t,e,n){if(Ee.nodeList(t))return Array.from(t).map(r=>Dr(r,e,n));if(Ee.element(t)){let r="toggle";return typeof n<"u"&&(r=n?"add":"remove"),t.classList[r](e),t.classList.contains(e)}return!1}function k1(t,e){return Ee.element(t)&&t.classList.contains(e)}function $d(t,e){const{prototype:n}=Element;function r(){return Array.from(document.querySelectorAll(e)).includes(this)}return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||r).call(t,e)}function mIe(t,e){const{prototype:n}=Element;function r(){let o=this;do{if($d.matches(o,e))return o;o=o.parentElement||o.parentNode}while(o!==null&&o.nodeType===1);return null}return(n.closest||r).call(t,e)}function Cg(t){return this.elements.container.querySelectorAll(t)}function ro(t){return this.elements.container.querySelector(t)}function vC(t=null,e=!1){Ee.element(t)&&t.focus({preventScroll:!0,focusVisible:e})}const oI={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Oi={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e){const n=Oi[t]||e!=="html5",r=n&&Oi.rangeInput;return{api:n,ui:r}},pip:document.pictureInPictureEnabled&&!Fn("video").disablePictureInPicture,airplay:Ee.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(Ee.empty(t))return!1;const[e]=t.split("/");let n=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(oI).includes(n)&&(n+=`; codecs="${oI[t]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range",t.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:YS!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},gIe=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t})();function Ag(t,e,n,r=!1,i=!0,o=!1){if(!t||!("addEventListener"in t)||Ee.empty(e)||!Ee.function(n))return;const a=e.split(" ");let s=o;gIe&&(s={passive:i,capture:o}),a.forEach(l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:t,type:l,callback:n,options:s}),t[r?"addEventListener":"removeEventListener"](l,n,s)})}function Ar(t,e="",n,r=!0,i=!1){Ag.call(this,t,e,n,!0,r,i)}function Gx(t,e="",n,r=!0,i=!1){Ag.call(this,t,e,n,!1,r,i)}function v5(t,e="",n,r=!0,i=!1){const o=(...a)=>{Gx(t,e,o,r,i),n.apply(this,a)};Ag.call(this,t,e,o,!0,r,i)}function $n(t,e="",n=!1,r={}){if(!Ee.element(t)||Ee.empty(e))return;const i=new CustomEvent(e,{bubbles:n,detail:{...r,plyr:this}});t.dispatchEvent(i)}function vIe(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:n,callback:r,options:i}=t;e.removeEventListener(n,r,i)}),this.eventListeners=[])}function yIe(){return new Promise(t=>this.ready?setTimeout(t,0):Ar.call(this,this.elements.container,"ready",t)).then(()=>{})}function dl(t){Ee.promise(t)&&t.then(null,()=>{})}function QS(t){return Ee.array(t)?t.filter((e,n)=>t.indexOf(e)===n):t}function Aj(t,e){return!Ee.array(t)||!t.length?null:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function Sj(t){return!window||!window.CSS?!1:window.CSS.supports(t)}const aI=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,n])=>({...t,[e/n]:[e,n]}),{});function kj(t){return!Ee.array(t)&&(!Ee.string(t)||!t.includes(":"))?!1:(Ee.array(t)?t:t.split(":")).map(Number).every(Ee.number)}function E1(t){if(!Ee.array(t)||!t.every(Ee.number))return null;const[e,n]=t,r=(o,a)=>a===0?o:r(a,o%a),i=r(e,n);return[e/i,n/i]}function y5(t){const e=r=>kj(r)?r.split(":").map(Number):null;let n=e(t);if(n===null&&(n=e(this.config.ratio)),n===null&&!Ee.empty(this.embed)&&Ee.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return E1(n)}function sp(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,n=y5.call(this,t);if(!Ee.array(n))return{};const[r,i]=E1(n),o=Sj(`aspect-ratio: ${r}/${i}`),a=100/r*i;if(o?e.style.aspectRatio=`${r}/${i}`:e.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*Number.parseInt(window.getComputedStyle(this.media).paddingBottom,10),l=(s-a)/(s/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${l}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:n}}function Ej(t,e,n=.05){const r=t/e,i=Aj(Object.keys(aI),r);return Math.abs(i-r)<=n?aI[i]:[t,e]}function bIe(){const t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),e=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);return[t,e]}const xu={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const n=e.getAttribute("type");return Ee.empty(n)?!0:Oi.mime.call(this,n)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:xu.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,Ee.empty(this.config.ratio)||sp.call(t),Object.defineProperty(t.media,"quality",{get(){const n=xu.getSources.call(t).find(r=>r.getAttribute("src")===t.source);return n&&Number(n.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&Ee.function(t.config.quality.onChange))t.config.quality.onChange(e);else{const r=xu.getSources.call(t).find(c=>Number(c.getAttribute("size"))===e);if(!r)return;const{currentTime:i,paused:o,preload:a,readyState:s,playbackRate:l}=t.media;t.media.src=r.getAttribute("src"),(a!=="none"||s)&&(t.once("loadedmetadata",()=>{t.speed=l,t.currentTime=i,o||dl(t.play())}),t.media.load())}$n.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(oc(xu.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},xIe=!!window.document.documentMode,wIe=/Edge/.test(navigator.userAgent),CIe="WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),AIe=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,SIe=/iPad|iPhone|iPod/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Ao={isIE:xIe,isEdge:wIe,isWebKit:CIe,isIPadOS:AIe,isIos:SIe};function kIe(t){return`${t}-${Math.floor(Math.random()*1e4)}`}function ZS(t,...e){return Ee.empty(t)?t:t.toString().replace(/\{(\d+)\}/g,(n,r)=>e[r].toString())}function EIe(t,e){return t===0||e===0||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)}function Hm(t="",e="",n=""){return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())}function Tj(t=""){return t.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}function TIe(t=""){let e=t.toString();return e=Hm(e,"-"," "),e=Hm(e,"_"," "),e=Tj(e),Hm(e," ","")}function RIe(t=""){let e=t.toString();return e=TIe(e),e.charAt(0).toLowerCase()+e.slice(1)}function _Ie(t){const e=document.createDocumentFragment(),n=document.createElement("div");return e.appendChild(n),n.innerHTML=t,e.firstChild.textContent}function PIe(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const sI={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},fo={get(t="",e={}){if(Ee.empty(t)||Ee.empty(e))return"";let n=wj(e.i18n,t);if(Ee.empty(n))return Object.keys(sI).includes(t)?sI[t]:"";const r={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(r).forEach(([i,o])=>{n=Hm(n,i,o)}),n}};class Sg{constructor(e){Qt(this,"get",n=>{if(!Sg.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(Ee.empty(r))return null;const i=JSON.parse(r);return Ee.string(n)&&n.length?i[n]:i}),Qt(this,"set",n=>{if(!Sg.supported||!this.enabled||!Ee.object(n))return;let r=this.get();Ee.empty(r)&&(r={}),Mi(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function dv(t,e="text",n=!1){return new Promise((r,i)=>{try{const o=new XMLHttpRequest;if(!("withCredentials"in o))return;n&&(o.withCredentials=!0),o.addEventListener("load",()=>{if(e==="text")try{r(JSON.parse(o.responseText))}catch{r(o.responseText)}else r(o.response)}),o.addEventListener("error",()=>{throw new Error(o.status)}),o.open("GET",t,!0),o.responseType=e,o.send()}catch(o){i(o)}})}function Rj(t,e){if(!Ee.string(t))return;const n="cache",r=Ee.string(e);let i=!1;const o=()=>document.getElementById(e)!==null,a=(s,l)=>{s.innerHTML=l,!(r&&o())&&document.body.insertAdjacentElement("afterbegin",s)};if(!r||!o()){const s=Sg.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",e),s){const c=window.localStorage.getItem(`${n}-${e}`);if(i=c!==null,i){const u=JSON.parse(c);a(l,u.content)}}dv(t).then(c=>{if(!Ee.empty(c)){if(s)try{window.localStorage.setItem(`${n}-${e}`,JSON.stringify({content:c}))}catch{}a(l,c)}}).catch(()=>{})}}const _j=t=>Math.trunc(t/60/60%60,10),IIe=t=>Math.trunc(t/60%60,10),LIe=t=>Math.trunc(t%60,10);function Yx(t=0,e=!1,n=!1){if(!Ee.number(t))return Yx(void 0,e,n);const r=s=>`0${s}`.slice(-2);let i=_j(t);const o=IIe(t),a=LIe(t);return e||i>0?i=`${i}:`:i="",`${n&&t>0?"-":""}${i}${r(o)}:${r(a)}`}const Gt={getIconUrl(){const t=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,n=t.host!==e||Ao.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=ro.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Cg.call(this,this.config.selectors.buttons.play),pause:ro.call(this,this.config.selectors.buttons.pause),restart:ro.call(this,this.config.selectors.buttons.restart),rewind:ro.call(this,this.config.selectors.buttons.rewind),fastForward:ro.call(this,this.config.selectors.buttons.fastForward),mute:ro.call(this,this.config.selectors.buttons.mute),pip:ro.call(this,this.config.selectors.buttons.pip),airplay:ro.call(this,this.config.selectors.buttons.airplay),settings:ro.call(this,this.config.selectors.buttons.settings),captions:ro.call(this,this.config.selectors.buttons.captions),fullscreen:ro.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ro.call(this,this.config.selectors.progress),this.elements.inputs={seek:ro.call(this,this.config.selectors.inputs.seek),volume:ro.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ro.call(this,this.config.selectors.display.buffer),currentTime:ro.call(this,this.config.selectors.display.currentTime),duration:ro.call(this,this.config.selectors.display.duration)},Ee.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const n="http://www.w3.org/2000/svg",r=Gt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");XS(o,Mi(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(n,"use"),s=`${i}-${t}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",s),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),o.appendChild(a),o},createLabel(t,e={}){const n=fo.get(t,this.config),r={...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")};return Fn("span",r,n)},createBadge(t){if(Ee.empty(t))return null;const e=Fn("span",{class:this.config.classNames.menu.value});return e.appendChild(Fn("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const n=Mi({},e);let r=RIe(t);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(n).includes(a)&&(i[a]=n[a],delete n[a])}),i.element==="button"&&!Object.keys(n).includes("type")&&(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").includes(this.config.classNames.control)||Mi(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,t){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:Ee.empty(i.label)&&(i.label=r),Ee.empty(i.icon)&&(i.icon=t)}const o=Fn(i.element);return i.toggle?(o.appendChild(Gt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(Gt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(Gt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(Gt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(Gt.createIcon.call(this,i.icon)),o.appendChild(Gt.createLabel.call(this,i.label))),Mi(n,Js(this.config.selectors.buttons[r],n)),XS(o,n),r==="play"?(Ee.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(t,e){const n=Fn("input",Mi(Js(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":fo.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,Gt.updateRangeFill.call(this,n),tIe.setup(n),n},createProgress(t,e){const n=Fn("progress",Mi(Js(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(t!=="volume"){n.appendChild(Fn("span",null,"0"));const r={played:"played",buffer:"buffered"}[t],i=r?fo.get(r,this.config):"";n.textContent=`% ${i.toLowerCase()}`}return this.elements.display[t]=n,n},createTime(t,e){const n=Js(this.config.selectors.display[t],e),r=Fn("div",Mi(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":fo.get(t,this.config),role:"timer"}),"00:00");return this.elements.display[t]=r,r},bindMenuItemShortcuts(t,e){Ar.call(this,t,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=$d(t,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Gt.showMenuPanel.call(this,e,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=t.nextElementSibling,Ee.element(i)||(i=t.parentNode.firstElementChild)):(i=t.previousElementSibling,Ee.element(i)||(i=t.parentNode.lastElementChild)),vC.call(this,i,!0))}},!1),Ar.call(this,t,"keyup",n=>{n.key==="Return"&&Gt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:n,title:r,badge:i=null,checked:o=!1}){const a=Js(this.config.selectors.inputs[n]),s=Fn("button",Mi(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":o,value:t})),l=Fn("span");l.innerHTML=r,Ee.element(i)&&l.appendChild(i),s.appendChild(l),Object.defineProperty(s,"checked",{enumerable:!0,get(){return s.getAttribute("aria-checked")==="true"},set(c){c&&Array.from(s.parentNode.children).filter(u=>$d(u,'[role="menuitemradio"]')).forEach(u=>u.setAttribute("aria-checked","false")),s.setAttribute("aria-checked",c?"true":"false")}}),this.listeners.bind(s,"click keyup",c=>{if(!(Ee.keyboardEvent(c)&&c.key!==" ")){switch(c.preventDefault(),c.stopPropagation(),s.checked=!0,n){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=Number.parseFloat(t);break}Gt.showMenuPanel.call(this,"home",Ee.keyboardEvent(c))}},n,!1),Gt.bindMenuItemShortcuts.call(this,s,n),e.appendChild(s)},formatTime(t=0,e=!1){if(!Ee.number(t))return t;const n=_j(this.duration)>0;return Yx(t,n,e)},updateTimeDisplay(t=null,e=0,n=!1){!Ee.element(t)||!Ee.number(e)||(t.textContent=Gt.formatTime(e,n))},updateVolume(){this.supported.ui&&(Ee.element(this.elements.inputs.volume)&&Gt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Ee.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(t,e=0){Ee.element(t)&&(t.value=e,Gt.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!Ee.event(t))return;let e=0;const n=(r,i)=>{const o=Ee.number(i)?i:0,a=Ee.element(r)?r:this.elements.display.buffer;if(Ee.element(a)){a.value=o;const s=a.getElementsByTagName("span")[0];Ee.element(s)&&(s.childNodes[0].nodeValue=o)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":e=EIe(this.currentTime,this.duration),t.type==="timeupdate"&&Gt.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":n(this.elements.display.buffer,this.buffered*100);break}},updateRangeFill(t){const e=Ee.event(t)?t.target:t;if(!(!Ee.element(e)||e.getAttribute("type")!=="range")){if($d(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const n=Gt.formatTime(this.currentTime),r=Gt.formatTime(this.duration),i=fo.get("seekLabel",this.config);e.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if($d(e,this.config.selectors.inputs.volume)){const n=e.value*100;e.setAttribute("aria-valuenow",n),e.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);!Ao.isWebKit&&!Ao.isIPadOS||e.style.setProperty("--value",`${e.value/e.max*100}%`)}},updateSeekTooltip(t){var e,n;if(!this.config.tooltips.seek||!Ee.element(this.elements.inputs.seek)||!Ee.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=u=>Dr(r,i,u);if(this.touch){o(!1);return}let a=0;const s=this.elements.progress.getBoundingClientRect();if(Ee.event(t)){const u=t.pageX-t.clientX;a=100/s.width*(t.pageX-s.left-u)}else if(k1(r,i))a=Number.parseFloat(r.style.left,10);else return;a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;r.textContent=Gt.formatTime(l);const c=(e=this.config.markers)===null||e===void 0||(n=e.points)===null||n===void 0?void 0:n.find(({time:u})=>u===Math.round(l));c&&r.insertAdjacentHTML("afterbegin",`${c.label}<br>`),r.style.left=`${a}%`,Ee.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&o(t.type==="mouseenter")},timeUpdate(t){const e=!Ee.element(this.elements.display.duration)&&this.config.invertTime;Gt.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),!(t&&t.type==="timeupdate"&&this.media.seeking)&&Gt.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32){Cd(this.elements.display.currentTime,!0),Cd(this.elements.progress,!0);return}Ee.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=Ee.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Gt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Gt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Gt.setMarkers.call(this),Gt.updateSeekTooltip.call(this)},toggleMenuButton(t,e){Cd(this.elements.settings.buttons[t],!e)},updateSetting(t,e,n){const r=this.elements.settings.panels[t];let i=null,o=e;if(t==="captions")i=this.currentTrack;else{if(i=Ee.empty(n)?this[t]:n,Ee.empty(i)&&(i=this.config[t].default),!Ee.empty(this.options[t])&&!this.options[t].includes(i)){this.debug.warn(`Unsupported value of '${i}' for ${t}`);return}if(!this.config[t].options.includes(i)){this.debug.warn(`Disabled value of '${i}' for ${t}`);return}}if(Ee.element(o)||(o=r&&r.querySelector('[role="menu"]')),!Ee.element(o))return;const a=this.elements.settings.buttons[t].querySelector(`.${this.config.classNames.menu.value}`);a.innerHTML=Gt.getLabel.call(this,t,i);const s=o&&o.querySelector(`[value="${i}"]`);Ee.element(s)&&(s.checked=!0)},getLabel(t,e){switch(t){case"speed":return e===1?fo.get("normal",this.config):`${e}&times;`;case"quality":if(Ee.number(e)){const n=fo.get(`qualityLabel.${e}`,this.config);return n.length?n:`${e}p`}return Tj(e);case"captions":return Tr.getLabel.call(this);default:return null}},setQualityMenu(t){if(!Ee.element(this.elements.settings.panels.quality))return;const e="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');Ee.array(t)&&(this.options.quality=QS(t).filter(o=>this.config.quality.options.includes(o)));const r=!Ee.empty(this.options.quality)&&this.options.quality.length>1;if(Gt.toggleMenuButton.call(this,e,r),fb(n),Gt.checkMenu.call(this),!r)return;const i=o=>{const a=fo.get(`qualityBadge.${o}`,this.config);return a.length?Gt.createBadge.call(this,a):null};this.options.quality.sort((o,a)=>{const s=this.config.quality.options;return s.indexOf(o)>s.indexOf(a)?1:-1}).forEach(o=>{Gt.createMenuItem.call(this,{value:o,list:n,type:e,title:Gt.getLabel.call(this,"quality",o),badge:i(o)})}),Gt.updateSetting.call(this,e,n)},setCaptionsMenu(){if(!Ee.element(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=Tr.getTracks.call(this),r=!!n.length;if(Gt.toggleMenuButton.call(this,t,r),fb(e),Gt.checkMenu.call(this),!r)return;const i=n.map((o,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:Tr.getLabel.call(this,o),badge:o.language&&Gt.createBadge.call(this,o.language.toUpperCase()),list:e,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:fo.get("disabled",this.config),list:e,type:"language"}),i.forEach(Gt.createMenuItem.bind(this)),Gt.updateSetting.call(this,t,e)},setSpeedMenu(){if(!Ee.element(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const n=!Ee.empty(this.options.speed)&&this.options.speed.length>1;Gt.toggleMenuButton.call(this,t,n),fb(e),Gt.checkMenu.call(this),n&&(this.options.speed.forEach(r=>{Gt.createMenuItem.call(this,{value:r,list:e,type:t,title:Gt.getLabel.call(this,"speed",r)})}),Gt.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!Ee.empty(t)&&Object.values(t).some(n=>!n.hidden);Cd(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let n=t;Ee.element(n)||(n=Object.values(this.elements.settings.panels).find(i=>!i.hidden));const r=n.querySelector('[role^="menuitem"]');vC.call(this,r,e)},toggleMenu(t){const{popup:e}=this.elements.settings,n=this.elements.buttons.settings;if(!Ee.element(e)||!Ee.element(n))return;const{hidden:r}=e;let i=r;if(Ee.boolean(t))i=t;else if(Ee.keyboardEvent(t)&&t.key==="Escape")i=!1;else if(Ee.event(t)){const o=Ee.function(t.composedPath)?t.composedPath()[0]:t.target,a=e.contains(o);if(a||!a&&t.target!==n&&i)return}n.setAttribute("aria-expanded",i),Cd(e,!i),Dr(this.elements.container,this.config.classNames.menu.open,i),i&&Ee.keyboardEvent(t)?Gt.focusFirstMenuItem.call(this,null,!0):!i&&!r&&vC.call(this,n,Ee.keyboardEvent(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const n=e.scrollWidth,r=e.scrollHeight;return oc(e),{width:n,height:r}},showMenuPanel(t="",e=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!Ee.element(n))return;const r=n.parentNode,i=Array.from(r.children).find(o=>!o.hidden);if(Oi.transitions&&!Oi.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=Gt.getMenuSize.call(this,n),a=s=>{s.target!==r||!["width","height"].includes(s.propertyName)||(r.style.width="",r.style.height="",Gx.call(this,r,YS,a))};Ar.call(this,r,YS,a),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}Cd(i,!0),Cd(n,!1),Gt.focusFirstMenuItem.call(this,n,e)},setDownloadUrl(){const t=this.elements.buttons.download;Ee.element(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:a,setSpeedMenu:s,showMenuPanel:l}=Gt;this.elements.controls=null,Ee.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const c=Fn("div",Js(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return QS(Ee.array(this.config.controls)?this.config.controls:[]).forEach(d=>{if(d==="restart"&&c.appendChild(n.call(this,"restart",u)),d==="rewind"&&c.appendChild(n.call(this,"rewind",u)),d==="play"&&c.appendChild(n.call(this,"play",u)),d==="fast-forward"&&c.appendChild(n.call(this,"fast-forward",u)),d==="progress"){const h=Fn("div",{class:`${u.class} plyr__progress__container`}),f=Fn("div",Js(this.config.selectors.progress));if(f.appendChild(i.call(this,"seek",{id:`plyr-seek-${t.id}`})),f.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=Fn("span",{class:this.config.classNames.tooltip},"00:00");f.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=f,h.appendChild(this.elements.progress),c.appendChild(h)}if(d==="current-time"&&c.appendChild(o.call(this,"currentTime",u)),d==="duration"&&c.appendChild(o.call(this,"duration",u)),d==="mute"||d==="volume"){let{volume:h}=this.elements;if((!Ee.element(h)||!c.contains(h))&&(h=Fn("div",Mi({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=h,c.appendChild(h)),d==="mute"&&h.appendChild(n.call(this,"mute")),d==="volume"&&!Ao.isIos&&!Ao.isIPadOS){const f={max:1,step:.05,value:this.config.volume};h.appendChild(i.call(this,"volume",Mi(f,{id:`plyr-volume-${t.id}`})))}}if(d==="captions"&&c.appendChild(n.call(this,"captions",u)),d==="settings"&&!Ee.empty(this.config.settings)){const h=Fn("div",Mi({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));h.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${t.id}`,"aria-expanded":!1}));const f=Fn("div",{class:"plyr__menu__container",id:`plyr-settings-${t.id}`,hidden:""}),p=Fn("div"),g=Fn("div",{id:`plyr-settings-${t.id}-home`}),m=Fn("div",{role:"menu"});g.appendChild(m),p.appendChild(g),this.elements.settings.panels.home=g,this.config.settings.forEach(y=>{const b=Fn("button",Mi(Js(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,b,y),Ar.call(this,b,"click",()=>{l.call(this,y,!1)});const x=Fn("span",null,fo.get(y,this.config)),w=Fn("span",{class:this.config.classNames.menu.value});w.innerHTML=t[y],x.appendChild(w),b.appendChild(x),m.appendChild(b);const C=Fn("div",{id:`plyr-settings-${t.id}-${y}`,hidden:""}),S=Fn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild(Fn("span",{"aria-hidden":!0},fo.get(y,this.config))),S.appendChild(Fn("span",{class:this.config.classNames.hidden},fo.get("menuBack",this.config))),Ar.call(this,C,"keydown",A=>{A.key==="ArrowLeft"&&(A.preventDefault(),A.stopPropagation(),l.call(this,"home",!0))},!1),Ar.call(this,S,"click",()=>{l.call(this,"home",!1)}),C.appendChild(S),C.appendChild(Fn("div",{role:"menu"})),p.appendChild(C),this.elements.settings.buttons[y]=b,this.elements.settings.panels[y]=C}),f.appendChild(p),h.appendChild(f),c.appendChild(h),this.elements.settings.popup=f,this.elements.settings.menu=h}if(d==="pip"&&Oi.pip&&c.appendChild(n.call(this,"pip",u)),d==="airplay"&&Oi.airplay&&c.appendChild(n.call(this,"airplay",u)),d==="download"){const h=Mi({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(h.download="");const{download:f}=this.config.urls;!Ee.url(f)&&this.isEmbed&&Mi(h,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(n.call(this,"download",h))}d==="fullscreen"&&c.appendChild(n.call(this,"fullscreen",u))}),this.isHTML5&&a.call(this,xu.getQualityOptions.call(this)),s.call(this),c},inject(){if(this.config.loadSprite){const a=Gt.getIconUrl.call(this);a.cors&&Rj(a.url,"sprite-plyr")}this.id=Math.floor(Math.random()*1e4);let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;Ee.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),Ee.element(this.config.controls)||Ee.string(this.config.controls)?t=this.config.controls:(t=Gt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Tr.getLabel.call(this)}),n=!1);const r=a=>{let s=a;return Object.entries(e).forEach(([l,c])=>{s=Hm(s,`{${l}}`,c)}),s};n&&Ee.string(this.config.controls)&&(t=r(t));let i;Ee.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),Ee.element(i)||(i=this.elements.container);const o=Ee.element(t)?"insertAdjacentElement":"insertAdjacentHTML";if(i[o]("afterbegin",t),Ee.element(this.elements.controls)||Gt.findElements.call(this),!Ee.empty(this.elements.buttons)){const a=s=>{const l=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get(){return k1(s,l)},set(c=!1){Dr(s,l,c),s.setAttribute("aria-pressed",c?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(s=>{Ee.array(s)||Ee.nodeList(s)?Array.from(s).filter(Boolean).forEach(a):a(s)})}if(Ao.isEdge&&xj(i),this.config.tooltips.controls){const{classNames:a,selectors:s}=this.config,l=`${s.controls.wrapper} ${s.labels} .${a.hidden}`,c=Cg.call(this,l);Array.from(c).forEach(u=>{Dr(u,this.config.classNames.hidden,!1),Dr(u,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var t,e;if(!this.duration||this.elements.markers)return;const n=(t=this.config.markers)===null||t===void 0||(e=t.points)===null||e===void 0?void 0:e.filter(({time:l})=>l>0&&l<this.duration);if(!(n!=null&&n.length))return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const a=`${this.config.classNames.tooltip}--visible`,s=l=>Dr(o,a,l);n.forEach(l=>{const c=Fn("span",{class:this.config.classNames.marker},""),u=`${l.time/this.duration*100}%`;o&&(c.addEventListener("mouseenter",()=>{l.label||(o.style.left=u,o.innerHTML=l.label,s(!0))}),c.addEventListener("mouseleave",()=>{s(!1)})),c.addEventListener("click",()=>{this.currentTime=l.time}),c.style.left=u,i.appendChild(c)}),r.appendChild(i),this.config.tooltips.seek||(o=Fn("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function Pj(t,e=!0){let n=t;if(e){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function Ij(t){const e=new URLSearchParams;return Ee.object(t)&&Object.entries(t).forEach(([n,r])=>{e.set(n,r)}),e}const Tr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Oi.textTracks){Ee.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Gt.setCaptionsMenu.call(this);return}if(Ee.element(this.elements.captions)||(this.elements.captions=Fn("div",Js(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),pIe(this.elements.captions,this.elements.wrapper)),Ao.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(o=>{const a=o.getAttribute("src"),s=Pj(a);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&dv(a,"blob").then(l=>{o.setAttribute("src",window.URL.createObjectURL(l))}).catch(()=>{oc(o)})})}const t=navigator.languages||[navigator.language||navigator.userLanguage||"en"],e=QS(t.map(i=>i.split("-")[0]));let n=(this.storage.get("language")||this.captions.language||this.config.captions.language||"auto").toLowerCase();n==="auto"&&([n]=e);let r=this.storage.get("captions")||this.captions.active;if(Ee.boolean(r)||({active:r}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:r,language:n,languages:e}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";Ar.call(this,this.media.textTracks,i,Tr.update.bind(this))}setTimeout(Tr.update.bind(this),0)},update(){const t=Tr.getTracks.call(this,!0),{active:e,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!t.find(a=>a.language===n);this.isHTML5&&this.isVideo&&t.filter(a=>!r.get(a)).forEach(a=>{this.debug.log("Track added",a),r.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),Ar.call(this,a,"cuechange",()=>Tr.updateCues.call(this))}),(o&&this.language!==n||!t.includes(i))&&(Tr.setLanguage.call(this,n),Tr.toggle.call(this,e&&o)),this.elements&&Dr(this.elements.container,this.config.classNames.captions.enabled,!Ee.empty(t)),Ee.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Gt.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=Ee.nullOrUndefined(t)?!n:t;if(i!==n){if(e||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!e){const o=Tr.getTracks.call(this),a=Tr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);this.captions.language=a.language,Tr.set.call(this,o.indexOf(a));return}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),Dr(this.elements.container,r,i),this.captions.toggled=i,Gt.updateSetting.call(this,"captions"),$n.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const n=Tr.getTracks.call(this);if(t===-1){Tr.toggle.call(this,!1,e);return}if(!Ee.number(t)){this.debug.warn("Invalid caption argument",t);return}if(!(t in n)){this.debug.warn("Track not found",t);return}if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const r=n[t],{language:i}=r||{};this.captions.currentTrackNode=r,Gt.updateSetting.call(this,"captions"),e||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i,null,!1),$n.call(this,this.media,"languagechange")}Tr.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&Tr.updateCues.call(this)},setLanguage(t,e=!0){if(!Ee.string(t)){this.debug.warn("Invalid language argument",t);return}const n=t.toLowerCase();this.captions.language=n;const r=Tr.getTracks.call(this),i=Tr.findTrack.call(this,[n]);Tr.set.call(this,r.indexOf(i),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(n=>!this.isHTML5||t||this.captions.meta.has(n)).filter(n=>["captions","subtitles"].includes(n.kind))},findTrack(t,e=!1){const n=Tr.getTracks.call(this),r=a=>Number((this.captions.meta.get(a)||{}).default),i=Array.from(n).sort((a,s)=>r(s)-r(a));let o;return t.every(a=>(o=i.find(s=>s.language===a),!o)),o||(e?i[0]:void 0)},getCurrentTrack(){return Tr.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!Ee.track(e)&&Oi.textTracks&&this.captions.toggled&&(e=Tr.getCurrentTrack.call(this)),Ee.track(e)?Ee.empty(e.label)?Ee.empty(e.language)?fo.get("enabled",this.config):t.language.toUpperCase():e.label:fo.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!Ee.element(this.elements.captions)){this.debug.warn("No captions element to render to");return}if(!Ee.nullOrUndefined(t)&&!Array.isArray(t)){this.debug.warn("updateCues: Invalid input",t);return}let e=t;if(!e){const i=Tr.getCurrentTrack.call(this);e=Array.from((i||{}).activeCues||[]).map(o=>o.getCueAsHTML()).map(PIe)}const n=e.map(i=>i.trim()).join(`
`);if(n!==this.elements.captions.innerHTML){fb(this.elements.captions);const i=Fn("span",Js(this.config.selectors.caption));i.innerHTML=n,this.elements.captions.appendChild(i),$n.call(this,this.media,"cuechange")}}},Lj={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.8.4/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:"",withCredentials:!1},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},yC={active:"picture-in-picture",inactive:"inline"},du={html5:"html5",youtube:"youtube",vimeo:"vimeo"},bC={audio:"audio",video:"video"};function MIe(t){return/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?du.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?du.vimeo:null}function xC(){}class OIe{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):xC}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):xC}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):xC}}let DIe=class Ys{constructor(e){Qt(this,"onChange",()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;Ee.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;$n.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)}),Qt(this,"toggleFallback",(n=!1)=>{if(n){var r,i;this.scrollPosition={x:(r=window.scrollX)!==null&&r!==void 0?r:0,y:(i=window.scrollY)!==null&&i!==void 0?i:0}}else window.scrollTo(this.scrollPosition.x,this.scrollPosition.y);if(document.body.style.overflow=n?"hidden":"",Dr(this.target,this.player.config.classNames.fullscreen.fallback,n),Ao.isIos){let o=document.head.querySelector('meta[name="viewport"]');const a="viewport-fit=cover";o||(o=document.createElement("meta"),o.setAttribute("name","viewport"));const s=Ee.string(o.content)&&o.content.includes(a);n?(this.cleanupViewport=!s,s||(o.content+=`,${a}`)):this.cleanupViewport&&(o.content=o.content.split(",").filter(l=>l.trim()!==a).join(","))}this.onChange()}),Qt(this,"trapFocus",n=>{if(Ao.isIos||Ao.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=Cg.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,a=i[i.length-1];r===a&&!n.shiftKey?(o.focus(),n.preventDefault()):r===o&&n.shiftKey&&(a.focus(),n.preventDefault())}),Qt(this,"update",()=>{if(this.supported){let n;this.forceFallback?n="Fallback (forced)":Ys.nativeSupported?n="Native":n="Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Dr(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),Qt(this,"enter",()=>{this.supported&&(Ao.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Ys.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Ee.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),Qt(this,"exit",()=>{if(this.supported){if(Ao.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),dl(this.player.play());else if(!Ys.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(!this.prefix)(document.cancelFullScreen||document.exitFullscreen).call(document);else if(!Ee.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}}),Qt(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=Ys.prefix,this.property=Ys.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&mIe(this.player.elements.container,e.config.fullscreen.container),Ar.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Ar.call(this.player,this.player.elements.container,"dblclick",n=>{Ee.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")}),Ar.call(this,this.player.elements.container,"keydown",n=>this.trapFocus(n)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Ys.nativeSupported&&!this.forceFallback}static get prefix(){if(Ee.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(r=>Ee.function(document[`${r}ExitFullscreen`])||Ee.function(document[`${r}CancelFullScreen`])?(e=r,!0):!1),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Ys.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Ys.nativeSupported||!Ao.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Ys.nativeSupported||this.forceFallback)return k1(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){var e;return Ao.isIos&&this.player.config.fullscreen.iosNative?this.player.media:(e=this.player.elements.fullscreen)!==null&&e!==void 0?e:this.player.elements.container}};function pb(t,e=1){return new Promise((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=e?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:t})})}const Wr={addStyleHook(){Dr(this.elements.container,this.config.selectors.container.replace(".",""),!0),Dr(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui){this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),Wr.toggleNativeControls.call(this,!0);return}Ee.element(this.elements.controls)||(Gt.inject.call(this),this.listeners.controls()),Wr.toggleNativeControls.call(this),this.isHTML5&&Tr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Gt.updateVolume.call(this),Gt.timeUpdate.call(this),Gt.durationUpdate.call(this),Wr.checkPlaying.call(this),Dr(this.elements.container,this.config.classNames.pip.supported,Oi.pip&&this.isHTML5&&this.isVideo),Dr(this.elements.container,this.config.classNames.airplay.supported,Oi.airplay&&this.isHTML5),Dr(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{$n.call(this,this.media,"ready")},0),Wr.setTitle.call(this),this.poster&&Wr.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Gt.durationUpdate.call(this),this.config.mediaMetadata&&Gt.setMediaMetadata.call(this)},setTitle(){let t=fo.get("play",this.config);if(Ee.string(this.config.title)&&!Ee.empty(this.config.title)&&(t+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const e=ro.call(this,"iframe");if(!Ee.element(e))return;const n=Ee.empty(this.config.title)?"video":this.config.title,r=fo.get("frameTitle",this.config);e.setAttribute("title",r.replace("{title}",n))}},togglePoster(t){Dr(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),yIe.call(this).then(()=>pb(t)).catch(n=>{throw t===this.poster&&Wr.togglePoster.call(this,!1),n}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),Wr.togglePoster.call(this,!0),t)))},checkPlaying(t){Dr(this.elements.container,this.config.classNames.playing,this.playing),Dr(this.elements.container,this.config.classNames.paused,this.paused),Dr(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",fo.get(this.playing?"pause":"play",this.config))}),!(Ee.event(t)&&t.type==="timeupdate")&&Wr.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Dr(this.elements.container,this.config.classNames.loading,this.loading),Wr.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(t||this.loading||this.paused||e.pressed||e.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!Ee.empty(t)&&Ee.string(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),Ee.empty(this.media.style)&&this.media.removeAttribute("style")}};class FIe{constructor(e){Qt(this,"firstTouch",()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,Dr(r.container,n.config.classNames.isTouch,!0)}),Qt(this,"global",(n=!0)=>{const{player:r}=this;r.config.keyboard.global&&Ag.call(r,window,"keydown keyup",this.handleKey,n,!1),Ag.call(r,document.body,"click",this.toggleMenu,n),v5.call(r,document.body,"touchstart",this.firstTouch)}),Qt(this,"container",()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&Ar.call(n,i.container,"keydown keyup",this.handleKey,!1),Ar.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:c}=i;c&&l.type==="enterfullscreen"&&(c.pressed=!1,c.hover=!1);const u=["touchstart","touchmove","mousemove"].includes(l.type);let d=0;u&&(Wr.toggleControls.call(n,!0),d=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),d)});const a=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:c}=n.fullscreen,[u,d]=y5.call(n),h=Sj(`aspect-ratio: ${u} / ${d}`);if(!c){h?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null);return}const[f,p]=bIe(),g=f/p>u/d;h?(l.style.width=g?"auto":"100%",l.style.height=g?"100%":"auto"):(l.style.maxWidth=g?`${p/d*u}px`:null,l.style.margin=g?"0 auto":null)},s=()=>{clearTimeout(o.resized),o.resized=setTimeout(a,50)};Ar.call(n,i.container,"enterfullscreen exitfullscreen",l=>{const{target:c}=n.fullscreen;if(c!==i.container||!n.isEmbed&&Ee.empty(n.config.ratio))return;a(),(l.type==="enterfullscreen"?Ar:Gx).call(n,window,"resize",s)})}),Qt(this,"media",()=>{const{player:n}=this,{elements:r}=n;if(Ar.call(n,n.media,"timeupdate seeking seeked",o=>Gt.timeUpdate.call(n,o)),Ar.call(n,n.media,"durationchange loadeddata loadedmetadata",o=>Gt.durationUpdate.call(n,o)),Ar.call(n,n.media,"ended",()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),Ar.call(n,n.media,"progress playing seeking seeked",o=>Gt.updateProgress.call(n,o)),Ar.call(n,n.media,"volumechange",o=>Gt.updateVolume.call(n,o)),Ar.call(n,n.media,"playing play pause ended emptied timeupdate",o=>Wr.checkPlaying.call(n,o)),Ar.call(n,n.media,"waiting canplay seeked playing",o=>Wr.checkLoading.call(n,o)),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=ro.call(n,`.${n.config.classNames.video}`);if(!Ee.element(o))return;Ar.call(n,r.container,"click",a=>{![r.container,o].includes(a.target)&&!o.contains(a.target)||n.touch&&n.config.hideControls||(n.ended?(this.proxy(a,n.restart,"restart"),this.proxy(a,()=>{dl(n.play())},"play")):this.proxy(a,()=>{dl(n.togglePlay())},"play"))})}n.supported.ui&&n.config.disableContextMenu&&Ar.call(n,r.wrapper,"contextmenu",o=>{o.preventDefault()},!1),Ar.call(n,n.media,"volumechange",()=>{n.storage.set({volume:n.volume,muted:n.muted})}),Ar.call(n,n.media,"ratechange",()=>{Gt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),Ar.call(n,n.media,"qualitychange",o=>{Gt.updateSetting.call(n,"quality",null,o.detail.quality)}),Ar.call(n,n.media,"ready qualitychange",()=>{Gt.setDownloadUrl.call(n)});const i=n.config.events.concat(["keyup","keydown"]).join(" ");Ar.call(n,n.media,i,o=>{let{detail:a={}}=o;o.type==="error"&&(a=n.media.error),$n.call(n,r.container,o.type,!0,a)})}),Qt(this,"proxy",(n,r,i)=>{const{player:o}=this,a=o.config.listeners[i],s=Ee.function(a);let l=!0;s&&(l=a.call(o,n)),l!==!1&&Ee.function(r)&&r.call(o,n)}),Qt(this,"bind",(n,r,i,o,a=!0)=>{const{player:s}=this,l=s.config.listeners[o],c=Ee.function(l);Ar.call(s,n,r,u=>this.proxy(u,i,o),a&&!c)}),Qt(this,"controls",()=>{const{player:n}=this,{elements:r}=n,i=Ao.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(o=>{this.bind(o,"click",()=>{dl(n.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{n.lastSeekTime=Date.now(),n.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{n.lastSeekTime=Date.now(),n.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{n.muted=!n.muted},"mute"),this.bind(r.buttons.captions,"click",()=>n.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{$n.call(n,n.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{n.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{n.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",o=>{o.stopPropagation(),o.preventDefault(),Gt.toggleMenu.call(n,o)},null,!1),this.bind(r.buttons.settings,"keyup",o=>{if([" ","Enter"].includes(o.key)){if(o.key==="Enter"){Gt.focusFirstMenuItem.call(n,null,!0);return}o.preventDefault(),o.stopPropagation(),Gt.toggleMenu.call(n,o)}},null,!1),this.bind(r.settings.menu,"keydown",o=>{o.key==="Escape"&&Gt.toggleMenu.call(n,o)}),this.bind(r.inputs.seek,"mousedown mousemove",o=>{const a=r.progress.getBoundingClientRect(),s=o.pageX-o.clientX,l=100/a.width*(o.pageX-a.left-s);o.currentTarget.setAttribute("seek-value",l)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",o=>{const a=o.currentTarget,s="play-on-seeked";if(Ee.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=a.hasAttribute(s),c=["mouseup","touchend","keyup"].includes(o.type);l&&c?(a.removeAttribute(s),dl(n.play())):!c&&n.playing&&(a.setAttribute(s,""),n.pause())}),Ao.isIos){const o=Cg.call(n,'input[type="range"]');Array.from(o).forEach(a=>this.bind(a,i,s=>xj(s.target)))}this.bind(r.inputs.seek,i,o=>{const a=o.currentTarget;let s=a.getAttribute("seek-value");Ee.empty(s)&&(s=a.value),a.removeAttribute("seek-value"),n.currentTime=s/a.max*n.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",o=>Gt.updateSeekTooltip.call(n,o)),this.bind(r.progress,"mousemove touchmove",o=>{const{previewThumbnails:a}=n;a&&a.loaded&&a.startMove(o)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",o=>{const{previewThumbnails:a}=n;a&&a.loaded&&a.startScrubbing(o)}),this.bind(r.progress,"mouseup touchend",o=>{const{previewThumbnails:a}=n;a&&a.loaded&&a.endScrubbing(o)}),Ao.isWebKit&&Array.from(Cg.call(n,'input[type="range"]')).forEach(o=>{this.bind(o,"input",a=>Gt.updateRangeFill.call(n,a.target))}),n.config.toggleInvert&&!Ee.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Gt.timeUpdate.call(n))}),this.bind(r.inputs.volume,i,o=>{n.volume=o.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(o=>!o.contains(r.container)).forEach(o=>{this.bind(o,"mouseenter mouseleave",a=>{r.controls&&(r.controls.hover=!n.touch&&a.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)}),this.bind(r.controls,"focusin",()=>{const{config:o,timers:a}=n;Dr(r.controls,o.classNames.noTransition,!0),Wr.toggleControls.call(n,!0),setTimeout(()=>{Dr(r.controls,o.classNames.noTransition,!1)},0);const s=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),s)}),this.bind(r.inputs.volume,"wheel",o=>{const a=o.webkitDirectionInvertedFromDevice,[s,l]=[o.deltaX,-o.deltaY].map(d=>a?-d:d),c=Math.sign(Math.abs(s)>Math.abs(l)?s:l);n.increaseVolume(c/50);const{volume:u}=n.media;(c===1&&u<1||c===-1&&u>0)&&o.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:a,ctrlKey:s,metaKey:l,shiftKey:c}=e,u=o==="keydown",d=u&&i===this.lastKey;if(a||s||l||c||!i)return;const h=f=>{n.currentTime=n.duration/10*f};if(u){const f=document.activeElement;if(Ee.element(f)){const{editable:g}=n.config.selectors,{seek:m}=r.inputs;if(f!==m&&$d(f,g)||e.key===" "&&$d(f,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||h(Number.parseInt(i,10));break;case" ":case"k":d||dl(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop;break}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}toggleMenu(e){Gt.toggleMenu.call(this.player,e)}}function $Ie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mb={exports:{}},BIe=mb.exports,lI;function NIe(){return lI||(lI=1,function(t,e){(function(n,r){t.exports=r()})(BIe,function(){var n=function(){},r={},i={},o={};function a(h,f){h=h.push?h:[h];var p=[],g=h.length,m=g,y,b,x,w;for(y=function(C,S){S.length&&p.push(C),m--,m||f(p)};g--;){if(b=h[g],x=i[b],x){y(b,x);continue}w=o[b]=o[b]||[],w.push(y)}}function s(h,f){if(h){var p=o[h];if(i[h]=f,!!p)for(;p.length;)p[0](h,f),p.splice(0,1)}}function l(h,f){h.call&&(h={success:h}),f.length?(h.error||n)(f):(h.success||n)(h)}function c(h,f,p,g){var m=document,y=p.async,b=(p.numRetries||0)+1,x=p.before||n,w=h.replace(/[\?|#].*$/,""),C=h.replace(/^(css|img|module|nomodule)!/,""),S,A,T;if(g=g||0,/(^css!|\.css$)/.test(w))T=m.createElement("link"),T.rel="stylesheet",T.href=C,S="hideFocus"in T,S&&T.relList&&(S=0,T.rel="preload",T.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(w))T=m.createElement("img"),T.src=C;else if(T=m.createElement("script"),T.src=C,T.async=y===void 0?!0:y,A="noModule"in T,/^module!/.test(w)){if(!A)return f(h,"l");T.type="module"}else if(/^nomodule!/.test(w)&&A)return f(h,"l");T.onload=T.onerror=T.onbeforeload=function(k){var E=k.type[0];if(S)try{T.sheet.cssText.length||(E="e")}catch(P){P.code!=18&&(E="e")}if(E=="e"){if(g+=1,g<b)return c(h,f,p,g)}else if(T.rel=="preload"&&T.as=="style")return T.rel="stylesheet";f(h,E,k.defaultPrevented)},x(h,T)!==!1&&m.head.appendChild(T)}function u(h,f,p){h=h.push?h:[h];var g=h.length,m=g,y=[],b,x;for(b=function(w,C,S){if(C=="e"&&y.push(w),C=="b")if(S)y.push(w);else return;g--,g||f(y)},x=0;x<m;x++)c(h[x],b,p)}function d(h,f,p){var g,m;if(f&&f.trim&&(g=f),m=(g?p:f)||{},g){if(g in r)throw"LoadJS";r[g]=!0}function y(b,x){u(h,function(w){l(m,w),b&&l({success:b,error:x},w),s(g,w)},m)}if(m.returnPromise)return new Promise(y);y()}return d.ready=function(f,p){return a(f,function(g){l(p,g)}),d},d.done=function(f){s(f,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(f){return f in r},d})}(mb)),mb.exports}var zIe=NIe(),HIe=$Ie(zIe);function b5(t){return new Promise((e,n)=>{HIe(t,{success:e,error:n})})}function UIe(t){if(Ee.empty(t))return null;if(Ee.number(Number(t)))return t;const e=/^.*(vimeo.com\/|video\/)(\d+).*/,n=t.match(e);return n?n[2]:t}function jIe(t){const e=/^.*(vimeo.com\/|video\/)(\d+)(\?.*h=|\/)+([\d,a-f]+)/,n=t.match(e);return n&&n.length===5?n[4]:null}function f0(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,$n.call(this,this.media,t?"play":"pause"))}const JS={setup(){const t=this;Dr(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,sp.call(t),Ee.object(window.Vimeo)?JS.ready.call(t):b5(t.config.urls.vimeo.sdk).then(()=>{JS.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:n,referrerPolicy:r,...i}=e;let o=t.media.getAttribute("src"),a="";Ee.empty(o)?(o=t.media.getAttribute(t.config.attributes.embed.id),a=t.media.getAttribute(t.config.attributes.embed.hash)):a=jIe(o);const s=a?{h:a}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=Ij({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...s,...i}),c=UIe(o),u=Fn("iframe"),d=ZS(t.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",d),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Ee.empty(r)||u.setAttribute("referrerPolicy",r),n||!e.customControls)u.setAttribute("data-poster",t.poster),t.media=S1(u,t.media);else{const b=Fn("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});b.appendChild(u),t.media=S1(b,t.media)}e.customControls||dv(ZS(t.config.urls.vimeo.api,d)).then(b=>{Ee.empty(b)||!b.thumbnail_url||Wr.setPoster.call(t,b.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(u,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(f0.call(t,!0),t.embed.play()),t.media.pause=()=>(f0.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:h}=t.media;Object.defineProperty(t.media,"currentTime",{get(){return h},set(b){const{embed:x,media:w,paused:C,volume:S}=t,A=C&&!x.hasPlayed;w.seeking=!0,$n.call(t,w,"seeking"),Promise.resolve(A&&x.setVolume(0)).then(()=>x.setCurrentTime(b)).then(()=>A&&x.pause()).then(()=>A&&x.setVolume(S)).catch(()=>{})}});let f=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get(){return f},set(b){t.embed.setPlaybackRate(b).then(()=>{f=b,$n.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:p}=t.config;Object.defineProperty(t.media,"volume",{get(){return p},set(b){t.embed.setVolume(b).then(()=>{p=b,$n.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get(){return g},set(b){const x=Ee.boolean(b)?b:!1;t.embed.setMuted(x?!0:t.config.muted).then(()=>{g=x,$n.call(t,t.media,"volumechange")})}});let{loop:m}=t.config;Object.defineProperty(t.media,"loop",{get(){return m},set(b){const x=Ee.boolean(b)?b:t.config.loop.active;t.embed.setLoop(x).then(()=>{m=x})}});let y;t.embed.getVideoUrl().then(b=>{y=b,Gt.setDownloadUrl.call(t)}).catch(b=>{this.debug.warn(b)}),Object.defineProperty(t.media,"currentSrc",{get(){return y}}),Object.defineProperty(t.media,"ended",{get(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(b=>{const[x,w]=b;t.embed.ratio=Ej(x,w),sp.call(this)}),t.embed.setAutopause(t.config.autopause).then(b=>{t.config.autopause=b}),t.embed.getVideoTitle().then(b=>{t.config.title=b,Wr.setTitle.call(this)}),t.embed.getCurrentTime().then(b=>{h=b,$n.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(b=>{t.media.duration=b,$n.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(b=>{t.media.textTracks=b,Tr.setup.call(t)}),t.embed.on("cuechange",({cues:b=[]})=>{const x=b.map(w=>_Ie(w.text));Tr.updateCues.call(t,x)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(b=>{f0.call(t,!b),b||$n.call(t,t.media,"playing")}),Ee.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{$n.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{$n.call(t,t.media,"playing")}),t.embed.on("play",()=>{f0.call(t,!0),$n.call(t,t.media,"playing")}),t.embed.on("pause",()=>{f0.call(t,!1)}),t.embed.on("timeupdate",b=>{t.media.seeking=!1,h=b.seconds,$n.call(t,t.media,"timeupdate")}),t.embed.on("progress",b=>{t.media.buffered=b.percent,$n.call(t,t.media,"progress"),Number.parseInt(b.percent,10)===1&&$n.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(x=>{x!==t.media.duration&&(t.media.duration=x,$n.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,$n.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,$n.call(t,t.media,"ended")}),t.embed.on("error",b=>{t.media.error=b,$n.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>Wr.build.call(t),0)}};function VIe(t){if(Ee.empty(t))return null;const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,n=t.match(e);return n&&n[2]?n[2]:t}function p0(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,$n.call(this,this.media,t?"play":"pause"))}function WIe(t){if(t.noCookie)return"https://www.youtube-nocookie.com";if(window.location.protocol==="http:")return"http://www.youtube.com"}const gb={setup(){if(Dr(this.elements.wrapper,this.config.classNames.embed,!0),Ee.object(window.YT)&&Ee.function(window.YT.Player))gb.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Ee.function(t)&&t(),gb.ready.call(this)},b5(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(t){const e=ZS(this.config.urls.youtube.api,t);dv(e).then(n=>{if(Ee.object(n)){const{title:r,height:i,width:o}=n;this.config.title=r,Wr.setTitle.call(this),this.embed.ratio=Ej(o,i)}sp.call(this)}).catch(()=>{sp.call(this)})},ready(){const t=this,e=t.config.youtube,n=t.media&&t.media.getAttribute("id");if(!Ee.empty(n)&&n.startsWith("youtube-"))return;let r=t.media.getAttribute("src");Ee.empty(r)&&(r=t.media.getAttribute(this.config.attributes.embed.id));const i=VIe(r),o=kIe(t.provider),a=Fn("div",{id:o,"data-poster":e.customControls?t.poster:void 0});if(t.media=S1(a,t.media),e.customControls){const s=l=>`https://i.ytimg.com/vi/${i}/${l}default.jpg`;pb(s("maxres"),121).catch(()=>pb(s("sd"),121)).catch(()=>pb(s("hq"))).then(l=>Wr.setPoster.call(t,l.src)).then(l=>{l.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:i,host:WIe(e),playerVars:Mi({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.playsinline&&!t.config.fullscreen.iosNative?1:0,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(s){if(!t.media.error){const l=s.data,c={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[l]||"An unknown error occurred";t.media.error={code:l,message:c},$n.call(t,t.media,"error")}},onPlaybackRateChange(s){const l=s.target;t.media.playbackRate=l.getPlaybackRate(),$n.call(t,t.media,"ratechange")},onReady(s){if(Ee.function(t.media.play))return;const l=s.target;gb.getTitle.call(t,i),t.media.play=()=>{p0.call(t,!0),l.playVideo()},t.media.pause=()=>{p0.call(t,!1),l.pauseVideo()},t.media.stop=()=>{l.stopVideo()},t.media.duration=l.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get(){return Number(l.getCurrentTime())},set(h){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,$n.call(t,t.media,"seeking"),l.seekTo(h)}}),Object.defineProperty(t.media,"playbackRate",{get(){return l.getPlaybackRate()},set(h){l.setPlaybackRate(h)}});let{volume:c}=t.config;Object.defineProperty(t.media,"volume",{get(){return c},set(h){c=h,l.setVolume(c*100),$n.call(t,t.media,"volumechange")}});let{muted:u}=t.config;Object.defineProperty(t.media,"muted",{get(){return u},set(h){const f=Ee.boolean(h)?h:u;u=f,l[f?"mute":"unMute"](),l.setVolume(c*100),$n.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get(){return l.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get(){return t.currentTime===t.duration}});const d=l.getAvailablePlaybackRates();t.options.speed=d.filter(h=>t.config.speed.options.includes(h)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),$n.call(t,t.media,"timeupdate"),$n.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=l.getVideoLoadedFraction(),(t.media.lastBuffered===null||t.media.lastBuffered<t.media.buffered)&&$n.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,t.media.buffered===1&&(clearInterval(t.timers.buffering),$n.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>Wr.build.call(t),50)},onStateChange(s){const l=s.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(s.data)&&(t.media.seeking=!1,$n.call(t,t.media,"seeked")),s.data){case-1:$n.call(t,t.media,"timeupdate"),t.media.buffered=l.getVideoLoadedFraction(),$n.call(t,t.media,"progress");break;case 0:p0.call(t,!1),t.media.loop?(l.stopVideo(),l.playVideo()):$n.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(p0.call(t,!0),$n.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{$n.call(t,t.media,"timeupdate")},50),t.media.duration!==l.getDuration()&&(t.media.duration=l.getDuration(),$n.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),p0.call(t,!1);break;case 3:$n.call(t,t.media,"waiting");break}$n.call(t,t.elements.container,"statechange",!1,{code:s.data})}}})}},Mj={setup(){if(!this.media){this.debug.warn("No media element found!");return}Dr(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Dr(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Dr(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Fn("div",{class:this.config.classNames.video}),Cj(this.media,this.elements.wrapper),this.elements.poster=Fn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?xu.setup.call(this):this.isYouTube?gb.setup.call(this):this.isVimeo&&JS.setup.call(this)}};function qIe(t){t.manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()}class KIe{constructor(e){Qt(this,"load",()=>{this.enabled&&(!Ee.object(window.google)||!Ee.object(window.google.ima)?b5(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}):this.ready())}),Qt(this,"ready",()=>{this.enabled||qIe(this),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),Qt(this,"setupIMA",()=>{this.elements.container=Fn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n=>this.onAdsManagerLoaded(n),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n),!1),this.requestAds()}),Qt(this,"requestAds",()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),Qt(this,"pollCountdown",(n=!1)=>{if(!n){clearInterval(this.countdownTimer),this.elements.container.removeAttribute("data-badge-text");return}const r=()=>{const i=Yx(Math.max(this.manager.getRemainingTime(),0)),o=`${fo.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",o)};this.countdownTimer=setInterval(r,100)}),Qt(this,"onAdsManagerLoaded",n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i)),Object.keys(google.ima.AdEvent.Type).forEach(i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],o=>this.onAdEvent(o))}),this.trigger("loaded")}),Qt(this,"addCuePoints",()=>{Ee.empty(this.cuePoints)||this.cuePoints.forEach(n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(Ee.element(r)){const i=100/this.player.duration*n,o=Fn("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}})}),Qt(this,"onAdEvent",n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{$n.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`);break}}),Qt(this,"onAdError",n=>{this.cancel(),this.player.debug.warn("Ads error",n)}),Qt(this,"listeners",()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;Ee.empty(this.cuePoints)||this.cuePoints.forEach((o,a)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}),Qt(this,"play",()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),Qt(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,dl(this.player.media.play())}),Qt(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),Qt(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),Qt(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(n=>{this.on("loaded",n),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),Qt(this,"trigger",(n,...r)=>{const i=this.events[n];Ee.array(i)&&i.forEach(o=>{Ee.function(o)&&o.apply(this,r)})}),Qt(this,"on",(n,r)=>(Ee.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this)),Qt(this,"startSafetyTimer",(n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},n)}),Qt(this,"clearSafetyTimer",n=>{Ee.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((n,r)=>{this.on("loaded",n),this.on("error",r)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Ee.empty(e.publisherId)||Ee.url(e.tagUrl))}get tagUrl(){const{config:e}=this;if(Ee.url(e.tagUrl))return e.tagUrl;const n={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return`https://go.aniview.com/api/adserver6/vast/?${Ij(n)}`}}function Oj(t=0,e=0,n=255){return Math.min(Math.max(t,e),n)}function GIe(t){const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(r=>{const i={};r.split(/\r\n|\n|\r/).forEach(a=>{if(Ee.number(i.startTime)){if(!Ee.empty(a.trim())&&Ee.empty(i.text)){const s=a.trim().split("#xywh=");[i.text]=s,s[1]&&([i.x,i.y,i.w,i.h]=s[1].split(","))}}else{const s=a.match(/(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})( ?--> ?)(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})/);s&&(i.startTime=Number(s[1]||0)*60*60+Number(s[2])*60+Number(s[3])+ +`0.${s[4]}`,i.endTime=Number(s[6]||0)*60*60+Number(s[7])*60+Number(s[8])+ +`0.${s[9]}`)}}),i.text&&e.push(i)}),e}function cI(t,e){const n=e.width/e.height,r={};return t>n?(r.width=e.width,r.height=1/t*e.width):(r.height=e.height,r.width=t*e.height),r}class ek{constructor(e){Qt(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),Qt(this,"getThumbnails",()=>new Promise(n=>{const{src:r}=this.player.config.previewThumbnails;if(Ee.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((o,a)=>o.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(Ee.function(r))r(o=>{this.thumbnails=o,i()});else{const a=(Ee.string(r)?[r]:r).map(s=>this.getThumbnail(s));Promise.all(a).then(i)}})),Qt(this,"getThumbnail",n=>new Promise(r=>{dv(n,void 0,this.player.config.previewThumbnails.withCredentials).then(i=>{const o={frames:GIe(i),height:null,urlPrefix:""};!o.frames[0].text.startsWith("/")&&!o.frames[0].text.startsWith("http://")&&!o.frames[0].text.startsWith("https://")&&(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{o.height=a.naturalHeight,o.width=a.naturalWidth,this.thumbnails.push(o),r()},a.src=o.urlPrefix+o.frames[0].text})})),Qt(this,"startMove",n=>{if(this.loaded&&!(!Ee.event(n)||!["touchmove","mousemove"].includes(n.type))&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),a=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.textContent=Yx(this.seekTime);const s=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find(({time:l})=>l===Math.round(this.seekTime));s&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${s.label}<br>`)}this.showImageAtCurrentTime()}}),Qt(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),Qt(this,"startScrubbing",n=>{(Ee.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),Qt(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):v5.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),Qt(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),Qt(this,"render",()=>{this.elements.thumb.container=Fn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Fn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=Fn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Fn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),Ee.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Fn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),Qt(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),Qt(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex(o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((o,a)=>{this.loadedImages.includes(o.frames[n].text)&&(i=a)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))}),Qt(this,"loadImage",(n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,a=i.frames[r],s=i.frames[r].text,l=o+s;if(!this.currentImageElement||this.currentImageElement.dataset.filename!==s){this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const c=new Image;c.src=l,c.dataset.index=r,c.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log(`Loading image: ${l}`),c.onload=()=>this.showImage(c,a,n,r,s,!0),this.loadingImage=c,this.removeOldImages(c)}else this.showImage(this.currentImageElement,a,n,r,s,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement)}),Qt(this,"showImage",(n,r,i,o,a,s=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${o}. qual: ${i}. newimg: ${s}`),this.setImageSizeAndOffset(n,r),s&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,a))}),Qt(this,"removeOldImages",n=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout(()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},i)}})}),Qt(this,"preloadNearby",(n,r=!0)=>new Promise(i=>{setTimeout(()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let a;r?a=this.thumbnails[0].frames.slice(n):a=this.thumbnails[0].frames.slice(0,n).reverse();let s=!1;a.forEach(l=>{const c=l.text;if(c!==o&&!this.loadedImages.includes(c)){s=!0,this.player.debug.log(`Preloading thumb filename: ${c}`);const{urlPrefix:u}=this.thumbnails[0],d=u+c,h=new Image;h.src=d,h.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${c}`),this.loadedImages.includes(c)||this.loadedImages.push(c),i()}}}),s||i()}},300)})),Qt(this,"getHigherQuality",(n,r,i,o)=>{if(n<this.thumbnails.length-1){let a=r.naturalHeight;this.usingSprites&&(a=i.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))},300)}}),Qt(this,"toggleThumbContainer",(n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),Qt(this,"toggleScrubbingContainer",(n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)}),Qt(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),Qt(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()}),Qt(this,"setThumbContainerPos",()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,a=r.right-n.left-i.clientWidth-10,s=this.mousePosX-n.left-i.clientWidth/2,l=Oj(s,o,a);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",`${s-l}px`)}),Qt(this,"setScrubbingContainerSize",()=>{const{width:n,height:r}=cI(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`}),Qt(this,"setImageSizeAndOffset",(n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=`${n.naturalHeight*i}px`,n.style.width=`${n.naturalWidth*i}px`,n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=cI(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const tk={insertElements(t,e){Ee.string(e)?iI(t,this.media,{src:e}):Ee.array(e)&&e.forEach(n=>{iI(t,this.media,n)})},change(t){if(!wj(t,"sources.length")){this.debug.warn("Invalid source format");return}xu.cancelRequests.call(this),this.destroy(()=>{this.options.quality=[],oc(this.media),this.media=null,Ee.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:n}=t,[{provider:r=du.html5,src:i}]=e,o=r==="html5"?n:"div",a=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Oi.check(n,r,this.config.playsinline),media:Fn(o,a)}),this.elements.container.appendChild(this.media),Ee.boolean(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Ee.empty(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Wr.addStyleHook.call(this),this.isHTML5&&tk.insertElements.call(this,"source",e),this.config.title=t.title,Mj.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&tk.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.isHTML5&&this.media.load(),Ee.empty(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ek(this))),this.fullscreen.update()},!0)}};class kg{constructor(e,n){if(Qt(this,"play",()=>Ee.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>dl(this.media.play())),this.media.play()):null),Qt(this,"pause",()=>!this.playing||!Ee.function(this.media.pause)?null:this.media.pause()),Qt(this,"togglePlay",s=>(Ee.boolean(s)?s:!this.playing)?this.play():this.pause()),Qt(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):Ee.function(this.media.stop)&&this.media.stop()}),Qt(this,"restart",()=>{this.currentTime=0}),Qt(this,"rewind",s=>{this.currentTime-=Ee.number(s)?s:this.config.seekTime}),Qt(this,"forward",s=>{this.currentTime+=Ee.number(s)?s:this.config.seekTime}),Qt(this,"increaseVolume",s=>{const l=this.media.muted?0:this.volume;this.volume=l+(Ee.number(s)?s:0)}),Qt(this,"decreaseVolume",s=>{this.increaseVolume(-s)}),Qt(this,"airplay",()=>{Oi.airplay&&this.media.webkitShowPlaybackTargetPicker()}),Qt(this,"toggleControls",s=>{if(this.supported.ui&&!this.isAudio){const l=k1(this.elements.container,this.config.classNames.hideControls),c=typeof s>"u"?void 0:!s,u=Dr(this.elements.container,this.config.classNames.hideControls,c);if(u&&Ee.array(this.config.controls)&&this.config.controls.includes("settings")&&!Ee.empty(this.config.settings)&&Gt.toggleMenu.call(this,!1),u!==l){const d=u?"controlshidden":"controlsshown";$n.call(this,this.media,d)}return!u}return!1}),Qt(this,"on",(s,l)=>{Ar.call(this,this.elements.container,s,l)}),Qt(this,"once",(s,l)=>{v5.call(this,this.elements.container,s,l)}),Qt(this,"off",(s,l)=>{Gx(this.elements.container,s,l)}),Qt(this,"destroy",(s,l=!1)=>{if(!this.ready)return;const c=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(oc(this.elements.buttons.play),oc(this.elements.captions),oc(this.elements.controls),oc(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Ee.function(s)&&s()):(vIe.call(this),xu.cancelRequests.call(this),S1(this.elements.original,this.elements.container),$n.call(this,this.elements.original,"destroyed",!0),Ee.function(s)&&s.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Wr.toggleNativeControls.call(this,!0),c()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Ee.function(this.embed.destroy)&&this.embed.destroy(),c()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(c),setTimeout(c,200))}),Qt(this,"supports",s=>Oi.mime.call(this,s)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Oi.touch,this.media=e,Ee.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Ee.nodeList(this.media)||Ee.array(this.media))&&(this.media=this.media[0]),this.config=Mi({},Lj,kg.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new OIe(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Oi),Ee.nullOrUndefined(this.media)||!Ee.element(this.media)){this.debug.error("Setup failed: no suitable element passed");return}if(this.media.plyr){this.debug.warn("Target already setup");return}if(!this.config.enabled){this.debug.error("Setup failed: disabled by config");return}if(!Oi.check().api){this.debug.error("Setup failed: no support");return}const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,a=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),Ee.element(o)){if(a=Pj(o.getAttribute("src")),this.provider=MIe(a.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",a.search.length){const s=["1","true"];s.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),s.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=s.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Ee.empty(this.provider)||!Object.values(du).includes(this.provider)){this.debug.error("Setup failed: Invalid provider");return}this.type=bC.video;break;case"video":case"audio":this.type=i,this.provider=du.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:this.debug.error("Setup failed: unsupported type");return}if(this.supported=Oi.check(this.type,this.provider),!this.supported.api){this.debug.error("Setup failed: no support");return}this.eventListeners=[],this.listeners=new FIe(this),this.storage=new Sg(this),this.media.plyr=this,Ee.element(this.elements.container)||(this.elements.container=Fn("div"),Cj(this.media,this.elements.container)),Wr.migrateStyles.call(this),Wr.addStyleHook.call(this),Mj.setup.call(this),this.config.debug&&Ar.call(this,this.elements.container,this.config.events.join(" "),s=>{this.debug.log(`event: ${s.type}`)}),this.fullscreen=new DIe(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new KIe(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>dl(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ek(this))}get isHTML5(){return this.provider===du.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===du.youtube}get isVimeo(){return this.provider===du.vimeo}get isVideo(){return this.type===bC.video}get isAudio(){return this.type===bC.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const n=Ee.number(e)&&e>0;this.media.currentTime=n?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return Ee.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=Number.parseFloat(this.config.duration),n=(this.media||{}).duration,r=!Ee.number(n)||n===1/0?0:n;return e||r}set volume(e){let n=e;const r=1,i=0;Ee.string(n)&&(n=Number(n)),Ee.number(n)||(n=this.storage.get("volume")),Ee.number(n)||({volume:n}=this.config),n>r&&(n=r),n<i&&(n=i),this.config.volume=n,this.media.volume=n,!Ee.empty(e)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let n=e;Ee.boolean(n)||(n=this.storage.get("muted")),Ee.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||this.isAudio?!0:!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let n=null;Ee.number(e)&&(n=e),Ee.number(n)||(n=this.storage.get("speed")),Ee.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=Oj(n,r,i),this.config.speed.selected=n,setTimeout(()=>{this.media&&(this.media.playbackRate=n)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!Ee.empty(e)&&Number(e),this.storage.get("quality"),n.selected,n.default].find(Ee.number),o=!0;if(!r.includes(i)){const a=Aj(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${a} instead`),i=a,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(e){const n=Ee.boolean(e)?e:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(e){tk.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return Ee.url(e)?e:this.source}set download(e){Ee.url(e)&&(this.config.urls.download=e,Gt.setDownloadUrl.call(this))}set poster(e){if(!this.isVideo){this.debug.warn("Poster can only be set for video");return}Wr.setPoster.call(this,e,!1).catch(()=>{})}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=E1(y5.call(this));return Ee.array(e)?e.join(":"):e}set ratio(e){if(!this.isVideo){this.debug.warn("Aspect ratio can only be set for video");return}if(!Ee.string(e)||!kj(e)){this.debug.error(`Invalid aspect ratio specified (${e})`);return}this.config.ratio=E1(e),sp.call(this)}set autoplay(e){this.config.autoplay=Ee.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){Tr.toggle.call(this,e,!1)}set currentTrack(e){Tr.set.call(this,e,!1),Tr.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:n}=this.captions;return e?n:-1}set language(e){Tr.setLanguage.call(this,e,!1)}get language(){return(Tr.getCurrentTrack.call(this)||{}).language}set pip(e){if(!Oi.pip)return;const n=Ee.boolean(e)?e:!this.pip;Ee.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?yC.active:yC.inactive),Ee.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Oi.pip?Ee.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===yC.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ek(this))}static supported(e,n){return Oi.check(e,n)}static loadSprite(e,n){return Rj(e,n)}static setup(e,n={}){let r=null;return Ee.string(e)?r=Array.from(document.querySelectorAll(e)):Ee.nodeList(e)?r=Array.from(e):Ee.array(e)&&(r=e.filter(Ee.element)),Ee.empty(r)?null:r.map(i=>new kg(i,n))}}kg.defaults=fIe(Lj);const YIe={class:"test-plyr"},XIe=le({__name:"index",setup(t){const e=_x(),n=V(null);let r=null,i=null;jn(()=>{if(!n.value)return;r=new kg(n.value,{autoplay:!0,hideControls:!1,displayDuration:!0,storage:{enabled:!1},disableContextMenu:!1,settings:["captions","quality","speed"],controls:["play","progress","current-time","mute","settings"],speed:{selected:1,options:[1.5,2,1]},i18n:{normal:"",speed:""}});const a=e.query.src;a&&o(a)}),qt(()=>e.query.src,a=>{a&&o(a)}),Rl(()=>{r&&(r.destroy(),r=null),i&&(i.destroy(),i=null)});const o=a=>{n.value&&(a.endsWith(".m3u8")?ks.isSupported()?(i&&i.destroy(),i=new ks,i.loadSource(a),i.attachMedia(n.value)):n.value.canPlayType("application/vnd.apple.mpegurl")?n.value.src=a:alert("HLS.js "):n.value.src=a,n.value.load())};return(a,s)=>(gn(),Pn("div",YIe,[Wf("video",{ref_key:"videoRef",ref:n,controls:"",crossorigin:"anonymous",playsinline:""},null,512)]))}}),QIe=Object.freeze(Object.defineProperty({__proto__:null,default:XIe},Symbol.toStringTag,{value:"Module"}));var Dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={916:(a,s,l)=>{var c=l(471);a.exports=function(u){var d,h="",f=(u=u||{}).video,p=u.options,g=c.$escape,m=u.tran,y=u.icons,b=u.index,x=c.$each;return u.$value,u.$index,h+=`<div class="dplayer-mask"></div>
<div class="dplayer-video-wrap">
    `,d=l(568)(f),h+=d,h+=`
    `,p.logo&&(h+=`
    <div class="dplayer-logo">
        <img src="`,h+=g(p.logo),h+=`">
    </div>
    `),h+=`
    <div class="dplayer-danmaku"`,p.danmaku&&p.danmaku.bottom&&(h+=' style="margin-bottom:',h+=g(p.danmaku.bottom),h+='"'),h+=`>
        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>
    </div>
    <div class="dplayer-subtitle"></div>
    <div class="dplayer-bezel">
        <span class="dplayer-bezel-icon"></span>
        `,p.danmaku&&(h+=`
        <span class="dplayer-danloading">`,h+=g(m("danmaku-loading")),h+=`</span>
        `),h+=`
        <span class="diplayer-loading-icon">`,h+=y.loading,h+=`</span>
    </div>
</div>
<div class="dplayer-controller-mask"></div>
<div class="dplayer-controller">
    <div class="dplayer-icons dplayer-comment-box">
        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="`,h+=g(m("setting")),h+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,h+=y.pallette,h+=`</span>
        </button>
        <div class="dplayer-comment-setting-box">
            <div class="dplayer-comment-setting-color">
                <div class="dplayer-comment-setting-title">`,h+=g(m("set-danmaku-color")),h+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#fff" checked>
                    <span style="background: #fff;"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#e54256">
                    <span style="background: #e54256"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#ffe133">
                    <span style="background: #ffe133"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#64DD17">
                    <span style="background: #64DD17"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#39ccff">
                    <span style="background: #39ccff"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,h+=g(b),h+=`" value="#D500F9">
                    <span style="background: #D500F9"></span>
                </label>
            </div>
            <div class="dplayer-comment-setting-type">
                <div class="dplayer-comment-setting-title">`,h+=g(m("set-danmaku-type")),h+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,h+=g(b),h+=`" value="1">
                    <span>`,h+=g(m("top")),h+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,h+=g(b),h+=`" value="0" checked>
                    <span>`,h+=g(m("rolling")),h+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,h+=g(b),h+=`" value="2">
                    <span>`,h+=g(m("bottom")),h+=`</span>
                </label>
            </div>
        </div>
        <input class="dplayer-comment-input" type="text" placeholder="`,h+=g(m("input-danmaku-enter")),h+=`" maxlength="30">
        <button class="dplayer-icon dplayer-send-icon" data-balloon="`,h+=g(m("send")),h+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,h+=y.send,h+=`</span>
        </button>
    </div>
    <div class="dplayer-icons dplayer-icons-left">
        <button class="dplayer-icon dplayer-play-icon">
            <span class="dplayer-icon-content">`,h+=y.play,h+=`</span>
        </button>
        <div class="dplayer-volume">
            <button class="dplayer-icon dplayer-volume-icon">
                <span class="dplayer-icon-content">`,h+=y.volumeDown,h+=`</span>
            </button>
            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">
                <div class="dplayer-volume-bar">
                    <div class="dplayer-volume-bar-inner" style="background: `,h+=g(p.theme),h+=`;">
                        <span class="dplayer-thumb" style="background: `,h+=g(p.theme),h+=`"></span>
                    </div>
                </div>
            </div>
        </div>
        <span class="dplayer-time">
            <span class="dplayer-ptime">0:00</span> /
            <span class="dplayer-dtime">0:00</span>
        </span>
        `,p.live&&(h+=`
        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: `,h+=g(p.theme),h+=';"></span>',h+=g(m("live")),h+=`</span>
        `),h+=`
    </div>
    <div class="dplayer-icons dplayer-icons-right">
        `,p.video.quality&&(h+=`
        <div class="dplayer-quality">
            <button class="dplayer-icon dplayer-quality-icon">`,h+=g(p.video.quality[p.video.defaultQuality].name),h+=`</button>
            <div class="dplayer-quality-mask">
                <div class="dplayer-quality-list">
                `,x(p.video.quality,function(w,C){h+=`
                    <div class="dplayer-quality-item" data-index="`,h+=g(C),h+='">',h+=g(w.name),h+=`</div>
                `}),h+=`
                </div>
            </div>
        </div>
        `),h+=`
        `,p.screenshot&&(h+=`
        <div class="dplayer-icon dplayer-camera-icon" data-balloon="`,h+=g(m("screenshot")),h+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,h+=y.camera,h+=`</span>
        </div>
        `),h+=`
        `,p.airplay&&(h+=`
        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="`,h+=g(m("airplay")),h+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,h+=y.airplay,h+=`</span>
        </div>
        `),h+=`
        `,p.chromecast&&(h+=`
        <div class="dplayer-icon dplayer-chromecast-icon" data-balloon="`,h+=g(m("chromecast")),h+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,h+=y.chromecast,h+=`</span>
        </div>
        `),h+=`
        <div class="dplayer-comment">
            <button class="dplayer-icon dplayer-comment-icon" data-balloon="`,h+=g(m("send-danmaku")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.comment,h+=`</span>
            </button>
        </div>
        `,p.subtitle&&(h+=`
        `,typeof p.subtitle.url=="string"?(h+=`
        <div class="dplayer-subtitle-btn">
            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="`,h+=g(m("hide-subs")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.subtitle,h+=`</span>
            </button>
        </div>
        `):(h+=`
        <div class="dplayer-subtitles">
            <button class="dplayer-icon dplayer-subtitles-icon" data-balloon="`,h+=g(m("subtitle")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.subtitle,h+=`</span>
            </button>
            <div class="dplayer-subtitles-box">
                <div class="dplayer-subtitles-panel">
                    `,x(p.subtitle.url,function(w,C){h+=`
                        <div class="dplayer-subtitles-item" data-subtitle="`,h+=g(w.url),h+=`">
                            \x3C!-- if lang, show tran(lang). if lang and name, show name + (tran(lang)). if name, show name. off option use lang for translation. -->
                            <span class="dplayer-label">`,h+=g(w.lang?w.name?w.name+" ("+m(w.lang)+")":m(w.lang):w.name),h+=`</span>
                        </div>
                    `}),h+=`
                </div>
            </div>
        </div>
        `),h+=`
        `),h+=`
        <div class="dplayer-setting">
            <button class="dplayer-icon dplayer-setting-icon" data-balloon="`,h+=g(m("setting")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.setting,h+=`</span>
            </button>
            <div class="dplayer-setting-box">
                <div class="dplayer-setting-origin-panel">
                    <div class="dplayer-setting-item dplayer-setting-speed">
                        <span class="dplayer-label">`,h+=g(m("speed")),h+=`</span>
                        <div class="dplayer-toggle">`,h+=y.right,h+=`</div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-loop">
                        <span class="dplayer-label">`,h+=g(m("loop")),h+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">
                            <label for="dplayer-toggle"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-showdan">
                        <span class="dplayer-label">`,h+=g(m("show-danmaku")),h+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">
                            <label for="dplayer-toggle-dan"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danunlimit">
                        <span class="dplayer-label">`,h+=g(m("unlimited-danmaku")),h+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">
                            <label for="dplayer-toggle-danunlimit"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danmaku">
                        <span class="dplayer-label">`,h+=g(m("opacity-danmaku")),h+=`</span>
                        <div class="dplayer-danmaku-bar-wrap">
                            <div class="dplayer-danmaku-bar">
                                <div class="dplayer-danmaku-bar-inner">
                                    <span class="dplayer-thumb"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dplayer-setting-speed-panel">
                    `,x(p.playbackSpeed,function(w,C){h+=`
                        <div class="dplayer-setting-speed-item" data-speed="`,h+=g(w),h+=`">
                            <span class="dplayer-label">`,h+=g(w===1?m("normal"):w),h+=`</span>
                        </div>
                    `}),h+=`
                </div>
            </div>
        </div>
        <div class="dplayer-full">
            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="`,h+=g(m("web-fullscreen")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.fullWeb,h+=`</span>
            </button>
            <button class="dplayer-icon dplayer-full-icon" data-balloon="`,h+=g(m("fullscreen")),h+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,h+=y.full,h+=`</span>
            </button>
        </div>
    </div>
    <div class="dplayer-bar-wrap">
        <div class="dplayer-bar-time hidden">00:00</div>
        <div class="dplayer-bar-preview"></div>
        <div class="dplayer-bar">
            <div class="dplayer-loaded" style="width: 0;"></div>
            <div class="dplayer-played" style="width: 0; background: `,h+=g(p.theme),h+=`">
                <span class="dplayer-thumb" style="background: `,h+=g(p.theme),h+=`"></span>
            </div>
        </div>
    </div>
</div>
<div class="dplayer-info-panel dplayer-info-panel-hide">
    <div class="dplayer-info-panel-close">[x]</div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">
        <span class="dplayer-info-panel-item-title">Player version</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">
        <span class="dplayer-info-panel-item-title">Player FPS</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">
        <span class="dplayer-info-panel-item-title">Video type</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">
        <span class="dplayer-info-panel-item-title">Video url</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">
        <span class="dplayer-info-panel-item-title">Video resolution</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">
        <span class="dplayer-info-panel-item-title">Video duration</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `,p.danmaku&&(h+=`
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">
        <span class="dplayer-info-panel-item-title">Danmaku id</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">
        <span class="dplayer-info-panel-item-title">Danmaku api</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">
        <span class="dplayer-info-panel-item-title">Danmaku amount</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `),h+=`
</div>
<div class="dplayer-menu">
    `,x(p.contextmenu,function(w,C){h+=`
        <div class="dplayer-menu-item">
            <a`,w.link&&(h+=' target="_blank"'),h+=' href="',h+=g(w.link||"javascript:void(0);"),h+='">',w.key&&(h+=" ",h+=g(m(w.key))),w.text&&(h+=" ",h+=g(w.text)),h+=`</a>
        </div>
    `}),h+=`
</div>
<div class="dplayer-notice-list"></div>
<button class="dplayer-mobile-play">
    `,h+=y.play,h+=`
</button>`}},568:(a,s,l)=>{var c=l(471);a.exports=function(u){var d="",h=(u=u||{}).enableSubtitle,f=u.subtitle,p=u.current,g=u.airplay,m=u.pic,y=c.$escape,b=u.screenshot,x=u.preload,w=u.url;return h=f&&f.type==="webvtt",d+=`
<video
    class="dplayer-video `,p&&(d+="dplayer-video-current"),d+=`"
    webkit-playsinline
    `,g&&(d+=' x-webkit-airplay="allow" '),d+=`
    playsinline
    `,m&&(d+='poster="',d+=y(m),d+='"'),d+=`
    `,(b||h)&&(d+='crossorigin="anonymous"'),d+=`
    `,x&&(d+='preload="',d+=y(x),d+='"'),d+=`
    `,g?d+=`
    nosrc
    `:w&&(d+=`
    src="`,d+=y(w),d+=`"
    `),d+=`
    >
    `,g&&(d+=`
    <source src="`,d+=y(w),d+=`">
    `),d+=`
    `,h&&(d+=`
    <track class="dplayer-subtrack" kind="metadata" default src="`,d+=y(typeof f.url=="string"?f.url:f.url[f.index].url),d+=`"></track>
    `),d+`
</video>`}},49:(a,s,l)=>{l.d(s,{Z:()=>f});var c=l(415),u=l.n(c),d=l(352),h=l.n(d)()(u());h.push([a.id,`:root {
  --balloon-border-radius: 2px;
  --balloon-color: rgba(16, 16, 16, 0.95);
  --balloon-text-color: #fff;
  --balloon-font-size: 12px;
  --balloon-move: 4px; }

button[aria-label][data-balloon-pos] {
  overflow: visible; }

[aria-label][data-balloon-pos] {
  position: relative;
  cursor: pointer; }
  [aria-label][data-balloon-pos]:after {
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    text-indent: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    font-weight: normal;
    font-style: normal;
    text-shadow: none;
    font-size: 12px;
    font-size: var(--balloon-font-size);
    background: rgba(16, 16, 16, 0.95);
    background: var(--balloon-color);
    border-radius: 2px;
    color: #fff;
    color: var(--balloon-text-color);
    border-radius: var(--balloon-border-radius);
    content: attr(aria-label);
    padding: .5em 1em;
    position: absolute;
    white-space: nowrap;
    z-index: 10; }
  [aria-label][data-balloon-pos]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-top-color: rgba(16, 16, 16, 0.95);
    border-top-color: var(--balloon-color);
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    content: "";
    position: absolute;
    z-index: 10; }
  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {
    opacity: 1;
    pointer-events: none; }
  [aria-label][data-balloon-pos].font-awesome:after {
    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
  [aria-label][data-balloon-pos][data-balloon-break]:after {
    white-space: pre; }
  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {
    white-space: pre-line;
    word-break: break-word; }
  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {
    transition: none; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {
    left: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {
    left: 5px; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {
    right: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {
    right: 5px; }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    bottom: 100%;
    transform-origin: top;
    transform: translate(0, 4px);
    transform: translate(0, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    margin-bottom: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {
    left: 50%;
    transform: translate(-50%, 4px);
    transform: translate(-50%, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    top: 100%;
    transform: translate(0, calc(4px * -1));
    transform: translate(0, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    margin-top: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-bottom-color: rgba(16, 16, 16, 0.95);
    border-bottom-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {
    left: 50%;
    transform: translate(-50%, calc(4px * -1));
    transform: translate(-50%, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    right: 100%;
    top: 50%;
    transform: translate(4px, -50%);
    transform: translate(var(--balloon-move), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {
    margin-right: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-left-color: rgba(16, 16, 16, 0.95);
    border-left-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    left: 100%;
    top: 50%;
    transform: translate(calc(4px * -1), -50%);
    transform: translate(calc(var(--balloon-move) * -1), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {
    margin-left: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-right-color: rgba(16, 16, 16, 0.95);
    border-right-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-length]:after {
    white-space: normal; }
  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {
    width: 80px; }
  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {
    width: 150px; }
  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {
    width: 260px; }
  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
    width: 380px; }
    @media screen and (max-width: 768px) {
      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
        width: 90vw; } }
  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {
    width: 100%; }
`,"",{version:3,sources:["webpack://./node_modules/.pnpm/balloon-css@1.2.0/node_modules/balloon-css/balloon.css"],names:[],mappings:"AAAA;EACE,4BAA4B;EAC5B,uCAAuC;EACvC,0BAA0B;EAC1B,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB;EAClB,eAAe,EAAE;EACjB;IACE,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,cAAc;IACd,wIAAwI;IACxI,mBAAmB;IACnB,kBAAkB;IAClB,iBAAiB;IACjB,eAAmC;IAAnC,mCAAmC;IACnC,kCAAgC;IAAhC,gCAAgC;IAChC,kBAAkB;IAClB,WAAgC;IAAhC,gCAAgC;IAChC,2CAA2C;IAC3C,yBAAyB;IACzB,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,WAAW,EAAE;EACf;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,wCAAsC;IAAtC,sCAAsC;IACtC,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,WAAW;IACX,kBAAkB;IAClB,WAAW,EAAE;EACf;IACE,UAAU;IACV,oBAAoB,EAAE;EACxB;IACE,qJAAqJ,EAAE;EACzJ;IACE,gBAAgB,EAAE;EACpB;IACE,qBAAqB;IACrB,sBAAsB,EAAE;EAC1B;IACE,gBAAgB,EAAE;EACpB;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,OAAO,EAAE;EACX;IACE,SAAS,EAAE;EACb;IACE,QAAQ,EAAE;EACZ;IACE,UAAU,EAAE;EACd;IACE,0BAA0B,EAAE;EAC9B;IACE,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,qBAAqB;IACrB,4BAA4C;IAA5C,4CAA4C,EAAE;EAChD;IACE,mBAAmB,EAAE;EACvB;IACE,SAAS;IACT,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,SAAS;IACT,uCAAuD;IAAvD,uDAAuD,EAAE;EAC3D;IACE,gBAAgB,EAAE;EACpB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,2CAAyC;IAAzC,yCAAyC,EAAE;EAC7C;IACE,SAAS;IACT,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,WAAW;IACX,QAAQ;IACR,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,kBAAkB,EAAE;EACtB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,yCAAuC;IAAvC,uCAAuC,EAAE;EAC3C;IACE,UAAU;IACV,QAAQ;IACR,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,iBAAiB,EAAE;EACrB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,0CAAwC;IAAxC,wCAAwC,EAAE;EAC5C;IACE,mBAAmB,EAAE;EACvB;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;IACd;MACE;QACE,WAAW,EAAE,EAAE;EACrB;IACE,WAAW,EAAE",sourcesContent:[`:root {
  --balloon-border-radius: 2px;
  --balloon-color: rgba(16, 16, 16, 0.95);
  --balloon-text-color: #fff;
  --balloon-font-size: 12px;
  --balloon-move: 4px; }

button[aria-label][data-balloon-pos] {
  overflow: visible; }

[aria-label][data-balloon-pos] {
  position: relative;
  cursor: pointer; }
  [aria-label][data-balloon-pos]:after {
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    text-indent: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    font-weight: normal;
    font-style: normal;
    text-shadow: none;
    font-size: var(--balloon-font-size);
    background: var(--balloon-color);
    border-radius: 2px;
    color: var(--balloon-text-color);
    border-radius: var(--balloon-border-radius);
    content: attr(aria-label);
    padding: .5em 1em;
    position: absolute;
    white-space: nowrap;
    z-index: 10; }
  [aria-label][data-balloon-pos]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-top-color: var(--balloon-color);
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    content: "";
    position: absolute;
    z-index: 10; }
  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {
    opacity: 1;
    pointer-events: none; }
  [aria-label][data-balloon-pos].font-awesome:after {
    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
  [aria-label][data-balloon-pos][data-balloon-break]:after {
    white-space: pre; }
  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {
    white-space: pre-line;
    word-break: break-word; }
  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {
    transition: none; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {
    left: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {
    left: 5px; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {
    right: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {
    right: 5px; }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    bottom: 100%;
    transform-origin: top;
    transform: translate(0, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    margin-bottom: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {
    left: 50%;
    transform: translate(-50%, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    top: 100%;
    transform: translate(0, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    margin-top: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-bottom-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {
    left: 50%;
    transform: translate(-50%, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    right: 100%;
    top: 50%;
    transform: translate(var(--balloon-move), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {
    margin-right: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-left-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    left: 100%;
    top: 50%;
    transform: translate(calc(var(--balloon-move) * -1), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {
    margin-left: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-right-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-length]:after {
    white-space: normal; }
  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {
    width: 80px; }
  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {
    width: 150px; }
  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {
    width: 260px; }
  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
    width: 380px; }
    @media screen and (max-width: 768px) {
      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
        width: 90vw; } }
  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {
    width: 100%; }
`],sourceRoot:""}]);const f=h},685:(a,s,l)=>{l.d(s,{Z:()=>x});var c=l(415),u=l.n(c),d=l(352),h=l.n(d),f=l(49),p=l(80),g=l.n(p),m=new URL(l(831),l.b),y=h()(u());y.i(f.Z);var b=g()(m);y.push([a.id,`@keyframes my-face {
  2% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  4% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  6% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  8% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  10% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  12% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  14% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  16% {
    transform: translate(0, -0.5px) rotate(-1.5deg);
  }
  18% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  20% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  22% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  24% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  26% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  28% {
    transform: translate(0, 0.5px) rotate(1.5deg);
  }
  30% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  32% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  34% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  36% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  38% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  40% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  42% {
    transform: translate(0, 2.5px) rotate(-1.5deg);
  }
  44% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  46% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  48% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  50% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  52% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  54% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  56% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  58% {
    transform: translate(0, 0.5px) rotate(2.5deg);
  }
  60% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  62% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  64% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  66% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  68% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  70% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  72% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  74% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  76% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  78% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  80% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  82% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  84% {
    transform: translate(0, 1.5px) rotate(2.5deg);
  }
  86% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  88% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  90% {
    transform: translate(0, 2.5px) rotate(-0.5deg);
  }
  92% {
    transform: translate(0, 0.5px) rotate(-0.5deg);
  }
  94% {
    transform: translate(0, 2.5px) rotate(0.5deg);
  }
  96% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  98% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
.dplayer {
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  line-height: 1;
}
.dplayer * {
  box-sizing: content-box;
}
.dplayer svg {
  width: 100%;
  height: 100%;
}
.dplayer svg path,
.dplayer svg circle {
  fill: #fff;
}
.dplayer:-webkit-full-screen {
  width: 100%;
  height: 100%;
  background: #000;
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  margin: 0;
  padding: 0;
  transform: translate(0, 0);
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-danmaku {
  display: none;
}
.dplayer.dplayer-live .dplayer-time {
  display: none;
}
.dplayer.dplayer-live .dplayer-bar-wrap {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-speed {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-loop {
  display: none;
}
.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {
  display: none;
}
.dplayer.dplayer-arrow .dplayer-danmaku {
  font-size: 18px;
}
.dplayer.dplayer-arrow .dplayer-icon {
  margin: 0 -3px;
}
.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {
  animation-play-state: running;
}
@media (min-width: 900px) {
  .dplayer.dplayer-playing .dplayer-controller-mask {
    opacity: 0;
  }
  .dplayer.dplayer-playing .dplayer-controller {
    opacity: 0;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller-mask {
    opacity: 1;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller {
    opacity: 1;
  }
}
.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {
  display: block;
}
.dplayer.dplayer-loading .dplayer-danmaku,
.dplayer.dplayer-paused .dplayer-danmaku,
.dplayer.dplayer-loading .dplayer-danmaku-move,
.dplayer.dplayer-paused .dplayer-danmaku-move {
  animation-play-state: paused;
}
.dplayer.dplayer-hide-controller {
  cursor: none;
}
.dplayer.dplayer-hide-controller .dplayer-controller-mask {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-hide-controller .dplayer-controller {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-show-controller .dplayer-controller-mask {
  opacity: 1;
}
.dplayer.dplayer-show-controller .dplayer-controller {
  opacity: 1;
}
.dplayer.dplayer-fulled {
  width: 100% !important;
  height: 100% !important;
}
.dplayer.dplayer-fulled {
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: static;
  display: inline-block;
}
.dplayer.dplayer-mobile .dplayer-bar-time {
  display: none;
}
.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-mobile-play {
  display: block;
}
.dplayer-web-fullscreen-fix {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
}
[data-balloon]:before {
  display: none;
}
[data-balloon]:after {
  padding: 0.3em 0.7em;
  background: rgba(17, 17, 17, 0.7);
}
[data-balloon][data-balloon-pos="up"]:after {
  margin-bottom: 0;
}
.dplayer-bezel {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -26px 0 0 -26px;
  height: 52px;
  width: 52px;
  padding: 12px;
  box-sizing: border-box;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {
  animation: bezel-hide 0.5s linear;
}
@keyframes bezel-hide {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}
.dplayer-bezel .dplayer-danloading {
  position: absolute;
  top: 50%;
  margin-top: -7px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  line-height: 14px;
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-bezel .diplayer-loading-icon {
  display: none;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -18px 0 0 -18px;
  height: 36px;
  width: 36px;
  pointer-events: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {
  display: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {
  animation: diplayer-loading-dot-fade 0.8s ease infinite;
  opacity: 0;
  transform-origin: 4px 4px;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {
  animation-delay: 0.1s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {
  animation-delay: 0.2s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {
  animation-delay: 0.3s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {
  animation-delay: 0.4s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {
  animation-delay: 0.5s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {
  animation-delay: 0.6s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {
  animation-delay: 0.7s;
}
@keyframes diplayer-loading-dot-fade {
  0% {
    opacity: 0.7;
    transform: scale(1.2, 1.2);
  }
  50% {
    opacity: 0.25;
    transform: scale(0.9, 0.9);
  }
  to {
    opacity: 0.25;
    transform: scale(0.85, 0.85);
  }
}
.dplayer-controller-mask {
  background: url(`+b+`) repeat-x bottom;
  height: 98px;
  width: 100%;
  position: absolute;
  bottom: 0;
  transition: all 0.3s ease;
}
.dplayer-controller {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 41px;
  padding: 0 20px;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  transition: all 0.3s ease;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons {
  display: none;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap {
  padding: 5px 0;
  cursor: pointer;
  position: absolute;
  bottom: 33px;
  width: calc(100% - 40px);
  height: 3px;
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {
  display: block;
  width: 8px;
  transform: translateX(-4px);
  top: 4px;
  height: 40%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {
  z-index: 12;
  position: absolute;
  top: 5px;
  width: 6px;
  height: 20%;
  border-radius: 6px;
  background-color: #fff;
  text-align: center;
  transform: translateX(-3px);
  transition: all 0.2s ease-in-out;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {
  display: none;
  position: absolute;
  left: 50%;
  top: -24px;
  padding: 5px 8px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  transform: translateX(-50%);
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {
  position: absolute;
  background: #fff;
  pointer-events: none;
  display: none;
  background-size: 16000px 100%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {
  position: absolute;
  left: 0px;
  top: -20px;
  border-radius: 4px;
  padding: 5px 7px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  font-size: 12px;
  text-align: center;
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
  word-wrap: normal;
  word-break: normal;
  z-index: 2;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar {
  position: relative;
  height: 3px;
  width: 100%;
  background: rgba(255, 255, 255, 0.2);
  cursor: pointer;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.4);
  height: 3px;
  transition: all 0.5s ease;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  height: 3px;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons {
  height: 38px;
  position: absolute;
  bottom: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box {
  display: none;
  position: absolute;
  transition: all 0.3s ease-in-out;
  z-index: 2;
  height: 38px;
  bottom: 0;
  left: 20px;
  right: 20px;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {
  position: absolute;
  left: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {
  position: absolute;
  right: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {
  position: absolute;
  background: rgba(28, 28, 28, 0.9);
  bottom: 41px;
  left: 0;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 10px 10px 16px;
  font-size: 14px;
  width: 204px;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {
  font-size: 13px;
  color: #fff;
  line-height: 30px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {
  margin-bottom: 6px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {
  border-radius: 4px 0 0 4px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {
  border-radius: 0 4px 4px 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {
  width: 33%;
  padding: 4px 6px;
  line-height: 16px;
  display: inline-block;
  font-size: 12px;
  color: #fff;
  border: 1px solid #fff;
  margin-right: -1px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {
  background: #E4E4E6;
  color: #1c1c1c;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {
  font-size: 0;
  padding: 6px;
  display: inline-block;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {
  width: 22px;
  height: 22px;
  display: inline-block;
  border-radius: 50%;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {
  outline: none;
  border: none;
  padding: 8px 31px;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  border-radius: 4px;
  background: none;
  margin: 0;
  height: 100%;
  box-sizing: border-box;
  width: 100%;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right {
  right: 20px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {
  padding: 8px;
}
.dplayer-controller .dplayer-icons .dplayer-time,
.dplayer-controller .dplayer-icons .dplayer-live-badge {
  line-height: 38px;
  color: #eee;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
  vertical-align: middle;
  font-size: 13px;
  cursor: default;
}
.dplayer-controller .dplayer-icons .dplayer-live-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  vertical-align: 4%;
  margin-right: 5px;
  content: '';
  border-radius: 6px;
}
.dplayer-controller .dplayer-icons .dplayer-icon {
  width: 40px;
  height: 100%;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  vertical-align: middle;
  box-sizing: border-box;
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {
  transition: all 0.2s ease-in-out;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {
  opacity: 1;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {
  color: #fff;
  width: auto;
  line-height: 22px;
  font-size: 14px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {
  padding: 10px 9px 9px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {
  padding-top: 8.5px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {
  width: 43px;
}
.dplayer-controller .dplayer-icons .dplayer-volume {
  position: relative;
  display: inline-block;
  cursor: pointer;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {
  display: inline-block;
  margin: 0 10px 0 -5px;
  vertical-align: middle;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {
  position: relative;
  top: 17px;
  width: 0;
  height: 3px;
  background: #aaa;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: -moz-fit-content;
  width: fit-content;
  max-width: 240px;
  min-width: 120px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: auto;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: 150px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {
  width: 70px;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {
  padding: 5px 0;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {
  padding: 0 10px;
  display: inline;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {
  padding: 0 10px;
  box-sizing: border-box;
  display: none;
  vertical-align: middle;
  height: 100%;
  width: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {
  position: relative;
  top: 8.5px;
  width: 100%;
  height: 3px;
  background: #fff;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  background: #aaa;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  background: #aaa;
}
.dplayer-controller .dplayer-icons .dplayer-full {
  display: inline-block;
  height: 100%;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: absolute;
  top: -30px;
  z-index: 1;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-quality {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {
  display: none;
  position: absolute;
  bottom: 38px;
  left: -18px;
  width: 80px;
  padding-bottom: 12px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {
  display: none;
  font-size: 12px;
  width: 80px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 5px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {
  height: 25px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: 25px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-comment {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-label {
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  white-space: nowrap;
}
.dplayer-controller .dplayer-icons .dplayer-toggle {
  width: 32px;
  height: 20px;
  text-align: center;
  font-size: 0;
  vertical-align: middle;
  position: absolute;
  top: 5px;
  right: 10px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input {
  max-height: 0;
  max-width: 0;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label {
  display: inline-block;
  position: relative;
  box-shadow: #dfdfdf 0 0 0 0 inset;
  border: 1px solid #dfdfdf;
  height: 20px;
  width: 32px;
  border-radius: 10px;
  box-sizing: border-box;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {
  content: "";
  position: absolute;
  display: block;
  height: 18px;
  width: 18px;
  top: 0;
  left: 0;
  border-radius: 15px;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {
  content: "";
  position: absolute;
  display: block;
  left: 0;
  top: 0;
  border-radius: 15px;
  background: #fff;
  transition: 0.2s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  height: 18px;
  width: 18px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {
  border-color: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {
  width: 30px;
  background: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {
  left: 12px;
}
.dplayer-mobile-play {
  display: none;
  width: 50px;
  height: 50px;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  box-sizing: border-box;
  bottom: 0;
  opacity: 0.8;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.dplayer-danmaku {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
}
.dplayer-danmaku .dplayer-danmaku-item {
  display: inline-block;
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  cursor: default;
  white-space: nowrap;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
}
.dplayer-danmaku .dplayer-danmaku-item--demo {
  position: absolute;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-right {
  position: absolute;
  right: 0;
  transform: translateX(100%);
}
.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {
  will-change: transform;
  animation-name: 'danmaku';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku {
  from {
    transform: translateX(100%);
  }
}
.dplayer-danmaku .dplayer-danmaku-top,
.dplayer-danmaku .dplayer-danmaku-bottom {
  position: absolute;
  width: 100%;
  text-align: center;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,
.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {
  will-change: visibility;
  animation-name: 'danmaku-center';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku-center {
  from {
    visibility: visible;
  }
  to {
    visibility: visible;
  }
}
.dplayer-logo {
  pointer-events: none;
  position: absolute;
  left: 20px;
  top: 20px;
  max-width: 50px;
  max-height: 50px;
}
.dplayer-logo img {
  max-width: 100%;
  max-height: 100%;
  background: none;
}
.dplayer-menu {
  position: absolute;
  width: 170px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.85);
  padding: 5px 0;
  overflow: hidden;
  z-index: 3;
  display: none;
}
.dplayer-menu.dplayer-menu-show {
  display: block;
}
.dplayer-menu .dplayer-menu-item {
  height: 30px;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-menu .dplayer-menu-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-menu .dplayer-menu-item a {
  padding: 0 10px;
  line-height: 30px;
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-menu .dplayer-menu-item a:hover {
  text-decoration: none;
}
.dplayer-notice-list {
  position: absolute;
  bottom: 60px;
  left: 20px;
}
.dplayer-notice-list .dplayer-notice {
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  display: table;
  pointer-events: none;
  animation: showNotice 0.3s ease 1 forwards;
}
.dplayer-notice-list .remove-notice {
  animation: removeNotice 0.3s ease 1 forwards;
}
@keyframes showNotice {
  from {
    padding: 0;
    font-size: 0;
    margin-top: 0;
  }
  to {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
}
@keyframes removeNotice {
  0% {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
  20% {
    font-size: 12px;
  }
  21% {
    font-size: 0;
    padding: 7px 10px;
  }
  100% {
    padding: 0;
    margin-top: 0;
    font-size: 0;
  }
}
.dplayer-subtitle {
  position: absolute;
  bottom: 40px;
  width: 90%;
  left: 5%;
  text-align: center;
  color: #fff;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
  font-size: 20px;
}
.dplayer-subtitle.dplayer-subtitle-hide {
  display: none;
}
.dplayer-mask {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
  display: none;
}
.dplayer-mask.dplayer-mask-show {
  display: block;
}
.dplayer-video-wrap {
  position: relative;
  background: #000;
  font-size: 0;
  width: 100%;
  height: 100%;
}
.dplayer-video-wrap .dplayer-video {
  width: 100%;
  height: 100%;
  display: none;
}
.dplayer-video-wrap .dplayer-video-current {
  display: block;
}
.dplayer-video-wrap .dplayer-video-prepare {
  display: none;
}
.dplayer-info-panel {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 400px;
  background: rgba(28, 28, 28, 0.8);
  padding: 10px;
  color: #fff;
  font-size: 12px;
  border-radius: 2px;
}
.dplayer-info-panel-hide {
  display: none;
}
.dplayer-info-panel .dplayer-info-panel-close {
  cursor: pointer;
  position: absolute;
  right: 10px;
  top: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item > span {
  display: inline-block;
  vertical-align: middle;
  line-height: 15px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-info-panel .dplayer-info-panel-item-title {
  width: 100px;
  text-align: right;
  margin-right: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item-data {
  width: 260px;
}
`,"",{version:3,sources:["webpack://./src/css/global.less","webpack://./src/css/index.less","webpack://./src/css/player.less","webpack://./src/css/balloon.less","webpack://./src/css/bezel.less","webpack://./src/css/notice.less","webpack://./src/css/controller.less","webpack://./src/css/danmaku.less","webpack://./src/css/logo.less","webpack://./src/css/menu.less","webpack://./src/css/subtitle.less","webpack://./src/css/video.less","webpack://./src/css/info-panel.less"],names:[],mappings:"AAAA;EACI;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;;IAEI,uCAAA;ECEN;AACF;ACzJA;EACI,kBAAA;EACA,gBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,cAAA;AD2JJ;AC/JA;EAOQ,uBAAA;AD2JR;AClKA;EAWQ,WAAA;EACA,YAAA;AD0JR;ACtKA;;EAgBY,UAAA;AD0JZ;ACtJI;EACI,WAAA;EACA,YAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,0BAAA;ADwJR;ACpJI;;;EAKY,aAAA;ADoJhB;ACzJI;EAUQ,aAAA;ADkJZ;AC5JI;EAcQ,aAAA;ADiJZ;AC7II;EAEQ,aAAA;AD8IZ;AChJI;EAKQ,aAAA;AD8IZ;ACnJI;EAQQ,aAAA;AD8IZ;ACtJI;EAWQ,aAAA;AD8IZ;AC3IQ;EAEQ,aAAA;AD4IhB;ACvII;EAEQ,eAAA;ADwIZ;AC1II;EAKQ,cAAA;ADwIZ;ACpII;EAEQ,6BAAA;ADqIZ;AClIQ;EAAA;IAEQ,UAAA;EDoId;ECtIM;IAKQ,UAAA;EDoId;ECjIU;IAEQ,UAAA;EDkIlB;ECpIU;IAKQ,UAAA;EDkIlB;AACF;AC7HI;EAEQ,cAAA;AD8HZ;AC1HI;;;;EAIQ,4BAAA;AD4HZ;ACxHI;EACI,YAAA;AD0HR;AC3HI;EAIQ,UAAA;EACA,2BAAA;AD0HZ;AC/HI;EAQQ,UAAA;EACA,2BAAA;AD0HZ;ACvHI;EAEQ,UAAA;ADwHZ;AC1HI;EAKQ,UAAA;ADwHZ;ACrHI;EAKI,sBAAA;EACA,uBAAA;ADuHR;AC7HI;EACI,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;ADyHR;ACrHI;;;;;EAOY,aAAA;ADqHhB;AC5HI;EAUY,gBAAA;EACA,qBAAA;ADqHhB;AChII;EAgBQ,aAAA;ADmHZ;AChHQ;EAEQ,aAAA;ADiHhB;ACtII;EA0BQ,cAAA;AD+GZ;ACzGA;EACI,eAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;AD2GJ;AElSA;EACI,aAAA;AFoSJ;AEjSA;EACI,oBAAA;EACA,iCAAA;AFmSJ;AEhSA;EACI,gBAAA;AFkSJ;AG9SA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;EACA,oBAAA;AHgTJ;AGxTA;EAUQ,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,8BAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AHiTR;AGhTQ;EACI,iCAAA;AHkTZ;AGhTQ;EACI;IACI,UAAA;IACA,mBAAA;EHkTd;EGhTU;IACI,UAAA;IACA,mBAAA;EHkTd;AACF;AGnVA;EAqCQ,kBAAA;EACA,QAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,0CAAA;AHiTR;AG7VA;EA+CQ,aAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,oBAAA;AHiTR;AGvWA;EAwDY,aAAA;AHkTZ;AG1WA;EA2DY,uDAAA;EACA,UAAA;EACA,yBAAA;AHkTZ;AI/WC;EDgEmB,qBAAA;AHkTpB;AIlXC;EDgEmB,qBAAA;AHqTpB;AIrXC;EDgEmB,qBAAA;AHwTpB;AIxXC;EDgEmB,qBAAA;AH2TpB;AI3XC;EDgEmB,qBAAA;AH8TpB;AI9XC;EDgEmB,qBAAA;AHiUpB;AIjYC;EDgEmB,qBAAA;AHoUpB;AGhUQ;EACI;IACI,YAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,4BAAA;EHkUd;AACF;AKlZA;EACI,mEAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,SAAA;EACA,yBAAA;ALoZJ;AKjZA;EACI,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,yBAAA;ALmZJ;AKlZI;EAEQ,aAAA;ALmZZ;AKrZI;EAKQ,cAAA;ALmZZ;AKjaA;EAkBQ,cAAA;EACA,eAAA;EACA,kBAAA;EACA,YAAA;EACA,wBAAA;EACA,WAAA;ALkZR;AKjZQ;EAEQ,mBAAA;ALkZhB;AKpZQ;EAKQ,cAAA;EACA,UAAA;EACA,2BAAA;EACA,QAAA;EACA,WAAA;ALkZhB;AKnbA;EAqCY,WAAA;EACA,kBAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,2BAAA;EACA,gCAAA;ALiZZ;AKhZY;EAEQ,cAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AKxcA;EA2DgB,aAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,2BAAA;ALgZhB;AKrdA;EAyEY,kBAAA;EACA,gBAAA;EACA,oBAAA;EACA,aAAA;EACA,6BAAA;AL+YZ;AK5dA;EAgFY,kBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,oBAAA;AL+YZ;AKneA;EA0FY,kBAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;EACA,UAAA;EACA,oCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AL4YZ;AK7ZY;EACI,UAAA;AL+ZhB;AKvfA;EA2GY,kBAAA;EACA,WAAA;EACA,WAAA;EACA,oCAAA;EACA,eAAA;AL+YZ;AK9fA;EAiHgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,oCAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;ALgZhB;AKxgBA;EA2HgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;ALgZhB;AKhhBA;EAkIoB,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALiZpB;AK7hBA;EAkJQ,YAAA;EACA,kBAAA;EACA,SAAA;AL8YR;AK7YQ;EACI,aAAA;EACA,kBAAA;EACA,gCAAA;EACA,UAAA;EACA,YAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;AL+YZ;AKxZQ;EAWQ,YAAA;ALgZhB;AK3ZQ;EAcQ,kBAAA;EACA,OAAA;EACA,MAAA;ALgZhB;AKhaQ;EAmBQ,kBAAA;EACA,QAAA;EACA,MAAA;ALgZhB;AKraQ;EAwBQ,kBAAA;EACA,iCAAA;EACA,YAAA;EACA,OAAA;EACA,uCAAA;EACA,kBAAA;EACA,uBAAA;EACA,eAAA;EACA,YAAA;EACA,gCAAA;EACA,mBAAA;ALgZhB;AK/YgB;EACI,mBAAA;ALiZpB;AKrbQ;EAuCY,aAAA;ALiZpB;AKxbQ;EA0CY,eAAA;ALiZpB;AK3bQ;EA6CY,eAAA;EACA,WAAA;EACA,iBAAA;ALiZpB;AKhcQ;EAkDY,YAAA;ALiZpB;AKncQ;EAoDgB,kBAAA;ALkZxB;AK/YwB;EAEQ,0BAAA;ALgZhC;AK7YwB;EAEQ,0BAAA;AL8YhC;AK5cQ;EAmEgB,UAAA;EACA,gBAAA;EACA,iBAAA;EACA,qBAAA;EACA,eAAA;EACA,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,eAAA;AL4YxB;AKzdQ;EAgFgB,mBAAA;EACA,cAAA;AL4YxB;AK7dQ;EAqFY,YAAA;AL2YpB;AKheQ;EAuFgB,YAAA;EACA,YAAA;EACA,qBAAA;AL4YxB;AKreQ;EA4FgB,WAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,sBAAA;EACA,eAAA;AL4YxB;AK3YwB;EACI,0CAAA;AL6Y5B;AKhfQ;EAyGQ,aAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,gBAAA;EACA,SAAA;EACA,YAAA;EACA,sBAAA;EACA,WAAA;EACA,WAAA;AL0YhB;AKzYgB;EACI,WAAA;EACA,YAAA;AL2YpB;AK7YgB;EACI,WAAA;EACA,YAAA;AL2YpB;AKzYgB;EACI,aAAA;AL2YpB;AKvYQ;EAEQ,YAAA;ALwYhB;AKrYQ;EACI,WAAA;ALuYZ;AKxYQ;EAGQ,YAAA;ALwYhB;AKpqBA;;EAiSY,iBAAA;EACA,WAAA;EACA,uCAAA;EACA,sBAAA;EACA,eAAA;EACA,eAAA;ALuYZ;AK7qBA;EAySY,qBAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,kBAAA;ALuYZ;AKtrBA;EAkTY,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EACA,qBAAA;ALuYZ;AKjsBA;EA4TgB,gCAAA;EACA,YAAA;ALwYhB;AKtYY;EAEQ,UAAA;ALuYpB;AKpYY;EACI,WAAA;EACA,WAAA;EACA,iBAAA;EACA,eAAA;ALsYhB;AKpYY;EACI,qBAAA;ALsYhB;AKpYY;EACI,kBAAA;ALsYhB;AKpYY;EACI,WAAA;ALsYhB;AKvtBA;EAqVY,kBAAA;EACA,qBAAA;EACA,eAAA;EACA,YAAA;ALqYZ;AKpYY;EAEQ,WAAA;ALqYpB;AKvYY;EAKQ,mBAAA;ALqYpB;AKlYY;EAEQ,WAAA;ALmYpB;AKrYY;EAKQ,mBAAA;ALmYpB;AKzuBA;EA0WgB,qBAAA;EACA,qBAAA;EACA,sBAAA;EACA,YAAA;ALkYhB;AK/uBA;EA+WoB,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;ALmYpB;AKvvBA;EAsXwB,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;ALoYxB;AK/vBA;EA6X4B,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALqY5B;AK5wBA;EA8YY,qBAAA;EACA,YAAA;ALiYZ;AKhxBA;EAkZY,qBAAA;EACA,YAAA;ALiYZ;AKpxBA;EAqZgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,uBAAA;EAAA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,cAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,cAAA;ALmYpB;AKjYgB;EACI,mBAAA;ALmYpB;AKzyBA;EA0agB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALkYhB;AKjYgB;EACI,0CAAA;ALmYpB;AKnzBA;EAqbY,qBAAA;EACA,YAAA;ALiYZ;AKvzBA;EAwbgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,aAAA;ALmYpB;AKlYoB;EACI,cAAA;ALoYxB;AKjYgB;EACI,mBAAA;ALmYpB;AKjYgB;EACI,WAAA;EACA,kBAAA;ALmYpB;AKjYgB;EAEQ,aAAA;ALkYxB;AKpYgB;EAKQ,cAAA;ALkYxB;AKv1BA;;EA2dgB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALgYhB;AK/XgB;;EACI,0CAAA;ALkYpB;AKn2BA;EAqegB,cAAA;ALiYhB;AKt2BA;EAueoB,eAAA;EACA,eAAA;ALkYpB;AKhYgB;EAEQ,aAAA;ALiYxB;AKnYgB;EAKQ,qBAAA;ALiYxB;AK9XgB;EAEQ,aAAA;AL+XxB;AKjYgB;EAKQ,qBAAA;AL+XxB;AKt3BA;EA2foB,eAAA;EACA,sBAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;EACA,WAAA;AL8XpB;AK93BA;EAkgBwB,kBAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;AL+XxB;AKt4BA;EAygB4B,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,gBAAA;EACA,kBAAA;ALgY5B;AK/4BA;EAihBgC,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,gBAAA;ALiYhC;AK55BA;EAmiBY,qBAAA;EACA,YAAA;EACA,kBAAA;AL4XZ;AK3XY;EAEQ,cAAA;AL4XpB;AKp6BA;EA4iBgB,kBAAA;EACA,UAAA;EACA,UAAA;EACA,aAAA;AL2XhB;AK16BA;EAmjBY,kBAAA;EACA,qBAAA;EACA,YAAA;EACA,UAAA;AL0XZ;AKzXY;EAEQ,cAAA;AL0XpB;AK5XY;EAKQ,cAAA;AL0XpB;AKt7BA;EAgkBgB,aAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,WAAA;EACA,oBAAA;ALyXhB;AK97BA;EAwkBgB,aAAA;EACA,eAAA;EACA,WAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;ALyXhB;AK18BA;EAolBgB,YAAA;EACA,sBAAA;EACA,eAAA;EACA,iBAAA;ALyXhB;AKxXgB;EACI,0CAAA;AL0XpB;AKn9BA;EA8lBY,qBAAA;EACA,YAAA;ALwXZ;AKv9BA;EAkmBY,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,mBAAA;ALwXZ;AK99BA;EAymBY,WAAA;EACA,YAAA;EACA,kBAAA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;ALwXZ;AKx+BA;EAknBgB,aAAA;EACA,YAAA;EACA,aAAA;ALyXhB;AK7+BA;EAunBgB,qBAAA;EACA,kBAAA;EACA,iCAAA;EACA,yBAAA;EACA,YAAA;EACA,WAAA;EACA,mBAAA;EACA,sBAAA;EACA,eAAA;EACA,4BAAA;ALyXhB;AKz/BA;EAmoBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;EACA,mBAAA;EACA,4BAAA;ALyXhB;AKpgCA;EA8oBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,OAAA;EACA,MAAA;EACA,mBAAA;EACA,gBAAA;EACA,4BAAA;EACA,wCAAA;EACA,YAAA;EACA,WAAA;ALyXhB;AKjhCA;EA2pBgB,sCAAA;ALyXhB;AKphCA;EA8pBgB,WAAA;EACA,oCAAA;ALyXhB;AKxhCA;EAkqBgB,UAAA;ALyXhB;AKnXA;EACI,aAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EAEA,SAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,gCAAA;ALoXJ;AMpjCA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;ANsjCJ;AM7jCA;EASQ,qBAAA;EACA,oBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,mBAAA;EACA,iDAAA;ANujCR;AMtjCQ;EACI,kBAAA;EACA,kBAAA;ANwjCZ;AMzkCA;EAqBQ,kBAAA;EACA,QAAA;EACA,2BAAA;ANujCR;AMtjCQ;EACI,sBAAA;EACA,yBAAA;EACA,iCAAA;EACA,4BAAA;ANwjCZ;AMrjCI;EACI;IACI,2BAAA;ENujCV;AACF;AMzlCA;;EAsCQ,kBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;ANujCR;AMtjCQ;;EACI,uBAAA;EACA,gCAAA;EACA,iCAAA;EACA,4BAAA;ANyjCZ;AMtjCI;EACI;IACI,mBAAA;ENwjCV;EMtjCM;IACI,mBAAA;ENwjCV;AACF;AO/mCA;EACI,oBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;APinCJ;AOvnCA;EAQQ,eAAA;EACA,gBAAA;EACA,gBAAA;APknCR;AQ5nCA;EACI,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,kCAAA;EACA,cAAA;EACA,gBAAA;EACA,UAAA;EACA,aAAA;AR8nCJ;AQ7nCI;EACI,cAAA;AR+nCR;AQzoCA;EAaQ,YAAA;EACA,sBAAA;EACA,eAAA;AR+nCR;AQ9nCQ;EACI,0CAAA;ARgoCZ;AQjpCA;EAqBY,eAAA;EACA,iBAAA;EACA,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AR+nCZ;AQ9nCY;EACI,qBAAA;ARgoChB;AIjqCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;AJmqCJ;AItqCA;EAMQ,kBAAA;EACA,iCAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,cAAA;EACA,oBAAA;EACA,0CAAA;AJmqCR;AIhrCA;EAiBQ,4CAAA;AJkqCR;AI9pCA;EACI;IACI,UAAA;IACA,YAAA;IACA,aAAA;EJgqCN;EI9pCE;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJgqCN;AACF;AI7pCA;EACI;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJ+pCN;EI7pCE;IACI,eAAA;EJ+pCN;EI7pCE;IACI,YAAA;IACA,iBAAA;EJ+pCN;EI7pCE;IACI,UAAA;IACA,aAAA;IACA,YAAA;EJ+pCN;AACF;ASltCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;EACA,QAAA;EACA,kBAAA;EACA,WAAA;EACA,iDAAA;EACA,eAAA;ATotCJ;ASntCI;EACI,aAAA;ATqtCR;AU/tCA;EACI,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;AViuCJ;AUhuCI;EACI,cAAA;AVkuCR;AU9tCA;EACI,kBAAA;EACA,gBAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AVguCJ;AUruCA;EAOQ,WAAA;EACA,YAAA;EACA,aAAA;AViuCR;AU1uCA;EAYQ,cAAA;AViuCR;AU7uCA;EAeQ,aAAA;AViuCR;AW7vCA;EACI,kBAAA;EACA,SAAA;EACA,UAAA;EACA,YAAA;EACA,iCAAA;EACA,aAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;AX+vCJ;AW7vCI;EACI,aAAA;AX+vCR;AW3wCA;EAgBQ,eAAA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;AX8vCR;AW1vCQ;EACI,qBAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AX4vCZ;AWzxCA;EAkCQ,YAAA;EACA,iBAAA;EACA,kBAAA;AX0vCR;AW9xCA;EAwCQ,YAAA;AXyvCR",sourcesContent:[`@keyframes my-face {
    2% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    4% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    6% {
        transform: translate(0, 1.5px) rotate(-1.5deg);
    }
    8% {
        transform: translate(0, -1.5px) rotate(-1.5deg);
    }
    10% {
        transform: translate(0, 2.5px) rotate(1.5deg);
    }
    12% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    14% {
        transform: translate(0, -1.5px) rotate(1.5deg);
    }
    16% {
        transform: translate(0, -0.5px) rotate(-1.5deg);
    }
    18% {
        transform: translate(0, 0.5px) rotate(-1.5deg);
    }
    20% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    22% {
        transform: translate(0, 0.5px) rotate(-1.5deg);
    }
    24% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    26% {
        transform: translate(0, 0.5px) rotate(0.5deg);
    }
    28% {
        transform: translate(0, 0.5px) rotate(1.5deg);
    }
    30% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    32% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    34% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    36% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    38% {
        transform: translate(0, 1.5px) rotate(-1.5deg);
    }
    40% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    42% {
        transform: translate(0, 2.5px) rotate(-1.5deg);
    }
    44% {
        transform: translate(0, 1.5px) rotate(0.5deg);
    }
    46% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    48% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    50% {
        transform: translate(0, 0.5px) rotate(0.5deg);
    }
    52% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    54% {
        transform: translate(0, -1.5px) rotate(1.5deg);
    }
    56% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    58% {
        transform: translate(0, 0.5px) rotate(2.5deg);
    }
    60% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    62% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    64% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    66% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    68% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    70% {
        transform: translate(0, 1.5px) rotate(0.5deg);
    }
    72% {
        transform: translate(0, 2.5px) rotate(1.5deg);
    }
    74% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    76% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    78% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    80% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    82% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    84% {
        transform: translate(0, 1.5px) rotate(2.5deg);
    }
    86% {
        transform: translate(0, -1.5px) rotate(-1.5deg);
    }
    88% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    90% {
        transform: translate(0, 2.5px) rotate(-0.5deg);
    }
    92% {
        transform: translate(0, 0.5px) rotate(-0.5deg);
    }
    94% {
        transform: translate(0, 2.5px) rotate(0.5deg);
    }
    96% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    98% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    0%,
    100% {
        transform: translate(0, 0) rotate(0deg);
    }
}`,`@import '../../node_modules/balloon-css/balloon.css';
@keyframes my-face {
  2% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  4% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  6% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  8% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  10% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  12% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  14% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  16% {
    transform: translate(0, -0.5px) rotate(-1.5deg);
  }
  18% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  20% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  22% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  24% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  26% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  28% {
    transform: translate(0, 0.5px) rotate(1.5deg);
  }
  30% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  32% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  34% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  36% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  38% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  40% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  42% {
    transform: translate(0, 2.5px) rotate(-1.5deg);
  }
  44% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  46% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  48% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  50% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  52% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  54% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  56% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  58% {
    transform: translate(0, 0.5px) rotate(2.5deg);
  }
  60% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  62% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  64% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  66% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  68% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  70% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  72% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  74% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  76% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  78% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  80% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  82% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  84% {
    transform: translate(0, 1.5px) rotate(2.5deg);
  }
  86% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  88% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  90% {
    transform: translate(0, 2.5px) rotate(-0.5deg);
  }
  92% {
    transform: translate(0, 0.5px) rotate(-0.5deg);
  }
  94% {
    transform: translate(0, 2.5px) rotate(0.5deg);
  }
  96% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  98% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
.dplayer {
  position: relative;
  overflow: hidden;
  user-select: none;
  line-height: 1;
}
.dplayer * {
  box-sizing: content-box;
}
.dplayer svg {
  width: 100%;
  height: 100%;
}
.dplayer svg path,
.dplayer svg circle {
  fill: #fff;
}
.dplayer:-webkit-full-screen {
  width: 100%;
  height: 100%;
  background: #000;
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  margin: 0;
  padding: 0;
  transform: translate(0, 0);
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-danmaku {
  display: none;
}
.dplayer.dplayer-live .dplayer-time {
  display: none;
}
.dplayer.dplayer-live .dplayer-bar-wrap {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-speed {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-loop {
  display: none;
}
.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {
  display: none;
}
.dplayer.dplayer-arrow .dplayer-danmaku {
  font-size: 18px;
}
.dplayer.dplayer-arrow .dplayer-icon {
  margin: 0 -3px;
}
.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {
  animation-play-state: running;
}
@media (min-width: 900px) {
  .dplayer.dplayer-playing .dplayer-controller-mask {
    opacity: 0;
  }
  .dplayer.dplayer-playing .dplayer-controller {
    opacity: 0;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller-mask {
    opacity: 1;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller {
    opacity: 1;
  }
}
.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {
  display: block;
}
.dplayer.dplayer-loading .dplayer-danmaku,
.dplayer.dplayer-paused .dplayer-danmaku,
.dplayer.dplayer-loading .dplayer-danmaku-move,
.dplayer.dplayer-paused .dplayer-danmaku-move {
  animation-play-state: paused;
}
.dplayer.dplayer-hide-controller {
  cursor: none;
}
.dplayer.dplayer-hide-controller .dplayer-controller-mask {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-hide-controller .dplayer-controller {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-show-controller .dplayer-controller-mask {
  opacity: 1;
}
.dplayer.dplayer-show-controller .dplayer-controller {
  opacity: 1;
}
.dplayer.dplayer-fulled {
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  width: 100% !important;
  height: 100% !important;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: static;
  display: inline-block;
}
.dplayer.dplayer-mobile .dplayer-bar-time {
  display: none;
}
.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-mobile-play {
  display: block;
}
.dplayer-web-fullscreen-fix {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
}
[data-balloon]:before {
  display: none;
}
[data-balloon]:after {
  padding: 0.3em 0.7em;
  background: rgba(17, 17, 17, 0.7);
}
[data-balloon][data-balloon-pos="up"]:after {
  margin-bottom: 0;
}
.dplayer-bezel {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -26px 0 0 -26px;
  height: 52px;
  width: 52px;
  padding: 12px;
  box-sizing: border-box;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {
  animation: bezel-hide 0.5s linear;
}
@keyframes bezel-hide {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}
.dplayer-bezel .dplayer-danloading {
  position: absolute;
  top: 50%;
  margin-top: -7px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  line-height: 14px;
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-bezel .diplayer-loading-icon {
  display: none;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -18px 0 0 -18px;
  height: 36px;
  width: 36px;
  pointer-events: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {
  display: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {
  animation: diplayer-loading-dot-fade 0.8s ease infinite;
  opacity: 0;
  transform-origin: 4px 4px;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {
  animation-delay: 0.1s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {
  animation-delay: 0.2s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {
  animation-delay: 0.3s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {
  animation-delay: 0.4s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {
  animation-delay: 0.5s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {
  animation-delay: 0.6s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {
  animation-delay: 0.7s;
}
@keyframes diplayer-loading-dot-fade {
  0% {
    opacity: 0.7;
    transform: scale(1.2, 1.2);
  }
  50% {
    opacity: 0.25;
    transform: scale(0.9, 0.9);
  }
  to {
    opacity: 0.25;
    transform: scale(0.85, 0.85);
  }
}
.dplayer-controller-mask {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;
  height: 98px;
  width: 100%;
  position: absolute;
  bottom: 0;
  transition: all 0.3s ease;
}
.dplayer-controller {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 41px;
  padding: 0 20px;
  user-select: none;
  transition: all 0.3s ease;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons {
  display: none;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap {
  padding: 5px 0;
  cursor: pointer;
  position: absolute;
  bottom: 33px;
  width: calc(100% - 40px);
  height: 3px;
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {
  display: block;
  width: 8px;
  transform: translateX(-4px);
  top: 4px;
  height: 40%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {
  z-index: 12;
  position: absolute;
  top: 5px;
  width: 6px;
  height: 20%;
  border-radius: 6px;
  background-color: #fff;
  text-align: center;
  transform: translateX(-3px);
  transition: all 0.2s ease-in-out;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {
  display: none;
  position: absolute;
  left: 50%;
  top: -24px;
  padding: 5px 8px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  transform: translateX(-50%);
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {
  position: absolute;
  background: #fff;
  pointer-events: none;
  display: none;
  background-size: 16000px 100%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {
  position: absolute;
  left: 0px;
  top: -20px;
  border-radius: 4px;
  padding: 5px 7px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  font-size: 12px;
  text-align: center;
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
  word-wrap: normal;
  word-break: normal;
  z-index: 2;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar {
  position: relative;
  height: 3px;
  width: 100%;
  background: rgba(255, 255, 255, 0.2);
  cursor: pointer;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.4);
  height: 3px;
  transition: all 0.5s ease;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  height: 3px;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons {
  height: 38px;
  position: absolute;
  bottom: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box {
  display: none;
  position: absolute;
  transition: all 0.3s ease-in-out;
  z-index: 2;
  height: 38px;
  bottom: 0;
  left: 20px;
  right: 20px;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {
  position: absolute;
  left: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {
  position: absolute;
  right: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {
  position: absolute;
  background: rgba(28, 28, 28, 0.9);
  bottom: 41px;
  left: 0;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 10px 10px 16px;
  font-size: 14px;
  width: 204px;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {
  font-size: 13px;
  color: #fff;
  line-height: 30px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {
  margin-bottom: 6px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {
  border-radius: 4px 0 0 4px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {
  border-radius: 0 4px 4px 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {
  width: 33%;
  padding: 4px 6px;
  line-height: 16px;
  display: inline-block;
  font-size: 12px;
  color: #fff;
  border: 1px solid #fff;
  margin-right: -1px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {
  background: #E4E4E6;
  color: #1c1c1c;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {
  font-size: 0;
  padding: 6px;
  display: inline-block;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {
  width: 22px;
  height: 22px;
  display: inline-block;
  border-radius: 50%;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {
  outline: none;
  border: none;
  padding: 8px 31px;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  border-radius: 4px;
  background: none;
  margin: 0;
  height: 100%;
  box-sizing: border-box;
  width: 100%;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right {
  right: 20px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {
  padding: 8px;
}
.dplayer-controller .dplayer-icons .dplayer-time,
.dplayer-controller .dplayer-icons .dplayer-live-badge {
  line-height: 38px;
  color: #eee;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
  vertical-align: middle;
  font-size: 13px;
  cursor: default;
}
.dplayer-controller .dplayer-icons .dplayer-live-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  vertical-align: 4%;
  margin-right: 5px;
  content: '';
  border-radius: 6px;
}
.dplayer-controller .dplayer-icons .dplayer-icon {
  width: 40px;
  height: 100%;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  vertical-align: middle;
  box-sizing: border-box;
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {
  transition: all 0.2s ease-in-out;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {
  opacity: 1;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {
  color: #fff;
  width: auto;
  line-height: 22px;
  font-size: 14px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {
  padding: 10px 9px 9px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {
  padding-top: 8.5px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {
  width: 43px;
}
.dplayer-controller .dplayer-icons .dplayer-volume {
  position: relative;
  display: inline-block;
  cursor: pointer;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {
  display: inline-block;
  margin: 0 10px 0 -5px;
  vertical-align: middle;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {
  position: relative;
  top: 17px;
  width: 0;
  height: 3px;
  background: #aaa;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: fit-content;
  max-width: 240px;
  min-width: 120px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: auto;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: 150px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {
  width: 70px;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {
  padding: 5px 0;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {
  padding: 0 10px;
  display: inline;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {
  padding: 0 10px;
  box-sizing: border-box;
  display: none;
  vertical-align: middle;
  height: 100%;
  width: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {
  position: relative;
  top: 8.5px;
  width: 100%;
  height: 3px;
  background: #fff;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  background: #aaa;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  background: #aaa;
}
.dplayer-controller .dplayer-icons .dplayer-full {
  display: inline-block;
  height: 100%;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: absolute;
  top: -30px;
  z-index: 1;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-quality {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {
  display: none;
  position: absolute;
  bottom: 38px;
  left: -18px;
  width: 80px;
  padding-bottom: 12px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {
  display: none;
  font-size: 12px;
  width: 80px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 5px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {
  height: 25px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: 25px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-comment {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-label {
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  white-space: nowrap;
}
.dplayer-controller .dplayer-icons .dplayer-toggle {
  width: 32px;
  height: 20px;
  text-align: center;
  font-size: 0;
  vertical-align: middle;
  position: absolute;
  top: 5px;
  right: 10px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input {
  max-height: 0;
  max-width: 0;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label {
  display: inline-block;
  position: relative;
  box-shadow: #dfdfdf 0 0 0 0 inset;
  border: 1px solid #dfdfdf;
  height: 20px;
  width: 32px;
  border-radius: 10px;
  box-sizing: border-box;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {
  content: "";
  position: absolute;
  display: block;
  height: 18px;
  width: 18px;
  top: 0;
  left: 0;
  border-radius: 15px;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {
  content: "";
  position: absolute;
  display: block;
  left: 0;
  top: 0;
  border-radius: 15px;
  background: #fff;
  transition: 0.2s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  height: 18px;
  width: 18px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {
  border-color: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {
  width: 30px;
  background: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {
  left: 12px;
}
.dplayer-mobile-play {
  display: none;
  width: 50px;
  height: 50px;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  box-sizing: border-box;
  bottom: 0;
  opacity: 0.8;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.dplayer-danmaku {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
}
.dplayer-danmaku .dplayer-danmaku-item {
  display: inline-block;
  pointer-events: none;
  user-select: none;
  cursor: default;
  white-space: nowrap;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
}
.dplayer-danmaku .dplayer-danmaku-item--demo {
  position: absolute;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-right {
  position: absolute;
  right: 0;
  transform: translateX(100%);
}
.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {
  will-change: transform;
  animation-name: 'danmaku';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku {
  from {
    transform: translateX(100%);
  }
}
.dplayer-danmaku .dplayer-danmaku-top,
.dplayer-danmaku .dplayer-danmaku-bottom {
  position: absolute;
  width: 100%;
  text-align: center;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,
.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {
  will-change: visibility;
  animation-name: 'danmaku-center';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku-center {
  from {
    visibility: visible;
  }
  to {
    visibility: visible;
  }
}
.dplayer-logo {
  pointer-events: none;
  position: absolute;
  left: 20px;
  top: 20px;
  max-width: 50px;
  max-height: 50px;
}
.dplayer-logo img {
  max-width: 100%;
  max-height: 100%;
  background: none;
}
.dplayer-menu {
  position: absolute;
  width: 170px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.85);
  padding: 5px 0;
  overflow: hidden;
  z-index: 3;
  display: none;
}
.dplayer-menu.dplayer-menu-show {
  display: block;
}
.dplayer-menu .dplayer-menu-item {
  height: 30px;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-menu .dplayer-menu-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-menu .dplayer-menu-item a {
  padding: 0 10px;
  line-height: 30px;
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-menu .dplayer-menu-item a:hover {
  text-decoration: none;
}
.dplayer-notice-list {
  position: absolute;
  bottom: 60px;
  left: 20px;
}
.dplayer-notice-list .dplayer-notice {
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  display: table;
  pointer-events: none;
  animation: showNotice 0.3s ease 1 forwards;
}
.dplayer-notice-list .remove-notice {
  animation: removeNotice 0.3s ease 1 forwards;
}
@keyframes showNotice {
  from {
    padding: 0;
    font-size: 0;
    margin-top: 0;
  }
  to {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
}
@keyframes removeNotice {
  0% {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
  20% {
    font-size: 12px;
  }
  21% {
    font-size: 0;
    padding: 7px 10px;
  }
  100% {
    padding: 0;
    margin-top: 0;
    font-size: 0;
  }
}
.dplayer-subtitle {
  position: absolute;
  bottom: 40px;
  width: 90%;
  left: 5%;
  text-align: center;
  color: #fff;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
  font-size: 20px;
}
.dplayer-subtitle.dplayer-subtitle-hide {
  display: none;
}
.dplayer-mask {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
  display: none;
}
.dplayer-mask.dplayer-mask-show {
  display: block;
}
.dplayer-video-wrap {
  position: relative;
  background: #000;
  font-size: 0;
  width: 100%;
  height: 100%;
}
.dplayer-video-wrap .dplayer-video {
  width: 100%;
  height: 100%;
  display: none;
}
.dplayer-video-wrap .dplayer-video-current {
  display: block;
}
.dplayer-video-wrap .dplayer-video-prepare {
  display: none;
}
.dplayer-info-panel {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 400px;
  background: rgba(28, 28, 28, 0.8);
  padding: 10px;
  color: #fff;
  font-size: 12px;
  border-radius: 2px;
}
.dplayer-info-panel-hide {
  display: none;
}
.dplayer-info-panel .dplayer-info-panel-close {
  cursor: pointer;
  position: absolute;
  right: 10px;
  top: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item > span {
  display: inline-block;
  vertical-align: middle;
  line-height: 15px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-info-panel .dplayer-info-panel-item-title {
  width: 100px;
  text-align: right;
  margin-right: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item-data {
  width: 260px;
}
`,`.dplayer {
    position: relative;
    overflow: hidden;
    user-select: none;
    line-height: 1;

    * {
        box-sizing: content-box;
    }

    svg {
        width: 100%;
        height: 100%;

        path,
        circle {
            fill: #fff;
        }
    }

    &:-webkit-full-screen {
        width: 100%;
        height: 100%;
        background: #000;
        position: fixed;
        z-index: 100000;
        left: 0;
        top: 0;
        margin: 0;
        padding: 0;
        transform: translate(0, 0);
        
    }

    &.dplayer-no-danmaku {
        .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
            .dplayer-setting-showdan,
            .dplayer-setting-danmaku,
            .dplayer-setting-danunlimit {
                display: none;
            }
        }

        .dplayer-controller .dplayer-icons .dplayer-comment {
            display: none;
        }

        .dplayer-danmaku {
            display: none;
        }
    }

    &.dplayer-live {
        .dplayer-time {
            display: none;
        }
        .dplayer-bar-wrap {
            display: none;
        }
        .dplayer-setting-speed {
            display: none;
        }
        .dplayer-setting-loop {
            display: none;
        }

        &.dplayer-no-danmaku {
            .dplayer-setting {
                display: none;
            }
        }
    }

    &.dplayer-arrow {
        .dplayer-danmaku {
            font-size: 18px;
        }
        .dplayer-icon {
            margin: 0 -3px;
        }
    }

    &.dplayer-playing {
        .dplayer-danmaku .dplayer-danmaku-move {
            animation-play-state: running;
        }

        @media (min-width: 900px) {
            .dplayer-controller-mask {
                opacity: 0;
            }
            .dplayer-controller {
                opacity: 0;
            }

            &:hover {
                .dplayer-controller-mask {
                    opacity: 1;
                }
                .dplayer-controller {
                    opacity: 1;
                }
            }
        }
    }

    &.dplayer-loading {
        .dplayer-bezel .diplayer-loading-icon {
            display: block;
        }
    }

    &.dplayer-loading,
    &.dplayer-paused {
        .dplayer-danmaku,
        .dplayer-danmaku-move {
            animation-play-state: paused;
        }
    }

    &.dplayer-hide-controller {
        cursor: none;

        .dplayer-controller-mask {
            opacity: 0;
            transform: translateY(100%);
        }
        .dplayer-controller {
            opacity: 0;
            transform: translateY(100%);
        }
    }
    &.dplayer-show-controller {
        .dplayer-controller-mask {
            opacity: 1;
        }
        .dplayer-controller {
            opacity: 1;
        }
    }
    &.dplayer-fulled {
        position: fixed;
        z-index: 100000;
        left: 0;
        top: 0;
        width: 100% !important;
        height: 100% !important;
    }
    &.dplayer-mobile {
        .dplayer-controller .dplayer-icons {
            .dplayer-volume,
            .dplayer-camera-icon,
            .dplayer-airplay-icon,
            .dplayer-chromecast-icon,
            .dplayer-play-icon {
                display: none;
            }
            .dplayer-full .dplayer-full-in-icon {
                position: static;
                display: inline-block;
            }
        }

        .dplayer-bar-time {
            display: none;
        }

        &.dplayer-hide-controller {
            .dplayer-mobile-play {
                display: none;
            }
        }

        .dplayer-mobile-play {
            display: block;
        }
    }
}

// To hide scroll bar, apply this class to <body>
.dplayer-web-fullscreen-fix {
    position: fixed;
    top: 0;
    left: 0;
    margin: 0;
    padding: 0;
}
`,`@import '../../node_modules/balloon-css/balloon.css';

[data-balloon]:before {
    display: none;
}

[data-balloon]:after {
    padding: 0.3em 0.7em;
    background: rgba(17, 17, 17, 0.7);
}

[data-balloon][data-balloon-pos="up"]:after {
    margin-bottom: 0;
}`,`.dplayer-bezel {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    font-size: 22px;
    color: #fff;
    pointer-events: none;
    .dplayer-bezel-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -26px 0 0 -26px;
        height: 52px;
        width: 52px;
        padding: 12px;
        box-sizing: border-box;
        background: rgba(0, 0, 0, .5);
        border-radius: 50%;
        opacity: 0;
        pointer-events: none;
        &.dplayer-bezel-transition {
            animation: bezel-hide .5s linear;
        }
        @keyframes bezel-hide {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(2);
            }
        }
    }
    .dplayer-danloading {
        position: absolute;
        top: 50%;
        margin-top: -7px;
        width: 100%;
        text-align: center;
        font-size: 14px;
        line-height: 14px;
        animation: my-face 5s infinite ease-in-out;
    }
    .diplayer-loading-icon {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -18px 0 0 -18px;
        height: 36px;
        width: 36px;
        pointer-events: none;
        .diplayer-loading-hide {
            display: none;
        }
        .diplayer-loading-dot {
            animation: diplayer-loading-dot-fade .8s ease infinite;
            opacity: 0;
            transform-origin: 4px 4px;
            each(range(7), {
                &.diplayer-loading-dot-@{value} {
                    animation-delay: (@value * 0.1s);
                }
            });
        }
        @keyframes diplayer-loading-dot-fade {
            0% {
                opacity: .7;
                transform: scale(1.2, 1.2)
            }
            50% {
                opacity: .25;
                transform: scale(.9, .9)
            }
            to {
                opacity: .25;
                transform: scale(.85, .85)
            }
        }
    }
}`,`.dplayer-notice-list{
    position: absolute;
    bottom: 60px;
    left: 20px;

    .dplayer-notice {
        border-radius: 2px;
        background: rgba(28, 28, 28, 0.9);
        transition: all .3s ease-in-out;
        overflow: hidden;
        color: #fff;
        display: table;
        pointer-events: none;
        animation: showNotice .3s ease 1 forwards;
    }

    .remove-notice{
        animation: removeNotice .3s ease 1 forwards;
    }
}

@keyframes showNotice {
    from {
        padding: 0;
        font-size: 0;
        margin-top: 0;
    }
    to {
        padding: 7px 20px;
        font-size: 14px;
        margin-top: 5px;
    }
}

@keyframes removeNotice {
    0%{
        padding: 7px 20px;
        font-size: 14px;
        margin-top: 5px;
    }
    20%{
        font-size: 12px;
    }
    21%{
        font-size: 0;
        padding: 7px 10px;
    }
    100%{
        padding: 0;
        margin-top: 0;
        font-size: 0;
    }
}
`,`.dplayer-controller-mask {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;
    height: 98px;
    width: 100%;
    position: absolute;
    bottom: 0;
    transition: all 0.3s ease;
}

.dplayer-controller {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 41px;
    padding: 0 20px;
    user-select: none;
    transition: all 0.3s ease;
    &.dplayer-controller-comment {
        .dplayer-icons {
            display: none;
        }
        .dplayer-icons.dplayer-comment-box {
            display: block;
        }
    }
    .dplayer-bar-wrap {
        padding: 5px 0;
        cursor: pointer;
        position: absolute;
        bottom: 33px;
        width: calc(100% - 40px);
        height: 3px;
        &:hover {
            .dplayer-bar .dplayer-played .dplayer-thumb {
                transform: scale(1);
            }
            .dplayer-highlight {
                display: block;
                width: 8px;
                transform: translateX(-4px);
                top: 4px;
                height: 40%;
            }
        }
        .dplayer-highlight {
            z-index: 12;
            position: absolute;
            top: 5px;
            width: 6px;
            height: 20%;
            border-radius: 6px;
            background-color: #fff;
            text-align: center;
            transform: translateX(-3px);
            transition: all .2s ease-in-out;
            &:hover {
                .dplayer-highlight-text {
                    display: block;
                }
                &~.dplayer-bar-preview {
                    opacity: 0;
                }
                &~.dplayer-bar-time {
                    opacity: 0;
                }
            }
            .dplayer-highlight-text {
                display: none;
                position: absolute;
                left: 50%;
                top: -24px;
                padding: 5px 8px;
                background-color: rgba(0, 0, 0, .62);
                color: #fff;
                border-radius: 4px;
                font-size: 12px;
                white-space: nowrap;
                transform: translateX(-50%);
            }
        }
        .dplayer-bar-preview {
            position: absolute;
            background: #fff;
            pointer-events: none;
            display: none;
            background-size: 16000px 100%;
        }
        .dplayer-bar-preview-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        .dplayer-bar-time {
            &.hidden {
                opacity: 0;
            }
            position: absolute;
            left: 0px;
            top: -20px;
            border-radius: 4px;
            padding: 5px 7px;
            background-color: rgba(0, 0, 0, 0.62);
            color: #fff;
            font-size: 12px;
            text-align: center;
            opacity: 1;
            transition: opacity .1s ease-in-out;
            word-wrap: normal;
            word-break: normal;
            z-index: 2;
            pointer-events: none;
        }
        .dplayer-bar {
            position: relative;
            height: 3px;
            width: 100%;
            background: rgba(255, 255, 255, .2);
            cursor: pointer;
            .dplayer-loaded {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                background: rgba(255, 255, 255, .4);
                height: 3px;
                transition: all 0.5s ease;
                will-change: width;
            }
            .dplayer-played {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                height: 3px;
                will-change: width;
                .dplayer-thumb {
                    position: absolute;
                    top: 0;
                    right: 5px;
                    margin-top: -4px;
                    margin-right: -10px;
                    height: 11px;
                    width: 11px;
                    border-radius: 50%;
                    cursor: pointer;
                    transition: all .3s ease-in-out;
                    transform: scale(0);
                }
            }
        }
    }
    .dplayer-icons {
        height: 38px;
        position: absolute;
        bottom: 0;
        &.dplayer-comment-box {
            display: none;
            position: absolute;
            transition: all .3s ease-in-out;
            z-index: 2;
            height: 38px;
            bottom: 0;
            left: 20px;
            right: 20px;
            color: #fff;
            .dplayer-icon {
                padding: 7px;
            }
            .dplayer-comment-setting-icon {
                position: absolute;
                left: 0;
                top: 0;
            }
            .dplayer-send-icon {
                position: absolute;
                right: 0;
                top: 0;
            }
            .dplayer-comment-setting-box {
                position: absolute;
                background: rgba(28, 28, 28, 0.9);
                bottom: 41px;
                left: 0;
                box-shadow: 0 0 25px rgba(0, 0, 0, .3);
                border-radius: 4px;
                padding: 10px 10px 16px;
                font-size: 14px;
                width: 204px;
                transition: all .3s ease-in-out;
                transform: scale(0);
                &.dplayer-comment-setting-open {
                    transform: scale(1);
                }
                input[type=radio] {
                    display: none;
                }
                label {
                    cursor: pointer;
                }
                .dplayer-comment-setting-title {
                    font-size: 13px;
                    color: #fff;
                    line-height: 30px;
                }
                .dplayer-comment-setting-type {
                    font-size: 0;
                    .dplayer-comment-setting-title {
                        margin-bottom: 6px;
                    }
                    label {
                        &:nth-child(2) {
                            span {
                                border-radius: 4px 0 0 4px;
                            }
                        }
                        &:nth-child(4) {
                            span {
                                border-radius: 0 4px 4px 0;
                            }
                        }
                    }
                    span {
                        width: 33%;
                        padding: 4px 6px;
                        line-height: 16px;
                        display: inline-block;
                        font-size: 12px;
                        color: #fff;
                        border: 1px solid #fff;
                        margin-right: -1px;
                        box-sizing: border-box;
                        text-align: center;
                        cursor: pointer;
                    }
                    input:checked+span {
                        background: #E4E4E6;
                        color: #1c1c1c;
                    }
                }
                .dplayer-comment-setting-color {
                    font-size: 0;
                    label {
                        font-size: 0;
                        padding: 6px;
                        display: inline-block;
                    }
                    span {
                        width: 22px;
                        height: 22px;
                        display: inline-block;
                        border-radius: 50%;
                        box-sizing: border-box;
                        cursor: pointer;
                        &:hover {
                            animation: my-face 5s infinite ease-in-out;
                        }
                    }
                }
            }
            .dplayer-comment-input {
                outline: none;
                border: none;
                padding: 8px 31px;
                font-size: 14px;
                line-height: 18px;
                text-align: center;
                border-radius: 4px;
                background: none;
                margin: 0;
                height: 100%;
                box-sizing: border-box;
                width: 100%;
                color: #fff;
                &::placeholder {
                    color: #fff;
                    opacity: 0.8;
                }
                &::-ms-clear {
                    display: none;
                }
            }
        }
        &.dplayer-icons-left {
            .dplayer-icon {
                padding: 7px;
            }
        }
        &.dplayer-icons-right {
            right: 20px;
            .dplayer-icon {
                padding: 8px;
            }
        }
        .dplayer-time,
        .dplayer-live-badge {
            line-height: 38px;
            color: #eee;
            text-shadow: 0 0 2px rgba(0, 0, 0, .5);
            vertical-align: middle;
            font-size: 13px;
            cursor: default;
        }
        .dplayer-live-dot {
            display: inline-block;
            width: 6px;
            height: 6px;
            vertical-align: 4%;
            margin-right: 5px;
            content: '';
            border-radius: 6px;
        }
        .dplayer-icon {
            width: 40px;
            height: 100%;
            border: none;
            background-color: transparent;
            outline: none;
            cursor: pointer;
            vertical-align: middle;
            box-sizing: border-box;
            display: inline-block;
            .dplayer-icon-content {
                transition: all .2s ease-in-out;
                opacity: .8;
            }
            &:hover {
                .dplayer-icon-content {
                    opacity: 1;
                }
            }
            &.dplayer-quality-icon {
                color: #fff;
                width: auto;
                line-height: 22px;
                font-size: 14px;
            }
            &.dplayer-comment-icon {
                padding: 10px 9px 9px;
            }
            &.dplayer-setting-icon {
                padding-top: 8.5px;
            }
            &.dplayer-volume-icon {
                width: 43px;
            }
        }
        .dplayer-volume {
            position: relative;
            display: inline-block;
            cursor: pointer;
            height: 100%;
            &:hover {
                .dplayer-volume-bar-wrap .dplayer-volume-bar {
                    width: 45px;
                }
                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
                    transform: scale(1);
                }
            }
            &.dplayer-volume-active {
                .dplayer-volume-bar-wrap .dplayer-volume-bar {
                    width: 45px;
                }
                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
                    transform: scale(1);
                }
            }
            .dplayer-volume-bar-wrap {
                display: inline-block;
                margin: 0 10px 0 -5px;
                vertical-align: middle;
                height: 100%;
                .dplayer-volume-bar {
                    position: relative;
                    top: 17px;
                    width: 0;
                    height: 3px;
                    background: #aaa;
                    transition: all 0.3s ease-in-out;
                    .dplayer-volume-bar-inner {
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        height: 100%;
                        transition: all 0.1s ease;
                        will-change: width;
                        .dplayer-thumb {
                            position: absolute;
                            top: 0;
                            right: 5px;
                            margin-top: -4px;
                            margin-right: -10px;
                            height: 11px;
                            width: 11px;
                            border-radius: 50%;
                            cursor: pointer;
                            transition: all .3s ease-in-out;
                            transform: scale(0);
                        }
                    }
                }
            }
        }
        .dplayer-subtitle-btn {
            display: inline-block;
            height: 100%;
        }
        .dplayer-subtitles {
            display: inline-block;
            height: 100%;
            .dplayer-subtitles-box {
                position: absolute;
                right: 0;
                bottom: 50px;
                transform: scale(0);
                width: fit-content;
                max-width: 240px;
                min-width: 120px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 7px 0;
                transition: all .3s ease-in-out;
                overflow: auto;
                z-index: 2;
                &.dplayer-subtitles-panel {
                    display: block;
                }
                &.dplayer-subtitles-box-open {
                    transform: scale(1);
                }
            }
            .dplayer-subtitles-item {
                height: 30px;
                padding: 5px 10px;
                box-sizing: border-box;
                cursor: pointer;
                position: relative;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
        }
        .dplayer-setting {
            display: inline-block;
            height: 100%;
            .dplayer-setting-box {
                position: absolute;
                right: 0;
                bottom: 50px;
                transform: scale(0);
                width: 150px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 7px 0;
                transition: all .3s ease-in-out;
                overflow: hidden;
                z-index: 2;
                &>div {
                    display: none;
                    &.dplayer-setting-origin-panel {
                        display: block;
                    }
                }
                &.dplayer-setting-box-open {
                    transform: scale(1);
                }
                &.dplayer-setting-box-narrow {
                    width: 70px;
                    text-align: center;
                }
                &.dplayer-setting-box-speed {
                    .dplayer-setting-origin-panel {
                        display: none;
                    }
                    .dplayer-setting-speed-panel {
                        display: block;
                    }
                }
            }
            .dplayer-setting-item,
            .dplayer-setting-speed-item {
                height: 30px;
                padding: 5px 10px;
                box-sizing: border-box;
                cursor: pointer;
                position: relative;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
            .dplayer-setting-danmaku {
                padding: 5px 0;
                .dplayer-label {
                    padding: 0 10px;
                    display: inline;
                }
                &:hover {
                    .dplayer-label {
                        display: none;
                    }
                    .dplayer-danmaku-bar-wrap {
                        display: inline-block;
                    }
                }
                &.dplayer-setting-danmaku-active {
                    .dplayer-label {
                        display: none;
                    }
                    .dplayer-danmaku-bar-wrap {
                        display: inline-block;
                    }
                }
                .dplayer-danmaku-bar-wrap {
                    padding: 0 10px;
                    box-sizing: border-box;
                    display: none;
                    vertical-align: middle;
                    height: 100%;
                    width: 100%;
                    .dplayer-danmaku-bar {
                        position: relative;
                        top: 8.5px;
                        width: 100%;
                        height: 3px;
                        background: #fff;
                        transition: all 0.3s ease-in-out;
                        .dplayer-danmaku-bar-inner {
                            position: absolute;
                            bottom: 0;
                            left: 0;
                            height: 100%;
                            transition: all 0.1s ease;
                            background: #aaa;
                            will-change: width;
                            .dplayer-thumb {
                                position: absolute;
                                top: 0;
                                right: 5px;
                                margin-top: -4px;
                                margin-right: -10px;
                                height: 11px;
                                width: 11px;
                                border-radius: 50%;
                                cursor: pointer;
                                transition: all .3s ease-in-out;
                                background: #aaa;
                            }
                        }
                    }
                }
            }
        }
        .dplayer-full {
            display: inline-block;
            height: 100%;
            position: relative;
            &:hover {
                .dplayer-full-in-icon {
                    display: block;
                }
            }
            .dplayer-full-in-icon {
                position: absolute;
                top: -30px;
                z-index: 1;
                display: none;
            }
        }
        .dplayer-quality {
            position: relative;
            display: inline-block;
            height: 100%;
            z-index: 2;
            &:hover {
                .dplayer-quality-list {
                    display: block;
                }
                .dplayer-quality-mask {
                    display: block;
                }
            }
            .dplayer-quality-mask {
                display: none;
                position: absolute;
                bottom: 38px;
                left: -18px;
                width: 80px;
                padding-bottom: 12px;
            }
            .dplayer-quality-list {
                display: none;
                font-size: 12px;
                width: 80px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 5px 0;
                transition: all .3s ease-in-out;
                overflow: hidden;
                color: #fff;
                text-align: center;
            }
            .dplayer-quality-item {
                height: 25px;
                box-sizing: border-box;
                cursor: pointer;
                line-height: 25px;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
        }
        .dplayer-comment {
            display: inline-block;
            height: 100%;
        }
        .dplayer-label {
            color: #eee;
            font-size: 13px;
            display: inline-block;
            vertical-align: middle;
            white-space: nowrap;
        }
        .dplayer-toggle {
            width: 32px;
            height: 20px;
            text-align: center;
            font-size: 0;
            vertical-align: middle;
            position: absolute;
            top: 5px;
            right: 10px;
            input {
                max-height: 0;
                max-width: 0;
                display: none;
            }
            input+label {
                display: inline-block;
                position: relative;
                box-shadow: rgb(223, 223, 223) 0 0 0 0 inset;
                border: 1px solid rgb(223, 223, 223);
                height: 20px;
                width: 32px;
                border-radius: 10px;
                box-sizing: border-box;
                cursor: pointer;
                transition: .2s ease-in-out;
            }
            input+label:before {
                content: "";
                position: absolute;
                display: block;
                height: 18px;
                width: 18px;
                top: 0;
                left: 0;
                border-radius: 15px;
                transition: .2s ease-in-out;
            }
            input+label:after {
                content: "";
                position: absolute;
                display: block;
                left: 0;
                top: 0;
                border-radius: 15px;
                background: #fff;
                transition: .2s ease-in-out;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
                height: 18px;
                width: 18px;
            }
            input:checked+label {
                border-color: rgba(255, 255, 255, 0.5);
            }
            input:checked+label:before {
                width: 30px;
                background: rgba(255, 255, 255, 0.5);
            }
            input:checked+label:after {
                left: 12px;
            }
        }
    }
}

.dplayer-mobile-play {
    display: none;
    width: 50px;
    height: 50px;
    border: none;
    background-color: transparent;
    outline: none;
    cursor: pointer;
    box-sizing: border-box;
    position: absolute;
    bottom: 0;
    opacity: 0.8;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}`,`.dplayer-danmaku {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    font-size: 22px;
    color: #fff;
    .dplayer-danmaku-item {
        display: inline-block;
        pointer-events: none;
        user-select: none;
        cursor: default;
        white-space: nowrap;
        text-shadow: .5px .5px .5px rgba(0, 0, 0, .5);
        &--demo {
            position: absolute;
            visibility: hidden;
        }
    }
    .dplayer-danmaku-right {
        position: absolute;
        right: 0;
        transform: translateX(100%);
        &.dplayer-danmaku-move {
            will-change: transform;
            animation-name: 'danmaku';
            animation-timing-function: linear;
            animation-play-state: paused;
        }
    }
    @keyframes danmaku {
        from {
            transform: translateX(100%);
        }
    }
    .dplayer-danmaku-top,
    .dplayer-danmaku-bottom {
        position: absolute;
        width: 100%;
        text-align: center;
        visibility: hidden;
        &.dplayer-danmaku-move {
            will-change: visibility;
            animation-name: 'danmaku-center';
            animation-timing-function: linear;
            animation-play-state: paused;
        }
    }
    @keyframes danmaku-center {
        from {
            visibility: visible;
        }
        to {
            visibility: visible;
        }
    }
}`,`.dplayer-logo {
    pointer-events: none;
    position: absolute;
    left: 20px;
    top: 20px;
    max-width: 50px;
    max-height: 50px;
    img {
        max-width: 100%;
        max-height: 100%;
        background: none;
    }
}`,`.dplayer-menu {
    position: absolute;
    width: 170px;
    border-radius: 2px;
    background: rgba(28, 28, 28, 0.85);
    padding: 5px 0;
    overflow: hidden;
    z-index: 3;
    display: none;
    &.dplayer-menu-show {
        display: block;
    }
    .dplayer-menu-item {
        height: 30px;
        box-sizing: border-box;
        cursor: pointer;
        &:hover {
            background-color: rgba(255, 255, 255, .1);
        }
        a {
            display: inline-block;
            padding: 0 10px;
            line-height: 30px;
            color: #eee;
            font-size: 13px;
            display: inline-block;
            vertical-align: middle;
            width: 100%;
            box-sizing: border-box;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            &:hover {
                text-decoration: none;
            }
        }
    }
}`,`.dplayer-subtitle {
    position: absolute;
    bottom: 40px;
    width: 90%;
    left: 5%;
    text-align: center;
    color: #fff;
    text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
    font-size: 20px;
    &.dplayer-subtitle-hide {
        display: none;
    }
}`,`.dplayer-mask {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1;
    display: none;
    &.dplayer-mask-show {
        display: block;
    }
}

.dplayer-video-wrap {
    position: relative;
    background: #000;
    font-size: 0;
    width: 100%;
    height: 100%;
    .dplayer-video {
        width: 100%;
        height: 100%;
        display: none;
    }
    .dplayer-video-current {
        display: block;
    }
    .dplayer-video-prepare {
        display: none;
    }
}`,`.dplayer-info-panel {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 400px;
    background: rgba(28, 28, 28, 0.8);
    padding: 10px;
    color: #fff;
    font-size: 12px;
    border-radius: 2px;

    &-hide {
        display: none;
    }

    .dplayer-info-panel-close {
        cursor: pointer;
        position: absolute;
        right: 10px;
        top: 10px;
    }

    .dplayer-info-panel-item {
        & > span {
            display: inline-block;
            vertical-align: middle;
            line-height: 15px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
    }

    .dplayer-info-panel-item-title {
        width: 100px;
        text-align: right;
        margin-right: 10px;
    }
    
    .dplayer-info-panel-item-data {
        width: 260px;
    }
}`],sourceRoot:""}]);const x=y},856:a=>{var s=[];function l(d){for(var h=-1,f=0;f<s.length;f++)if(s[f].identifier===d){h=f;break}return h}function c(d,h){for(var f={},p=[],g=0;g<d.length;g++){var m=d[g],y=h.base?m[0]+h.base:m[0],b=f[y]||0,x="".concat(y," ").concat(b);f[y]=b+1;var w=l(x),C={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(w!==-1)s[w].references++,s[w].updater(C);else{var S=u(C,h);h.byIndex=g,s.splice(g,0,{identifier:x,updater:S,references:1})}p.push(x)}return p}function u(d,h){var f=h.domAPI(h);return f.update(d),function(p){if(p){if(p.css===d.css&&p.media===d.media&&p.sourceMap===d.sourceMap&&p.supports===d.supports&&p.layer===d.layer)return;f.update(d=p)}else f.remove()}}a.exports=function(d,h){var f=c(d=d||[],h=h||{});return function(p){p=p||[];for(var g=0;g<f.length;g++){var m=l(f[g]);s[m].references--}for(var y=c(p,h),b=0;b<f.length;b++){var x=l(f[b]);s[x].references===0&&(s[x].updater(),s.splice(x,1))}f=y}}},370:a=>{var s={};a.exports=function(l,c){var u=function(d){if(s[d]===void 0){var h=document.querySelector(d);if(window.HTMLIFrameElement&&h instanceof window.HTMLIFrameElement)try{h=h.contentDocument.head}catch{h=null}s[d]=h}return s[d]}(l);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(c)}},278:a=>{a.exports=function(s){var l=document.createElement("style");return s.setAttributes(l,s.attributes),s.insert(l,s.options),l}},458:(a,s,l)=>{a.exports=function(c){var u=l.nc;u&&c.setAttribute("nonce",u)}},470:a=>{a.exports=function(s){var l=s.insertStyleElement(s);return{update:function(c){(function(u,d,h){var f="";h.supports&&(f+="@supports (".concat(h.supports,") {")),h.media&&(f+="@media ".concat(h.media," {"));var p=h.layer!==void 0;p&&(f+="@layer".concat(h.layer.length>0?" ".concat(h.layer):""," {")),f+=h.css,p&&(f+="}"),h.media&&(f+="}"),h.supports&&(f+="}");var g=h.sourceMap;g&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),d.styleTagTransform(f,u,d.options)})(l,s,c)},remove:function(){(function(c){if(c.parentNode===null)return!1;c.parentNode.removeChild(c)})(l)}}}},488:a=>{a.exports=function(s,l){if(l.styleSheet)l.styleSheet.cssText=s;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(s))}}},251:a=>{a.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},113:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},193:a=>{a.exports='<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="chromecast" class="svg-inline--fa fa-chromecast fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M447.8,64H64c-23.6,0-42.7,19.1-42.7,42.7v63.9H64v-63.9h383.8v298.6H298.6V448H448c23.6,0,42.7-19.1,42.7-42.7V106.7 C490.7,83.1,471.4,64,447.8,64z M21.3,383.6L21.3,383.6l0,63.9h63.9C85.2,412.2,56.6,383.6,21.3,383.6L21.3,383.6z M21.3,298.6V341 c58.9,0,106.6,48.1,106.6,107h42.7C170.7,365.6,103.7,298.7,21.3,298.6z M213.4,448h42.7c-0.5-129.5-105.3-234.3-234.8-234.6l0,42.4 C127.3,255.6,213.3,342,213.4,448z"></path></svg>'},338:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},807:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},300:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},574:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},182:a=>{a.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},965:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},74:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},730:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},428:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},254:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},934:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},410:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},644:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},324:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},437:a=>{a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},897:(a,s,l)=>{var c=typeof self<"u"?self:typeof window<"u"?window:l.g!==void 0?l.g:{},u=Object.create(c),d=/["&'<>]/;function h(f){return typeof f!="string"&&(f=f==null?"":typeof f=="function"?h(f.call(f)):JSON.stringify(f)),f}u.$escape=function(f){return function(p){var g=""+p,m=d.exec(g);if(!m)return p;var y="",b=void 0,x=void 0,w=void 0;for(b=m.index,x=0;b<g.length;b++){switch(g.charCodeAt(b)){case 34:w="&#34;";break;case 38:w="&#38;";break;case 39:w="&#39;";break;case 60:w="&#60;";break;case 62:w="&#62;";break;default:continue}x!==b&&(y+=g.substring(x,b)),x=b+1,y+=w}return x!==b?y+g.substring(x,b):y}(h(f))},u.$each=function(f,p){if(Array.isArray(f))for(var g=0,m=f.length;g<m;g++)p(f[g],g);else for(var y in f)p(f[y],y)},a.exports=u},471:(a,s,l)=>{a.exports=l(897)},352:a=>{a.exports=function(s){var l=[];return l.toString=function(){return this.map(function(c){var u="",d=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),d&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=s(c),d&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},l.i=function(c,u,d,h,f){typeof c=="string"&&(c=[[null,c,void 0]]);var p={};if(d)for(var g=0;g<this.length;g++){var m=this[g][0];m!=null&&(p[m]=!0)}for(var y=0;y<c.length;y++){var b=[].concat(c[y]);d&&p[b[0]]||(f!==void 0&&(b[5]===void 0||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=f),u&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=u),h&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=h):b[4]="".concat(h)),l.push(b))}},l}},80:a=>{a.exports=function(s,l){return l||(l={}),s&&(s=String(s.__esModule?s.default:s),/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),l.hash&&(s+=l.hash),/["'() \t\n]|(%20)/.test(s)||l.needQuotes?'"'.concat(s.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):s)}},415:a=>{a.exports=function(s){var l=s[1],c=s[3];if(!c)return l;if(typeof btoa=="function"){var u=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),h="/*# ".concat(d," */");return[l].concat([h]).join(`
`)}return[l].join(`
`)}},937:a=>{function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},s(l)}a.exports=(typeof self>"u"?"undefined":s(self))=="object"?self.FormData:window.FormData},831:a=>{a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg=="}},r={};function i(a){var s=r[a];if(s!==void 0)return s.exports;var l=r[a]={id:a,exports:{}};return n[a](l,l.exports,i),l.exports}i.m=n,i.n=a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return i.d(s,{a:s}),s},i.d=(a,s)=>{for(var l in s)i.o(s,l)&&!i.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),i.b=document.baseURI||self.location.href,i.nc=void 0;var o={};return(()=>{i.d(o,{default:()=>rq});var a=i(856),s=i.n(a),l=i(470),c=i.n(l),u=i(370),d=i.n(u),h=i(458),f=i.n(h),p=i(278),g=i.n(p),m=i(488),y=i.n(m),b=i(685),x={};x.styleTagTransform=y(),x.setAttributes=f(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g(),s()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;function w(M){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},w(M)}function C(M,O){this.name="AggregateError",this.errors=M,this.message=O||""}C.prototype=Error.prototype;function S(M){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},S(M)}var A=setTimeout;function T(M){return!!(M&&M.length!==void 0)}function k(){}function E(M){if(!(this instanceof E))throw new TypeError("Promises must be constructed via new");if(typeof M!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],G(M,this)}function P(M,O){for(;M._state===3;)M=M._value;M._state!==0?(M._handled=!0,E._immediateFn(function(){var Y=M._state===1?O.onFulfilled:O.onRejected;if(Y!==null){var I;try{I=Y(M._value)}catch($){return void F(O.promise,$)}_(O.promise,I)}else(M._state===1?_:F)(O.promise,M._value)})):M._deferreds.push(O)}function _(M,O){try{if(O===M)throw new TypeError("A promise cannot be resolved with itself.");if(O&&(S(O)==="object"||typeof O=="function")){var Y=O.then;if(O instanceof E)return M._state=3,M._value=O,void N(M);if(typeof Y=="function")return void G((I=Y,$=O,function(){I.apply($,arguments)}),M)}M._state=1,M._value=O,N(M)}catch(j){F(M,j)}var I,$}function F(M,O){M._state=2,M._value=O,N(M)}function N(M){M._state===2&&M._deferreds.length===0&&E._immediateFn(function(){M._handled||E._unhandledRejectionFn(M._value)});for(var O=0,Y=M._deferreds.length;O<Y;O++)P(M,M._deferreds[O]);M._deferreds=null}function W(M,O,Y){this.onFulfilled=typeof M=="function"?M:null,this.onRejected=typeof O=="function"?O:null,this.promise=Y}function G(M,O){var Y=!1;try{M(function(I){Y||(Y=!0,_(O,I))},function(I){Y||(Y=!0,F(O,I))})}catch(I){if(Y)return;Y=!0,F(O,I)}}E.prototype.catch=function(M){return this.then(null,M)},E.prototype.then=function(M,O){var Y=new this.constructor(k);return P(this,new W(M,O,Y)),Y},E.prototype.finally=function(M){var O=this.constructor;return this.then(function(Y){return O.resolve(M()).then(function(){return Y})},function(Y){return O.resolve(M()).then(function(){return O.reject(Y)})})},E.all=function(M){return new E(function(O,Y){if(!T(M))return Y(new TypeError("Promise.all accepts an array"));var I=Array.prototype.slice.call(M);if(I.length===0)return O([]);var $=I.length;function j(we,Ce){try{if(Ce&&(S(Ce)==="object"||typeof Ce=="function")){var it=Ce.then;if(typeof it=="function")return void it.call(Ce,function(pt){j(we,pt)},Y)}I[we]=Ce,--$==0&&O(I)}catch(pt){Y(pt)}}for(var te=0;te<I.length;te++)j(te,I[te])})},E.any=function(M){var O=this;return new O(function(Y,I){if(!M||M.length===void 0)return I(new TypeError("Promise.any accepts an array"));var $=Array.prototype.slice.call(M);if($.length===0)return I();for(var j=[],te=0;te<$.length;te++)try{O.resolve($[te]).then(Y).catch(function(we){j.push(we),j.length===$.length&&I(new C(j,"All promises were rejected"))})}catch(we){I(we)}})},E.allSettled=function(M){return new this(function(O,Y){if(!M||M.length===void 0)return Y(new TypeError(w(M)+" "+M+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var I=Array.prototype.slice.call(M);if(I.length===0)return O([]);var $=I.length;function j(we,Ce){if(Ce&&(w(Ce)==="object"||typeof Ce=="function")){var it=Ce.then;if(typeof it=="function")return void it.call(Ce,function(pt){j(we,pt)},function(pt){I[we]={status:"rejected",reason:pt},--$==0&&O(I)})}I[we]={status:"fulfilled",value:Ce},--$==0&&O(I)}for(var te=0;te<I.length;te++)j(te,I[te])})},E.resolve=function(M){return M&&S(M)==="object"&&M.constructor===E?M:new E(function(O){O(M)})},E.reject=function(M){return new E(function(O,Y){Y(M)})},E.race=function(M){return new E(function(O,Y){if(!T(M))return Y(new TypeError("Promise.race accepts an array"));for(var I=0,$=M.length;I<$;I++)E.resolve(M[I]).then(O,Y)})},E._immediateFn=typeof setImmediate=="function"&&function(M){setImmediate(M)}||function(M){A(M,0)},E._unhandledRejectionFn=function(M){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",M)};const Z=E;var ie=/mobile/i.test(window.navigator.userAgent);const he={secondToTime:function(M){if((M=M||0)===0||M===1/0||M.toString()==="NaN")return"00:00";var O=Math.floor(M/3600),Y=Math.floor((M-3600*O)/60),I=Math.floor(M-3600*O-60*Y);return(O>0?[O,Y,I]:[Y,I]).map(function($){return $<10?"0"+$:""+$}).join(":")},getElementViewLeft:function(M){var O=M.offsetLeft,Y=M.offsetParent,I=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;Y!==null&&Y!==M;)O+=Y.offsetLeft,Y=Y.offsetParent;else for(;Y!==null;)O+=Y.offsetLeft,Y=Y.offsetParent;return O-I},getBoundingClientRectViewLeft:function(M){var O=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(M.getBoundingClientRect){if(typeof this.getBoundingClientRectViewLeft.offset!="number"){var Y=document.createElement("div");Y.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(Y),this.getBoundingClientRectViewLeft.offset=-Y.getBoundingClientRect().top-O,document.body.removeChild(Y),Y=null}var I=M.getBoundingClientRect(),$=this.getBoundingClientRectViewLeft.offset;return I.left+$}return this.getElementViewLeft(M)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(M){var O=M.left,Y=O===void 0?0:O,I=M.top,$=I===void 0?0:I;this.isFirefox?(document.documentElement.scrollLeft=Y,document.documentElement.scrollTop=$):window.scrollTo(Y,$)},isMobile:ie,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),isSafari:/safari/i.test(window.navigator.userAgent),storage:{set:function(M,O){localStorage.setItem(M,O)},get:function(M){return localStorage.getItem(M)}},nameMap:{dragStart:ie?"touchstart":"mousedown",dragMove:ie?"touchmove":"mousemove",dragEnd:ie?"touchend":"mouseup"},color2Number:function(M){return M[0]==="#"&&(M=M.substr(1)),M.length===3&&(M="".concat(M[0]).concat(M[0]).concat(M[1]).concat(M[1]).concat(M[2]).concat(M[2])),parseInt(M,16)+0&16777215},number2Color:function(M){return"#"+("00000"+M.toString(16)).slice(-6)},number2Type:function(M){switch(M){case 0:default:return"right";case 1:return"top";case 2:return"bottom"}}};function xe(M,O){return function(){return M.apply(O,arguments)}}function Q(M){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Q(M)}var X,K=Object.prototype.toString,ne=Object.getPrototypeOf,ve=(X=Object.create(null),function(M){var O=K.call(M);return X[O]||(X[O]=O.slice(8,-1).toLowerCase())}),Se=function(M){return M=M.toLowerCase(),function(O){return ve(O)===M}},ye=function(M){return function(O){return Q(O)===M}},Be=Array.isArray,J=ye("undefined"),Ue=Se("ArrayBuffer"),Qe=ye("string"),ae=ye("function"),fe=ye("number"),ke=function(M){return M!==null&&Q(M)==="object"},Ke=function(M){if(ve(M)!=="object")return!1;var O=ne(M);return!(O!==null&&O!==Object.prototype&&Object.getPrototypeOf(O)!==null||Symbol.toStringTag in M||Symbol.iterator in M)},Ne=Se("Date"),Ae=Se("File"),se=Se("Blob"),be=Se("FileList"),re=Se("URLSearchParams");function me(M,O){var Y,I,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=$.allOwnKeys,te=j!==void 0&&j;if(M!=null)if(Q(M)!=="object"&&(M=[M]),Be(M))for(Y=0,I=M.length;Y<I;Y++)O.call(null,M[Y],Y,M);else{var we,Ce=te?Object.getOwnPropertyNames(M):Object.keys(M),it=Ce.length;for(Y=0;Y<it;Y++)we=Ce[Y],O.call(null,M[we],we,M)}}function De(M,O){O=O.toLowerCase();for(var Y,I=Object.keys(M),$=I.length;$-- >0;)if(O===(Y=I[$]).toLowerCase())return Y;return null}var ge,pe,Te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Dj,Xe=function(M){return!J(M)&&M!==Te},Oe=(ge=typeof Uint8Array<"u"&&ne(Uint8Array),function(M){return ge&&M instanceof ge}),ft=Se("HTMLFormElement"),Lt=(pe=Object.prototype.hasOwnProperty,function(M,O){return pe.call(M,O)}),Kt=Se("RegExp"),Dt=function(M,O){var Y=Object.getOwnPropertyDescriptors(M),I={};me(Y,function($,j){O($,j,M)!==!1&&(I[j]=$)}),Object.defineProperties(M,I)};const Ge={isArray:Be,isArrayBuffer:Ue,isBuffer:function(M){return M!==null&&!J(M)&&M.constructor!==null&&!J(M.constructor)&&ae(M.constructor.isBuffer)&&M.constructor.isBuffer(M)},isFormData:function(M){var O="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||K.call(M)===O||ae(M.toString)&&M.toString()===O)},isArrayBufferView:function(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&Ue(M.buffer)},isString:Qe,isNumber:fe,isBoolean:function(M){return M===!0||M===!1},isObject:ke,isPlainObject:Ke,isUndefined:J,isDate:Ne,isFile:Ae,isBlob:se,isRegExp:Kt,isFunction:ae,isStream:function(M){return ke(M)&&ae(M.pipe)},isURLSearchParams:re,isTypedArray:Oe,isFileList:be,forEach:me,merge:function M(){for(var O=Xe(this)&&this||{},Y=O.caseless,I={},$=function(we,Ce){var it=Y&&De(I,Ce)||Ce;Ke(I[it])&&Ke(we)?I[it]=M(I[it],we):Ke(we)?I[it]=M({},we):Be(we)?I[it]=we.slice():I[it]=we},j=0,te=arguments.length;j<te;j++)arguments[j]&&me(arguments[j],$);return I},extend:function(M,O,Y){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},$=I.allOwnKeys;return me(O,function(j,te){Y&&ae(j)?M[te]=xe(j,Y):M[te]=j},{allOwnKeys:$}),M},trim:function(M){return M.trim?M.trim():M.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M},inherits:function(M,O,Y,I){M.prototype=Object.create(O.prototype,I),M.prototype.constructor=M,Object.defineProperty(M,"super",{value:O.prototype}),Y&&Object.assign(M.prototype,Y)},toFlatObject:function(M,O,Y,I){var $,j,te,we={};if(O=O||{},M==null)return O;do{for(j=($=Object.getOwnPropertyNames(M)).length;j-- >0;)te=$[j],I&&!I(te,M,O)||we[te]||(O[te]=M[te],we[te]=!0);M=Y!==!1&&ne(M)}while(M&&(!Y||Y(M,O))&&M!==Object.prototype);return O},kindOf:ve,kindOfTest:Se,endsWith:function(M,O,Y){M=String(M),(Y===void 0||Y>M.length)&&(Y=M.length),Y-=O.length;var I=M.indexOf(O,Y);return I!==-1&&I===Y},toArray:function(M){if(!M)return null;if(Be(M))return M;var O=M.length;if(!fe(O))return null;for(var Y=new Array(O);O-- >0;)Y[O]=M[O];return Y},forEachEntry:function(M,O){for(var Y,I=(M&&M[Symbol.iterator]).call(M);(Y=I.next())&&!Y.done;){var $=Y.value;O.call(M,$[0],$[1])}},matchAll:function(M,O){for(var Y,I=[];(Y=M.exec(O))!==null;)I.push(Y);return I},isHTMLForm:ft,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:Dt,freezeMethods:function(M){Dt(M,function(O,Y){if(ae(M)&&["arguments","caller","callee"].indexOf(Y)!==-1)return!1;var I=M[Y];ae(I)&&(O.enumerable=!1,"writable"in O?O.writable=!1:O.set||(O.set=function(){throw Error("Can not rewrite read-only method '"+Y+"'")}))})},toObjectSet:function(M,O){var Y={},I=function($){$.forEach(function(j){Y[j]=!0})};return Be(M)?I(M):I(String(M).split(O)),Y},toCamelCase:function(M){return M.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(O,Y,I){return Y.toUpperCase()+I})},noop:function(){},toFiniteNumber:function(M,O){return M=+M,Number.isFinite(M)?M:O},findKey:De,global:Te,isContextDefined:Xe,toJSONObject:function(M){var O=new Array(10);return function Y(I,$){if(ke(I)){if(O.indexOf(I)>=0)return;if(!("toJSON"in I)){O[$]=I;var j=Be(I)?[]:{};return me(I,function(te,we){var Ce=Y(te,$+1);!J(Ce)&&(j[we]=Ce)}),O[$]=void 0,j}}return I}(M,0)}};function en(M,O,Y,I,$){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=M,this.name="AxiosError",O&&(this.code=O),Y&&(this.config=Y),I&&(this.request=I),$&&(this.response=$)}Ge.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var wt=en.prototype,_t={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(M){_t[M]={value:M}}),Object.defineProperties(en,_t),Object.defineProperty(wt,"isAxiosError",{value:!0}),en.from=function(M,O,Y,I,$,j){var te=Object.create(wt);return Ge.toFlatObject(M,te,function(we){return we!==Error.prototype},function(we){return we!=="isAxiosError"}),en.call(te,M.message,O,Y,I,$),te.cause=M,te.name=M.name,j&&Object.assign(te,j),te};const ce=en,ue=i(937);function je(M){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},je(M)}function st(M){return Ge.isPlainObject(M)||Ge.isArray(M)}function lt(M){return Ge.endsWith(M,"[]")?M.slice(0,-2):M}function _e(M,O,Y){return M?M.concat(O).map(function(I,$){return I=lt(I),!Y&&$?"["+I+"]":I}).join(Y?".":""):O}var tt=Ge.toFlatObject(Ge,{},null,function(M){return/^is[A-Z]/.test(M)});const Re=function(M,O,Y){if(!Ge.isObject(M))throw new TypeError("target must be an object");O=O||new(ue||FormData);var I,$=(Y=Ge.toFlatObject(Y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(un,tn){return!Ge.isUndefined(tn[un])})).metaTokens,j=Y.visitor||pt,te=Y.dots,we=Y.indexes,Ce=(Y.Blob||typeof Blob<"u"&&Blob)&&(I=O)&&Ge.isFunction(I.append)&&I[Symbol.toStringTag]==="FormData"&&I[Symbol.iterator];if(!Ge.isFunction(j))throw new TypeError("visitor must be a function");function it(un){if(un===null)return"";if(Ge.isDate(un))return un.toISOString();if(!Ce&&Ge.isBlob(un))throw new ce("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(un)||Ge.isTypedArray(un)?Ce&&typeof Blob=="function"?new Blob([un]):Buffer.from(un):un}function pt(un,tn,Vt){var hn=un;if(un&&!Vt&&je(un)==="object"){if(Ge.endsWith(tn,"{}"))tn=$?tn:tn.slice(0,-2),un=JSON.stringify(un);else if(Ge.isArray(un)&&function(Hn){return Ge.isArray(Hn)&&!Hn.some(st)}(un)||Ge.isFileList(un)||Ge.endsWith(tn,"[]")&&(hn=Ge.toArray(un)))return tn=lt(tn),hn.forEach(function(Hn,eo){!Ge.isUndefined(Hn)&&Hn!==null&&O.append(we===!0?_e([tn],eo,te):we===null?tn:tn+"[]",it(Hn))}),!1}return!!st(un)||(O.append(_e(Vt,tn,te),it(un)),!1)}var Ut=[],Xt=Object.assign(tt,{defaultVisitor:pt,convertValue:it,isVisitable:st});if(!Ge.isObject(M))throw new TypeError("data must be an object");return function un(tn,Vt){if(!Ge.isUndefined(tn)){if(Ut.indexOf(tn)!==-1)throw Error("Circular reference detected in "+Vt.join("."));Ut.push(tn),Ge.forEach(tn,function(hn,Hn){(!(Ge.isUndefined(hn)||hn===null)&&j.call(O,hn,Ge.isString(Hn)?Hn.trim():Hn,Vt,Xt))===!0&&un(hn,Vt?Vt.concat(Hn):[Hn])}),Ut.pop()}}(M),O};function Je(M){var O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(M).replace(/[!'()~]|%20|%00/g,function(Y){return O[Y]})}function St(M,O){this._pairs=[],M&&Re(M,this,O)}var Rt=St.prototype;Rt.append=function(M,O){this._pairs.push([M,O])},Rt.toString=function(M){var O=M?function(Y){return M.call(this,Y,Je)}:Je;return this._pairs.map(function(Y){return O(Y[0])+"="+O(Y[1])},"").join("&")};const ze=St;function dt(M){return encodeURIComponent(M).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ie(M,O,Y){if(!O)return M;var I,$=Y&&Y.encode||dt,j=Y&&Y.serialize;if(I=j?j(O,Y):Ge.isURLSearchParams(O)?O.toString():new ze(O,Y).toString($)){var te=M.indexOf("#");te!==-1&&(M=M.slice(0,te)),M+=(M.indexOf("?")===-1?"?":"&")+I}return M}function rt(M){return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},rt(M)}function mt(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(rt(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(rt(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),rt($)==="symbol"?$:String($)),I)}var $}var Ft=function(){function M(){(function(I,$){if(!(I instanceof $))throw new TypeError("Cannot call a class as a function")})(this,M),this.handlers=[]}var O,Y;return O=M,Y=[{key:"use",value:function(I,$,j){return this.handlers.push({fulfilled:I,rejected:$,synchronous:!!j&&j.synchronous,runWhen:j?j.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(I){this.handlers[I]&&(this.handlers[I]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(I){Ge.forEach(this.handlers,function($){$!==null&&I($)})}}],Y&&mt(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const Ht=Ft,Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ot=typeof URLSearchParams<"u"?URLSearchParams:ze,kt=FormData;var He,at=(typeof navigator>"u"||(He=navigator.product)!=="ReactNative"&&He!=="NativeScript"&&He!=="NS")&&typeof window<"u"&&typeof document<"u",xt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";const Et={classes:{URLSearchParams:ot,FormData:kt,Blob},isStandardBrowserEnv:at,isStandardBrowserWebWorkerEnv:xt,protocols:["http","https","file","blob","url","data"]},Nt=function(M){function O(I,$,j,te){var we=I[te++],Ce=Number.isFinite(+we),it=te>=I.length;return we=!we&&Ge.isArray(j)?j.length:we,it?(Ge.hasOwnProp(j,we)?j[we]=[j[we],$]:j[we]=$,!Ce):(j[we]&&Ge.isObject(j[we])||(j[we]=[]),O(I,$,j[we],te)&&Ge.isArray(j[we])&&(j[we]=function(pt){var Ut,Xt,un={},tn=Object.keys(pt),Vt=tn.length;for(Ut=0;Ut<Vt;Ut++)un[Xt=tn[Ut]]=pt[Xt];return un}(j[we])),!Ce)}if(Ge.isFormData(M)&&Ge.isFunction(M.entries)){var Y={};return Ge.forEachEntry(M,function(I,$){O(function(j){return Ge.matchAll(/\w+|\[(\w*)]/g,j).map(function(te){return te[0]==="[]"?"":te[1]||te[0]})}(I),$,Y,0)}),Y}return null};var Mn={"Content-Type":void 0},wr={transitional:Le,adapter:["xhr","http"],transformRequest:[function(M,O){var Y,I=O.getContentType()||"",$=I.indexOf("application/json")>-1,j=Ge.isObject(M);if(j&&Ge.isHTMLForm(M)&&(M=new FormData(M)),Ge.isFormData(M))return $&&$?JSON.stringify(Nt(M)):M;if(Ge.isArrayBuffer(M)||Ge.isBuffer(M)||Ge.isStream(M)||Ge.isFile(M)||Ge.isBlob(M))return M;if(Ge.isArrayBufferView(M))return M.buffer;if(Ge.isURLSearchParams(M))return O.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),M.toString();if(j){if(I.indexOf("application/x-www-form-urlencoded")>-1)return function(we,Ce){return Re(we,new Et.classes.URLSearchParams,Object.assign({visitor:function(it,pt,Ut,Xt){return Et.isNode&&Ge.isBuffer(it)?(this.append(pt,it.toString("base64")),!1):Xt.defaultVisitor.apply(this,arguments)}},Ce))}(M,this.formSerializer).toString();if((Y=Ge.isFileList(M))||I.indexOf("multipart/form-data")>-1){var te=this.env&&this.env.FormData;return Re(Y?{"files[]":M}:M,te&&new te,this.formSerializer)}}return j||$?(O.setContentType("application/json",!1),function(we,Ce,it){if(Ge.isString(we))try{return(0,JSON.parse)(we),Ge.trim(we)}catch(pt){if(pt.name!=="SyntaxError")throw pt}return(0,JSON.stringify)(we)}(M)):M}],transformResponse:[function(M){var O=this.transitional||wr.transitional,Y=O&&O.forcedJSONParsing,I=this.responseType==="json";if(M&&Ge.isString(M)&&(Y&&!this.responseType||I)){var $=!(O&&O.silentJSONParsing)&&I;try{return JSON.parse(M)}catch(j){if($)throw j.name==="SyntaxError"?ce.from(j,ce.ERR_BAD_RESPONSE,this,null,this.response):j}}return M}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(M){return M>=200&&M<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ge.forEach(["delete","get","head"],function(M){wr.headers[M]={}}),Ge.forEach(["post","put","patch"],function(M){wr.headers[M]=Ge.merge(Mn)});const Pr=wr;var qi=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);function Ci(M){return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Ci(M)}function ai(M,O){(O==null||O>M.length)&&(O=M.length);for(var Y=0,I=new Array(O);Y<O;Y++)I[Y]=M[Y];return I}function rr(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Ci(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Ci(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Ci($)==="symbol"?$:String($)),I)}var $}var Ye=Symbol("internals");function Ct(M){return M&&String(M).trim().toLowerCase()}function Tt(M){return M===!1||M==null?M:Ge.isArray(M)?M.map(Tt):String(M)}function On(M,O,Y,I){return Ge.isFunction(I)?I.call(this,O,Y):Ge.isString(O)?Ge.isString(I)?O.indexOf(I)!==-1:Ge.isRegExp(I)?I.test(O):void 0:void 0}var Kr=function(M,O){function Y(te){(function(we,Ce){if(!(we instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,Y),te&&this.set(te)}var I,$,j;return I=Y,$=[{key:"set",value:function(te,we,Ce){var it=this;function pt(Hn,eo,Li){var jr=Ct(eo);if(!jr)throw new Error("header name must be a non-empty string");var Nc=Ge.findKey(it,jr);(!Nc||it[Nc]===void 0||Li===!0||Li===void 0&&it[Nc]!==!1)&&(it[Nc||eo]=Tt(Hn))}var Ut,Xt,un,tn,Vt,hn=function(Hn,eo){return Ge.forEach(Hn,function(Li,jr){return pt(Li,jr,eo)})};return Ge.isPlainObject(te)||te instanceof this.constructor?hn(te,we):Ge.isString(te)&&(te=te.trim())&&!/^[-_a-zA-Z]+$/.test(te.trim())?hn((Vt={},(Ut=te)&&Ut.split(`
`).forEach(function(Hn){tn=Hn.indexOf(":"),Xt=Hn.substring(0,tn).trim().toLowerCase(),un=Hn.substring(tn+1).trim(),!Xt||Vt[Xt]&&qi[Xt]||(Xt==="set-cookie"?Vt[Xt]?Vt[Xt].push(un):Vt[Xt]=[un]:Vt[Xt]=Vt[Xt]?Vt[Xt]+", "+un:un)}),Vt),we):te!=null&&pt(we,te,Ce),this}},{key:"get",value:function(te,we){if(te=Ct(te)){var Ce=Ge.findKey(this,te);if(Ce){var it=this[Ce];if(!we)return it;if(we===!0)return function(pt){for(var Ut,Xt=Object.create(null),un=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;Ut=un.exec(pt);)Xt[Ut[1]]=Ut[2];return Xt}(it);if(Ge.isFunction(we))return we.call(this,it,Ce);if(Ge.isRegExp(we))return we.exec(it);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(te,we){if(te=Ct(te)){var Ce=Ge.findKey(this,te);return!(!Ce||we&&!On(0,this[Ce],Ce,we))}return!1}},{key:"delete",value:function(te,we){var Ce=this,it=!1;function pt(Ut){if(Ut=Ct(Ut)){var Xt=Ge.findKey(Ce,Ut);!Xt||we&&!On(0,Ce[Xt],Xt,we)||(delete Ce[Xt],it=!0)}}return Ge.isArray(te)?te.forEach(pt):pt(te),it}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(te){var we=this,Ce={};return Ge.forEach(this,function(it,pt){var Ut=Ge.findKey(Ce,pt);if(Ut)return we[Ut]=Tt(it),void delete we[pt];var Xt=te?function(un){return un.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(tn,Vt,hn){return Vt.toUpperCase()+hn})}(pt):String(pt).trim();Xt!==pt&&delete we[pt],we[Xt]=Tt(it),Ce[Xt]=!0}),this}},{key:"concat",value:function(){for(var te,we=arguments.length,Ce=new Array(we),it=0;it<we;it++)Ce[it]=arguments[it];return(te=this.constructor).concat.apply(te,[this].concat(Ce))}},{key:"toJSON",value:function(te){var we=Object.create(null);return Ge.forEach(this,function(Ce,it){Ce!=null&&Ce!==!1&&(we[it]=te&&Ge.isArray(Ce)?Ce.join(", "):Ce)}),we}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(te){var we,Ce,it=(Ce=2,function(pt){if(Array.isArray(pt))return pt}(we=te)||function(pt,Ut){var Xt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(Xt!=null){var un,tn,Vt,hn,Hn=[],eo=!0,Li=!1;try{if(Vt=(Xt=Xt.call(pt)).next,Ut===0){if(Object(Xt)!==Xt)return;eo=!1}else for(;!(eo=(un=Vt.call(Xt)).done)&&(Hn.push(un.value),Hn.length!==Ut);eo=!0);}catch(jr){Li=!0,tn=jr}finally{try{if(!eo&&Xt.return!=null&&(hn=Xt.return(),Object(hn)!==hn))return}finally{if(Li)throw tn}}return Hn}}(we,Ce)||function(pt,Ut){if(pt){if(typeof pt=="string")return ai(pt,Ut);var Xt=Object.prototype.toString.call(pt).slice(8,-1);return Xt==="Object"&&pt.constructor&&(Xt=pt.constructor.name),Xt==="Map"||Xt==="Set"?Array.from(pt):Xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt)?ai(pt,Ut):void 0}}(we,Ce)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());return it[0]+": "+it[1]}).join(`
`)}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],j=[{key:"from",value:function(te){return te instanceof this?te:new this(te)}},{key:"concat",value:function(te){for(var we=new this(te),Ce=arguments.length,it=new Array(Ce>1?Ce-1:0),pt=1;pt<Ce;pt++)it[pt-1]=arguments[pt];return it.forEach(function(Ut){return we.set(Ut)}),we}},{key:"accessor",value:function(te){var we=(this[Ye]=this[Ye]={accessors:{}}).accessors,Ce=this.prototype;function it(pt){var Ut=Ct(pt);we[Ut]||(function(Xt,un){var tn=Ge.toCamelCase(" "+un);["get","set","has"].forEach(function(Vt){Object.defineProperty(Xt,Vt+tn,{value:function(hn,Hn,eo){return this[Vt].call(this,un,hn,Hn,eo)},configurable:!0})})}(Ce,pt),we[Ut]=!0)}return Ge.isArray(te)?te.forEach(it):it(te),this}}],$&&rr(I.prototype,$),j&&rr(I,j),Object.defineProperty(I,"prototype",{writable:!1}),Y}();Kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Ge.freezeMethods(Kr.prototype),Ge.freezeMethods(Kr);const Yn=Kr;function Eo(M,O){var Y=this||Pr,I=O||Y,$=Yn.from(I.headers),j=I.data;return Ge.forEach(M,function(te){j=te.call(Y,j,$.normalize(),O?O.status:void 0)}),$.normalize(),j}function ia(M){return!(!M||!M.__CANCEL__)}function To(M,O,Y){ce.call(this,M??"canceled",ce.ERR_CANCELED,O,Y),this.name="CanceledError"}Ge.inherits(To,ce,{__CANCEL__:!0});const zs=To,id=Et.isStandardBrowserEnv?{write:function(M,O,Y,I,$,j){var te=[];te.push(M+"="+encodeURIComponent(O)),Ge.isNumber(Y)&&te.push("expires="+new Date(Y).toGMTString()),Ge.isString(I)&&te.push("path="+I),Ge.isString($)&&te.push("domain="+$),j===!0&&te.push("secure"),document.cookie=te.join("; ")},read:function(M){var O=document.cookie.match(new RegExp("(^|;\\s*)("+M+")=([^;]*)"));return O?decodeURIComponent(O[3]):null},remove:function(M){this.write(M,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Dc(M,O){return M&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(O)?function(Y,I){return I?Y.replace(/\/+$/,"")+"/"+I.replace(/^\/+/,""):Y}(M,O):O}const od=Et.isStandardBrowserEnv?function(){var M,O=/(msie|trident)/i.test(navigator.userAgent),Y=document.createElement("a");function I($){var j=$;return O&&(Y.setAttribute("href",j),j=Y.href),Y.setAttribute("href",j),{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:Y.pathname.charAt(0)==="/"?Y.pathname:"/"+Y.pathname}}return M=I(window.location.href),function($){var j=Ge.isString($)?I($):$;return j.protocol===M.protocol&&j.host===M.host}}():function(){return!0};function Fc(M,O){var Y=0,I=function($,j){$=$||10;var te,we=new Array($),Ce=new Array($),it=0,pt=0;return j=j!==void 0?j:1e3,function(Ut){var Xt=Date.now(),un=Ce[pt];te||(te=Xt),we[it]=Ut,Ce[it]=Xt;for(var tn=pt,Vt=0;tn!==it;)Vt+=we[tn++],tn%=$;if((it=(it+1)%$)===pt&&(pt=(pt+1)%$),!(Xt-te<j)){var hn=un&&Xt-un;return hn?Math.round(1e3*Vt/hn):void 0}}}(50,250);return function($){var j=$.loaded,te=$.lengthComputable?$.total:void 0,we=j-Y,Ce=I(we);Y=j;var it={loaded:j,total:te,progress:te?j/te:void 0,bytes:we,rate:Ce||void 0,estimated:Ce&&te&&j<=te?(te-j)/Ce:void 0,event:$};it[O?"download":"upload"]=!0,M(it)}}var ad={http:null,xhr:typeof XMLHttpRequest<"u"&&function(M){return new Promise(function(O,Y){var I,$=M.data,j=Yn.from(M.headers).normalize(),te=M.responseType;function we(){M.cancelToken&&M.cancelToken.unsubscribe(I),M.signal&&M.signal.removeEventListener("abort",I)}Ge.isFormData($)&&(Et.isStandardBrowserEnv||Et.isStandardBrowserWebWorkerEnv)&&j.setContentType(!1);var Ce=new XMLHttpRequest;if(M.auth){var it=M.auth.username||"",pt=M.auth.password?unescape(encodeURIComponent(M.auth.password)):"";j.set("Authorization","Basic "+btoa(it+":"+pt))}var Ut=Dc(M.baseURL,M.url);function Xt(){if(Ce){var hn=Yn.from("getAllResponseHeaders"in Ce&&Ce.getAllResponseHeaders());(function(Hn,eo,Li){var jr=Li.config.validateStatus;Li.status&&jr&&!jr(Li.status)?eo(new ce("Request failed with status code "+Li.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(Li.status/100)-4],Li.config,Li.request,Li)):Hn(Li)})(function(Hn){O(Hn),we()},function(Hn){Y(Hn),we()},{data:te&&te!=="text"&&te!=="json"?Ce.response:Ce.responseText,status:Ce.status,statusText:Ce.statusText,headers:hn,config:M,request:Ce}),Ce=null}}if(Ce.open(M.method.toUpperCase(),Ie(Ut,M.params,M.paramsSerializer),!0),Ce.timeout=M.timeout,"onloadend"in Ce?Ce.onloadend=Xt:Ce.onreadystatechange=function(){Ce&&Ce.readyState===4&&(Ce.status!==0||Ce.responseURL&&Ce.responseURL.indexOf("file:")===0)&&setTimeout(Xt)},Ce.onabort=function(){Ce&&(Y(new ce("Request aborted",ce.ECONNABORTED,M,Ce)),Ce=null)},Ce.onerror=function(){Y(new ce("Network Error",ce.ERR_NETWORK,M,Ce)),Ce=null},Ce.ontimeout=function(){var hn=M.timeout?"timeout of "+M.timeout+"ms exceeded":"timeout exceeded",Hn=M.transitional||Le;M.timeoutErrorMessage&&(hn=M.timeoutErrorMessage),Y(new ce(hn,Hn.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,M,Ce)),Ce=null},Et.isStandardBrowserEnv){var un=(M.withCredentials||od(Ut))&&M.xsrfCookieName&&id.read(M.xsrfCookieName);un&&j.set(M.xsrfHeaderName,un)}$===void 0&&j.setContentType(null),"setRequestHeader"in Ce&&Ge.forEach(j.toJSON(),function(hn,Hn){Ce.setRequestHeader(Hn,hn)}),Ge.isUndefined(M.withCredentials)||(Ce.withCredentials=!!M.withCredentials),te&&te!=="json"&&(Ce.responseType=M.responseType),typeof M.onDownloadProgress=="function"&&Ce.addEventListener("progress",Fc(M.onDownloadProgress,!0)),typeof M.onUploadProgress=="function"&&Ce.upload&&Ce.upload.addEventListener("progress",Fc(M.onUploadProgress)),(M.cancelToken||M.signal)&&(I=function(hn){Ce&&(Y(!hn||hn.type?new zs(null,M,Ce):hn),Ce.abort(),Ce=null)},M.cancelToken&&M.cancelToken.subscribe(I),M.signal&&(M.signal.aborted?I():M.signal.addEventListener("abort",I)));var tn,Vt=(tn=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Ut))&&tn[1]||"";Vt&&Et.protocols.indexOf(Vt)===-1?Y(new ce("Unsupported protocol "+Vt+":",ce.ERR_BAD_REQUEST,M)):Ce.send($||null)})}};Ge.forEach(ad,function(M,O){if(M){try{Object.defineProperty(M,"name",{value:O})}catch{}Object.defineProperty(M,"adapterName",{value:O})}});function Ap(M){if(M.cancelToken&&M.cancelToken.throwIfRequested(),M.signal&&M.signal.aborted)throw new zs(null,M)}function pv(M){return Ap(M),M.headers=Yn.from(M.headers),M.data=Eo.call(M,M.transformRequest),["post","put","patch"].indexOf(M.method)!==-1&&M.headers.setContentType("application/x-www-form-urlencoded",!1),function(O){for(var Y,I,$=(O=Ge.isArray(O)?O:[O]).length,j=0;j<$&&(Y=O[j],!(I=Ge.isString(Y)?ad[Y.toLowerCase()]:Y));j++);if(!I)throw I===!1?new ce("Adapter ".concat(Y," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(Ge.hasOwnProp(ad,Y)?"Adapter '".concat(Y,"' is not available in the build"):"Unknown adapter '".concat(Y,"'"));if(!Ge.isFunction(I))throw new TypeError("adapter is not a function");return I}(M.adapter||Pr.adapter)(M).then(function(O){return Ap(M),O.data=Eo.call(M,M.transformResponse,O),O.headers=Yn.from(O.headers),O},function(O){return ia(O)||(Ap(M),O&&O.response&&(O.response.data=Eo.call(M,M.transformResponse,O.response),O.response.headers=Yn.from(O.response.headers))),Promise.reject(O)})}var mv=function(M){return M instanceof Yn?M.toJSON():M};function $c(M,O){O=O||{};var Y={};function I(it,pt,Ut){return Ge.isPlainObject(it)&&Ge.isPlainObject(pt)?Ge.merge.call({caseless:Ut},it,pt):Ge.isPlainObject(pt)?Ge.merge({},pt):Ge.isArray(pt)?pt.slice():pt}function $(it,pt,Ut){return Ge.isUndefined(pt)?Ge.isUndefined(it)?void 0:I(void 0,it,Ut):I(it,pt,Ut)}function j(it,pt){if(!Ge.isUndefined(pt))return I(void 0,pt)}function te(it,pt){return Ge.isUndefined(pt)?Ge.isUndefined(it)?void 0:I(void 0,it):I(void 0,pt)}function we(it,pt,Ut){return Ut in O?I(it,pt):Ut in M?I(void 0,it):void 0}var Ce={url:j,method:j,data:j,baseURL:te,transformRequest:te,transformResponse:te,paramsSerializer:te,timeout:te,timeoutMessage:te,withCredentials:te,adapter:te,responseType:te,xsrfCookieName:te,xsrfHeaderName:te,onUploadProgress:te,onDownloadProgress:te,decompress:te,maxContentLength:te,maxBodyLength:te,beforeRedirect:te,transport:te,httpAgent:te,httpsAgent:te,cancelToken:te,socketPath:te,responseEncoding:te,validateStatus:we,headers:function(it,pt){return $(mv(it),mv(pt),!0)}};return Ge.forEach(Object.keys(M).concat(Object.keys(O)),function(it){var pt=Ce[it]||$,Ut=pt(M[it],O[it],it);Ge.isUndefined(Ut)&&pt!==we||(Y[it]=Ut)}),Y}function _h(M){return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_h(M)}var Sp={};["object","boolean","number","function","string","symbol"].forEach(function(M,O){Sp[M]=function(Y){return _h(Y)===M||"a"+(O<1?"n ":" ")+M}});var gv={};Sp.transitional=function(M,O,Y){function I($,j){return"[Axios v1.2.3] Transitional option '"+$+"'"+j+(Y?". "+Y:"")}return function($,j,te){if(M===!1)throw new ce(I(j," has been removed"+(O?" in "+O:"")),ce.ERR_DEPRECATED);return O&&!gv[j]&&(gv[j]=!0,console.warn(I(j," has been deprecated since v"+O+" and will be removed in the near future"))),!M||M($,j,te)}};const kp={assertOptions:function(M,O,Y){if(_h(M)!=="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);for(var I=Object.keys(M),$=I.length;$-- >0;){var j=I[$],te=O[j];if(te){var we=M[j],Ce=we===void 0||te(we,j,M);if(Ce!==!0)throw new ce("option "+j+" must be "+Ce,ce.ERR_BAD_OPTION_VALUE)}else if(Y!==!0)throw new ce("Unknown option "+j,ce.ERR_BAD_OPTION)}},validators:Sp};function sd(M){return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},sd(M)}function nw(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(sd(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(sd(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),sd($)==="symbol"?$:String($)),I)}var $}var Hs=kp.validators,Ph=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.defaults=I,this.interceptors={request:new Ht,response:new Ht}}var O,Y;return O=M,(Y=[{key:"request",value:function(I,$){typeof I=="string"?($=$||{}).url=I:$=I||{};var j,te=$=$c(this.defaults,$),we=te.transitional,Ce=te.paramsSerializer,it=te.headers;we!==void 0&&kp.assertOptions(we,{silentJSONParsing:Hs.transitional(Hs.boolean),forcedJSONParsing:Hs.transitional(Hs.boolean),clarifyTimeoutError:Hs.transitional(Hs.boolean)},!1),Ce!==void 0&&kp.assertOptions(Ce,{encode:Hs.function,serialize:Hs.function},!0),$.method=($.method||this.defaults.method||"get").toLowerCase(),(j=it&&Ge.merge(it.common,it[$.method]))&&Ge.forEach(["delete","get","head","post","put","patch","common"],function(jr){delete it[jr]}),$.headers=Yn.concat(j,it);var pt=[],Ut=!0;this.interceptors.request.forEach(function(jr){typeof jr.runWhen=="function"&&jr.runWhen($)===!1||(Ut=Ut&&jr.synchronous,pt.unshift(jr.fulfilled,jr.rejected))});var Xt,un=[];this.interceptors.response.forEach(function(jr){un.push(jr.fulfilled,jr.rejected)});var tn,Vt=0;if(!Ut){var hn=[pv.bind(this),void 0];for(hn.unshift.apply(hn,pt),hn.push.apply(hn,un),tn=hn.length,Xt=Promise.resolve($);Vt<tn;)Xt=Xt.then(hn[Vt++],hn[Vt++]);return Xt}tn=pt.length;var Hn=$;for(Vt=0;Vt<tn;){var eo=pt[Vt++],Li=pt[Vt++];try{Hn=eo(Hn)}catch(jr){Li.call(this,jr);break}}try{Xt=pv.call(this,Hn)}catch(jr){return Promise.reject(jr)}for(Vt=0,tn=un.length;Vt<tn;)Xt=Xt.then(un[Vt++],un[Vt++]);return Xt}},{key:"getUri",value:function(I){return Ie(Dc((I=$c(this.defaults,I)).baseURL,I.url),I.params,I.paramsSerializer)}}])&&nw(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();Ge.forEach(["delete","get","head","options"],function(M){Ph.prototype[M]=function(O,Y){return this.request($c(Y||{},{method:M,url:O,data:(Y||{}).data}))}}),Ge.forEach(["post","put","patch"],function(M){function O(Y){return function(I,$,j){return this.request($c(j||{},{method:M,headers:Y?{"Content-Type":"multipart/form-data"}:{},url:I,data:$}))}}Ph.prototype[M]=O(),Ph.prototype[M+"Form"]=O(!0)});const Ih=Ph;function ld(M){return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ld(M)}function vv(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(ld(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(ld(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),ld($)==="symbol"?$:String($)),I)}var $}var rw=function(){function M($){if(function(we,Ce){if(!(we instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,M),typeof $!="function")throw new TypeError("executor must be a function.");var j;this.promise=new Promise(function(we){j=we});var te=this;this.promise.then(function(we){if(te._listeners){for(var Ce=te._listeners.length;Ce-- >0;)te._listeners[Ce](we);te._listeners=null}}),this.promise.then=function(we){var Ce,it=new Promise(function(pt){te.subscribe(pt),Ce=pt}).then(we);return it.cancel=function(){te.unsubscribe(Ce)},it},$(function(we,Ce,it){te.reason||(te.reason=new zs(we,Ce,it),j(te.reason))})}var O,Y,I;return O=M,Y=[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function($){this.reason?$(this.reason):this._listeners?this._listeners.push($):this._listeners=[$]}},{key:"unsubscribe",value:function($){if(this._listeners){var j=this._listeners.indexOf($);j!==-1&&this._listeners.splice(j,1)}}}],I=[{key:"source",value:function(){var $;return{token:new M(function(j){$=j}),cancel:$}}}],Y&&vv(O.prototype,Y),I&&vv(O,I),Object.defineProperty(O,"prototype",{writable:!1}),M}();const iw=rw;function yv(M,O){(O==null||O>M.length)&&(O=M.length);for(var Y=0,I=new Array(O);Y<O;Y++)I[Y]=M[Y];return I}var Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(function(M){var O,Y,I=(Y=2,function(te){if(Array.isArray(te))return te}(O=M)||function(te,we){var Ce=te==null?null:typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(Ce!=null){var it,pt,Ut,Xt,un=[],tn=!0,Vt=!1;try{if(Ut=(Ce=Ce.call(te)).next,we===0){if(Object(Ce)!==Ce)return;tn=!1}else for(;!(tn=(it=Ut.call(Ce)).done)&&(un.push(it.value),un.length!==we);tn=!0);}catch(hn){Vt=!0,pt=hn}finally{try{if(!tn&&Ce.return!=null&&(Xt=Ce.return(),Object(Xt)!==Xt))return}finally{if(Vt)throw pt}}return un}}(O,Y)||function(te,we){if(te){if(typeof te=="string")return yv(te,we);var Ce=Object.prototype.toString.call(te).slice(8,-1);return Ce==="Object"&&te.constructor&&(Ce=te.constructor.name),Ce==="Map"||Ce==="Set"?Array.from(te):Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce)?yv(te,we):void 0}}(O,Y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),$=I[0],j=I[1];Ep[j]=$});const ow=Ep;var Ji=function M(O){var Y=new Ih(O),I=xe(Ih.prototype.request,Y);return Ge.extend(I,Ih.prototype,Y,{allOwnKeys:!0}),Ge.extend(I,Y,null,{allOwnKeys:!0}),I.create=function($){return M($c(O,$))},I}(Pr);Ji.Axios=Ih,Ji.CanceledError=zs,Ji.CancelToken=iw,Ji.isCancel=ia,Ji.VERSION="1.2.3",Ji.toFormData=Re,Ji.AxiosError=ce,Ji.Cancel=Ji.CanceledError,Ji.all=function(M){return Promise.all(M)},Ji.spread=function(M){return function(O){return M.apply(null,O)}},Ji.isAxiosError=function(M){return Ge.isObject(M)&&M.isAxiosError===!0},Ji.mergeConfig=$c,Ji.AxiosHeaders=Yn,Ji.formToJSON=function(M){return Nt(Ge.isHTMLForm(M)?new FormData(M):M)},Ji.HttpStatusCode=ow,Ji.default=Ji;const L5=Ji,bV={send:function(M){L5.post(M.url,M.data).then(function(O){var Y=O.data;Y&&Y.code===0?M.success&&M.success(Y):M.error&&M.error(Y&&Y.msg)}).catch(function(O){console.error(O),M.error&&M.error()})},read:function(M){L5.get(M.url).then(function(O){var Y=O.data;Y&&Y.code===0?M.success&&M.success(Y.data.map(function(I){return{time:I[0],type:I[1],color:I[2],author:I[3],text:I[4]}})):M.error&&M.error(Y&&Y.msg)}).catch(function(O){console.error(O),M.error&&M.error()})}};function aw(M){return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},aw(M)}function xV(M){var O=this;this.lang=M,this.fallbackLang=this.lang.includes("-")?this.lang.split("-")[0]:this.lang,this.tran=function(Y){return Y=Y.toLowerCase(),Lh[O.lang]&&Lh[O.lang][Y]?Lh[O.lang][Y]:Lh[O.fallbackLang]&&Lh[O.fallbackLang][Y]?Lh[O.fallbackLang][Y]:sw[Y]?sw[Y]:Y}}var sw={"danmaku-loading":"Danmaku is loading",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Input danmaku, hit Enter","about-author":"About author","dplayer-feedback":"DPlayer feedback","about-dplayer":"About DPlayer",loop:"Loop",speed:"Speed","opacity-danmaku":"Opacity for danmaku",normal:"Normal","please-input-danmaku":"Please input danmaku content!","set-danmaku-color":"Set danmaku color","set-danmaku-type":"Set danmaku type","show-danmaku":"Show danmaku","video-failed":"Video load failed","danmaku-failed":"Danmaku load failed","danmaku-send-failed":"Danmaku send failed","switching-quality":"Switching to %q quality","switched-quality":"Switched to %q quality",ff:"FF %s s",rew:"REW %s s","unlimited-danmaku":"Unlimited danmaku","send-danmaku":"Send danmaku",setting:"Setting",fullscreen:"Full screen","web-fullscreen":"Web full screen",send:"Send",screenshot:"Screenshot",airplay:"AirPlay",chromecast:"ChromeCast",subtitle:"Subtitle",off:"Off","show-subs":"Show subtitle","hide-subs":"Hide subtitle",volume:"Volume",live:"Live","video-info":"Video info"},Lh={en:sw,"zh-cn":{"danmaku-loading":"",top:"",bottom:"",rolling:"","input-danmaku-enter":"","about-author":"","dplayer-feedback":"","about-dplayer":" DPlayer ",loop:"",speed:"","opacity-danmaku":"",normal:"","please-input-danmaku":"","set-danmaku-color":"","set-danmaku-type":"","show-danmaku":"","video-failed":"","danmaku-failed":"","danmaku-send-failed":"","switching-quality":" %q ","switched-quality":" %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":"","send-danmaku":"",setting:"",fullscreen:"","web-fullscreen":"",send:"",screenshot:"",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":"","hide-subs":"",volume:"",live:"","video-info":""},"zh-tw":{"danmaku-loading":"",top:"",bottom:"",rolling:"","input-danmaku-enter":"Enter ","about-author":"","dplayer-feedback":"","about-dplayer":" DPlayer ",loop:"",speed:"","opacity-danmaku":"",normal:"","please-input-danmaku":"","set-danmaku-color":"","set-danmaku-type":"","show-danmaku":"","video-failed":"","danmaku-failed":"","danmaku-send-failed":"","switching-quality":" %q ","switched-quality":" %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":"","send-danmaku":"",setting:"",fullscreen:"","web-fullscreen":"",send:"",screenshot:"",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":"","hide-subs":"",volume:"",live:"","video-info":""},"ko-kr":{"danmaku-loading":"Danmaku  .",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Danmaku  Enter .","about-author":"","dplayer-feedback":" ","about-dplayer":"DPlayer ",loop:"",speed:"","opacity-danmaku":"Danmaku ",normal:"","please-input-danmaku":"Danmaku !","set-danmaku-color":"Danmaku ","set-danmaku-type":"Danmaku ","show-danmaku":"Danmaku ","video-failed":"  .","danmaku-failed":"Danmaku  .","danmaku-send-failed":"Danmaku  .","Switching to":"","Switched to":"","switching-quality":" %q ","switched-quality":"  %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":" Danmaku","send-danmaku":"Danmaku ",setting:"",fullscreen:" ","web-fullscreen":"  ",send:"",screenshot:" ",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":" ","hide-subs":" ",Volume:"",live:"","video-info":" "},de:{"danmaku-loading":"Danmaku ldt...",top:"Oben",bottom:"Unten",rolling:"Rollend","input-danmaku-enter":"Drcke Enter nach dem Einfgen vom Danmaku","about-author":"ber den Autor","dplayer-feedback":"DPlayer Feedback","about-dplayer":"ber DPlayer",loop:"Wiederholen",speed:"Geschwindigkeit","opacity-danmaku":"Transparenz fr Danmaku",normal:"Normal","please-input-danmaku":"Bitte Danmaku Inhalt eingeben!","set-danmaku-color":"Danmaku Farbe festlegen","set-danmaku-type":"Danmaku Typ festlegen","show-danmaku":"Zeige Danmaku","video-failed":"Das Video konnte nicht geladen werden","danmaku-failed":"Danmaku konnte nicht geladen werden","danmaku-send-failed":"Das senden von Danmaku ist fehgeschlagen","switching-quality":"Wechsle zur %q Qualitt","switched-quality":"Zur %q Qualitt gewechselt",ff:"%s s Vorwrts",rew:"%s s Zurck","unlimited-danmaku":"Unlimitiertes Danmaku","send-danmaku":"Sende Danmaku",setting:"Einstellungen",fullscreen:"Vollbild","web-fullscreen":"Browser Vollbild",send:"Senden",screenshot:"Screenshot",airplay:"AirPlay","show-subs":"Zeige Untertitel",chromecast:"ChromeCast",subtitle:"Untertitel",off:"Schlieung","hide-subs":"Verstecke Untertitel",volume:"Lautstrke",live:"Live","video-info":"Video Info"}},wV=i(730),CV=i.n(wV),AV=i(74),SV=i.n(AV),kV=i(437),EV=i.n(kV),TV=i(644),RV=i.n(TV),_V=i(324),PV=i.n(_V),IV=i(574),LV=i.n(IV),MV=i(300),OV=i.n(MV),DV=i(934),FV=i.n(DV),$V=i(428),BV=i.n($V),NV=i(807),zV=i.n(NV),HV=i(338),UV=i.n(HV),jV=i(254),VV=i.n(jV),WV=i(965),qV=i.n(WV),KV=i(113),GV=i.n(KV),YV=i(251),XV=i.n(YV),QV=i(410),ZV=i.n(QV),JV=i(182),eW=i.n(JV),tW=i(193),nW=i.n(tW);const ms={play:CV(),pause:SV(),volumeUp:EV(),volumeDown:RV(),volumeOff:PV(),full:LV(),fullWeb:OV(),setting:FV(),right:BV(),comment:zV(),commentOff:UV(),send:VV(),pallette:qV(),camera:GV(),subtitle:ZV(),loading:eW(),airplay:XV(),chromecast:nW()};var rW=i(916),iW=i.n(rW);function Tp(M){return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Tp(M)}function M5(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Tp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Tp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Tp($)==="symbol"?$:String($)),I)}var $}var oW=function(){function M($){(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.container=$.container,this.options=$.options,this.index=$.index,this.tran=$.tran,this.init()}var O,Y,I;return O=M,I=[{key:"NewNotice",value:function($,j,te){var we=document.createElement("div");return we.classList.add("dplayer-notice"),we.style.opacity=j,we.innerText=$,te&&(we.id="dplayer-notice-".concat(te)),we}}],(Y=[{key:"init",value:function(){this.container.innerHTML=iW()({options:this.options,index:this.index,tran:this.tran,icons:ms,mobile:he.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:!(!he.isSafari||he.isChrome)&&this.options.airplay,chromecast:this.options.chromecast,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.chromecastButton=this.container.querySelector(".dplayer-chromecast-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitlesButton=this.container.querySelector(".dplayer-subtitles-icon"),this.subtitlesBox=this.container.querySelector(".dplayer-subtitles-box"),this.subtitlesItem=this.container.querySelectorAll(".dplayer-subtitles-item"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.subtrack=this.container.querySelector(".dplayer-subtrack"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.noticeList=this.container.querySelector(".dplayer-notice-list"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&M5(O.prototype,Y),I&&M5(O,I),Object.defineProperty(O,"prototype",{writable:!1}),M}();const O5=oW;function Mh(M){return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Mh(M)}function aW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Mh(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Mh(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Mh($)==="symbol"?$:String($)),I)}var $}var sW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.options=I,this.player=this.options.player,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var O,Y;return O=M,Y=[{key:"load",value:function(){var I,$=this;I=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var j=(this.options.api.addition||[]).slice(0);j.push(I),this.events&&this.events.trigger("danmaku_load_start",j),this._readAllEndpoints(j,function(te){$.dan=[].concat.apply([],te).sort(function(we,Ce){return we.time-Ce.time}),window.requestAnimationFrame(function(){$.frame()}),$.options.callback(),$.events&&$.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(I){this.options.api=I,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(I,$){for(var j=this,te=[],we=0,Ce=function(pt){j.options.apiBackend.read({url:I[pt],success:function(Ut){te[pt]=Ut,++we===I.length&&$(te)},error:function(Ut){j.options.error(Ut||j.options.tran("danmaku-failed")),te[pt]=[],++we===I.length&&$(te)}})},it=0;it<I.length;++it)Ce(it)}},{key:"send",value:function(I,$){var j=this,te={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:I.text,color:I.color,type:I.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:te,success:$,error:function(Ce){j.options.error(Ce||j.options.tran("danmaku-failed"))}}),this.dan.splice(this.danIndex,0,te),this.danIndex++;var we={text:this.htmlEncode(te.text),color:te.color,type:te.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(we),this.events&&this.events.trigger("danmaku_send",te)}},{key:"frame",value:function(){var I=this;if(this.dan.length&&!this.paused&&this.showing){for(var $=this.dan[this.danIndex],j=[];$&&this.options.time()>parseFloat($.time);)j.push($),$=this.dan[++this.danIndex];this.draw(j)}window.requestAnimationFrame(function(){I.frame()})}},{key:"opacity",value:function(I){if(I!==void 0){for(var $=this.container.getElementsByClassName("dplayer-danmaku-item"),j=0;j<$.length;j++)$[j].style.opacity=I;this._opacity=I,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(I){var $=this;if(this.showing){var j=this.options.height,te=this.container.offsetWidth,we=this.container.offsetHeight,Ce=parseInt(we/j),it=function(Vt){var hn=Vt.offsetWidth||parseInt(Vt.style.width),Hn=Vt.getBoundingClientRect().right||$.container.getBoundingClientRect().right+hn;return $.container.getBoundingClientRect().right-Hn},pt=function(Vt){return(te+Vt)/5},Ut=function(Vt,hn,Hn){for(var eo=te/pt(Hn),Li=function(cd){var Dh=$.danTunnel[hn][cd+""];if(!Dh||!Dh.length)return $.danTunnel[hn][cd+""]=[Vt],Vt.addEventListener("animationend",function(){$.danTunnel[hn][cd+""].splice(0,1)}),{v:cd%Ce};if(hn!=="right")return"continue";for(var Vp=0;Vp<Dh.length;Vp++){var z5=it(Dh[Vp])-10;if(z5<=te-eo*pt(parseInt(Dh[Vp].style.width))||z5<=0)break;if(Vp===Dh.length-1)return $.danTunnel[hn][cd+""].push(Vt),Vt.addEventListener("animationend",function(){$.danTunnel[hn][cd+""].splice(0,1)}),{v:cd%Ce}}},jr=0;$.unlimited||jr<Ce;jr++){var Nc=Li(jr);if(Nc!=="continue"&&Mh(Nc)==="object")return Nc.v}return-1};Object.prototype.toString.call(I)!=="[object Array]"&&(I=[I]);for(var Xt=document.createDocumentFragment(),un=function(){I[tn].type=he.number2Type(I[tn].type),I[tn].color||(I[tn].color=16777215);var Vt=document.createElement("div");Vt.classList.add("dplayer-danmaku-item"),Vt.classList.add("dplayer-danmaku-".concat(I[tn].type)),I[tn].border?Vt.innerHTML='<span style="border:'.concat(I[tn].border,'">').concat(I[tn].text,"</span>"):Vt.innerHTML=I[tn].text,Vt.style.opacity=$._opacity,Vt.style.color=he.number2Color(I[tn].color),Vt.addEventListener("animationend",function(){$.container.removeChild(Vt)});var hn,Hn=$._measure(I[tn].text);switch(I[tn].type){case"right":(hn=Ut(Vt,I[tn].type,Hn))>=0&&(Vt.style.width=Hn+1+"px",Vt.style.top=j*hn+"px",Vt.style.transform="translateX(-".concat(te,"px)"));break;case"top":(hn=Ut(Vt,I[tn].type))>=0&&(Vt.style.top=j*hn+"px");break;case"bottom":(hn=Ut(Vt,I[tn].type))>=0&&(Vt.style.bottom=j*hn+"px");break;default:console.error("Can't handled danmaku type: ".concat(I[tn].type))}hn>=0&&(Vt.classList.add("dplayer-danmaku-move"),Vt.style.animationDuration=$._danAnimation(I[tn].type),Xt.appendChild(Vt))},tn=0;tn<I.length;tn++)un();return this.container.appendChild(Xt),Xt}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(I){if(!this.context){var $=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=$.getPropertyValue("font")}return this.context.measureText(I).width}},{key:"seek",value:function(){this.clear();for(var I=0;I<this.dan.length;I++){if(this.dan[I].time>=this.options.time()){this.danIndex=I;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var I=this.container.offsetWidth,$=this.container.getElementsByClassName("dplayer-danmaku-item"),j=0;j<$.length;j++)$[j].style.transform="translateX(-".concat(I,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(I){this.unlimited=I}},{key:"speed",value:function(I){this.options.api.speedRate=I}},{key:"_danAnimation",value:function(I){var $=this.options.api.speedRate||1,j=!!this.player.fullScreen.isFullScreen();return{top:"".concat((j?6:4)/$,"s"),right:"".concat((j?8:5)/$,"s"),bottom:"".concat((j?6:4)/$,"s")}[I]}}],Y&&aW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const lW=sW;function Rp(M){return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Rp(M)}function cW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Rp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Rp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Rp($)==="symbol"?$:String($)),I)}var $}const uW=function(){function M(){(function(I,$){if(!(I instanceof $))throw new TypeError("Cannot call a class as a function")})(this,M),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var O,Y;return O=M,(Y=[{key:"on",value:function(I,$){this.type(I)&&typeof $=="function"&&(this.events[I]||(this.events[I]=[]),this.events[I].push($))}},{key:"trigger",value:function(I,$){if(this.events[I]&&this.events[I].length)for(var j=0;j<this.events[I].length;j++)this.events[I][j]($)}},{key:"type",value:function(I){return this.playerEvents.indexOf(I)!==-1?"player":this.videoEvents.indexOf(I)!==-1?"video":(console.error("Unknown event name: ".concat(I)),null)}}])&&cW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();function _p(M){return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_p(M)}function dW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(_p(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(_p(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),_p($)==="symbol"?$:String($)),I)}var $}var hW=function(){function M(I){var $=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){$.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){$.player.resize(),he.setScrollPosition($.lastScrollPosition)}),this.fullscreenchange=function(){$.player.resize(),$.isFullScreen("browser")?$.player.events.trigger("fullscreen"):(he.setScrollPosition($.lastScrollPosition),$.player.events.trigger("fullscreen_cancel"))},this.docfullscreenchange=function(){var j=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;j&&j!==$.player.container||($.player.resize(),j?$.player.events.trigger("fullscreen"):(he.setScrollPosition($.lastScrollPosition),$.player.events.trigger("fullscreen_cancel")))},/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",this.docfullscreenchange),document.addEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.addEventListener("fullscreenchange",this.fullscreenchange),this.player.container.addEventListener("webkitfullscreenchange",this.fullscreenchange),document.addEventListener("msfullscreenchange",this.docfullscreenchange),document.addEventListener("MSFullscreenChange",this.docfullscreenchange))}var O,Y;return O=M,Y=[{key:"isFullScreen",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(I){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser",$=I==="browser"?"web":"browser",j=this.isFullScreen($);switch(j||(this.lastScrollPosition=he.getScrollPosition()),I){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}j&&this.cancel($)}},{key:"cancel",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(I){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";this.isFullScreen(I)?this.cancel(I):this.request(I)}},{key:"destroy",value:function(){/Firefox/.test(navigator.userAgent)?(document.removeEventListener("mozfullscreenchange",this.docfullscreenchange),document.removeEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.removeEventListener("fullscreenchange",this.fullscreenchange),this.player.container.removeEventListener("webkitfullscreenchange",this.fullscreenchange),document.removeEventListener("msfullscreenchange",this.docfullscreenchange),document.removeEventListener("MSFullscreenChange",this.docfullscreenchange))}}],Y&&dW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const fW=hW;function Pp(M){return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Pp(M)}function pW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Pp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Pp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Pp($)==="symbol"?$:String($)),I)}var $}var mW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:I.options.hasOwnProperty("volume")?I.options.volume:.7,unlimited:(I.options.danmaku&&I.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var O,Y;return O=M,(Y=[{key:"init",value:function(){for(var I in this.storageName){var $=this.storageName[I];this.data[I]=parseFloat(he.storage.get($)||this.default[I])}}},{key:"get",value:function(I){return this.data[I]}},{key:"set",value:function(I,$){this.data[I]=$,he.storage.set(this.storageName[I],$)}}])&&pW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const gW=mW;function Ip(M){return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Ip(M)}function vW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Ip(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Ip(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Ip($)==="symbol"?$:String($)),I)}var $}var yW=function(){function M(I,$,j,te){(function(we,Ce){if(!(we instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,M),this.container=I,this.video=$,this.options=j,this.events=te,this.init()}var O,Y;return O=M,Y=[{key:"init",value:function(){var I=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var $=this.video.textTracks[0];$.oncuechange=function(){var j=$.activeCues[$.activeCues.length-1];if(I.container.innerHTML="",j){var te=document.createElement("div");te.appendChild(j.getCueAsHTML());var we=te.innerHTML.split(/\r?\n/).map(function(Ce){return"<p>".concat(Ce,"</p>")}).join("");I.container.innerHTML=we}I.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}],Y&&vW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const bW=yW;function Lp(M){return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Lp(M)}function xW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Lp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Lp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Lp($)==="symbol"?$:String($)),I)}var $}var wW=function(){function M(I){var $=this;(function(Ce,it){if(!(Ce instanceof it))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.player.template.mask.addEventListener("click",function(){$.hide()}),this.player.template.subtitlesButton.addEventListener("click",function(){$.adaptiveHeight(),$.show()});for(var j=this.player.template.subtitlesItem.length-1,te=function(Ce){$.player.template.subtitlesItem[Ce].addEventListener("click",function(){$.hide(),$.player.options.subtitle.index!==Ce&&($.player.template.subtitle.innerHTML="<p></p>",$.player.template.subtrack.src=$.player.template.subtitlesItem[Ce].dataset.subtitle,$.player.options.subtitle.index=Ce,$.player.template.subtitle.classList.contains("dplayer-subtitle-hide")&&$.subContainerShow())})},we=0;we<j;we++)te(we);this.player.template.subtitlesItem[j].addEventListener("click",function(){$.hide(),$.player.options.subtitle.index!==j&&($.player.template.subtitle.innerHTML="<p></p>",$.player.template.subtrack.src="",$.player.options.subtitle.index=j,$.subContainerHide())})}var O,Y;return O=M,(Y=[{key:"subContainerShow",value:function(){this.player.template.subtitle.classList.remove("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_show")}},{key:"subContainerHide",value:function(){this.player.template.subtitle.classList.add("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_hide")}},{key:"hide",value:function(){this.player.template.subtitlesBox.classList.remove("dplayer-subtitles-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.subtitlesBox.classList.add("dplayer-subtitles-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}},{key:"adaptiveHeight",value:function(){var I=30*this.player.template.subtitlesItem.length+14,$=.8*this.player.template.videoWrap.offsetHeight;I>=$-50?(this.player.template.subtitlesBox.style.bottom="8px",this.player.template.subtitlesBox.style["max-height"]=$-8+"px"):(this.player.template.subtitlesBox.style.bottom="50px",this.player.template.subtitlesBox.style["max-height"]=$-50+"px")}}])&&xW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const CW=wW;function Mp(M){return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Mp(M)}function AW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Mp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Mp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Mp($)==="symbol"?$:String($)),I)}var $}var SW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.elements={},this.elements.volume=I.volumeBar,this.elements.played=I.playedBar,this.elements.loaded=I.loadedBar,this.elements.danmaku=I.danmakuOpacityBar}var O,Y;return O=M,(Y=[{key:"set",value:function(I,$,j){$=Math.max($,0),$=Math.min($,1),this.elements[I].style[j]=100*$+"%"}},{key:"get",value:function(I){return parseFloat(this.elements[I].style.width)/100}}])&&AW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const kW=SW;function Op(M){return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Op(M)}function EW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Op(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Op(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Op($)==="symbol"?$:String($)),I)}var $}var TW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function($){window.setTimeout($,1e3/60)},this.types=["loading","info","fps"],this.init()}var O,Y;return O=M,(Y=[{key:"init",value:function(){var I=this;this.types.map(function($){return $!=="fps"&&I["init".concat($,"Checker")](),$})}},{key:"initloadingChecker",value:function(){var I=this,$=0,j=0,te=!1;this.loadingChecker=setInterval(function(){I.enableloadingChecker&&(j=I.player.video.currentTime,te||j!==$||I.player.video.paused||(I.player.container.classList.add("dplayer-loading"),te=!0),te&&j>$&&!I.player.video.paused&&(I.player.container.classList.remove("dplayer-loading"),te=!1),$=j)},100)}},{key:"initfpsChecker",value:function(){var I=this;window.requestAnimationFrame(function(){if(I.enablefpsChecker)if(I.initfpsChecker(),I.fpsStart){I.fpsIndex++;var $=new Date;$-I.fpsStart>1e3&&(I.player.infoPanel.fps(I.fpsIndex/($-I.fpsStart)*1e3),I.fpsStart=new Date,I.fpsIndex=0)}else I.fpsStart=new Date,I.fpsIndex=0;else I.fpsStart=0,I.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var I=this;this.infoChecker=setInterval(function(){I.enableinfoChecker&&I.player.infoPanel.update()},1e3)}},{key:"enable",value:function(I){this["enable".concat(I,"Checker")]=!0,I==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(I){this["enable".concat(I,"Checker")]=!1}},{key:"destroy",value:function(){var I=this;this.types.map(function($){return I["enable".concat($,"Checker")]=!1,I["".concat($,"Checker")]&&clearInterval(I["".concat($,"Checker")]),$})}}])&&EW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const RW=TW;function Dp(M){return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Dp(M)}function _W(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Dp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Dp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Dp($)==="symbol"?$:String($)),I)}var $}const PW=function(){function M(I){var $=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.container=I,this.container.addEventListener("animationend",function(){$.container.classList.remove("dplayer-bezel-transition")})}var O,Y;return O=M,(Y=[{key:"switch",value:function(I){this.container.innerHTML=I,this.container.classList.add("dplayer-bezel-transition")}}])&&_W(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();function Fp(M){return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Fp(M)}function IW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Fp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Fp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Fp($)==="symbol"?$:String($)),I)}var $}var LW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.container=I.container,this.barWidth=I.barWidth,this.container.style.backgroundImage="url('".concat(I.url,"')"),this.events=I.events}var O,Y;return O=M,(Y=[{key:"resize",value:function(I,$,j){this.container.style.width="".concat(I,"px"),this.container.style.height="".concat($,"px"),this.container.style.top="".concat(2-$,"px"),this.barWidth=j}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(I){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(I/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(I-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&IW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const MW=LW;function $p(M){return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},$p(M)}function OW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if($p(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if($p(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),$p($)==="symbol"?$:String($)),I)}var $}var Bc,D5=!0,lw=!1,DW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.autoHideTimer=0,he.isMobile||(this.setAutoHideHandler=this.setAutoHide.bind(this),this.player.container.addEventListener("mousemove",this.setAutoHideHandler),this.player.container.addEventListener("click",this.setAutoHideHandler),this.player.on("play",this.setAutoHideHandler),this.player.on("pause",this.setAutoHideHandler)),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.player.options.subtitle&&typeof this.player.options.subtitle.url=="string"&&this.initSubtitleButton(),this.initHighlights(),this.initAirplayButton(),this.initChromecastButton(),he.isMobile||this.initVolumeButton()}var O,Y;return O=M,(Y=[{key:"initPlayButton",value:function(){var I=this;this.player.template.playButton.addEventListener("click",function(){I.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){I.player.toggle()}),he.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){I.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){I.toggle()})):this.player.options.preventClickToggle||(this.player.template.videoWrap.addEventListener("click",function(){I.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){I.player.toggle()}))}},{key:"initHighlights",value:function(){var I=this;this.player.on("durationchange",function(){if(I.player.video.duration!==1&&I.player.video.duration!==1/0&&I.player.options.highlight){var $=I.player.template.playedBarWrap.querySelectorAll(".dplayer-highlight");[].slice.call($,0).forEach(function(we){I.player.template.playedBarWrap.removeChild(we)});for(var j=0;j<I.player.options.highlight.length;j++)if(I.player.options.highlight[j].text&&I.player.options.highlight[j].time){var te=document.createElement("div");te.classList.add("dplayer-highlight"),te.style.left=I.player.options.highlight[j].time/I.player.video.duration*100+"%",te.innerHTML='<span class="dplayer-highlight-text">'+I.player.options.highlight[j].text+"</span>",I.player.template.playedBarWrap.insertBefore(te,I.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var I=this;this.player.options.video.thumbnails&&(this.thumbnails=new MW({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){I.thumbnails.resize(160,I.player.video.videoHeight/I.player.video.videoWidth*160,I.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var I=this,$=function(te){var we=((te.clientX||te.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft(I.player.template.playedBarWrap))/I.player.template.playedBarWrap.clientWidth;we=Math.max(we,0),we=Math.min(we,1),I.player.bar.set("played",we,"width"),I.player.template.ptime.innerHTML=he.secondToTime(we*I.player.video.duration)},j=function te(we){document.removeEventListener(he.nameMap.dragEnd,te),document.removeEventListener(he.nameMap.dragMove,$);var Ce=((we.clientX||we.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft(I.player.template.playedBarWrap))/I.player.template.playedBarWrap.clientWidth;Ce=Math.max(Ce,0),Ce=Math.min(Ce,1),I.player.bar.set("played",Ce,"width"),I.player.seek(I.player.bar.get("played")*I.player.video.duration),I.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(he.nameMap.dragStart,function(){I.player.timer.disable("progress"),document.addEventListener(he.nameMap.dragMove,$),document.addEventListener(he.nameMap.dragEnd,j)}),this.player.template.playedBarWrap.addEventListener(he.nameMap.dragMove,function(te){if(I.player.video.duration){var we=I.player.template.playedBarWrap.getBoundingClientRect().left,Ce=(te.clientX||te.changedTouches[0].clientX)-we;if(Ce<0||Ce>I.player.template.playedBarWrap.offsetWidth)return;var it=I.player.video.duration*(Ce/I.player.template.playedBarWrap.offsetWidth);he.isMobile&&I.thumbnails&&I.thumbnails.show(),I.thumbnails&&I.thumbnails.move(Ce),I.player.template.playedBarTime.style.left="".concat(Ce-(it>=3600?25:20),"px"),I.player.template.playedBarTime.innerText=he.secondToTime(it),I.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(he.nameMap.dragEnd,function(){he.isMobile&&I.thumbnails&&I.thumbnails.hide()}),he.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){I.player.video.duration&&(I.thumbnails&&I.thumbnails.show(),I.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){I.player.video.duration&&(I.thumbnails&&I.thumbnails.hide(),I.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var I=this;this.player.template.browserFullButton.addEventListener("click",function(){I.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){I.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var I=this,$=function(te){var we=te||window.event,Ce=((we.clientX||we.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft(I.player.template.volumeBarWrap)-5.5)/35;I.player.volume(Ce)},j=function te(){document.removeEventListener(he.nameMap.dragEnd,te),document.removeEventListener(he.nameMap.dragMove,$),I.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(te){var we=te||window.event,Ce=((we.clientX||we.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft(I.player.template.volumeBarWrap)-5.5)/35;I.player.volume(Ce)}),this.player.template.volumeBarWrapWrap.addEventListener(he.nameMap.dragStart,function(){document.addEventListener(he.nameMap.dragMove,$),document.addEventListener(he.nameMap.dragEnd,j),I.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){I.player.video.muted?(I.player.video.muted=!1,I.player.switchVolumeIcon(),I.player.bar.set("volume",I.player.volume(),"width")):(I.player.video.muted=!0,I.player.template.volumeIcon.innerHTML=ms.volumeOff,I.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var I=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function($){$.target.classList.contains("dplayer-quality-item")&&I.player.switchQuality($.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var I=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var $,j=document.createElement("canvas");j.width=I.player.video.videoWidth,j.height=I.player.video.videoHeight,j.getContext("2d").drawImage(I.player.video,0,0,j.width,j.height),j.toBlob(function(te){$=URL.createObjectURL(te);var we=document.createElement("a");we.href=$,we.download="DPlayer.png",we.style.display="none",document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL($),I.player.events.trigger("screenshot",$)})})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",(function(I){I.availability==="available"?this.template.airplayButton.disable=!1:this.template.airplayButton.disable=!0,this.template.airplayButton.addEventListener("click",(function(){this.video.webkitShowPlaybackTargetPicker()}).bind(this))}).bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initChromecast",value:function(){var I=window.document.createElement("script");I.setAttribute("type","text/javascript"),I.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),window.document.body.appendChild(I),window.__onGCastApiAvailable=function($){if($){var j=new(Bc=window.chrome.cast).SessionRequest(Bc.media.DEFAULT_MEDIA_RECEIVER_APP_ID),te=new Bc.ApiConfig(j,function(){},function(we){we===Bc.ReceiverAvailability.AVAILABLE&&console.log("chromecast: ",we)});Bc.initialize(te,function(){})}}}},{key:"initChromecastButton",value:function(){var I=this;if(this.player.options.chromecast){D5&&(D5=!1,this.initChromecast());var $=function(te,we){I.currentMedia=we},j=function(te){console.error("Error launching media",te)};this.player.template.chromecastButton.addEventListener("click",function(){lw?(lw=!1,I.currentMedia.stop(),I.session.stop(),I.initChromecast()):(lw=!0,Bc.requestSession(function(te){var we,Ce,it;I.session=te,we=I.player.options.video.url,Ce=new Bc.media.MediaInfo(we),it=new Bc.media.LoadRequest(Ce),I.session?I.session.loadMedia(it,$.bind(I,"loadMedia"),j).play():window.open(we)},function(te){te.code==="cancel"?I.session=void 0:console.error("Error selecting a cast device",te)}))})}}},{key:"initSubtitleButton",value:function(){var I=this;this.player.events.on("subtitle_show",function(){I.player.template.subtitleButton.dataset.balloon=I.player.tran("hide-subs"),I.player.template.subtitleButtonInner.style.opacity="",I.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){I.player.template.subtitleButton.dataset.balloon=I.player.tran("show-subs"),I.player.template.subtitleButtonInner.style.opacity="0.4",I.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){I.player.subtitle.toggle()})}},{key:"setAutoHide",value:function(){var I=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!I.player.video.played.length||I.player.paused||I.disableAutoHide||I.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){he.isMobile||(this.player.container.removeEventListener("mousemove",this.setAutoHideHandler),this.player.container.removeEventListener("click",this.setAutoHideHandler)),clearTimeout(this.autoHideTimer)}}])&&OW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const FW=DW;function Bp(M){return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Bp(M)}function $W(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Bp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Bp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Bp($)==="symbol"?$:String($)),I)}var $}var BW=function(){function M(I){var $=this;(function(it,pt){if(!(it instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.player.template.mask.addEventListener("click",function(){$.hide()}),this.player.template.settingButton.addEventListener("click",function(){$.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){$.player.template.loopToggle.checked=!$.player.template.loopToggle.checked,$.player.template.loopToggle.checked?$.loop=!0:$.loop=!1,$.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){$.player.template.showDanmakuToggle.checked=!$.player.template.showDanmakuToggle.checked,$.player.template.showDanmakuToggle.checked?($.showDanmaku=!0,$.player.danmaku.show()):($.showDanmaku=!1,$.player.danmaku.hide()),$.player.user.set("danmaku",$.showDanmaku?1:0),$.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){$.player.template.unlimitDanmakuToggle.checked=!$.player.template.unlimitDanmakuToggle.checked,$.player.template.unlimitDanmakuToggle.checked?($.unlimitDanmaku=!0,$.player.danmaku.unlimit(!0)):($.unlimitDanmaku=!1,$.player.danmaku.unlimit(!1)),$.player.user.set("unlimited",$.unlimitDanmaku?1:0),$.hide()}),this.player.template.speed.addEventListener("click",function(){$.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),$.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var j=function(it){$.player.template.speedItem[it].addEventListener("click",function(){$.player.speed($.player.template.speedItem[it].dataset.speed),$.hide()})},te=0;te<this.player.template.speedItem.length;te++)j(te);if(this.player.danmaku){this.player.on("danmaku_opacity",function(it){$.player.bar.set("danmaku",it,"width"),$.player.user.set("opacity",it)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var we=function(it){var pt=it||window.event,Ut=((pt.clientX||pt.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft($.player.template.danmakuOpacityBarWrap))/130;Ut=Math.max(Ut,0),Ut=Math.min(Ut,1),$.player.danmaku.opacity(Ut)},Ce=function it(){document.removeEventListener(he.nameMap.dragEnd,it),document.removeEventListener(he.nameMap.dragMove,we),$.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(it){var pt=it||window.event,Ut=((pt.clientX||pt.changedTouches[0].clientX)-he.getBoundingClientRectViewLeft($.player.template.danmakuOpacityBarWrap))/130;Ut=Math.max(Ut,0),Ut=Math.min(Ut,1),$.player.danmaku.opacity(Ut)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(he.nameMap.dragStart,function(){document.addEventListener(he.nameMap.dragMove,we),document.addEventListener(he.nameMap.dragEnd,Ce),$.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var O,Y;return O=M,(Y=[{key:"hide",value:function(){var I=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){I.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),I.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&$W(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const NW=BW;function Np(M){return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Np(M)}function zW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Np(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Np(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Np($)==="symbol"?$:String($)),I)}var $}var HW=function(){function M(I){var $=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.player.template.mask.addEventListener("click",function(){$.hide()}),this.player.template.commentButton.addEventListener("click",function(){$.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){$.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if($.player.template.commentColorSettingBox.querySelector("input:checked+span")){var j=$.player.template.commentColorSettingBox.querySelector("input:checked").value;$.player.template.commentSettingFill.style.fill=j,$.player.template.commentInput.style.color=j,$.player.template.commentSendFill.style.fill=j}}),this.player.template.commentInput.addEventListener("click",function(){$.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(j){(j||window.event).keyCode===13&&$.send()}),this.player.template.commentSendButton.addEventListener("click",function(){$.send()})}var O,Y;return O=M,(Y=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var I=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:he.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){I.player.template.commentInput.value="",I.hide()}):this.player.notice(this.player.tran("please-input-danmaku"))}}])&&zW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const UW=HW;function zp(M){return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},zp(M)}function jW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(zp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(zp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),zp($)==="symbol"?$:String($)),I)}var $}var VW=function(){function M(I){(function($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.doHotKeyHandler=this.doHotKey.bind(this),this.cancelFullScreenHandler=this.cancelFullScreen.bind(this),this.player.options.hotkey&&document.addEventListener("keydown",this.doHotKeyHandler),document.addEventListener("keydown",this.cancelFullScreenHandler)}var O,Y;return O=M,(Y=[{key:"doHotKey",value:function(I){if(this.player.focus){var $=document.activeElement.tagName.toUpperCase(),j=document.activeElement.getAttribute("contenteditable");if($!=="INPUT"&&$!=="TEXTAREA"&&j!==""&&j!=="true"){var te,we=I||window.event;switch(we.keyCode){case 32:we.preventDefault(),this.player.toggle();break;case 37:if(we.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime-5),this.player.controller.setAutoHide();break;case 39:if(we.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime+5),this.player.controller.setAutoHide();break;case 38:we.preventDefault(),te=this.player.volume()+.1,this.player.volume(te);break;case 40:we.preventDefault(),te=this.player.volume()-.1,this.player.volume(te)}}}}},{key:"cancelFullScreen",value:function(I){(I||window.event).keyCode===27&&this.player.fullScreen.isFullScreen("web")&&this.player.fullScreen.cancel("web")}},{key:"destroy",value:function(){this.player.options.hotkey&&document.removeEventListener("keydown",this.doHotKeyHandler),document.removeEventListener("keydown",this.cancelFullScreenHandler)}}])&&jW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const WW=VW;function Hp(M){return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Hp(M)}function qW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Hp(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Hp(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Hp($)==="symbol"?$:String($)),I)}var $}var KW=function(){function M(I){var $=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.player=I,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(j,te){$.player.options.contextmenu[te].click&&j.addEventListener("click",function(){$.player.options.contextmenu[te].click($.player),$.hide()})}),this.contextmenuHandler=function(j){if($.shown)$.hide();else{var te=j||window.event;te.preventDefault();var we=$.player.container.getBoundingClientRect();$.show(te.clientX-we.left,te.clientY-we.top),$.player.template.mask.addEventListener("click",function(){$.hide()})}},this.player.container.addEventListener("contextmenu",this.contextmenuHandler)}var O,Y;return O=M,(Y=[{key:"show",value:function(I,$){this.player.template.menu.classList.add("dplayer-menu-show");var j=this.player.container.getBoundingClientRect();I+this.player.template.menu.offsetWidth>=j.width?(this.player.template.menu.style.right=j.width-I+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=I+"px",this.player.template.menu.style.right="initial"),$+this.player.template.menu.offsetHeight>=j.height?(this.player.template.menu.style.bottom=j.height-$+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=$+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}},{key:"destroy",value:function(){this.player.container.removeEventListener("contextmenu",this.contextmenuHandler)}}])&&qW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const GW=KW;function Up(M){return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Up(M)}function YW(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,($=function(j,te){if(Up(j)!=="object"||j===null)return j;var we=j[Symbol.toPrimitive];if(we!==void 0){var Ce=we.call(j,"string");if(Up(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(I.key),Up($)==="symbol"?$:String($)),I)}var $}var XW=function(){function M(I){var $=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,M),this.container=I.template.infoPanel,this.template=I.template,this.video=I.video,this.player=I,this.template.infoPanelClose.addEventListener("click",function(){$.hide()})}var O,Y;return O=M,(Y=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.27.1"," ").concat("v1.27.0-12-g4f61091"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(I){this.template.infoFPS.innerHTML="".concat(I.toFixed(1))}}])&&YW(O.prototype,Y),Object.defineProperty(O,"prototype",{writable:!1}),M}();const QW=XW;var ZW=i(568),JW=i.n(ZW);function jp(M){return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},jp(M)}function F5(M,O){var Y=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);O&&(I=I.filter(function($){return Object.getOwnPropertyDescriptor(M,$).enumerable})),Y.push.apply(Y,I)}return Y}function eq(M,O,Y){return(O=B5(O))in M?Object.defineProperty(M,O,{value:Y,enumerable:!0,configurable:!0,writable:!0}):M[O]=Y,M}function $5(M,O){for(var Y=0;Y<O.length;Y++){var I=O[Y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,B5(I.key),I)}}function B5(M){var O=function(Y,I){if(jp(Y)!=="object"||Y===null)return Y;var $=Y[Symbol.toPrimitive];if($!==void 0){var j=$.call(Y,"string");if(jp(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(M);return jp(O)==="symbol"?O:String(O)}var N5=0,Oh=[],tq=function(){function M($){var j=this;(function(te,we){if(!(te instanceof we))throw new TypeError("Cannot call a class as a function")})(this,M),this.options=function(te){var we={container:te.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,chromecast:!1,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:bV,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}},preventClickToggle:!1};for(var Ce in we)we.hasOwnProperty(Ce)&&!te.hasOwnProperty(Ce)&&(te[Ce]=we[Ce]);return te.video&&!te.video.type&&(te.video.type="auto"),aw(te.danmaku)==="object"&&te.danmaku&&!te.danmaku.user&&(te.danmaku.user="DIYgod"),te.subtitle&&(!te.subtitle.type&&(te.subtitle.type="webvtt"),!te.subtitle.fontSize&&(te.subtitle.fontSize="20px"),!te.subtitle.bottom&&(te.subtitle.bottom="40px"),!te.subtitle.color&&(te.subtitle.color="#fff")),te.video.quality&&(te.video.url=te.video.quality[te.video.defaultQuality].url),te.lang&&(te.lang=te.lang.toLowerCase()),te.contextmenu=te.contextmenu.concat([{key:"video-info",click:function(it){it.infoPanel.triggle()}},{key:"about-author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.27.1"),link:"https://github.com/MoePlayer/DPlayer"}]),te}(function(te){for(var we=1;we<arguments.length;we++){var Ce=arguments[we]!=null?arguments[we]:{};we%2?F5(Object(Ce),!0).forEach(function(it){eq(te,it,Ce[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Ce)):F5(Object(Ce)).forEach(function(it){Object.defineProperty(te,it,Object.getOwnPropertyDescriptor(Ce,it))})}return te}({preload:$.video.type==="webtorrent"?"none":"metadata"},$)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new xV(this.options.lang).tran,this.events=new uW,this.user=new gW(this),this.container=this.options.container,this.noticeList={},this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live?this.container.classList.add("dplayer-live"):this.container.classList.remove("dplayer-live"),he.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.options.subtitle&&Array.isArray(this.options.subtitle.url)&&(this.options.subtitle.url.push({subtitle:"",lang:"off"}),this.options.subtitle.defaultSubtitle&&(typeof this.options.subtitle.defaultSubtitle=="string"?this.options.subtitle.index=this.options.subtitle.url.findIndex(function(te){return te.lang===j.options.subtitle.defaultSubtitle||te.name===j.options.subtitle.defaultSubtitle}):typeof this.options.subtitle.defaultSubtitle=="number"&&(this.options.subtitle.index=this.options.subtitle.defaultSubtitle)),(this.options.subtitle.index===-1||!this.options.subtitle.index||this.options.subtitle.index>this.options.subtitle.url.length-1)&&(this.options.subtitle.index=this.options.subtitle.url.findIndex(function(te){return te.lang===j.options.lang})),this.options.subtitle.index===-1&&(this.options.subtitle.index=this.options.subtitle.url.length-1)),this.template=new O5({container:this.container,options:this.options,index:N5,tran:this.tran}),this.video=this.template.video,this.bar=new kW(this.template),this.bezel=new PW(this.template.bezel),this.fullScreen=new fW(this),this.controller=new FW(this),this.options.danmaku&&(this.danmaku=new lW({player:this,container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){j.template.danmakuLoading.style.display="none",j.options.autoplay&&j.play()},0)},error:function(te){j.notice(te)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return j.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user,speedRate:this.options.danmaku.speedRate},events:this.events,tran:function(te){return j.tran(te)}}),this.comment=new UW(this)),this.setting=new NW(this),this.plugins={},this.docClickFun=function(){j.focus=!1},this.containerClickFun=function(){j.focus=!0},document.addEventListener("click",this.docClickFun,!0),this.container.addEventListener("click",this.containerClickFun,!0),this.paused=!0,this.timer=new RW(this),this.hotkey=new WW(this),this.contextmenu=new GW(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new QW(this),!this.danmaku&&this.options.autoplay&&this.play(),N5++,Oh.push(this)}var O,Y,I;return O=M,Y=[{key:"seek",value:function($){$=Math.max($,0),this.video.duration&&($=Math.min($,this.video.duration)),this.video.currentTime<$?this.notice("".concat(this.tran("ff").replace("%s",($-this.video.currentTime).toFixed(0)))):this.video.currentTime>$&&this.notice("".concat(this.tran("rew").replace("%s",(this.video.currentTime-$).toFixed(0)))),this.video.currentTime=$,this.danmaku&&this.danmaku.seek(),this.bar.set("played",$/this.video.duration,"width"),this.template.ptime.innerHTML=he.secondToTime($)}},{key:"play",value:function($){var j=this;if(this.paused=!1,this.video.paused&&!he.isMobile&&this.bezel.switch(ms.play),this.template.playButton.innerHTML=ms.pause,this.template.mobilePlayButton.innerHTML=ms.pause,$||Z.resolve(this.video.play()).catch(function(){j.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var te=0;te<Oh.length;te++)this!==Oh[te]&&Oh[te].pause()}},{key:"pause",value:function($){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||he.isMobile||this.bezel.switch(ms.pause),this.template.playButton.innerHTML=ms.play,this.template.mobilePlayButton.innerHTML=ms.play,$||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=ms.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=ms.volumeDown:this.template.volumeIcon.innerHTML=ms.volumeOff}},{key:"volume",value:function($,j,te){if($=parseFloat($),!isNaN($)){$=Math.max($,0),$=Math.min($,1),this.bar.set("volume",$,"width");var we="".concat((100*$).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=we,j||this.user.set("volume",$),te||this.notice("".concat(this.tran("volume")," ").concat((100*$).toFixed(0),"%"),void 0,void 0,"volume"),this.video.volume=$,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function($,j){this.events.on($,j)}},{key:"switchVideo",value:function($,j){this.pause(),this.video.poster=$.pic?$.pic:"",this.video.src=$.url,this.initMSE(this.video,$.type||"auto"),j&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:j.id,address:j.api,token:j.token,maximum:j.maximum,addition:j.addition,user:j.user}))}},{key:"initMSE",value:function($,j){var te=this;if(this.type=j,this.options.video.customType&&this.options.video.customType[j])Object.prototype.toString.call(this.options.video.customType[j])==="[object Function]"?this.options.video.customType[j](this.video,this):console.error("Illegal customType: ".concat(j));else switch(this.type==="auto"&&(/m3u8(#|\?|$)/i.exec($.src)?this.type="hls":/.flv(#|\?|$)/i.exec($.src)?this.type="flv":/.mpd(#|\?|$)/i.exec($.src)?this.type="dash":this.type="normal"),this.type==="hls"&&($.canPlayType("application/x-mpegURL")||$.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var we=this.options.pluginOptions.hls,Ce=new window.Hls(we);this.plugins.hls=Ce,Ce.loadSource($.src),Ce.attachMedia($),this.events.on("destroy",function(){Ce.destroy(),delete te.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var it=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:$.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=it,it.attachMediaElement($),it.load(),this.events.on("destroy",function(){it.unload(),it.detachMediaElement(),it.destroy(),delete te.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var pt=window.dashjs.MediaPlayer().create().initialize($,$.src,!1),Ut=this.options.pluginOptions.dash;pt.updateSettings(Ut),this.plugins.dash=pt,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete te.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var Xt=this.options.pluginOptions.webtorrent,un=new window.WebTorrent(Xt);this.plugins.webtorrent=un;var tn=$.src;$.src="",$.preload="metadata",$.addEventListener("durationchange",function(){return te.container.classList.remove("dplayer-loading")},{once:!0}),un.add(tn,function(Vt){Vt.files.find(function(hn){return hn.name.endsWith(".mp4")}).renderTo(te.video,{autoplay:te.options.autoplay,controls:!1})}),this.events.on("destroy",function(){un.remove(tn),un.destroy(),delete te.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function($,j){var te=this;this.initMSE($,j),this.on("durationchange",function(){$.duration!==1&&$.duration!==1/0&&(te.template.dtime.innerHTML=he.secondToTime($.duration))}),this.on("progress",function(){var it=$.buffered.length?$.buffered.end($.buffered.length-1)/$.duration:0;te.bar.set("loaded",it,"width")}),this.on("error",function(){te.video.error&&te.tran&&te.notice&&te.type!=="webtorrent"&&te.notice(te.tran("video-failed"))}),this.on("ended",function(){te.bar.set("played",1,"width"),te.setting.loop?(te.seek(0),te.play()):te.pause(),te.danmaku&&(te.danmaku.danIndex=0)}),this.on("play",function(){te.paused&&te.play(!0)}),this.on("pause",function(){te.paused||te.pause(!0)}),this.on("timeupdate",function(){te.bar.set("played",te.video.currentTime/te.video.duration,"width");var it=he.secondToTime(te.video.currentTime);te.template.ptime.innerHTML!==it&&(te.template.ptime.innerHTML=it)});for(var we=function(it){$.addEventListener(te.events.videoEvents[it],function(pt){te.events.trigger(te.events.videoEvents[it],pt)})},Ce=0;Ce<this.events.videoEvents.length;Ce++)we(Ce);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new bW(this.template.subtitle,this.video,this.options.subtitle,this.events),Array.isArray(this.options.subtitle.url)&&(this.subtitles=new CW(this)),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function($){var j=this;if($=typeof $=="string"?parseInt($):$,this.qualityIndex!==$&&!this.switchingQuality){this.prevIndex=this.qualityIndex,this.qualityIndex=$,this.switchingQuality=!0,this.quality=this.options.video.quality[$],this.template.qualityButton.innerHTML=this.quality.name;var te=this.video.paused;this.video.pause();var we=JW()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),Ce=new DOMParser().parseFromString(we,"text/html").body.firstChild;this.template.videoWrap.insertBefore(Ce,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=Ce,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("switching-quality").replace("%q",this.quality.name)),-1,void 0,"switch-quality"),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(j.prevVideo){if(j.video.currentTime!==j.prevVideo.currentTime)return void j.seek(j.prevVideo.currentTime);j.template.videoWrap.removeChild(j.prevVideo),j.video.classList.add("dplayer-video-current"),te||j.video.play(),j.prevVideo=null,j.notice("".concat(j.tran("switched-quality").replace("%q",j.quality.name)),void 0,void 0,"switch-quality"),j.switchingQuality=!1,j.events.trigger("quality_end")}}),this.on("error",function(){j.video.error&&j.prevVideo&&(j.template.videoWrap.removeChild(j.video),j.video=j.prevVideo,te||j.video.play(),j.qualityIndex=j.prevIndex,j.quality=j.options.video.quality[j.qualityIndex],j.noticeTime=setTimeout(function(){j.template.notice.style.opacity=0,j.events.trigger("notice_hide")},3e3),j.prevVideo=null,j.switchingQuality=!1)})}}},{key:"notice",value:function($){var j,te,we,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8,pt=arguments.length>3?arguments[3]:void 0;if(pt&&((j=document.getElementById("dplayer-notice-".concat(pt)))&&(j.innerHTML=$),this.noticeList[pt]&&(clearTimeout(this.noticeList[pt]),this.noticeList[pt]=null)),!j){var Ut=O5.NewNotice($,it,pt);this.template.noticeList.appendChild(Ut),j=Ut}this.events.trigger("notice_show",j),Ce>0&&(this.noticeList[pt]=setTimeout((te=j,we=this,function(){te.addEventListener("animationend",function(){we.template.noticeList.removeChild(te)}),te.classList.add("remove-notice"),we.events.trigger("notice_hide"),we.noticeList[pt]=null}),Ce))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function($){this.video.playbackRate=$}},{key:"destroy",value:function(){Oh.splice(Oh.indexOf(this),1),this.pause(),document.removeEventListener("click",this.docClickFun,!0),this.container.removeEventListener("click",this.containerClickFun,!0),this.fullScreen.destroy(),this.hotkey.destroy(),this.contextmenu.destroy(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}],I=[{key:"version",get:function(){return"1.27.1"}}],Y&&$5(O.prototype,Y),I&&$5(O,I),Object.defineProperty(O,"prototype",{writable:!1}),M}();const nq=tq;console.log(`
`.concat(" %c DPlayer v","1.27.1"," ").concat("v1.27.0-12-g4f61091"," %c https://dplayer.diygod.dev ",`
`,`
`),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");const rq=nq})(),o.default})())})(Fj);var ZIe=Fj.exports;const JIe=Xx(ZIe),e7e=le({__name:"index",setup(t){const e=_x(),n=V(null);let r=null;jn(()=>{const o=e.query.src;o&&i(o)}),qt(()=>e.query.src,o=>{const a=e.query.src;o&&r&&(r.switchVideo({url:a,type:a.endsWith(".m3u8")?"hls":"auto"}),r.play())}),Rl(()=>{r&&(r.destroy(),r=null)});const i=o=>{n.value&&(r=new JIe({container:n.value,autoplay:!0,video:{url:o,type:o.endsWith(".m3u8")?"hls":"auto",customType:{hls:(a,s)=>{if(ks.isSupported()){const l=new ks;l.loadSource(a.src),l.attachMedia(a)}else a.canPlayType("application/vnd.apple.mpegurl")?a.src=o:console.error("HLS.js is not supported.")}}},theme:"#ca6924",contextmenu:[],playbackSpeed:[1,1.5,2],mutex:!1,hotkey:!1,volume:1,preload:"auto",screenshot:!1,highlight:[],loop:!0}),r.controller.hide=()=>{},document.addEventListener("contextmenu",a=>{a.preventDefault()}))};return(o,a)=>(gn(),Pn("div",{class:"test-dplayer",ref_key:"playerContainer",ref:n},null,512))}}),t7e=Object.freeze(Object.defineProperty({__proto__:null,default:e7e},Symbol.toStringTag,{value:"Module"}));function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){yt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ta(t){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(t)}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function Sn(t,e,n){return e&&dI(t.prototype,e),n&&dI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yt(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nk(t,e)}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zn(t)}function nk(t,e){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nk(t,e)}function n7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x5(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(t)}function Gn(t){var e=n7e();return function(){var r=Zn(t),i;if(e){var o=Zn(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return x5(this,i)}}function r7e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zn(t),t!==null););return t}function tr(){return typeof Reflect<"u"&&Reflect.get?tr=Reflect.get.bind():tr=function(e,n,r){var i=r7e(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tr.apply(this,arguments)}function Ps(t){return i7e(t)||o7e(t)||a7e(t)||s7e()}function i7e(t){if(Array.isArray(t))return rk(t)}function o7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a7e(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $j(t){var e=l7e(t,"string");return typeof e=="symbol"?e:String(e)}var Bj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,f,p){var g=n?n+c:c;if(!this._events[g])return!1;var m=this._events[g],y=arguments.length,b,x;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,h),!0;case 5:return m.fn.call(m.context,u,d,h,f),!0;case 6:return m.fn.call(m.context,u,d,h,f,p),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];m.fn.apply(m.context,b)}else{var w=m.length,C;for(x=0;x<w;x++)switch(m[x].once&&this.removeListener(c,m[x].fn,void 0,!0),y){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,u);break;case 3:m[x].fn.call(m[x].context,u,d);break;case 4:m[x].fn.call(m[x].context,u,d,h);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];m[x].fn.apply(m[x].context,b)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var g=0,m=[],y=p.length;g<y;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(Bj);var Nj=Bj.exports;const zj=Xx(Nj);var c7e=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,wC={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},CC="%c[xgplayer]",yr={config:{debug:c7e?3:0},logInfo:function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.config.debug>=3&&(n=console).log.apply(n,[CC,wC.info,e].concat(i))},logWarn:function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.config.debug>=1&&(n=console).warn.apply(n,[CC,wC.warn,e].concat(i))},logError:function(e){var n;if(!(this.config.debug<1)){for(var r=this.config.debug>=2?"trace":"error",i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(n=console)[r].apply(n,[CC,wC.error,e].concat(o))}}};function u7e(t){t.logInfo=yr.logInfo.bind(t),t.logWarn=yr.logWarn.bind(t),t.logError=yr.logError.bind(t)}var d7e=function(){function t(e){An(this,t),this.bufferedList=e}return Sn(t,[{key:"start",value:function(n){return this.bufferedList[n].start}},{key:"end",value:function(n){return this.bufferedList[n].end}},{key:"length",get:function(){return this.bufferedList.length}}]),t}(),oe={};oe.createDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",i=document.createElement(t);return i.className=r,i.innerHTML=e,Object.keys(n).forEach(function(o){var a=o,s=n[o];t==="video"||t==="audio"||t==="live-video"?s&&i.setAttribute(a,s):i.setAttribute(a,s)}),i};oe.createDomFromHtml=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var r=document.createElement("div");r.innerHTML=t;var i=r.children;return r=null,i.length>0?(i=i[0],n&&oe.addClass(i,n),e&&Object.keys(e).forEach(function(o){i.setAttribute(o,e[o])}),i):null}catch(o){return yr.logError("util.createDomFromHtml",o),null}};oe.hasClass=function(t,e){if(!t||!e)return!1;try{return Array.prototype.some.call(t.classList,function(r){return r===e})}catch{var n=t.className&&ta(t.className)==="object"?t.getAttribute("class"):t.className;return n&&!!n.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}};oe.addClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&t.classList.add(n)})}catch{oe.hasClass(t,e)||(t.className&&ta(t.className)==="object"?t.setAttribute("class",t.getAttribute("class")+" "+e):t.className+=" "+e)}};oe.removeClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&t.classList.remove(n)})}catch{oe.hasClass(t,e)&&e.split(/\s+/g).forEach(function(r){var i=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className&&ta(t.className)==="object"?t.setAttribute("class",t.getAttribute("class").replace(i," ")):t.className=t.className.replace(i," ")})}};oe.toggleClass=function(t,e){t&&e.split(/\s+/g).forEach(function(n){oe.hasClass(t,n)?oe.removeClass(t,n):oe.addClass(t,n)})};oe.classNames=function(){for(var t=arguments,e=[],n=function(o){oe.typeOf(t[o])==="String"?e.push(t[o]):oe.typeOf(t[o])==="Object"&&Object.keys(t[o]).map(function(a){t[o][a]&&e.push(a)})},r=0;r<arguments.length;r++)n(r);return e.join(" ")};oe.findDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0,n;try{n=t.querySelector(e)}catch(r){yr.logError("util.findDom",r),e.indexOf("#")===0&&(n=t.getElementById(e.slice(1)))}return n};oe.getCss=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,!1)[e]};oe.padStart=function(t,e,n){for(var r=String(n),i=e>>0,o=Math.ceil(i/r.length),a=[],s=String(t);o--;)a.push(r);return a.join("").substring(0,i-s.length)+s};oe.format=function(t){if(window.isNaN(t))return"";t=Math.round(t);var e=oe.padStart(Math.floor(t/3600),2,0),n=oe.padStart(Math.floor((t-e*3600)/60),2,0),r=oe.padStart(Math.floor(t-e*3600-n*60),2,0);return(e==="00"?[n,r]:[e,n,r]).join(":")};oe.event=function(t){if(t.touches){var e=t.touches[0]||t.changedTouches[0];t.clientX=e.clientX||0,t.clientY=e.clientY||0,t.offsetX=e.pageX-e.target.offsetLeft,t.offsetY=e.pageY-e.target.offsetTop}t._target=t.target||t.srcElement};oe.typeOf=function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]};oe.deepCopy=function(t,e){if(oe.typeOf(e)==="Object"&&oe.typeOf(t)==="Object")return Object.keys(e).forEach(function(n){oe.typeOf(e[n])==="Object"&&!(e[n]instanceof Node)?t[n]===void 0||t[n]===void 0?t[n]=e[n]:oe.deepCopy(t[n],e[n]):oe.typeOf(e[n])==="Array"?t[n]=oe.typeOf(t[n])==="Array"?t[n].concat(e[n]):e[n]:t[n]=e[n]}),t};oe.deepMerge=function(t,e){return Object.keys(e).map(function(n){if(oe.typeOf(e[n])==="Array"&&oe.typeOf(t[n])==="Array"){if(oe.typeOf(t[n])==="Array"){var r;(r=t[n]).push.apply(r,Ps(e[n]))}}else oe.typeOf(t[n])===oe.typeOf(e[n])&&t[n]!==null&&oe.typeOf(t[n])==="Object"&&!(e[n]instanceof window.Node)?oe.deepMerge(t[n],e[n]):e[n]!==null&&(t[n]=e[n])}),t};oe.getBgImage=function(t){var e=(t.currentStyle||window.getComputedStyle(t,null)).backgroundImage;if(!e||e==="none")return"";var n=document.createElement("a");return n.href=e.replace(/url\("|"\)/g,""),n.href};oe.copyDom=function(t){if(t&&t.nodeType===1){var e=document.createElement(t.tagName);return Array.prototype.forEach.call(t.attributes,function(n){e.setAttribute(n.name,n.value)}),t.innerHTML&&(e.innerHTML=t.innerHTML),e}else return""};oe.setInterval=function(t,e,n,r){t._interval[e]||(t._interval[e]=window.setInterval(n.bind(t),r))};oe.clearInterval=function(t,e){clearInterval(t._interval[e]),t._interval[e]=null};oe.setTimeout=function(t,e,n){t._timers||(t._timers=[]);var r=setTimeout(function(){e(),oe.clearTimeout(t,r)},n);return t._timers.push(r),r};oe.clearTimeout=function(t,e){var n=t._timers;if(oe.typeOf(n)==="Array"){for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),clearTimeout(e);break}}else clearTimeout(e)};oe.clearAllTimers=function(t){var e=t._timers;oe.typeOf(e)==="Array"&&(e.map(function(n){clearTimeout(n)}),t._timerIds=[])};oe.createImgBtn=function(t,e,n,r){var i=oe.createDom("xg-".concat(t),"",{},"xgplayer-".concat(t,"-img"));if(i.style.backgroundImage='url("'.concat(e,'")'),n&&r){var o,a,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(l){return n.indexOf(l)>-1&&r.indexOf(l)>-1?(o=parseFloat(n.slice(0,n.indexOf(l)).trim()),a=parseFloat(r.slice(0,r.indexOf(l)).trim()),s=l,!1):!0}),i.style.width="".concat(o).concat(s),i.style.height="".concat(a).concat(s),i.style.backgroundSize="".concat(o).concat(s," ").concat(a).concat(s),t==="start"?i.style.margin="-".concat(a/2).concat(s," auto auto -").concat(o/2).concat(s):i.style.margin="auto 5px auto 5px"}return i};oe.Hex2RGBA=function(t,e){var n=[];if(/^\#[0-9A-F]{3}$/i.test(t)){var r="#";t.replace(/[0-9A-F]/ig,function(i){r+=i+i}),t=r}return/^#[0-9A-F]{6}$/i.test(t)?(t.replace(/[0-9A-F]{2}/ig,function(i){n.push(parseInt(i,16))}),"rgba(".concat(n.join(","),", ").concat(e,")")):"rgba(255, 255, 255, 0.1)"};oe.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};oe.checkIsFunction=function(t){return t&&typeof t=="function"};oe.checkIsObject=function(t){return t!==null&&ta(t)==="object"};oe.hide=function(t){t.style.display="none"};oe.show=function(t,e){t.style.display=e||"block"};oe.isUndefined=function(t){if(typeof t>"u"||t===null)return!0};oe.isNotNull=function(t){return t!=null};oe.setStyleFromCsstext=function(t,e){if(e)if(oe.typeOf(e)==="String"){var n=e.replace(/\s+/g,"").split(";");n.map(function(r){if(r){var i=r.split(":");i.length>1&&(t.style[i[0]]=i[1])}})}else Object.keys(e).map(function(r){t.style[r]=e[r]})};function h7e(t,e){for(var n=0,r=e.length;n<r;n++)if(t.indexOf(e[n])>-1)return!0;return!1}oe.filterStyleFromText=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=t.style.cssText;if(!n)return{};var r=n.replace(/\s+/g,"").split(";"),i={},o={};return r.map(function(a){if(a){var s=a.split(":");s.length>1&&(h7e(s[0],e)?i[s[0]]=s[1]:o[s[0]]=s[1])}}),t.setAttribute("style",""),Object.keys(o).map(function(a){t.style[a]=o[a]}),i};oe.getStyleFromCsstext=function(t){var e=t.style.cssText;if(!e)return{};var n=e.replace(/\s+/g,"").split(";"),r={};return n.map(function(i){if(i){var o=i.split(":");o.length>1&&(r[o[0]]=o[1])}}),r};oe.preloadImg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(t){var r=new window.Image;r.onload=function(i){r=null,e&&e(i)},r.onerror=function(i){r=null,n&&n(i)},r.src=t}};oe.stopPropagation=function(t){t&&t.stopPropagation()};oe.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};oe.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};oe.checkTouchSupport=function(){return"ontouchstart"in window};oe.getBuffered2=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,n=[],r=0;r<t.length;r++)n.push({start:t.start(r)<.5?0:t.start(r),end:t.end(r)});n.sort(function(l,c){var u=l.start-c.start;return u||c.end-l.end});var i=[];if(e)for(var o=0;o<n.length;o++){var a=i.length;if(a){var s=i[a-1].end;n[o].start-s<e?n[o].end>s&&(i[a-1].end=n[o].end):i.push(n[o])}else i.push(n[o])}else i=n;return new d7e(i)};oe.getEventPos=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.touches&&t.touches.length>0&&(t=t.touches[0]),{x:t.x/e,y:t.y/e,clientX:t.clientX/e,clientY:t.clientY/e,offsetX:t.offsetX/e,offsetY:t.offsetY/e,pageX:t.pageX/e,pageY:t.pageY/e}};oe.requestAnimationFrame=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return e(t)};oe.getHostFromUrl=function(t){if(oe.typeOf(t)!=="String")return"";var e=t.split("/"),n="";return e.length>3&&e[2]&&(n=e[2]),n};oe.cancelAnimationFrame=function(t){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;e&&e(t)};oe.isMSE=function(t){return t.media&&(t=t.media),!t||!(t instanceof HTMLMediaElement)?!1:/^blob/.test(t.currentSrc)||/^blob/.test(t.src)};oe.isBlob=function(t){return typeof t=="string"&&/^blob/.test(t)};oe.generateSessionId=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=new Date().getTime();try{t=parseInt(t)}catch{t=0}e+=t,window.performance&&typeof window.performance.now=="function"&&(e+=parseInt(window.performance.now()));var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?i:i&3|8).toString(16)});return n};oe.createEvent=function(t){var e;return typeof window.Event=="function"?e=new Event(t):(e=document.createEvent("Event"),e.initEvent(t,!0,!0)),e};oe.adjustTimeByDuration=function(t,e,n){return!e||!t?t:t>e||n&&t<e?e:t};oe.createPositionBar=function(t,e){var n=oe.createDom("xg-bar","",{"data-index":-1},t);return e.appendChild(n),n};oe.getTransformStyle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n={scale:"".concat(t.scale||1),translate:"".concat(t.x||0,"%, ").concat(t.y||0,"%"),rotate:"".concat(t.rotate||0,"deg")},r=Object.keys(n);return r.forEach(function(i){var o=new RegExp("".concat(i,"\\([^\\(]+\\)"),"g"),a="".concat(i,"(").concat(n[i],")");o.test(e)?(o.lastIndex=-1,e=e.replace(o,a)):e+="".concat(a," ")}),e};oe.convertDeg=function(t){return Math.abs(t)<=1?t*360:t%360};oe.getIndexByTime=function(t,e){var n=e.length,r=-1;if(n<1)return r;if(t<=e[0].end||n<2)r=0;else if(t>e[n-1].end)r=n-1;else for(var i=1;i<n;i++)if(t>e[i-1].end&&t<=e[i].end){r=i;break}return r};oe.getOffsetCurrentTime=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,r=-1;if(n>=0&&n<e.length?r=n:r=oe.getIndexByTime(t,e),r<0)return-1;var i=e.length,o=e[r],a=o.start,s=o.end,l=o.cTime,c=o.offset;return t<a?l:t>=a&&t<=s?t-c:t>s&&r>=i-1?s:-1};oe.getCurrentTimeByOffset=function(t,e){var n=-1;if(!e||e.length<0)return t;for(var r=0;r<e.length;r++)if(t<=e[r].duration){n=r;break}if(n!==-1){var i=e[n].start;return n-1<0?i+t:i+(t-e[n-1].duration)}return t};function Hj(t){var e=ta(t);return t!==null&&(e==="object"||e==="function")}function f7e(t,e,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0,f=!e&&e!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0,Hj(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,e):o,h="trailing"in n?!!n.trailing:h);function p(E){var P=r,_=i;return r=i=void 0,c=E,a=t.apply(_,P),a}function g(E,P){return f?(window.cancelAnimationFrame(s),window.requestAnimationFrame(E)):setTimeout(E,P)}function m(E){if(f)return window.cancelAnimationFrame(E);clearTimeout(E)}function y(E){return c=E,s=g(w,e),u?p(E):a}function b(E){var P=E-l,_=E-c,F=e-P;return d?Math.min(F,o-_):F}function x(E){var P=E-l,_=E-c;return l===void 0||P>=e||P<0||d&&_>=o}function w(){var E=Date.now();if(x(E))return C(E);s=g(w,b(E))}function C(E){return s=void 0,h&&r?p(E):(r=i=void 0,a)}function S(){s!==void 0&&m(s),c=0,r=l=i=s=void 0}function A(){return s===void 0?a:C(Date.now())}function T(){return s!==void 0}function k(){for(var E=Date.now(),P=x(E),_=arguments.length,F=new Array(_),N=0;N<_;N++)F[N]=arguments[N];if(r=F,i=this,l=E,P){if(s===void 0)return y(l);if(d)return s=g(w,e),p(l)}return s===void 0&&(s=g(w,e)),a}return k.cancel=S,k.flush=A,k.pending=T,k}function p7e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Hj(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),f7e(t,e,{leading:r,trailing:i,maxWait:e})}function m7e(){var t=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return t==="zh-cn"&&(t="zh"),t}function g7e(t,e,n){if(t){var r=t.getAttribute(n);return!!(r&&r===e&&(t.tagName==="VIDEO"||t.tagName==="AUDIO"))}}var hI={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},v7e=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],lr={get device(){var t=lr.os;return t.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var t=navigator.userAgent.toLowerCase(),e={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(e).filter(function(n){return e[n].test(t)}))[0]},get os(){if(typeof navigator>"u")return{};var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),n=/(?:SymbianOS)/.test(t)||e,r=/(?:Tizen)/ig.test(t),i=/(?:Web0S)/ig.test(t),o=/(?:Android)/.test(t),a=/(?:Firefox)/.test(t),s=/(?:iPad|PlayBook)/.test(t)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,l=s||o&&!/(?:Mobile)/.test(t)||a&&/(?:Tablet)/.test(t),c=/(?:iPhone)/.test(t)&&!l,u=!c&&!o&&!n&&!l;return{isTablet:l,isPhone:c,isIpad:s,isIos:c||s,isAndroid:o,isPc:u,isSymbian:n,isWindowsPhone:e,isFireFox:a,isTizen:r,isWebOS:i}},get osVersion(){if(typeof navigator>"u")return 0;var t=navigator.userAgent,e="";/(?:iPhone)|(?:iPad|PlayBook)/.test(t)?e=hI.ios:e=hI.android;var n=e?e.exec(t):[];if(n&&n.length>=3){var r=n[2].split(".");return r.length>0?parseInt(r[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var t=/(micromessenger)\/([\d.]+)/,e=t.exec(navigator.userAgent.toLocaleLowerCase());return!!e},isSupportMP4:function(){var e={isSupport:!1,mime:""};if(typeof document>"u")return e;if(this.supportResult)return this.supportResult;var n=document.createElement("video");return typeof n.canPlayType=="function"&&v7e.map(function(r){n.canPlayType('video/mp4; codecs="'.concat(r,'"'))==="probably"&&(e.isSupport=!0,e.mime+="||".concat(r))}),this.supportResult=e,n=null,e},isMSESupport:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(n){return this._logger.error(e,n),!1}},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(e){var n={supported:!1,smooth:!1,powerEfficient:!1};if(!e||typeof navigator>"u")return Promise.resolve(n);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var r=e.video||{},i=e.audio||{};try{var o=MediaSource.isTypeSupported(r.contentType),a=MediaSource.isTypeSupported(i.contentType);return Promise.resolve({supported:o&&a,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(n)}}},ik="3.0.23",fI={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},pI={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},T1=Sn(function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};An(this,t);var r=e&&e.i18n?e.i18n.ERROR_TYPES:null;if(e.media){var i=n.mediaError?n.mediaError:e.media.error||{},o=e.duration,a=e.currentTime,s=e.ended,l=e.src,c=e.currentSrc,u=e.media,d=u.readyState,h=u.networkState,f=n.errorCode||i.code;pI[f]&&(f=pI[f]);var p={playerVersion:ik,currentTime:a,duration:o,ended:s,readyState:d,networkState:h,src:l||c,errorType:n.errorType,errorCode:f,message:n.errorMessage||i.message,mediaError:i,originError:n.originError?n.originError.stack:"",host:oe.getHostFromUrl(l||c)};return n.ext&&Object.keys(n.ext).map(function(b){p[b]=n.ext[b]}),p}else if(arguments.length>1){for(var g={playerVersion:ik,domain:document.domain},m=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],y=0;y<arguments.length;y++)g[m[y]]=arguments[y];return g.ex=r?(r[arguments[0]]||{}).msg:"",g}}),Va="play",w5="playing",kh="ended",Cp="pause",hv="error",Qx="seeking",hc="seeked",Ba="timeupdate",fv="waiting",ac="canplay",y7e="canplaythrough",Oc="durationchange",Uj="volumechange",Sc="loadeddata",b7e="loadedmetadata",jj="ratechange",Vj="progress",C5="loadstart",Eh="emptied",x7e="stalled",w7e="suspend",C7e="abort",A7e="bufferedChange",A5="focus",Wj="blur",S5="ready",qj="urlNull",Jd="autoplay_started",k5="autoplay_was_prevented",Zx="complete",R1="replay",E5="destroy",Jx="urlchange",ok="download_speed_change",Kj="leaveplayer",Gj="enterplayer",Yj="loading",Jl="fullscreen_change",_1="cssFullscreen_change",P1="mini_state_change",T5="definition_change",S7e="before_definition_change",ak="after_definition_change",k7e="SEI_PARSED",E7e="retry",Ku="video_resize",sk="pip_change",Xj="rotate",Qj="screenShot",I1="playnext",Zj="shortcut",Jj="xglog",L1="user_action",ew="reset",eV="source_error",tV="source_success",T7e="switch_subtitle",nV=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],rV={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},iV="fps_stuck";const R7e=Object.freeze(Object.defineProperty({__proto__:null,ABORT:C7e,AFTER_DEFINITION_CHANGE:ak,AUTOPLAY_PREVENTED:k5,AUTOPLAY_STARTED:Jd,BEFORE_DEFINITION_CHANGE:S7e,BUFFER_CHANGE:A7e,CANPLAY:ac,CANPLAY_THROUGH:y7e,COMPLETE:Zx,CSS_FULLSCREEN_CHANGE:_1,DEFINITION_CHANGE:T5,DESTROY:E5,DOWNLOAD_SPEED_CHANGE:ok,DURATION_CHANGE:Oc,EMPTIED:Eh,ENDED:kh,ENTER_PLAYER:Gj,ERROR:hv,FPS_STUCK:iV,FULLSCREEN_CHANGE:Jl,LEAVE_PLAYER:Kj,LOADED_DATA:Sc,LOADED_METADATA:b7e,LOADING:Yj,LOAD_START:C5,MINI_STATE_CHANGE:P1,PAUSE:Cp,PIP_CHANGE:sk,PLAY:Va,PLAYER_BLUR:Wj,PLAYER_FOCUS:A5,PLAYING:w5,PLAYNEXT:I1,PROGRESS:Vj,RATE_CHANGE:jj,READY:S5,REPLAY:R1,RESET:ew,RETRY:E7e,ROTATE:Xj,SCREEN_SHOT:Qj,SEEKED:hc,SEEKING:Qx,SEI_PARSED:k7e,SHORTCUT:Zj,SOURCE_ERROR:eV,SOURCE_SUCCESS:tV,STALLED:x7e,STATS_EVENTS:rV,SUSPEND:w7e,SWITCH_SUBTITLE:T7e,TIME_UPDATE:Ba,URL_CHANGE:Jx,URL_NULL:qj,USER_ACTION:L1,VIDEO_EVENTS:nV,VIDEO_RESIZE:Ku,VOLUME_CHANGE:Uj,WAITING:fv,XGLOG:Jj},Symbol.toStringTag,{value:"Module"}));function AC(t,e){!this||!this.emit||(t==="error"?this.errorHandler(t,e.error):this.emit(t,e))}function _7e(t,e){return function(n,r){var i={player:e,eventName:t,originalEvent:n,detail:n.detail||{},timeStamp:n.timeStamp,currentTime:e.currentTime,duration:e.duration,paused:e.paused,ended:e.ended,isInternalOp:!!e._internalOp[n.type],muted:e.muted,volume:e.volume,host:oe.getHostFromUrl(e.currentSrc),vtype:e.vtype};if(e.removeInnerOP(n.type),t==="timeupdate"&&(e._currentTime=e.media&&e.media.currentTime),t==="ratechange"){var o=e.media?e.media.playbackRate:0;if(o&&e._rate===o)return;e._rate=e.media&&e.media.playbackRate}if(t==="durationchange"&&(e._duration=e.media.duration),t==="volumechange"&&(i.isMutedChange=e._lastMuted!==e.muted,e._lastMuted=e.muted),t==="error"&&(i.error=r||e.video.error),e.mediaEventMiddleware[t]){var a=AC.bind(e,t,i);try{e.mediaEventMiddleware[t].call(e,i,a)}catch(s){throw AC.call(e,t,i),s}}else AC.call(e,t,i)}}var P7e=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;An(this,n),i=e.call(this,r),i._hasStart=!1,i._currentTime=0,i._duration=0,i._internalOp={},i._lastMuted=!1,i.vtype="MP4",i._rate=-1,i.mediaConfig=Object.assign({},{controls:!1,autoplay:r.autoplay,playsinline:r.playsinline,"x5-playsinline":r.playsinline,"webkit-playsinline":r.playsinline,"x5-video-player-fullscreen":r["x5-video-player-fullscreen"]||r.x5VideoPlayerFullscreen,"x5-video-orientation":r["x5-video-orientation"]||r.x5VideoOrientation,airplay:r.airplay,"webkit-airplay":r.airplay,tabindex:r.tabindex|0,mediaType:r.mediaType||"video","data-index":-1},r.videoConfig,r.videoAttributes);var o=r["x5-video-player-type"]||r.x5VideoPlayerType;return lr.isWeixin&&lr.os.isAndroid&&o&&(i.mediaConfig["x5-video-player-type"]=o,delete i.mediaConfig.playsinline,delete i.mediaConfig["webkit-playsinline"],delete i.mediaConfig["x5-playsinline"]),r.loop&&(i.mediaConfig.loop="loop"),r.autoplayMuted&&!Object.prototype.hasOwnProperty.call(i.mediaConfig,"muted")&&(i.mediaConfig.muted=!0),i.media=r.mediaEl instanceof HTMLMediaElement?r.mediaEl:typeof r.mediaEl=="function"?r.mediaEl(i.mediaConfig):oe.createDom(i.mediaConfig.mediaType,"",i.mediaConfig,""),r.defaultPlaybackRate&&(i.media.defaultPlaybackRate=i.media.playbackRate=r.defaultPlaybackRate),oe.typeOf(r.volume)==="Number"&&(i.volume=r.volume),r.autoplayMuted&&(i.media.muted=!0,i._lastMuted=!0),r.autoplay&&(i.media.autoplay=!0),r.playsinline&&(i.media.playsinline=!0),i._interval={},i.mediaEventMiddleware={},i.attachVideoEvents(),i}return Sn(n,[{key:"setEventsMiddleware",value:function(i){var o=this;Object.keys(i).map(function(a){o.mediaEventMiddleware[a]=i[a]})}},{key:"removeEventsMiddleware",value:function(i){var o=this;Object.keys(i).map(function(a){delete o.mediaEventMiddleware[a]})}},{key:"attachVideoEvents",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=nV.map(function(a){var s="on".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));return typeof i[s]=="function"&&i.on(a,i[s]),yt({},a,_7e(a,i))})),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];o.addEventListener(s,a[s],!1)})}},{key:"detachVideoEvents",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];o.removeEventListener(s,a[s],!1)}),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0],l="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));typeof i[l]=="function"&&i.off(s,i[l])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(i,o){var a=this;i.removeAttribute("src"),i.load(),o.forEach(function(d,h){a.media.appendChild(oe.createDom("source","",{src:"".concat(d.src),type:"".concat(d.type||""),"data-index":h+1}))});var s=i.children;if(s){this._videoSourceCount=s.length,this._videoSourceIndex=s.length,this._vLoadeddata=function(d){a.emit(tV,{src:d.target.currentSrc,host:oe.getHostFromUrl(d.target.currentSrc)})};for(var l=null,c=0;c<this._evHandlers.length;c++)if(Object.keys(this._evHandlers[c])[0]==="error"){l=this._evHandlers[c];break}!this._sourceError&&(this._sourceError=function(d){var h=parseInt(d.target.getAttribute("data-index"),10);if(a._videoSourceIndex--,a._videoSourceIndex===0||h>=a._videoSourceCount){var f={code:4,message:"sources_load_error"};l?l.error(d,f):a.errorHandler("error",f)}var p=fI[4];a.emit(eV,new T1(a,{errorType:p,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:d.target.src}))});for(var u=0;u<s.length;u++)s[u].addEventListener("error",this._sourceError);i.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(i){var o=i.children;if(!(!o||o.length===0||!this._sourceError)){for(var a=0;a<o.length;a++)o[a].removeEventListener("error",this._sourceError);for(;o.length>0;)i.removeChild(o[0]);this._vLoadeddata&&i.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||o)){var a=this.media.error||o,s=a.code?fI[a.code]:"other",l=a.message;this.media.currentSrc||this.media.srcObject||(l="empty_src",a={code:6,message:l}),this.emit(i,new T1(this,{errorType:s,errorCode:a.code,errorMessage:a.message||"",mediaError:a}))}}},{key:"destroy",value:function(){this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var i in this._interval)Object.prototype.hasOwnProperty.call(this._interval,i)&&(clearInterval(this._interval[i]),this._interval[i]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(i){this.media=i}},{key:"play",value:function(){var i=this.media?this.media.play():null;return i}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(i){return this.media?this.media.canPlayType(i):!1}},{key:"getBufferedRange",value:function(i){var o=[0,0];if(!this.media)return o;i||(i=this.media.buffered);var a=this.media.currentTime;if(i)for(var s=0,l=i.length;s<l&&(o[0]=i.start(s),o[1]=i.end(s),!(o[0]<=a&&a<=o[1]));s++);return o[0]-a<=0&&a-o[1]<=0?o:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(i){this.media&&(this.media.autoplay=i)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?oe.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var i={start:0,end:0};if(!this.media)return i;var o=this.media.buffered;if(!o||o.length===0)return i;for(var a=0;a<o.length;a++)if((o.start(a)<=this.currentTime||o.start(a)<.1)&&o.end(a)>=this.currentTime)return{start:o.start(a),end:o.end(a)};return i}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(i){this.media&&(this.media.crossOrigin=i)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(i){this.media&&(this.media.currentSrc=i)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(i){this.media&&(this.media.currentTime=i)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(i){this.media&&(this.media.defaultMuted=i)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var i=this.media.error;if(!i)return"";var o=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return o[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(i){this.media&&(this.media.loop=i)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(i){!this.media||this.media.muted===i||(this._lastMuted=this.media.muted,this.media.muted=i)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(i){!this.media||i===1/0||(this.media.defaultPlaybackRate=i,this.media.playbackRate=i)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(i){this.media&&(this.media.preload=i)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(i){if(this.media){if(this.emit(Jx,i),this.emit(fv),this._currentTime=0,this._duration=0,oe.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),oe.typeOf(i)==="Array"?this._attachSourceEvents(this.media,i):i?this.media.src=i:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(i){i===1/0||!this.media||(this.media.volume=i)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(i){this._internalOp[i]=!0}},{key:"removeInnerOP",value:function(i){delete this._internalOp[i]}},{key:"emit",value:function(i,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];(a=tr(Zn(n.prototype),"emit",this)).call.apply(a,[this,i,o].concat(l))}},{key:"on",value:function(i,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];(a=tr(Zn(n.prototype),"on",this)).call.apply(a,[this,i,o].concat(l))}},{key:"once",value:function(i,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];(a=tr(Zn(n.prototype),"once",this)).call.apply(a,[this,i,o].concat(l))}},{key:"off",value:function(i,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];(a=tr(Zn(n.prototype),"off",this)).call.apply(a,[this,i,o].concat(l))}},{key:"offAll",value:function(){tr(Zn(n.prototype),"removeAllListeners",this).call(this)}}]),n}(zj),I7e=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};An(this,t),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return Sn(t,[{key:"openDB",value:function(n){var r=this,i=this,o=this.myDB.version||1,a=i.indexedDB.open(i.myDB.name,o);a.onerror=function(s){},a.onsuccess=function(s){r.myDB.db=s.target.result,n.call(i)},a.onupgradeneeded=function(s){var l=s.target.result;s.target.transaction,l.objectStoreNames.contains(i.myDB.ojstore.name)||l.createObjectStore(i.myDB.ojstore.name,{keyPath:i.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var n=this;n.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(n,r){for(var i=this.myDB.db.transaction(n,"readwrite").objectStore(n),o,a=0;a<r.length;a++)o=i.add(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"putData",value:function(n,r){for(var i=this.myDB.db.transaction(n,"readwrite").objectStore(n),o,a=0;a<r.length;a++)o=i.put(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"getDataByKey",value:function(n,r,i){var o=this,a=this.myDB.db.transaction(n,"readwrite").objectStore(n),s=a.get(r);s.onerror=function(){i.call(o,null)},s.onsuccess=function(l){var c=l.target.result;i.call(o,c)}}},{key:"deleteData",value:function(n,r){var i=this.myDB.db.transaction(n,"readwrite").objectStore(n);i.delete(r)}},{key:"clearData",value:function(n){var r=this.myDB.db.transaction(n,"readwrite").objectStore(n);r.clear()}}]),t}(),mI=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],gI=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],vI=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],tu="data-xgplayerid";function Ly(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=e.call.apply(e,[t].concat(i));!n||typeof n!="function"||(a&&a.then?a.then(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];n.call.apply(n,[t].concat(l))}):n.call.apply(n,[t].concat(i)))}function M1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[t]&&(this.__hooks[t]=null),(function(){var r=arguments,i=this;if(n.pre)try{var o;(o=n.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(s){throw s.message="[pluginName: ".concat(this.pluginName,":").concat(t,":pre error] >> ").concat(s.message),s}if(this.__hooks&&this.__hooks[t])try{var a=hl.apply(void 0,[this,t,e].concat(Array.prototype.slice.call(arguments)));a?a.then?a.then(function(s){s!==!1&&Ly.apply(void 0,[i,e,n.next].concat(Ps(r)))}).catch(function(s){throw s}):Ly.apply(void 0,[this,e,n.next].concat(Array.prototype.slice.call(arguments))):a===void 0&&Ly.apply(void 0,[this,e,n.next].concat(Array.prototype.slice.call(arguments)))}catch(s){throw s.message="[pluginName: ".concat(this.pluginName,":").concat(t,"] >> ").concat(s.message),s}else Ly.apply(void 0,[this,e,n.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function oV(t,e){var n=this.__hooks;if(!n||!Array.isArray(n[t]))return-1;for(var r=n[t],i=0;i<r.length;i++)if(r[i]===e)return i;return-1}function O1(t,e){var n=this.__hooks;if(n)return n.hasOwnProperty(t)?(Array.isArray(n[t])||(n[t]=[]),oV.call(this,t,e)===-1&&n[t].push(e),!0):(console.warn("has no supported hook which name [".concat(t,"]")),!1)}function D1(t,e){var n=this.__hooks;if(n)if(Array.isArray(n[t])){var r=n[t],i=oV.call(this,t,e);i!==-1&&r.splice(i,1)}else n[t]&&(n[t]=null)}function yI(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){for(var e=this.plugins[t.toLowerCase()],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.useHooks&&e.useHooks.apply(e,r)}}function bI(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){var e=this.plugins[t.toLowerCase()];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.removeHooks&&e.removeHooks.apply(e,r)}}}function aV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.__hooks={},e&&e.map(function(n){t.__hooks[n]=null}),Object.defineProperty(t,"hooks",{get:function(){return t.__hooks&&Object.keys(t.__hooks).map(function(r){if(t.__hooks[r])return r})}})}function sV(t){t.__hooks=null}function hl(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];if(t.__hooks&&Array.isArray(t.__hooks[e])){var a=t.__hooks[e],s=-1,l=function c(u,d,h){for(var f=arguments.length,p=new Array(f>3?f-3:0),g=3;g<f;g++)p[g-3]=arguments[g];if(s++,a.length===0||s===a.length)return h.call.apply(h,[u,u].concat(p));var m=a[s],y=m.call.apply(m,[u,u].concat(p));if(y&&y.then)return y.then(function(b){return b===!1?null:c.apply(void 0,[u,d,h].concat(p))}).catch(function(b){console.warn("[runHooks]".concat(d," reject"),b.message)});if(y!==!1)return c.apply(void 0,[u,d,h].concat(p));if(y===!1)return!1};return l.apply(void 0,[t,e,n].concat(i))}else return n.call.apply(n,[t,t].concat(i))}function SC(t,e){yr.logError("[".concat(t,"] event or callback cant be undefined or null when call ").concat(e))}var Gu=function(){function t(e){An(this,t),oe.checkIsFunction(this.beforeCreate)&&this.beforeCreate(e),aV(this),this.__args=e,this.__events={},this.__onceEvents={},this.config=e.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(e)}return Sn(t,[{key:"beforeCreate",value:function(n){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(n){this.player=n.player,this.playerConfig=n.player&&n.player.config,this.pluginName=n.pluginName?n.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=n.player&&n.player.logger}},{key:"updateLang",value:function(n){n||(n=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var n=oe.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(n=this.playerConfig.domEventType),n}},{key:"on",value:function(n,r){var i=this;if(!n||!r||!this.player){SC(this.pluginName,"plugin.on(event, callback)");return}typeof n=="string"?(this.__events[n]=r,this.player.on(n,r)):Array.isArray(n)&&n.forEach(function(o){i.__events[o]=r,i.player.on(o,r)})}},{key:"once",value:function(n,r){var i=this;if(!n||!r||!this.player){SC(this.pluginName,"plugin.once(event, callback)");return}typeof n=="string"?(this.__onceEvents[n]=r,this.player.once(n,r)):Array.isArray(n)&&n.forEach(function(o){i.__onceEvents[o]=r,i.player.once(n,r)})}},{key:"off",value:function(n,r){var i=this;if(!n||!r||!this.player){SC(this.pluginName,"plugin.off(event, callback)");return}typeof n=="string"?(delete this.__events[n],this.player.off(n,r)):Array.isArray(n)&&n.forEach(function(o){delete i.__events[n],i.player.off(o,r)})}},{key:"offAll",value:function(){var n=this;["__events","__onceEvents"].forEach(function(r){Object.keys(n[r]).forEach(function(i){n[r][i]&&n.off(i,n[r][i]),i&&delete n[r][i]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(n){var r;if(this.player){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(r=this.player).emit.apply(r,[n].concat(o))}}},{key:"emitUserAction",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var o=Ni(Ni({},i),{},{pluginName:this.pluginName});this.player.emitUserAction(n,r,o)}}},{key:"hook",value:function(n,r){return M1.call.apply(M1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return O1.call.apply(O1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return D1.call.apply(D1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return i&&(r.pluginName=i),this.player.registerPlugin({plugin:n,options:r})}},{key:"getPlugin",value:function(n){return this.player?this.player.getPlugin(n):null}},{key:"__destroy",value:function(){var n=this,r=this.player,i=this.pluginName;this.offAll(),oe.clearAllTimers(this),oe.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(o){n[o]=null}),r.unRegisterPlugin(i),sV(this)}}],[{key:"defineGetterOrSetter",value:function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&Object.defineProperty(n,i,r[i])}},{key:"defineMethod",value:function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&typeof r[i]=="function"&&Object.defineProperty(n,i,{configurable:!0,value:r[i]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),t}(),L7e=9;if(typeof Element<"u"&&!Element.prototype.matches){var nf=Element.prototype;nf.matches=nf.matchesSelector||nf.mozMatchesSelector||nf.msMatchesSelector||nf.oMatchesSelector||nf.webkitMatchesSelector}function M7e(t,e){for(;t&&t.nodeType!==L7e;){if(typeof t.matches=="function"&&t.matches(e))return t;t=t.parentNode}}var O7e=M7e,D7e=O7e;function kC(t,e,n,r,i){var o=$7e.apply(this,arguments);return t.addEventListener(n,o,i),{destroy:function(){t.removeEventListener(n,o,i)}}}function F7e(t,e,n,r,i){return typeof t.addEventListener=="function"?kC.apply(null,arguments):typeof n=="function"?kC.bind(null,document).apply(null,arguments):(typeof t=="string"&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(o){return kC(o,e,n,r,i)}))}function $7e(t,e,n,r){return function(i){i.delegateTarget=D7e(i.target,e),i.delegateTarget&&r.call(t,i)}}var B7e=F7e;const xI=Xx(B7e);var N7e={CONTROLS:"controls",ROOT:"root"},ni={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},wI={ICON_DISABLE:"xg-icon-disable"};function EC(t){return t?t.indexOf&&/^(?:http|data:|\/)/.test(t):!1}function z7e(t,e){return ta(t)==="object"&&t.class&&typeof t.class=="string"?"".concat(e," ").concat(t.class):e}function H7e(t,e){return ta(t)==="object"&&t.attr&&ta(t.attr)==="object"&&Object.keys(t.attr).map(function(n){e[n]=t.attr[n]}),e}function CI(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=null;if(t instanceof window.Element)return oe.addClass(t,n),Object.keys(r).map(function(a){t.setAttribute(a,r[a])}),t;if(EC(t)||EC(t.url))return r.src=EC(t)?t:t.url||"",o=oe.createDom(t.tag||"img","",r,"xg-img ".concat(n)),o;if(typeof t=="function")try{return o=t(),o instanceof window.Element?(oe.addClass(o,n),Object.keys(r).map(function(a){o.setAttribute(a,r[a])}),o):(yr.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(i,"] is a function mast return an Element Object")),null)}catch(a){return yr.logError("Plugin named [".concat(i,"]:createIcon"),a),null}return typeof t=="string"?oe.createDomFromHtml(t,r,n):(yr.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(i,"] is invalid")),null)}function U7e(t,e){var n=e.config.icons||e.playerConfig.icons;Object.keys(t).map(function(r){var i=t[r],o=i&&i.class?i.class:"",a=i&&i.attr?i.attr:{},s=null;n&&n[r]&&(o=z7e(n[r],o),a=H7e(n[r],a),s=CI(n[r],r,o,a,e.pluginName)),!s&&i&&(s=CI(i.icon?i.icon:i,a,o,{},e.pluginName)),e.icons[r]=s})}function j7e(t,e){Object.keys(t).map(function(n){Object.defineProperty(e.langText,n,{get:function(){var i=e.lang,o=e.i18n;return o[n]?o[n]:t[n]&&t[n][i]||""}})})}var $r=function(t){Kn(n,t);var e=Gn(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return An(this,n),r=e.call(this,i),r.__delegates=[],r}return Sn(n,[{key:"__init",value:function(i){if(tr(Zn(n.prototype),"__init",this).call(this,i),!!i.root){var o=i.root,a=null;this.icons={},this.root=null,this.parent=null,this.extraEls=[];var s=this.registerIcons()||{};U7e(s,this),this.langText={};var l=this.registerLanguageTexts()||{};j7e(l,this);var c="";try{c=this.render()}catch(h){throw yr.logError("Plugin:".concat(this.pluginName,":render"),h),new Error("Plugin:".concat(this.pluginName,":render:").concat(h.message))}if(c)a=n.insert(c,o,i.index),a.setAttribute("data-index",i.index);else if(i.tag)a=oe.createDom(i.tag,"",i.attr,i.name),a.setAttribute("data-index",i.index),o.appendChild(a);else return;this.root=a,this.parent=o;var u=this.config.attr||{},d=this.config.style||{};this.setAttr(u),this.setStyle(d),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var i=this;if(this.root){this._children=[];var o=this.children();o&&ta(o)==="object"&&Object.keys(o).length>0&&Object.keys(o).map(function(a){var s=a,l=o[s],c={root:i.root},u,d;typeof l=="function"?(u=i.config[s]||{},d=l):ta(l)==="object"&&typeof l.plugin=="function"&&(u=l.options?oe.deepCopy(i.config[s]||{},l.options):i.config[s]||{},d=l.plugin),c.config=u,u.index!==void 0&&(c.index=u.index),u.root&&(c.root=u.root),i.registerPlugin(d,c,s)})}}},{key:"updateLang",value:function(i){i||(i=this.lang);function o(c,u){for(var d=0;d<c.children.length;d++)c.children[d].children.length>0?o(c.children[d],u):u(c.children[d])}var a=this.root,s=this.i18n,l=this.langText;a&&o(a,function(c){var u=c.getAttribute&&c.getAttribute("lang-key");if(u){var d=s[u.toUpperCase()]||l[u];d&&(c.innerHTML=typeof d=="function"?d(i):d)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=this.i18n||{},s=this.langText;i.setAttribute&&i.setAttribute("lang-key",o);var l=a[o]||s[o]||"";l&&(i.innerHTML=l)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,oe.addClass(this.find(".xgplayer-icon"),wI.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,oe.removeClass(this.find(".xgplayer-icon"),wI.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";o.root=o.root||this.root;var s=tr(Zn(n.prototype),"registerPlugin",this).call(this,i,o,a);return this._children.push(s),s}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(i){if(this.root)return this.root.querySelector(i)}},{key:"bind",value:function(i,o,a){var s=this;if(arguments.length<3&&typeof o=="function")Array.isArray(i)?i.forEach(function(c){s.bindEL(c,o)}):this.bindEL(i,o);else{var l=n.delegate.call(this,this.root,i,o,a);this.__delegates=this.__delegates.concat(l)}}},{key:"unbind",value:function(i,o){var a=this;if(arguments.length<3&&typeof o=="function")Array.isArray(i)?i.forEach(function(c){a.unbindEL(c,o)}):this.unbindEL(i,o);else for(var s="".concat(i,"_").concat(o),l=0;l<this.__delegates.length;l++)if(this.__delegates[l].key===s){this.__delegates[l].destroy(),this.__delegates.splice(l,1);break}}},{key:"setStyle",value:function(i,o){var a=this;if(this.root){if(oe.typeOf(i)==="String")return this.root.style[i]=o;oe.typeOf(i)==="Object"&&Object.keys(i).map(function(s){a.root.style[s]=i[s]})}}},{key:"setAttr",value:function(i,o){var a=this;if(this.root){if(oe.typeOf(i)==="String")return this.root.setAttribute(i,o);oe.typeOf(i)==="Object"&&Object.keys(i).map(function(s){a.root.setAttribute(s,i[s])})}}},{key:"setHtml",value:function(i,o){this.root&&(this.root.innerHTML=i,typeof o=="function"&&o())}},{key:"bindEL",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(i)in this.root&&typeof o=="function"&&this.root.addEventListener(i,o,a)}},{key:"unbindEL",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(i)in this.root&&typeof o=="function"&&this.root.removeEventListener(i,o,a)}},{key:"show",value:function(i){if(this.root){this.root.style.display=i!==void 0?i:"block";var o=window.getComputedStyle(this.root,null),a=o.getPropertyValue("display");if(a==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(i,o){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!o||!(o instanceof window.Element))return null;try{return typeof i=="string"?this.find(i).appendChild(o):i.appendChild(o)}catch(a){return yr.logError("Plugin:appendChild",a),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var i=this,o=this.player;this.__delegates.map(function(a){a.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(a){o.unRegisterPlugin(a.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),tr(Zn(n.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(a){i[a]=null}),this.extraEls=[]}}],[{key:"insert",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=o.children.length,l=Number(a),c=i instanceof window.Node;if(s){for(var u=0,d=null,h="";u<s;u++){d=o.children[u];var f=Number(d.getAttribute("data-index"));if(f>=l){h="beforebegin";break}else f<l&&(h="afterend")}return c?h==="afterend"?o.appendChild(i):o.insertBefore(i,d):d.insertAdjacentHTML(h,i),h==="afterend"?o.children[o.children.length-1]:o.children[u]}else return c?o.appendChild(i):o.insertAdjacentHTML("beforeend",i),o.children[o.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(i,o,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=[];if(i instanceof window.Node&&typeof s=="function")if(Array.isArray(a))a.forEach(function(d){var h=xI(i,o,d,s,l);h.key="".concat(o,"_").concat(d),c.push(h)});else{var u=xI(i,o,a,s,l);u.key="".concat(o,"_").concat(a),c.push(u)}return c}},{key:"ROOT_TYPES",get:function(){return N7e}},{key:"POSITIONS",get:function(){return ni}}]),n}(Gu),V7e=function(){function t(){var e=this;if(An(this,t),yt(this,"__trigger",function(n){var r=new Date().getTime();e.timeStamp=r;for(var i=0;i<n.length;i++)e.__runHandler(n[i].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(p7e(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(n){console.error(n)}}return Sn(t,[{key:"addObserver",value:function(n,r){if(this.observer){this.observer.observe(n);for(var i=n.getAttribute(tu),o=this.__handlers,a=-1,s=0;s<o.length;s++)o[s]&&n===o[s].target&&(a=s);a>-1?this.__handlers[a].handler=r:this.__handlers.push({target:n,handler:r,playerId:i})}}},{key:"unObserver",value:function(n){var r=-1;this.__handlers.map(function(o,a){n===o.target&&(r=a)});try{var i;(i=this.observer)===null||i===void 0||i.unobserve(n)}catch{}r>-1&&this.__handlers.splice(r,1)}},{key:"destroyObserver",value:function(){var n;(n=this.observer)===null||n===void 0||n.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(n){for(var r=this.__handlers,i=0;i<r.length;i++)if(r[i]&&n===r[i].target){try{r[i].handler(n)}catch(o){console.error(o)}return!0}return!1}}]),t}(),S0=null;function W7e(t,e){return S0||(S0=new V7e),S0.addObserver(t,e),S0}function q7e(t,e){var n;(n=S0)===null||n===void 0||n.unObserver(t,e)}var Io={pluginGroup:{},init:function(e){var n=e._pluginInfoId;n||(n=new Date().getTime(),e._pluginInfoId=n),!e.config.closeResizeObserver&&W7e(e.root,function(){e.resize()}),this.pluginGroup[n]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,n){var r=null,i=null;return e.plugin&&typeof e.plugin=="function"?(r=e.plugin,i=e.options):(r=e,i={}),n&&(i.config=n||{}),{PLUFGIN:r,options:i}},checkPluginIfExits:function(e,n){for(var r=0;r<n.length;r++)if(e.toLowerCase()===n[r].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,n){for(var r=Object.keys(n),i=null,o=0;o<r.length;o++)if(e.toLowerCase()===r[o].toLowerCase()){i=n[r[o]];break}return oe.typeOf(i)==="Object"?{root:i.root,position:i.position}:{}},lazyRegister:function(e,n){var r=this,i=n.timeout||1500;return Promise.race([n.loader().then(function(o){var a;o&&o.__esModule?a=o.default:a=o,r.register(e,a,o.options)}),new Promise(function(o,a){setTimeout(function(){a(new Error("timeout"))},i)})])},register:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!e||!n||typeof n!="function"||n.prototype===void 0)){var i=e._pluginInfoId;if(!(!i||!this.pluginGroup[i])){this.pluginGroup[i]._plugins||(this.pluginGroup[i]._plugins={});var o=this.pluginGroup[i]._plugins,a=this.pluginGroup[i]._originalOptions;r.player=e;var s=r.pluginName||n.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(n.isSupported&&!n.isSupported(e.config.mediaType,e.config.codecType)){console.warn("not supported plugin [".concat(s,"]"));return}r.config||(r.config={});for(var l=Object.keys(a),c=0;c<l.length;c++)if(s.toLowerCase()===l[c].toLowerCase()){var u=a[l[c]];oe.typeOf(u)==="Object"?r.config=Object.assign({},r.config,a[l[c]]):oe.typeOf(u)==="Boolean"&&(r.config.disable=!u);break}n.defaultConfig&&Object.keys(n.defaultConfig).forEach(function(h){typeof r.config[h]>"u"&&(r.config[h]=n.defaultConfig[h])}),r.root?typeof r.root=="string"&&(r.root=e[r.root]):r.root=e.root,r.index=r.config.index||0;try{o[s.toLowerCase()]&&(this.unRegister(i,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var d=new n(r);return o[s.toLowerCase()]=d,o[s.toLowerCase()].func=n,d&&typeof d.afterCreate=="function"&&d.afterCreate(),d}catch(h){throw console.error(h),h}}}},unRegister:function(e,n){e._pluginInfoId&&(e=e._pluginInfoId),n=n.toLowerCase();try{var r=this.pluginGroup[e]._plugins[n];r&&(r.pluginName&&r.__destroy(),delete this.pluginGroup[e]._plugins[n])}catch(i){console.error("[unRegister:".concat(n,"] cgid:[").concat(e,"] error"),i)}},deletePlugin:function(e,n){var r=e._pluginInfoId;r&&this.pluginGroup[r]&&this.pluginGroup[r]._plugins&&delete this.pluginGroup[r]._plugins[n]},getPlugins:function(e){var n=e._pluginInfoId;return n&&this.pluginGroup[n]?this.pluginGroup[n]._plugins:{}},findPlugin:function(e,n){var r=e._pluginInfoId;if(!r||!this.pluginGroup[r])return null;var i=n.toLowerCase();return this.pluginGroup[r]._plugins[i]},beforeInit:function(e){var n=this;function r(i){return!i||!i.then?new Promise(function(o){o()}):i}return new Promise(function(i){if(n.pluginGroup){var o;return e._loadingPlugins&&e._loadingPlugins.length?o=Promise.all(e._loadingPlugins):o=Promise.resolve(),o.then(function(){var a=e._pluginInfoId;if(!n.pluginGroup[a]){i();return}var s=n.pluginGroup[a]._plugins,l=[];Object.keys(s).forEach(function(c){if(s[c]&&s[c].beforePlayerInit)try{var u=s[c].beforePlayerInit();l.push(r(u))}catch(d){throw l.push(r(null)),d}}),Promise.all([].concat(l)).then(function(){i()}).catch(function(c){console.error(c),i()})})}})},afterInit:function(e){var n=e._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var r=this.pluginGroup[n]._plugins;Object.keys(r).forEach(function(i){r[i]&&r[i].afterPlayerInit&&r[i].afterPlayerInit()})}},setLang:function(e,n){var r=n._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var i=this.pluginGroup[r]._plugins;Object.keys(i).forEach(function(o){if(i[o].updateLang)i[o].updateLang(e);else try{i[o].lang=e}catch{console.warn("".concat(o," setLang"))}})}},reRender:function(e){var n=this,r=e._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var i=[],o=this.pluginGroup[r]._plugins;Object.keys(o).forEach(function(a){a!=="controls"&&o[a]&&(i.push({plugin:o[a].func,options:o[a].__args}),n.unRegister(r,a))}),i.forEach(function(a){n.register(e,a.plugin,a.options)})}},onPluginsReady:function(e){var n=e._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var r=this.pluginGroup[n]._plugins||{};Object.keys(r).forEach(function(i){r[i].onPluginsReady&&typeof r[i].onPluginsReady=="function"&&r[i].onPluginsReady()})}},destroy:function(e){var n=e._pluginInfoId;if(this.pluginGroup[n]){q7e(e.root);for(var r=this.pluginGroup[n]._plugins,i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];this.unRegister(n,a)}delete this.pluginGroup[n],delete e._pluginInfoId}}},$t={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function AI(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:m7e(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var K7e=function(e,n){var r,i,o;n.preset&&n.options?o=new n.preset(n.options,e.config):o=new n({},e.config);var a=o,s=a.plugins,l=s===void 0?[]:s,c=a.ignores,u=c===void 0?[]:c,d=a.icons,h=d===void 0?{}:d,f=a.i18n,p=f===void 0?[]:f;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(r=e.config.plugins).push.apply(r,Ps(l)),(i=e.config.ignores).push.apply(i,Ps(u)),Object.keys(h).map(function(m){e.config.icons[m]||(e.config.icons[m]=h[m])});var g=e.config.i18n||[];p.push.apply(p,Ps(g)),e.config.i18n=p},G7e=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onMouseEnter",function(s){var l=ct(r),c=l.player,u=l.playerConfig;u.closeControlsBlur&&c.focus({autoHide:!1})}),yt(ct(r),"onMouseLeave",function(s){var l=ct(r),c=l.player;c.focus()}),r}return Sn(n,[{key:"beforeCreate",value:function(i){!i.config.mode&&lr.device==="mobile"&&(i.config.mode="flex"),i.player.config.marginControls&&(i.config.autoHide=!1)}},{key:"afterCreate",value:function(){var i=this,o=this.config,a=o.disable,s=o.height,l=o.mode;if(!a){l==="flex"&&this.player.addClass($t.FLEX_CONTROLS);var c={height:"".concat(s,"px")};Object.keys(c).map(function(d){i.root.style[d]=c[d]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(P1,function(d){d?oe.addClass(i.root,"mini-controls"):oe.removeClass(i.root,"mini-controls")});var u=this.playerConfig.isMobileSimulateMode;lr.device!=="mobile"&&u!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&oe.addClass(this.root,$t.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){oe.removeClass(this.root,$t.CONTROLS_AUTOHIDE)}},{key:"show",value:function(i){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(this.root){var s=i.defaultConfig||{};if(!o.root){var l=o.position?o.position:o.config&&o.config.position?o.config.position:s.position;switch(l){case ni.CONTROLS_LEFT:o.root=this.left;break;case ni.CONTROLS_RIGHT:o.root=this.right;break;case ni.CONTROLS_CENTER:o.root=this.center;break;case ni.CONTROLS:o.root=this.root;break;default:o.root=this.left}return tr(Zn(n.prototype),"registerPlugin",this).call(this,i,o,a)}}}},{key:"destroy",value:function(){lr.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave)),this.left=null,this.center=null,this.right=null,this.innerRoot=null}},{key:"render",value:function(){var i=this.config,o=i.mode,a=i.autoHide,s=i.initShow,l=i.disable;if(!l){var c=oe.classNames({"xgplayer-controls":!0},{"flex-controls":o==="flex"},{"bottom-controls":o==="bottom"},yt({},$t.CONTROLS_AUTOHIDE,a),{"xgplayer-controls-initshow":s||!a});return'<xg-controls class="'.concat(c,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),n}($r),Y7e={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},Pa={lang:{},langKeys:[],textKeys:[]};function Eg(t,e){return Object.keys(e).forEach(function(n){var r=oe.typeOf(e[n]),i=oe.typeOf(t[n]);if(r==="Array"){var o;i!=="Array"&&(t[n]=[]),(o=t[n]).push.apply(o,Ps(e[n]))}else r==="Object"?(i!=="Object"&&(t[n]={}),Eg(t[n],e[n])):t[n]=e[n]}),t}function lV(){Object.keys(Pa.lang.en).map(function(t){Pa.textKeys[t]=t})}function X7e(t,e){var n=[];if(e||(e=Pa),!!e.lang){oe.typeOf(t)!=="Array"?n=Object.keys(t).map(function(o){var a=o==="zh"?"zh-cn":o;return{LANG:a,TEXT:t[o]}}):n=t;var r=e,i=r.lang;n.map(function(o){o.LANG==="zh"&&(o.LANG="zh-cn"),i[o.LANG]?Eg(i[o.LANG]||{},o.TEXT||{}):R5(o,e)}),lV()}}function R5(t,e){var n=t.LANG;if(e||(e=Pa),!!e.lang){var r=t.TEXT||{};n==="zh"&&(n="zh-cn"),e.lang[n]?Eg(e.lang[n],r):(e.langKeys.push(n),e.lang[n]=r),lV()}}function Q7e(t){var e,n={lang:{},langKeys:[],textKeys:{},pId:t};return Eg(n.lang,Pa.lang),(e=n.langKeys).push.apply(e,Ps(Pa.langKeys)),Eg(n.textKeys,Pa.textKeys),n}R5(Y7e);var xf={get textKeys(){return Pa.textKeys},get langKeys(){return Pa.langKeys},get lang(){var t={};return Pa.langKeys.map(function(e){t[e]=Pa.lang[e]}),Pa.lang["zh-cn"]&&(t.zh=Pa.lang["zh-cn"]||{}),t},extend:X7e,use:R5,init:Q7e},Er={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7},SI=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],la={},TC=null,cV=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"add",value:function(i){i&&(la[i.playerId]=i,Object.keys(la).length===1&&this.setActive(i.playerId,!0))}},{key:"remove",value:function(i){i&&(i.isUserActive,delete la[i.playerId])}},{key:"_iterate",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var a in la)if(Object.prototype.hasOwnProperty.call(la,a)){var s=la[a];if(o){if(i(s))break}else i(s)}}},{key:"forEach",value:function(i){this._iterate(i)}},{key:"find",value:function(i){var o=null;return this._iterate(function(a){var s=i(a);return s&&(o=a),s},!0),o}},{key:"findAll",value:function(i){var o=[];return this._iterate(function(a){i(a)&&o.push(a)}),o}},{key:"setActive",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(la[i])return o?this.forEach(function(a){i===a.playerId?(a.isUserActive=!0,a.isInstNext=!1):a.isUserActive=!1}):la[i].isUserActive=o,i}},{key:"getActiveId",value:function(){for(var i=Object.keys(la),o=0;o<i.length;o++){var a=la[i[o]];if(a&&a.isUserActive)return i[o]}return null}},{key:"setNext",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(la[i])return o?this.forEach(function(a){i===a.playerId?(a.isUserActive=!1,a.isInstNext=!0):a.isInstNext=!1}):la[i].isInstNext=o,i}}],[{key:"getInstance",value:function(){return TC||(TC=new n),TC}}]),n}(Nj.EventEmitter);function Z7e(t){for(var e=Object.keys(la),n=0;n<e.length;n++){var r=la[e[n]];if(r.root===t)return r}return null}var J7e=["play","pause","replay","retry"],kI=0,EI=0,Yc=null,tw=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;An(this,n);var o=oe.deepMerge(AI(),r);i=e.call(this,o),yt(ct(i),"canPlayFunc",function(){if(i.config){var p=i.config,g=p.autoplay,m=p.defaultPlaybackRate;yr.logInfo("player","canPlayFunc, startTime",i.__startTime),i._seekToStartTime(),i.playbackRate=m,(g||i._useAutoplay)&&i.mediaPlay(),i.off(ac,i.canPlayFunc),i.removeClass($t.ENTER)}}),yt(ct(i),"onFullscreenChange",function(p,g){var m=function(){oe.setTimeout(ct(i),function(){i.resize()},100)},y=oe.getFullScreenEl();i._fullActionFrom?i._fullActionFrom="":i.emit(L1,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:i.currentTime,duration:i.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var b=g7e(y,i.playerId,tu);if(g||y&&(y===i._fullscreenEl||b))m(),!i.config.closeFocusVideoFocus&&i.media.focus(),i.fullscreen=!0,i.changeFullStyle(i.root,y,$t.FULLSCREEN),i.emit(Jl,!0,i._fullScreenOffset),i.cssfullscreen&&i.exitCssFullscreen();else if(i.fullscreen){m();var x=ct(i),w=x._fullScreenOffset,C=x.config;if(C.needFullscreenScroll?(window.scrollTo(w.left,w.top),oe.setTimeout(ct(i),function(){i.fullscreen=!1,i._fullScreenOffset=null},100)):(!i.config.closeFocusVideoFocus&&i.media.focus(),i.fullscreen=!1,i._fullScreenOffset=null),i.cssfullscreen)i.removeClass($t.FULLSCREEN);else{var S=i._fullscreenEl;!S&&(i.root.contains(p.target)||p.target===i.root)&&(S=p.target),i.recoverFullStyle(i.root,S,$t.FULLSCREEN)}i._fullscreenEl=null,i.emit(Jl,!1)}}),yt(ct(i),"_onWebkitbeginfullscreen",function(p){i._fullscreenEl=i.media,i.onFullscreenChange(p,!0)}),yt(ct(i),"_onWebkitendfullscreen",function(p){i.onFullscreenChange(p,!1)}),aV(ct(i),J7e),i.config=o,i._pluginInfoId=oe.generateSessionId(),u7e(ct(i));var a=i.constructor.defaultPreset;if(i.config.presets.length){var s=i.config.presets.indexOf("default");s>=0&&a&&(i.config.presets[s]=a)}else a&&i.config.presets.push(a);i.userTimer=null,i.waitTimer=null,i.handleSource=!0,i._state=Er.INITIAL,i.isAd=!1,i.isError=!1,i._hasStart=!1,i.isSeeking=!1,i.isCanplay=!1,i._useAutoplay=!1,i.__startTime=-1,i.rotateDeg=0,i.isActive=!1,i.fullscreen=!1,i.cssfullscreen=!1,i.isRotateFullscreen=!1,i._fullscreenEl=null,i.timeSegments=[],i._cssfullscreenEl=null,i.curDefinition=null,i._orgCss="",i._fullScreenOffset=null,i._videoHeight=0,i._videoWidth=0,i.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},i.sizeInfo={width:0,height:0,left:0,top:0},i._accPlayed={t:0,acc:0,loopAcc:0},i._offsetInfo={currentTime:-1,duration:0},i.innerContainer=null,i.controls=null,i.topBar=null,i.root=null,i.__i18n=xf.init(i._pluginInfoId),lr.os.isAndroid&&lr.osVersion>0&&lr.osVersion<6&&(i.config.autoplay=!1),i.database=new I7e,i.isUserActive=!1,i._onceSeekCanplay=null,i._isPauseBeforeSeek=0,i.innerStates={isActiveLocked:!1},i.instManager=Yc;var l=i._initDOM();if(!l)return console.error(new Error("can't find the dom which id is ".concat(i.config.id," or this.config.el does not exist"))),x5(i);var c=i.config,u=c.definition,d=u===void 0?{}:u,h=c.url;if(!h&&d.list&&d.list.length>0){var f=d.list.find(function(p){return p.definition&&p.definition===d.defaultDefinition});f||(d.defaultDefinition=d.list[0].definition,f=d.list[0]),i.config.url=f.url,i.curDefinition=f}return i._bindEvents(),i._registerPresets(),i._registerPlugins(),Io.onPluginsReady(ct(i)),i.getInitDefinition(),i.setState(Er.READY),oe.setTimeout(ct(i),function(){i.emit(S5)},0),i.onReady&&i.onReady(),(i.config.videoInit||i.config.autoplay)&&(!i.hasStart||i.state<Er.ATTACHED)&&i.start(),i}return Sn(n,[{key:"_initDOM",value:function(){var i,o=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var a=this.config.el;if(a&&a.nodeType===1)this.root=a;else return this.emit(hv,new T1("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var s=Z7e(this.root);if(s&&(yr.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),s.destroy()),this.root.setAttribute(tu,this.playerId),this.media.setAttribute(tu,this.playerId),(i=Yc)===null||i===void 0||i.add(this),Io.init(this),this._initBaseDoms(),this.config.controls){var l=this.config.controls.root||null,c=Io.register(this,G7e,{root:l});this.controls=c}var u=this.config.isMobileSimulateMode==="mobile"?"mobile":lr.device;if(this.addClass("".concat($t.DEFAULT," ").concat($t.INACTIVE," xgplayer-").concat(u," ").concat(this.config.controls?"":$t.NO_CONTROLS)),this.config.autoplay?this.addClass($t.ENTER):this.addClass($t.NO_START),this.config.fluid){var d=this.config,h=d.width,f=d.height;(typeof h!="number"||typeof f!="number")&&(h=600,f=337.5);var p={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(f*100/h,"%")};Object.keys(p).forEach(function(w){o.root.style[w]=p[w]})}else["width","height"].forEach(function(w){o.config[w]&&(typeof o.config[w]!="number"?o.root.style[w]=o.config[w]:o.root.style[w]="".concat(o.config[w],"px"))});var g=this.root.getBoundingClientRect(),m=g.width,y=g.height,b=g.left,x=g.top;return this.sizeInfo.width=m,this.sizeInfo.height=y,this.sizeInfo.left=b,this.sizeInfo.top=x,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=oe.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var i=this;["focus","blur"].forEach(function(o){i.on(o,i["on"+o.charAt(0).toUpperCase()+o.slice(1)])}),mI.forEach(function(o){document&&document.addEventListener(o,i.onFullscreenChange)}),lr.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(Sc,this.resize),this.playFunc=function(){i.config.closeFocusVideoFocus||i.media.focus()},this.once(Va,this.playFunc)}},{key:"_unbindEvents",value:function(){var i=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),mI.forEach(function(o){document.removeEventListener(o,i.onFullscreenChange)}),this.playFunc&&this.off(Va,this.playFunc),this.off(ac,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&&(oe.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.media&&!((!i||i===""||oe.typeOf(i)==="Array"&&i.length===0)&&(i="",this.emit(qj),yr.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){oe.isNotNull(a.playSessionId)&&(this._playSessionId=a.playSessionId),this.handleSource&&(this._detachSourceEvents(this.media),oe.typeOf(i)==="Array"&&i.length>0?this._attachSourceEvents(this.media,i):!this.media.src||this.media.src!==i?this.media.src=i:i||this.media.removeAttribute("src")),oe.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var s=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!s.contains(this.media)&&s.insertBefore(this.media,s.firstChild);var l=this.media.readyState;yr.logInfo("_startInit readyState",l),this.config.autoplay&&(!oe.isMSE(this.media)&&this.load(),(lr.os.isIpad||lr.os.isPhone)&&this.mediaPlay());var c=this.config.startTime;this.__startTime=c>0?c:-1,this.config.startTime=0,l>=2&&this.duration>0?this.canPlayFunc():this.on(ac,this.canPlayFunc),(!this.hasStart||this.state<Er.ATTACHED)&&Io.afterInit(this),this.hasStart=!0,this.setState(Er.ATTACHED),oe.setTimeout(this,function(){o.emit(Zx)},0)}}},{key:"_registerPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var a=this.config.ignores||[],s=this.config.plugins||[],l=this.config.i18n||[];o&&xf.extend(l,this.__i18n);var c=a.join("||").toLowerCase().split("||"),u=this.plugins;s.forEach(function(d){try{var h=d.plugin?d.plugin.pluginName:d.pluginName;if(h&&c.indexOf(h.toLowerCase())>-1)return null;if(!o&&u[h.toLowerCase()])return;if(d.lazy&&d.loader){var f=Io.lazyRegister(i,d);d.forceBeforeInit&&(f.then(function(){i._loadingPlugins.splice(i._loadingPlugins.indexOf(f),1)}).catch(function(p){yr.logError("_registerPlugins:loadingPlugin",p),i._loadingPlugins.splice(i._loadingPlugins.indexOf(f),1)}),i._loadingPlugins.push(f));return}return i.registerPlugin(d)}catch(p){yr.logError("_registerPlugins:",p)}})}},{key:"_registerPresets",value:function(){var i=this;this.config.presets.forEach(function(o){K7e(i,o)})}},{key:"_getRootByPosition",value:function(i){var o=null;switch(i){case ni.ROOT_RIGHT:this.rightBar||(this.rightBar=oe.createPositionBar("xg-right-bar",this.root)),o=this.rightBar;break;case ni.ROOT_LEFT:this.leftBar||(this.leftBar=oe.createPositionBar("xg-left-bar",this.root)),o=this.leftBar;break;case ni.ROOT_TOP:this.topBar||(this.topBar=oe.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&oe.addClass(this.topBar,$t.TOP_BAR_AUTOHIDE)),o=this.topBar;break;default:o=this.innerContainer||this.root;break}return o}},{key:"registerPlugin",value:function(i,o){var a=Io.formatPluginInfo(i,o),s=a.PLUFGIN,l=a.options,c=this.config.plugins,u=Io.checkPluginIfExits(s.pluginName,c);!u&&c.push(s);var d=Io.getRootByConfig(s.pluginName,this.config);d.root&&(l.root=d.root),d.position&&(l.position=d.position);var h=l.position?l.position:l.config&&l.config.position||s.defaultConfig&&s.defaultConfig.position;if(!l.root&&typeof h=="string"&&h.indexOf("controls")>-1){var f;return(f=this.controls)===null||f===void 0?void 0:f.registerPlugin(s,l,s.pluginName)}return l.root||(l.root=this._getRootByPosition(h)),Io.register(this,s,l)}},{key:"deregister",value:function(i){typeof i=="string"?Io.unRegister(this,i):i instanceof Gu&&Io.unRegister(this,i.pluginName)}},{key:"unRegisterPlugin",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(i),o&&this.removePluginFromConfig(i)}},{key:"removePluginFromConfig",value:function(i){var o;if(typeof i=="string"?o=i:i instanceof Gu&&(o=i.pluginName),!!o)for(var a=this.config.plugins.length-1;a>-1;a--){var s=this.config.plugins[a];if(s.pluginName.toLowerCase()===o.toLowerCase()){this.config.plugins.splice(a,1);break}}}},{key:"plugins",get:function(){return Io.getPlugins(this)}},{key:"getPlugin",value:function(i){var o=Io.findPlugin(this,i);return o&&o.pluginName?o:null}},{key:"addClass",value:function(i){this.root&&(oe.hasClass(this.root,i)||oe.addClass(this.root,i))}},{key:"removeClass",value:function(i){this.root&&oe.removeClass(this.root,i)}},{key:"hasClass",value:function(i){if(this.root)return oe.hasClass(this.root,i)}},{key:"setAttribute",value:function(i,o){this.root&&this.root.setAttribute(i,o)}},{key:"removeAttribute",value:function(i,o){this.root&&this.root.removeAttribute(i,o)}},{key:"start",value:function(i){var o=this;if(!(this.state>Er.ATTACHING)){var a=this._playSessionId;return oe.isNotNull(a)&&(this._playSessionId=void 0),!i&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(Er.ATTACHING),this._registerPlugins(!1),Io.beforeInit(this).then(function(){if(o.config){i||(i=o.url||o.config.url);var s=o.preProcessUrl(i),l=o._startInit(s.url,{playSessionId:a});return l}}).catch(function(s){throw s.fileName="player",s.lineNumber="236",yr.logError("start:beforeInit:",s),s})}}},{key:"switchURL",value:function(i,o){var a=this,s=i;oe.typeOf(i)==="Object"&&(s=i.url),s=this.preProcessUrl(s).url;var l=this.currentTime;this.__startTime=l;var c=this.paused&&!this.isError;return this.src=s,new Promise(function(u,d){var h=function(g){a.off("timeupdate",f),a.off("canplay",f),d(g)},f=function(){a._seekToStartTime(),c&&a.pause(),a.off("error",h),u(!0)};if(a.once("error",h),!s){a.errorHandler("error",{code:6,message:"empty_src"});return}lr.os.isAndroid?a.once("timeupdate",f):a.once("canplay",f),a.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var i=this;if(!this.hasStart&&this.state<Er.ATTACHED){this.removeClass($t.NO_START),this.addClass($t.ENTER),this.start(),this._useAutoplay=!0;return}this.state<Er.RUNNING&&(this.removeClass($t.NO_START),!this.isCanplay&&this.addClass($t.ENTER));var o=tr(Zn(n.prototype),"play",this).call(this);return o!==void 0&&o&&o.then?o.then(function(){i.removeClass($t.NOT_ALLOW_AUTOPLAY),i.addClass($t.PLAYING),i.state<Er.RUNNING&&(yr.logInfo(">>>>playPromise.then"),i.setState(Er.RUNNING),i.emit(Jd))}).catch(function(a){if(yr.logWarn(">>>>playPromise.catch",a.name),i.media&&i.media.error){i.onError(),i.removeClass($t.ENTER);return}a.name==="NotAllowedError"&&(i._errorTimer=oe.setTimeout(i,function(){i._errorTimer=null,i.emit(k5),i.addClass($t.NOT_ALLOW_AUTOPLAY),i.removeClass($t.ENTER),i.pause(),i.setState(Er.NOTALLOW)},0))}):(yr.logWarn("video.play not return promise"),this.state<Er.RUNNING&&(this.setState(Er.RUNNING),this.removeClass($t.NOT_ALLOW_AUTOPLAY),this.removeClass($t.NO_START),this.removeClass($t.ENTER),this.addClass($t.PLAYING),this.emit(Jd))),o}},{key:"mediaPause",value:function(){tr(Zn(n.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){tr(Zn(n.prototype),"pause",this).call(this)}},{key:"play",value:function(){var i=this;return this.removeClass($t.PAUSED),hl(this,"play",function(){return i.mediaPlay()})}},{key:"pause",value:function(){var i=this;hl(this,"pause",function(){tr(Zn(n.prototype),"pause",i).call(i)})}},{key:"seek",value:function(i,o){var a=this;if(!(!this.media||Number.isNaN(Number(i))||!this.hasStart)){var s=this.config,l=s.isSeekedPlay,c=s.seekedStatus,u=o||(l?"play":c);i=i<0?0:i>this.duration?parseInt(this.duration,10):i,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(hc,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(a.removeClass($t.ENTER),a.isSeeking=!1,u){case"play":a.play();break;case"pause":a.pause();break;default:a._isPauseBeforeSeek>1||a.paused?a.pause():a.play()}a._isPauseBeforeSeek=0,a._onceSeekCanplay=null},this.once(hc,this._onceSeekCanplay),this.state<Er.RUNNING?(this.removeClass($t.NO_START),this.currentTime=i,this.play()):this.currentTime=i}}},{key:"getInitDefinition",value:function(){var i=this,o=this.config,a=o.definition,s=o.url;!s&&a&&a.list&&a.list.length>0&&a.defaultDefinition&&a.list.map(function(l){l.definition===a.defaultDefinition&&(i.config.url=l.url,i.curDefinition=l)})}},{key:"changeDefinition",value:function(i,o){var a=this,s=this.config.definition;if(Array.isArray(s==null?void 0:s.list)&&s.list.forEach(function(c){(i==null?void 0:i.definition)===c.definition&&(a.curDefinition=c)}),i!=null&&i.bitrate&&typeof i.bitrate!="number"&&(i.bitrate=parseInt(i.bitrate,10)||0),this.emit(T5,{from:o,to:i}),!this.hasStart){this.config.url=i.url;return}var l=this.switchURL(i.url,Ni({seamless:s.seamless!==!1&&typeof MediaSource<"u"&&typeof MediaSource.isTypeSupported=="function"},i));l&&l.then?l.then(function(){a.emit(ak,{from:o,to:i})}):this.emit(ak,{from:o,to:i})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(Sc,this.reloadFunc)}},{key:"resetState",value:function(){var i=this,o=$t.NOT_ALLOW_AUTOPLAY,a=$t.PLAYING,s=$t.NO_START,l=$t.PAUSED,c=$t.REPLAY,u=$t.ENTER,d=$t.ENDED,h=$t.ERROR,f=$t.LOADING,p=[o,a,s,l,c,u,d,h,f];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,p.forEach(function(g){i.removeClass(g)}),this.addClass($t.NO_START),this.emit(ew)}},{key:"reset",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;this.resetState();var s=this.plugins;if(s&&(o.map(function(c){i.deregister(c)}),a)){var l=AI();Object.keys(this.config).forEach(function(c){i.config[c]!=="undefined"&&(c==="plugins"||c==="presets"||c==="el"||c==="id")&&(i.config[c]=l[c])})}}},{key:"destroy",value:function(){var i,o=this,a=this.innerContainer,s=this.root,l=this.media;if(!(!s||!l)){if(this.hasStart=!1,this._useAutoplay=!1,s.removeAttribute(tu),l.removeAttribute(tu),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),oe.clearAllTimers(this),this.emit(E5),(i=Yc)===null||i===void 0||i.remove(this),Io.destroy(this),sV(this),tr(Zn(n.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),a)for(var c=a.children,u=0;u<c.length;u++)a.removeChild(c[u]);!a&&l instanceof window.Node&&s.contains(l)&&!this.config.remainMediaAfterDestroy&&s.removeChild(l),["topBar","leftBar","rightBar","innerContainer"].map(function(h){o[h]&&s.removeChild(o[h]),o[h]=null});var d=s.className.split(" ");d.length>0?s.className=d.filter(function(h){return h.indexOf("xgplayer")<0}).join(" "):s.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(h){o[h]=!1})}}},{key:"replay",value:function(){var i=this;this.removeClass($t.ENDED),this.currentTime=0,this.isSeeking=!1,hl(this,"replay",function(){i.once(hc,function(){var o=i.mediaPlay();o&&o.catch&&o.catch(function(a){console.log(a)})}),i.emit(R1),i.onPlay()})}},{key:"retry",value:function(){var i=this;this.removeClass($t.ERROR),this.addClass($t.LOADING),hl(this,"retry",function(){var o=i.currentTime,a=i.config.url,s=oe.isMSE(i.media)?{url:a}:i.preProcessUrl(a);i.src=s.url,!i.config.isLive&&(i.currentTime=o),i.once(ac,function(){i.mediaPlay()})})}},{key:"changeFullStyle",value:function(i,o,a,s){i&&(s||(s=$t.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=oe.filterStyleFromText(i)),oe.addClass(i,a),o&&o!==i&&!this._orgPCss&&(this._orgPCss=oe.filterStyleFromText(o),oe.addClass(o,s),o.setAttribute(tu,this.playerId)))}},{key:"recoverFullStyle",value:function(i,o,a,s){s||(s=$t.PARENT_FULLSCREEN),this._orgCss&&(oe.setStyleFromCsstext(i,this._orgCss),this._orgCss=""),oe.removeClass(i,a),o&&o!==i&&this._orgPCss&&(oe.setStyleFromCsstext(o,this._orgPCss),this._orgPCss="",oe.removeClass(o,s),o.removeAttribute(tu))}},{key:"getFullscreen",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,o=this.root,a=this.media;(i==="video"||i==="media")&&(i=this[i]),i||(i=o),this._fullScreenOffset={top:oe.scrollTop(),left:oe.scrollLeft()},this._fullscreenEl=i,this._fullActionFrom="get";var s=oe.getFullScreenEl();if(s===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var l=0;l<gI.length;l++){var c=gI[l];if(i[c]){var u=c==="webkitRequestFullscreen"?i.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):i[c]();return u&&u.then?u:Promise.resolve()}}return a.fullscreenEnabled||a.webkitSupportsFullscreen?(a.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(i){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!(!this._fullscreenEl&&!oe.getFullScreenEl())){this.root;var o=this.media;this._fullActionFrom="exit";try{for(var a=0;a<vI.length;a++){var s=vI[a];if(document[s]){var l=document[s]();return l&&l.then?l:Promise.resolve()}}return o&&o.webkitSupportsFullscreen?(o.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var o=i?"".concat($t.INNER_FULLSCREEN," ").concat($t.CSS_FULLSCREEN):$t.CSS_FULLSCREEN;this.changeFullStyle(this.root,i,o);var a=this.config.fullscreen,s=a===void 0?{}:a,l=s.useCssFullscreen===!0||typeof s.useCssFullscreen=="function"&&s.useCssFullscreen();l&&(this.fullscreen=!0,this.emit(Jl,!0)),this._cssfullscreenEl=i,this.cssfullscreen=!0,this.emit(_1,!0)}},{key:"exitCssFullscreen",value:function(){var i=this._cssfullscreenEl?"".concat($t.INNER_FULLSCREEN," ").concat($t.CSS_FULLSCREEN):$t.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,i);else{var o=this.config.fullscreen,a=o===void 0?{}:o,s=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();s?(this.recoverFullStyle(this.root,this._cssfullscreenEl,i),this.fullscreen=!1,this.emit(Jl,!1)):this.removeClass(i)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(_1,!1)}},{key:"getRotateFullscreen",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(i);var o=i?"".concat($t.INNER_FULLSCREEN," ").concat($t.ROTATE_FULLSCREEN):$t.ROTATE_FULLSCREEN;this._fullscreenEl=i||this.root,this.changeFullStyle(this.root,i,o,$t.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style");var a=Math.abs(window.orientation)===90||Math.abs(screen.orientation.angle)===90;this.root.style.width=a?"".concat(window.innerWidth,"px"):"".concat(window.innerHeight,"px"),this.emit(Jl,!0)}},{key:"exitRotateFullscreen",value:function(i){var o=this._fullscreenEl!==this.root?"".concat($t.INNER_FULLSCREEN," ").concat($t.ROTATE_FULLSCREEN):$t.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,o,$t.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Jl,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(i){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=i}},{key:"focus",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(i);return}this.emit(A5,Ni({paused:this.paused,ended:this.ended},i))}},{key:"blur",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(i);return}this._clearUserTimer(),this.emit(Wj,Ni({paused:this.paused,ended:this.ended},i))}},{key:"onFocus",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},a=this.innerStates;if(this.isActive=!0,this.removeClass($t.INACTIVE),this._clearUserTimer(),o.isLock!==void 0&&(a.isActiveLocked=o.isLock),o.autoHide===!1||o.isLock===!0||a.isActiveLocked){this._clearUserTimer();return}var s=o&&o.delay?o.delay:this.config.inactive;this.userTimer=oe.setTimeout(this,function(){i.userTimer=null,i.blur()},s)}},{key:"onBlur",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.ignorePaused,a=o===void 0?!1:o;if(!this.innerStates.isActiveLocked){var s=this.config.closePauseVideoFocus;this.isActive=!1,(a||s||!this.paused&&!this.ended)&&this.addClass($t.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass($t.ENTER),this.removeClass($t.ERROR),this.removeClass($t.LOADING),this.isCanplay=!0,this.waitTimer&&oe.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var i=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once(Oc,function(){i._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass($t.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===Er.ENDED&&this.setState(Er.RUNNING),this.removeClass($t.PAUSED),this.ended&&this.removeClass($t.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass($t.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass($t.ENDED),this.setState(Er.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass($t.NOT_ALLOW_AUTOPLAY),this.removeClass($t.NO_START),this.removeClass($t.ENTER),this.removeClass($t.LOADING),this.addClass($t.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass($t.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&oe.clearTimeout(this,this.waitTimer),this.removeClass($t.LOADING),this.removeClass($t.SEEKING)}},{key:"onWaiting",value:function(){var i=this;this.waitTimer&&oe.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=oe.setTimeout(this,function(){i.addClass($t.LOADING),i.emit(Yj),oe.clearTimeout(i,i.waitTimer),i.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var i=this;this.isError=!1;var o=$t.NO_START,a=$t.PAUSED,s=$t.ENDED,l=$t.ERROR,c=$t.REPLAY,u=$t.LOADING,d=[o,a,s,l,c,u];d.forEach(function(h){i.removeClass(h)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass($t.LOADING))&&this.media.readyState>2&&(this.removeClass($t.LOADING),oe.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===Er.NOTALLOW&&this.duration&&(this.setState(Er.RUNNING),this.emit(Jd)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){oe.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(i,o,a){if(!(!this.media||!o||!i)){var s=oe.typeOf(i)==="String"?i:i.type||"";a.props&&oe.typeOf(a.props)!=="Array"&&(a.props=[a.props]),this.emit(L1,Ni({eventType:s,action:o,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:i},a))}}},{key:"updateAcc",value:function(i){if(this._accPlayed.t){var o=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=o,this._accPlayed.t=0,(i==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startDiff:0,endDiff:0},a=o||{},s=a.startDiff,l=s===void 0?0:s,c=a.endDiff,u=c===void 0?0:c,d=this.media.buffered;if(!d||d.length===0||!this.duration)return!0;for(var h=i||this.media.currentTime||.2,f=d.length,p=0;p<f;p++)if(d.start(p)+l<=h&&d.end(p)-u>h)return!0;return!1}},{key:"resizePosition",value:function(){var i=this,o=this.videoPos,a=o.vy,s=o.vx,l=o.h,c=o.w,u=this.videoPos.rotate;if(!(u<0&&l<0&&c<0)){var d=this.videoPos._pi;if(!d&&this.media.videoHeight&&(d=this.media.videoWidth/this.media.videoHeight*100),!!d){this.videoPos.pi=d,u=u<0?0:u;var h={rotate:u},f=0,p=0,g=1,m=Math.abs(u/90),y=this.root,b=this.innerContainer,x=y.offsetWidth,w=b?b.offsetHeight:y.offsetHeight,C={},S=w,A=x;if(m%2===0)g=l>0?100/l:c>0?100/c:1,h.scale=g,f=a>0?(100-l)/2-a:0,h.y=m===2?0-f:f,p=s>0?(100-c)/2-s:0,h.x=m===2?0-p:p,C.width="".concat(A,"px"),C.height="".concat(S,"px"),C.maxWidth="",C.maxHeight="";else if(m%2===1){A=w,S=x;var T=w-x;p=-T/2/A*100,h.x=m===3?p+a/2:p-a/2,f=T/2/S*100,h.y=m===3?f+s/2:f-s/2,h.scale=g,C.width="".concat(A,"px"),C.maxWidth="".concat(A,"px"),C.height="".concat(S,"px"),C.maxHeight="".concat(S,"px")}var k=oe.getTransformStyle(h,this.media.style.transform||this.media.style.webkitTransform);C.transform=k,C.webkitTransform=k,Object.keys(C).map(function(E){i.media.style[E]=C[E]})}}}},{key:"position",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!i||!i.h)){var o=this.videoPos;o.h=i.h*100||0,o.w=i.w*100||0,o.vx=i.x*100||0,o.vy=i.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(i){var o=this;i&&Object.keys(i).map(function(a){if(a!=="plugins"){o.config[a]=i[a];var s=o.plugins[a.toLowerCase()];s&&oe.typeOf(s.setConfig)==="Function"&&s.setConfig(i[a])}})}},{key:"playNext",value:function(i){var o=this;this.resetState(),this.setConfig(i),this._currentTime=0,this._duration=0,hl(this,"playnext",function(){o.start(),o.emit(I1,i)})}},{key:"resize",value:function(){var i=this;if(!(!this.media||!this.root)){var o=this.root.getBoundingClientRect();this.sizeInfo.width=o.width,this.sizeInfo.height=o.height,this.sizeInfo.left=o.left,this.sizeInfo.top=o.top;var a=this.media,s=a.videoWidth,l=a.videoHeight,c=this.config,u=c.fitVideoSize,d=c.videoFillMode;if((d==="fill"||d==="cover"||d==="contain")&&this.setAttribute("data-xgfill",d),!(!l||!s)){this._videoHeight=l,this._videoWidth=s;var h=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,f=o.width,p=o.height-h,g=parseInt(s/l*1e3,10),m=parseInt(f/p*1e3,10),y=f,b=p,x={};u==="auto"&&m>g||u==="fixWidth"?(b=f/g*1e3,this.config.fluid?x.paddingTop="".concat(b*100/y,"%"):x.height="".concat(b+h,"px")):(u==="auto"&&m<g||u==="fixHeight")&&(y=g*p/1e3,x.width="".concat(y,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(x).forEach(function(C){i.root.style[C]=x[C]}),(d==="fillHeight"&&m<g||d==="fillWidth"&&m>g)&&this.setAttribute("data-xgfill","cover");var w={videoScale:g,vWidth:y,vHeight:b,cWidth:y,cHeight:b+h};this.resizePosition(),this.emit(Ku,w)}}}},{key:"updateObjectPosition",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(i,o);return}this.media.style.objectPosition="".concat(i*100,"% ").concat(o*100,"%")}},{key:"setState",value:function(i){yr.logInfo("setState","state from:".concat(SI[this.state]," to:").concat(SI[i])),this._state=i}},{key:"preProcessUrl",value:function(i,o){var a=this.config,s=a.preProcessUrl,l=a.preProcessUrlOptions,c=Object.assign({},l,o);return!oe.isBlob(i)&&typeof s=="function"?s(i,c):{url:i}}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(i){typeof i=="boolean"&&(this._hasStart=i,i===!1&&this.setState(Er.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===Er.RUNNING||this._state===Er.ENDED},set:function(i){i?this.setState(Er.RUNNING):this._state>=Er.RUNNING&&this.setState(Er.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(i){var o=this,a=this.config.definition,s=null,l=null;a.list=i,this.emit("resourceReady",i),i.forEach(function(c){var u;((u=o.curDefinition)===null||u===void 0?void 0:u.definition)===c.definition&&(s=c),a.defaultDefinition===c.definition&&(l=c)}),!l&&i.length>0&&(l=i[0]),s?this.changeDefinition(s):l&&this.changeDefinition(l)}},{key:"videoFrameInfo",get:function(){var i={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return i;var o=this.media.getVideoPlaybackQuality();return i.dropped=o.droppedVideoFrames||0,i.total=o.totalVideoFrames||0,i.corrupted=o.corruptedVideoFrames||0,i.total>0&&(i.droppedRate=i.dropped/i.total*100,i.droppedDuration=parseInt(this.cumulateTime/i.total*i.dropped,0)),i}},{key:"lang",get:function(){return this.config.lang},set:function(i){var o=xf.langKeys.filter(function(a){return a===i});if(o.length===0&&i!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(i,"] is not supported now, list of all supported languages is [").concat(xf.langKeys.join(),"] "));return}this.config.lang=i,Io.setLang(i,this)}},{key:"i18n",get:function(){var i=this.config.lang;return i==="zh"&&(i="zh-cn"),this.__i18n.lang[i]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return ik}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(i){this.__url=i}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(i){this.plugins.poster&&this.plugins.poster.update(i)}},{key:"readyState",get:function(){return tr(Zn(n.prototype),"readyState",this)}},{key:"error",get:function(){var i=tr(Zn(n.prototype),"error",this);return this.i18n[i]||i}},{key:"networkState",get:function(){return tr(Zn(n.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var i=this._accPlayed,o=i.acc,a=i.t;return a?new Date().getTime()-a+o:o}},{key:"zoom",get:function(){return this.config.zoom},set:function(i){this.config.zoom=i}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(i){i=oe.convertDeg(i),!(i%90!==0||i===this.videoPos.rotate)&&(this.videoPos.rotate=i,this.resizePosition())}},{key:"avgSpeed",get:function(){return EI},set:function(i){EI=i}},{key:"realTimeSpeed",get:function(){return kI},set:function(i){kI=i}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(i){this._offsetInfo.currentTime=i}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(i){this._offsetInfo.duration=i||0}},{key:"hook",value:function(i,o){return M1.call.apply(M1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(i,o){return O1.call.apply(O1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(i,o){return D1.call.apply(D1,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(i,o,a){for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return yI.call.apply(yI,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(i,o,a){for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return bI.call.apply(bI,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(i,o){var a;typeof o=="boolean"&&o!==this.muted&&(this.addInnerOP("volumechange"),oe.typeOf(o)===Boolean&&(this.muted=o)),(a=Yc)===null||a===void 0||a.setActive(this.playerId,i)}}],[{key:"debugger",get:function(){return yr.config.debug},set:function(i){yr.config.debug=i}},{key:"instManager",get:function(){return Yc},set:function(i){Yc=i}},{key:"getCurrentUserActivePlayerId",value:function(){var i;return(i=Yc)===null||i===void 0?void 0:i.getActiveId()}},{key:"setCurrentUserActive",value:function(i,o){var a;(a=Yc)===null||a===void 0||a.setActive(i,o)}},{key:"isHevcSupported",value:function(){return lr.isHevcSupported()}},{key:"probeConfigSupported",value:function(i){return lr.probeConfigSupported(i)}},{key:"install",value:function(i,o){n.plugins||(n.plugins={}),n.plugins[i]||(n.plugins[i]=o)}},{key:"use",value:function(i,o){n.plugins||(n.plugins={}),n.plugins[i]=o}}]),n}(P7e);yt(tw,"defaultPreset",null);yt(tw,"XgVideoProxy",null);tw.instManager=cV.getInstance();function rd(t,e,n){try{return' <div class="xg-tips '.concat(n?"hide":" ",'" lang-key="').concat(t.i18nKeys[e],`">
    `).concat(t.i18n[e],`
    </div>`)}catch{return'<div class="xg-tips hide"></div>'}}var Th=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"_onMouseenter",function(s){r.emit("icon_mouseenter",{pluginName:r.pluginName})}),yt(ct(r),"_onMouseLeave",function(s){r.emit("icon_mouseleave",{pluginName:r.pluginName})}),r}return Sn(n,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),n}($r);function eLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function tLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}var lk=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"beforeCreate",value:function(i){typeof i.player.config.cssFullscreen=="boolean"&&(i.config.disable=!i.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var i=this;tr(Zn(n.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(_1,function(o){i.animate(o)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var i=this.icons,o=this.find(".xgplayer-icon");o.appendChild(i.cssFullscreen),o.appendChild(i.exitCssFullscreen)}},{key:"btnClick",value:function(i){i.preventDefault(),i.stopPropagation();var o=this.player.isCssfullScreen;this.emitUserAction(i,"switch_cssfullscreen",{cssfullscreen:o}),o?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(i){this.root&&(i?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(i))}},{key:"switchTips",value:function(i){var o=this.i18nKeys,a=this.find(".xg-tips");a&&this.changeLangTextKey(a,i?o.EXITCSSFULLSCREEN_TIPS:o.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:eLe,class:"xg-get-cssfull"},exitCssFullscreen:{icon:tLe,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(rd(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),n}(Th);function nLe(){return new DOMParser().parseFromString(`<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>
    </g>
</svg>`,"image/svg+xml").firstChild}var rLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this.initIcons(),this.onClick=function(o){o.preventDefault(),o.stopPropagation(),i.config.onClick(o)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:nLe,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(this.root,i.screenBack)}},{key:"show",value:function(){oe.addClass(this.root,"show")}},{key:"hide",value:function(){oe.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:ni.ROOT_TOP,index:0}}}]),n}($r);function iLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`,"image/svg+xml").firstChild}function oLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`,"image/svg+xml").firstChild}var uV=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"_onOrientationChange",function(s){r.player.fullscreen&&r.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?r.player.setRotateDeg(0):r.player.setRotateDeg(90))}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this;tr(Zn(n.prototype),"afterCreate",this).call(this);var o=this.config,a=this.playerConfig;if(!o.disable){o.target&&(this.playerConfig.fullscreenTarget=this.config.target);var s=oe.getFullScreenEl();a.fullscreenTarget===s&&this.player.getFullscreen().catch(function(l){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(c){var u=i.player.fullscreen;i.emitUserAction(c,"switch_fullscreen",{prop:"fullscreen",from:u,to:!u})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Jl,function(l){var c=i.find(".xg-tips");c&&i.changeLangTextKey(c,l?i.i18nKeys.EXITFULLSCREEN_TIPS:i.i18nKeys.FULLSCREEN_TIPS),i.animate(l)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:rLe,options:{config:{onClick:function(c){i.handleFullscreen(c)}}}})),lr.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:iLe,class:"xg-get-fullscreen"},exitFullscreen:{icon:oLe,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",lr.device==="mobile"?"touchend":"click",this.handleFullscreen),lr.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(".xgplayer-icon",i.fullscreen),this.appendChild(".xgplayer-icon",i.exitFullscreen)}},{key:"toggleFullScreen",value:function(i){i instanceof Event&&(i.preventDefault(),i.stopPropagation());var o=this.player,a=this.config,s=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();s?(o.fullscreen?o.exitCssFullscreen():o.getCssFullscreen(),this.animate(o.fullscreen)):a.rotateFullscreen?(o.fullscreen?o.exitRotateFullscreen():o.getRotateFullscreen(),this.animate(o.fullscreen)):a.switchCallback&&typeof a.switchCallback=="function"?a.switchCallback(o.fullscreen):o.fullscreen?(o.exitFullscreen(),a.useScreenOrientation&&this.unlockScreen()):(o.getFullscreen().catch(function(l){}),a.useScreenOrientation&&o.aspectRatio>1&&this.lockScreen(a.lockOrientationType))}},{key:"animate",value:function(i){i?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(i?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var i="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    `.concat(rd(this,i,this.playerConfig.isHideTips),`
    </xg-icon>`)}}},{key:"lockScreen",value:function(i){try{screen.orientation.lock(i).catch(function(o){})}catch{}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(i){})}catch{}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),n}(Th);function _5(){return new DOMParser().parseFromString(`<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`,"image/svg+xml").firstChild}function P5(){return new DOMParser().parseFromString(`<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`,"image/svg+xml").firstChild}var dV=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"btnClick",function(s){s.preventDefault(),s.stopPropagation();var l=ct(r),c=l.player;return r.emitUserAction(s,"switch_play_pause",{prop:"paused",from:c.paused,to:!c.paused}),c.ended?c.replay():c.paused?(c.play(),r.animate(!1)):(c.pause(),r.animate(!0)),!1}),r}return Sn(n,[{key:"afterCreate",value:function(){tr(Zn(n.prototype),"afterCreate",this).call(this);var i=this.config;i.disable||(this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0))}},{key:"listenEvents",value:function(){var i=this,o=this.player;this.on([Va,Cp,hv,Eh],function(){i.animate(o.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:_5,class:"xg-icon-play"},pause:{icon:P5,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(".xgplayer-icon",i.play),this.appendChild(".xgplayer-icon",i.pause)}},{key:"animate",value:function(i){if(this.player){var o=this.i18nKeys,a=this.find(".xg-tips");i?(this.setAttr("data-state","pause"),a&&this.changeLangTextKey(a,o.PLAY_TIPS)):(this.setAttr("data-state","play"),a&&this.changeLangTextKey(a,o.PAUSE_TIPS))}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    `.concat(rd(this,"PLAY_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_LEFT,index:0,disable:!1}}}]),n}(Th),aLe=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],sLe=function(){function t(e){An(this,t),this.fragments=e.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=e.actionCallback,this.fragConfig={fragFocusClass:e.fragFocusClass||"inner-focus-point",fragAutoFocus:!!e.fragAutoFocus,fragClass:e.fragClass||""},this.style=e.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return Sn(t,[{key:"updateDuration",value:function(n){var r=this;this.duration=n;var i=0,o=this.fragments;this.fragments=o.map(function(a){return a.start=parseInt(i,10),a.end=parseInt(i+a.percent*r.duration,10),a.duration=parseInt(a.percent*r.duration,10),i+=a.percent*r.duration,a})}},{key:"updateProgress",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},i=this.progressList,o=this.fragments;if(!(i.length<1)){var a=r.newIndex,s=r.curIndex,l=r.millisecond;a!==s&&i.map(function(d,h){h<a?d[n].style.width="100%":h>a&&(d[n].style.width=0)});var c=o[a],u=l===0?0:(l-c.start)/c.duration;i[a][n].style.width=u<0?0:"".concat(u*100,"%")}}},{key:"updateFocus",value:function(n){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!n){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var r={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(r),this.focusIndex=-1}return}var i=this.findIndex(n.currentTime*1e3,this.focusIndex);if(i>=0&&i!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(i);var o={index:i,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=i,this._callBack&&this._callBack(o)}}}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},r=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(r*1e3,10)!==this.duration){if(!r&&r!==0)return;this.updateDuration(parseInt(r*1e3,10))}var i=this.playedIndex,o=this.cachedIndex;if(oe.typeOf(n.played)!=="Undefined"){var a=this.findIndex(n.played*1e3,i);if(a<0)return;this.updateProgress("played",{newIndex:a,curIndex:i,millisecond:parseInt(n.played*1e3,10)}),this.playedIndex=a}if(oe.typeOf(n.cached)!=="Undefined"){var s=this.findIndex(n.cached*1e3,o);if(s<0)return;this.updateProgress("cached",{newIndex:s,curIndex:o,millisecond:parseInt(n.cached*1e3,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(n,r){var i=this.fragments;if(!i||i.length===0)return-1;if(i.length===1)return 0;if(r>-1&&r<i.length&&n>i[r].start&&n<i[r].end)return r;if(n>i[i.length-1].start)return i.length-1;for(var o=0;o<i.length;o++)if(n>i[o].start&&n<=i[o].end){r=o;break}return r}},{key:"findHightLight",value:function(){for(var n=this.root.children,r=0;r<n.length;r++)if(oe.hasClass(n[r],this.fragConfig.fragFocusClass))return{dom:n[r],pos:n[r].getBoundingClientRect()}}},{key:"findFragment",value:function(n){var r=this.root.children;return n<0||n>=r.length?null:{dom:r[n],pos:r[n].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var n=this.root.children,r=0;r<n.length;r++)oe.removeClass(n[r],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(n){var r=this.root.children;if(n<r.length)return oe.addClass(r[n],this.fragConfig.fragFocusClass),{dom:r[n],pos:r[n].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(n){var r=this;if(Object.keys(this.fragConfig).forEach(function(o){n[o]!==void 0&&(r.fragConfig[o]=n[o])}),n.fragments){if(this.fragments=n.fragments.length===0?[{percent:1}]:n.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var i=this.root.children;i.length>0;)this.root.removeChild(i[0]);this.render()}}},{key:"render",value:function(){var n=this,r=this.style.progressColor;if(this.root||(this.root=oe.createDom("xg-inners","",{},"progress-list")),this.fragments){var i=this.fragConfig,o=i.fragClass,a=i.fragFocusClass;this.progressList=this.fragments.map(function(s){var l=oe.createDom("xg-inner","",{style:r?"background:".concat(r,"; flex: ").concat(s.percent):"flex: ".concat(s.percent)},"".concat(s.isFocus?a:""," xgplayer-progress-inner ").concat(o));return n.root.appendChild(l),aLe.forEach(function(c){l.appendChild(oe.createDom(c.tag,"",{style:c.styleKey?"background: ".concat(n.style[c.styleKey],"; width:0;"):"width:0;"},c.className))}),{cached:l.children[0],played:l.children[1]}})}return this.root}}]),t}(),TI={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},hV=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"onMoveOnly",function(o,a){var s=ct(i),l=s.pos,c=s.config,u=s.player,d=a;if(o){oe.event(o);var h=oe.getEventPos(o,u.zoom),f=u.rotateDeg===90?h.clientY:h.clientX;if(l.moving&&Math.abs(l.x-f)<c.miniMoveStep)return;l.moving=!0,l.x=f,d=i.computeTime(o,f)}i.triggerCallbacks("dragmove",d,o),i._updateInnerFocus(d)}),yt(ct(i),"onBodyClick",function(o){i.pos.isLocked&&(i.pos.isLocked=!1,o.preventDefault(),o.stopPropagation())}),yt(ct(i),"_mouseDownHandler",function(o,a){i._state.time=a.currentTime,i.updateWidth(a.currentTime,a.seekTime,a.percent,0),i._updateInnerFocus(a)}),yt(ct(i),"_mouseUpHandler",function(o,a){var s=ct(i),l=s.pos;l.moving&&i.updateWidth(a.currentTime,a.seekTime,a.percent,2)}),yt(ct(i),"_mouseMoveHandler",function(o,a){var s=ct(i),l=s._state,c=s.pos,u=s.config,d=s.player;l.time<a.currentTime?a.forward=!0:a.forward=!1,l.time=a.currentTime,c.isDown&&!c.moving&&(c.moving=!0,u.isPauseMoving&&d.pause(),i.triggerCallbacks("dragstart",a,o),i.emitUserAction("drag","dragstart",a)),i.updateWidth(a.currentTime,a.seekTime,a.percent,1),i.triggerCallbacks("dragmove",a,o),i._updateInnerFocus(a)}),yt(ct(i),"onMouseDown",function(o){var a=ct(i),s=a._state,l=a.player,c=a.pos,u=a.config,d=a.playerConfig,h=oe.getEventPos(o,l.zoom),f=l.rotateDeg===90?h.clientY:h.clientX;if(!(l.isMini||u.closeMoveSeek||!d.allowSeekAfterEnded&&l.ended)){if(!l.duration&&!l.isPlaying){l.play();return}o.stopPropagation(),i.focus(),oe.checkIsFunction(d.disableSwipeHandler)&&d.disableSwipeHandler(),oe.checkIsFunction(u.onMoveStart)&&u.onMoveStart(),oe.event(o),c.x=f,c.isDown=!0,c.moving=!1,s.prePlayTime=l.currentTime,l.focus({autoHide:!1}),i.isProgressMoving=!0,oe.addClass(i.progressBtn,"active");var p=i.computeTime(o,f);p.prePlayTime=s.prePlayTime,i._mouseDownHandlerHook(o,p);var g=o.type;return g==="touchstart"?(i.root.addEventListener("touchmove",i.onMouseMove),i.root.addEventListener("touchend",i.onMouseUp),i.root.addEventListener("touchcancel",i.onMouseUp)):(i.unbind("mousemove",i.onMoveOnly),document.addEventListener("mousemove",i.onMouseMove,!1),document.addEventListener("mouseup",i.onMouseUp,!1)),!0}}),yt(ct(i),"onMouseUp",function(o){var a=ct(i),s=a.player,l=a.config,c=a.pos,u=a.playerConfig,d=a._state;if(c){o.stopPropagation(),o.preventDefault(),oe.checkIsFunction(u.enableSwipeHandler)&&u.enableSwipeHandler(),oe.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),oe.event(o),oe.removeClass(i.progressBtn,"active");var h=i.computeTime(o,c.x);h.prePlayTime=d.prePlayTime,c.moving?(i.triggerCallbacks("dragend",h,o),i.emitUserAction("drag","dragend",h)):(i.triggerCallbacks("click",h,o),i.emitUserAction("click","click",h)),i._mouseUpHandlerHook(o,h),c.moving=!1,c.isDown=!1,c.x=0,c.y=0,c.isLocked=!0,d.prePlayTime=0,d.time=0;var f=o.type;f==="touchend"||f==="touchcancel"?(i.root.removeEventListener("touchmove",i.onMouseMove),i.root.removeEventListener("touchend",i.onMouseUp),i.root.removeEventListener("touchcancel",i.onMouseUp),i.blur()):(document.removeEventListener("mousemove",i.onMouseMove,!1),document.removeEventListener("mouseup",i.onMouseUp,!1),c.isEnter?u.isMobileSimulateMode!=="mobile"&&i.bind("mousemove",i.onMoveOnly):i.onMouseLeave(o)),oe.setTimeout(ct(i),function(){i.resetSeekState()},1),s.focus()}}),yt(ct(i),"onMouseMove",function(o){var a=ct(i),s=a._state,l=a.pos,c=a.player,u=a.config;oe.checkTouchSupport()&&o.preventDefault(),oe.event(o);var d=oe.getEventPos(o,c.zoom),h=c.rotateDeg===90?d.clientY:d.clientX,f=Math.abs(l.x-h);if(!(l.moving&&f<u.miniMoveStep||!l.moving&&f<u.miniStartStep)){l.x=h;var p=i.computeTime(o,h);p.prePlayTime=s.prePlayTime,i._mouseMoveHandlerHook(o,p)}}),yt(ct(i),"onMouseOut",function(o){i.triggerCallbacks("mouseout",null,o)}),yt(ct(i),"onMouseOver",function(o){i.triggerCallbacks("mouseover",null,o)}),yt(ct(i),"onMouseEnter",function(o){var a=ct(i),s=a.player,l=a.pos;if(!(l.isDown||l.isEnter||s.isMini||!s.config.allowSeekAfterEnded&&s.ended)){l.isEnter=!0,i.bind("mousemove",i.onMoveOnly),i.bind("mouseleave",i.onMouseLeave),oe.event(o);var c=oe.getEventPos(o,s.zoom),u=s.rotateDeg===90?c.clientY:c.clientX,d=i.computeTime(o,u);i.triggerCallbacks("mouseenter",d,o),i.focus()}}),yt(ct(i),"onMouseLeave",function(o){i.triggerCallbacks("mouseleave",null,o),i.unlock(),i._updateInnerFocus(null)}),yt(ct(i),"onVideoResize",function(){var o=i.pos,a=o.x,s=o.isDown,l=o.isEnter;if(l&&!s){var c=i.computeTime(null,a);i.onMoveOnly(null,c)}}),i.useable=!1,i.isProgressMoving=!1,i.__dragCallBacks=[],i._state={now:-1,direc:0,time:0,prePlayTime:-1},i._disableBlur=!1,typeof i.config.isDragingSeek=="boolean"&&(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),i.config.isDraggingSeek=i.config.isDragingSeek),i}return Sn(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var i=this.player,o=i.offsetCurrentTime,a=i.currentTime;return o>=0?o:a+this.timeOffset}},{key:"changeState",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=i}},{key:"show",value:function(i){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!o||o.length===0)&&(o=[{percent:1}]);var s=Ni(Ni({fragments:o},a),{},{actionCallback:function(c){i.emitUserAction("fragment_focus","fragment_focus",c)}});this.innerList?this.innerList.reset(s):(this.innerList=new sLe(s),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(l){i[l]=i.innerList[l].bind(i.innerList)}))}},{key:"_updateInnerFocus",value:function(i){this.innerList&&this.innerList.updateFocus(i)}},{key:"afterCreate",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var i=this.config,o=i.fragFocusClass,a=i.fragAutoFocus,s=i.fragClass;this._initInner(this.config.fragments,{fragFocusClass:o,fragAutoFocus:a,fragClass:s,style:this.playerConfig.commonStyle||{}}),lr.device==="mobile"&&(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var i=this;this.on(Oc,function(){i.onMouseLeave()}),this.on(Ba,function(){i.onTimeupdate()}),this.on(hc,function(){i.onTimeupdate(),i.onCacheUpdate()}),this.on(Vj,function(){i.onCacheUpdate()}),this.on(kh,function(){i.onCacheUpdate(!0),i.onTimeupdate(!0),i._state.now=0}),this.on(Eh,function(){i.onReset()}),this.on(Ku,function(){i.onVideoResize()})}},{key:"setConfig",value:function(i){var o=this,a=null;Object.keys(i).forEach(function(s){o.config[s]=i[s],s==="fragments"&&(a=i[s])}),a&&this._initInner(a,i)}},{key:"initCustomStyle",value:function(){var i=this.playerConfig||{},o=i.commonStyle,a=o.sliderBtnStyle,s=this.progressBtn;a&&(typeof a=="string"?s.style.boxShadow=a:ta(a)==="object"&&Object.keys(a).map(function(l){s.style[l]=a[l]}))}},{key:"triggerCallbacks",value:function(i,o,a){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(s){if(s&&s.handler&&s.type===i)try{s.handler(o,a)}catch(l){console.error("[XGPLAYER][triggerCallbacks] ".concat(s," error"),l)}})}},{key:"addCallBack",value:function(i,o){o&&typeof o=="function"&&this.__dragCallBacks.push({type:i,handler:o})}},{key:"removeCallBack",value:function(i,o){var a=this.__dragCallBacks,s=-1;a.map(function(l,c){l&&l.type===i&&l.handler===o&&(s=c)}),s>-1&&a.splice(s,1)}},{key:"unlock",value:function(){var i=this.player,o=this.pos;if(o.isEnter=!1,o.isLocked=!1,!i.isMini){if(this.unbind("mousemove",this.onMoveOnly),o.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var i=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&this.root.addEventListener("touchstart",this.onMouseDown),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),i.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),oe.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),oe.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(i,o,a,s){var l=this.config,c=this.player;if(!(l.isCloseClickSeek&&s===0)){var u=o=o>=c.duration?c.duration-l.endedDiff:Number(o).toFixed(1);this.updatePercent(a),this.updateTime(i),!(s===1&&(!l.isDraggingSeek||c.config.mediaType==="audio"))&&(this._state.now=u,this._state.direc=u>c.currentTime?0:1,c.seek(u))}}},{key:"computeTime",value:function(i,o){var a=this.player,s=this.root.getBoundingClientRect(),l=s.width,c=s.height,u=s.top,d=s.left,h,f,p=o;a.rotateDeg===90?(h=c,f=u):(h=l,f=d);var g=p-f;g=g>h?h:g<0?0:g;var m=g/h;m=m<0?0:m>1?1:m,Number.isNaN(m)&&(m=this.player.currentTime/this.offsetDuration);var y=parseInt(m*this.offsetDuration*1e3,10)/1e3,b=oe.getCurrentTimeByOffset(y,a.timeSegments);return{percent:m,currentTime:y,seekTime:b,offset:g,width:h,left:f,e:i}}},{key:"updateTime",value:function(i){var o=this.player,a=this.duration;i>a?i=a:i<0&&(i=0);var s=o.plugins.time;s&&s.updateTime(i)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var i=this.player.plugins.time;i&&i.resetActive()}},{key:"updatePercent",value:function(i,o){if(this.isProgressMoving=!0,!this.config.disable){i=i>1?1:i<0?0:i,this.progressBtn.style.left="".concat(i*100,"%"),this.innerList.update({played:i*this.offsetDuration},this.offsetDuration);var a=this.player.plugins.miniprogress;a&&a.update({played:i*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(i){var o=this.player,a=this._state,s=this.offsetDuration;if(!(o.isSeeking&&o.media.seeking||this.isProgressMoving||!o.hasStart)){if(a.now>-1){var l=parseInt(a.now*1e3,10)-parseInt(o.currentTime*1e3,10);if(a.direc===0&&l>300||a.direc===1&&l>-300){a.now=-1;return}else a.now=-1}var c=this.currentTime;c=oe.adjustTimeByDuration(c,s,i),this.innerList.update({played:c},s),this.progressBtn.style.left="".concat(c/s*100,"%")}}},{key:"onCacheUpdate",value:function(i){var o=this.player,a=this.duration;if(o){var s=o.bufferedPoint.end;s=oe.adjustTimeByDuration(s,a,i),this.innerList.update({cached:s},a)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var i=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var o=this.domEventType;(o==="touch"||o==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),(o==="mouse"||o==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),i.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var i=this.player.controls?this.player.controls.config.mode:"",o=i==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(o,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:TI.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return TI}}]),n}($r),fV=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),i.isActiving=!1,i}return Sn(n,[{key:"duration",get:function(){var i=this.player,o=i.offsetDuration,a=i.duration;return this.playerConfig.customDuration||o||a}},{key:"currentTime",get:function(){var i=this.player,o=i.offsetCurrentTime,a=i.currentTime;return o>=0?o:a}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var i=this.player.controls.config.mode;this.mode=i==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents())}},{key:"listenEvents",value:function(){var i=this;this.on([Oc,hc,Ba],function(o){o.eventName==="durationchange"&&(i.isActiving=!1),i.onTimeUpdate()}),this.on(kh,function(){i.onTimeUpdate(!0)}),this.on(Eh,function(){i.onReset()})}},{key:"show",value:function(i){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(i){var o=this.player,a=this.config,s=this.duration;if(!(a.disable||this.isActiving||!o.hasStart)){var l=this.currentTime+this.timeOffset;l=oe.adjustTimeByDuration(l,s,i),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(oe.format(l)),s!==1/0&&s>0&&(this.centerDurDom.innerHTML=oe.format(s))):(this.timeDom.innerHTML=this.minWidthTime(oe.format(l)),s!==1/0&&s>0&&(this.durationDom.innerHTML=oe.format(s)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(oe.format(0)),this.centerDurDom.innerHTML=oe.format(0)):(this.timeDom.innerHTML=this.minWidthTime(oe.format(0)),this.durationDom.innerHTML=oe.format(0))}},{key:"createCenterTime",value:function(){var i=this.player;if(!(!i.controls||!i.controls.center)){var o=i.controls.center;this.centerCurDom=oe.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=oe.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),o.children.length>0?o.insertBefore(this.centerCurDom,o.children[0]):o.appendChild(this.centerCurDom),o.appendChild(this.centerDurDom),this.extraEls=[this.centerCurDom,this.centerDurDom]}}},{key:"afterPlayerInit",value:function(){var i=this.config;if(this.duration===1/0||this.playerConfig.isLive?(oe.hide(this.durationDom),oe.hide(this.timeDom),oe.hide(this.find(".time-separator")),oe.show(this.find(".time-live-tag"))):oe.hide(this.find(".time-live-tag")),i.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(i){i?(oe.hide(this.durationDom),oe.hide(this.timeDom),oe.hide(this.find(".time-separator")),oe.show(this.find(".time-live-tag"))):(oe.hide(this.find(".time-live-tag")),oe.show(this.find(".time-separator")),oe.show(this.durationDom),oe.show(this.timeDom))}},{key:"updateTime",value:function(i){if(this.isActiving=!0,!(!i&&i!==0||i>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(oe.format(i));return}this.timeDom.innerHTML=this.minWidthTime(oe.format(i))}}},{key:"minWidthTime",value:function(i){return i.split(":").map(function(o){return'<span class="time-min-width">'.concat(o,"</span>")}).join(":")}},{key:"resetActive",value:function(){var i=this,o=this.player,a=function(){i.isActiving=!1};this.off(hc,a),o.isSeeking&&o.media.seeking?this.once(hc,a):this.isActiving=!1}},{key:"destroy",value:function(){var i=this.player.controls.center;this.centerCurDom&&i.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&i.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_LEFT,index:2,disable:!1}}}]),n}($r);function lLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function cLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function uLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`,"image/svg+xml").firstChild}var pV=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onBarMousedown",function(s){var l=ct(r),c=l.player,u=r.find(".xgplayer-bar");oe.event(s);var d=u.getBoundingClientRect(),h=oe.getEventPos(s,c.zoom),f=d.height-(h.clientY-d.top);if(h.h=f,h.barH=d.height,r.pos=h,!(f<-2))return r.updateVolumePos(f,s),document.addEventListener("mouseup",r.onBarMouseUp),r._d.isStart=!0,!1}),yt(ct(r),"onBarMouseMove",function(s){var l=ct(r),c=l._d;if(c.isStart){var u=ct(r),d=u.pos,h=u.player;s.preventDefault(),s.stopPropagation(),oe.event(s);var f=oe.getEventPos(s,h.zoom);c.isMoving=!0;var p=d.h-f.clientY+d.clientY;p>d.barH||r.updateVolumePos(p,s)}}),yt(ct(r),"onBarMouseUp",function(s){oe.event(s),document.removeEventListener("mouseup",r.onBarMouseUp);var l=ct(r),c=l._d;c.isStart=!1,c.isMoving=!1}),yt(ct(r),"onMouseenter",function(s){r._d.isActive=!0,r.focus(),r.emit("icon_mouseenter",{pluginName:r.pluginName})}),yt(ct(r),"onMouseleave",function(s){r._d.isActive=!1,r.unFocus(100,!1,s),r.emit("icon_mouseleave",{pluginName:r.pluginName})}),yt(ct(r),"onVolumeChange",function(s){if(r.player){var l=r.player,c=l.muted,u=l.volume;r._d.isMoving||(r.find(".xgplayer-drag").style.height=c||u===0?"4px":"".concat(u*100,"%"),r.config.showValueLabel&&r.updateVolumeValue()),r.animate(c,u)}}),r}return Sn(n,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:cLe,class:"xg-volume-small"},volumeLarge:{icon:lLe,class:"xg-volume"},volumeMuted:{icon:uLe,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var i=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var o=this.playerConfig,a=o.commonStyle,s=o.volume;a.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=a.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(l){i.changeMuted(l)},{pre:function(c){c.preventDefault(),c.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),lr.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Uj,this.onVolumeChange),this.once(Sc,this.onVolumeChange),oe.typeOf(s)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(i,o){var a=this.player,s=this.find(".xgplayer-drag"),l=this.find(".xgplayer-bar");if(!(!l||!s)){var c=parseInt(i/l.getBoundingClientRect().height*1e3,10);s.style.height="".concat(i,"px");var u=Math.max(Math.min(c/1e3,1),0),d={volume:{from:a.volume,to:u}};a.muted&&(d.muted={from:!0,to:!1}),this.emitUserAction(o,"change_volume",{muted:a.muted,volume:a.volume,props:d}),a.volume=Math.max(Math.min(c/1e3,1),0),a.muted&&(a.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var i=this.player,o=i.volume,a=i.muted,s=this.find(".xgplayer-value-label"),l=Math.max(Math.min(o,1),0);s.innerText=a?0:Math.round(l*100)}},{key:"focus",value:function(){var i=this.player;i.focus({autoHide:!1}),this._timerId&&(oe.clearTimeout(this,this._timerId),this._timerId=null),oe.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0,l=this._d,c=this.player;l.isActive||(this._timerId&&(oe.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=oe.setTimeout(this,function(){l.isActive||(a?c.blur():c.focus(),oe.removeClass(i.root,"slide-show"),l.isStart&&i.onBarMouseUp(s)),i._timerId=null},o))}},{key:"changeMuted",value:function(i){i&&i.stopPropagation();var o=this.player,a=this._d;a.isStart&&this.onBarMouseUp(i),this.emitUserAction(i,"change_muted",{muted:o.muted,volume:o.volume,props:{muted:{from:o.muted,to:!o.muted}}}),o.volume>0&&(o.muted=!o.muted),o.volume<.01&&(o.volume=this.config.miniVolume)}},{key:"animate",value:function(i,o){i||o===0?this.setAttr("data-state","mute"):o<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(".xgplayer-icon",i.volumeSmall),this.appendChild(".xgplayer-icon",i.volumeLarge),this.appendChild(".xgplayer-icon",i.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(oe.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",lr.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var i=this.config.default||this.player.volume,o=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(o?'<div class="xgplayer-value-label">'.concat(i*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(i*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),n}($r);function zo(){return new Date().getTime()}var Xc={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},dLe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"_onTimeupdate",function(){r._state.isTimeUpdate=!0,r._state.autoplayStart&&(yr.logInfo("[xgLogger]".concat(r.player.playerId," _onTimeupdate")),r._sendFF("onTimeupdate"))}),yt(ct(r),"_onAutoplayStart",function(){yr.logInfo("[xgLogger]".concat(r.player.playerId," _onAutoplayStart")),r._state.autoplayStart=!0,r.vt&&r._sendFF("onAutoplayStart")}),yt(ct(r),"_onReset",function(){r._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},r.vt=0,r.pt=0,r.fvt=0,r.newPointTime=zo(),r.loadedCostTime=0,r.startCostTime=0,r._isSeeking=!1,r.seekingStart=0,r.waitingStart=0,r.fixedWaitingStart=0,r._isWaiting=!1,r._waitTimer&&oe.clearTimeout(ct(r),r._waitTimer),r._waittTimer&&oe.clearTimeout(ct(r),r._waittTimer),r._waitTimer=null,r._waittTimer=null,r._waitType=0}),yt(ct(r),"_onSeeking",function(){r.seekingStart||(r.suspendWaitingStatus("seek"),r.seekingStart=zo(),r.emitLog(Xc.SEEK_START,{start:zo()}))}),yt(ct(r),"_onSeeked",function(){r.suspendSeekingStatus("seeked")}),yt(ct(r),"_onWaitingLoadStart",function(){r._isWaiting||r.vt||(r._isWaiting=!0,r.waitingStart=zo(),r.fixedWaitingStart=zo(),r._waitType=1,r.emitLog(Xc.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:1,endType:"loadstart"}))}),yt(ct(r),"_onWaiting",function(){r._isWaiting||!r.vt||(r._isWaiting=!0,r.vt?r.seekingStart?r._waitType=2:r._waitType=0:r._waitType=1,r.fixedWaitingStart=zo(),r._waitTimer=oe.setTimeout(ct(r),function(){r._isWaiting&&(r.waitingStart=zo(),oe.clearTimeout(ct(r),r._waitTimer),r._waitTimer=null,r._startWaitTimeout(),r.emitLog(Xc.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:r._waitType,endType:r._waitType===2?"seek":"playing"}))},200))}),yt(ct(r),"_onError",function(){r.suspendSeekingStatus("error"),r.suspendWaitingStatus("error")}),yt(ct(r),"_onPlaying",function(){r._isWaiting&&r.suspendWaitingStatus("playing")}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=zo(),this.loadedCostTime=0,this.startCostTime=0,this.on(C5,function(){var o=i._state,a=o.autoplayStart,s=o.isFFSend;i.startCostTime=zo()-i.newPointTime,yr.logInfo("[xgLogger]".concat(i.player.playerId," LOAD_START"),"autoplayStart:".concat(a," isFFSend:").concat(s," startCostTime:").concat(i.startCostTime," newPointTime").concat(i.newPointTime)),!s&&(!o.isLs&&i.emitLog(Xc.LOAD_START,{}),o.isLs=!0,o.isTimeUpdate=!1,o.isFFLoading=!0,i.pt=zo(),i.vt=0,i.fvt=0,i._initOnceEvents(),i._onWaitingLoadStart())}),this.on(Sc,function(){i.vt=zo(),i.fvt=i.vt-i.pt,i.loadedCostTime=i.vt-i.newPointTime;var o=i._state,a=o.isTimeUpdate,s=o.isFFSend,l=o.autoplayStart;yr.logInfo("[xgLogger]".concat(i.player.playerId," LOADED_DATA"),"fvt:".concat(i.fvt," isTimeUpdate:").concat(i._state.isTimeUpdate," loadedCostTime:").concat(i.loadedCostTime)),(a||l)&&i._sendFF("loadedData"),s||i.emitLog(Xc.LOADED_DATA,{}),i.suspendWaitingStatus("loadeddata")}),this.on(Qx,this._onSeeking),this.on(hc,this._onSeeked),this.on(E5,function(){i.endState("destroy")}),this.on(Jx,function(){i.endState("urlChange"),yr.logInfo("[xgLogger]".concat(i.player.playerId," URL_CHANGE")),i._state.isFFSend&&i._onReset()}),this.on([w5,ac],this._onPlaying),this.on(fv,this._onWaiting),this.on(hv,this._onError),this.on(ew,function(){yr.logInfo("[xgLogger]".concat(i.player.playerId," RESET")),i.endState("reset"),i._initOnceEvents(),i._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(Jd,this._onAutoplayStart),this.off(Ba,this._onTimeupdate),this.once(Jd,this._onAutoplayStart),this.once(Ba,this._onTimeupdate)}},{key:"_sendFF",value:function(i){this.s=zo();var o=this._state,a=o.isFFLoading,s=o.isFFSend;yr.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(i," fvt:").concat(this.fvt," isFFLoading:").concat(a," !isFFSend:").concat(!s)),this.vt>0&&a&&!s&&(yr.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),i),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(Xc.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var i=this;this._waittTimer&&oe.clearTimeout(this,this._waittTimer),this._waittTimer=oe.setTimeout(this,function(){i.suspendWaitingStatus("timeout"),oe.clearTimeout(i,i._waittTimer),i._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(i){this.suspendWaitingStatus(i),this.suspendSeekingStatus(i)}},{key:"suspendSeekingStatus",value:function(i){if(this.seekingStart){var o=zo(),a=o-this.seekingStart;this.seekingStart=0,this.emitLog(Xc.SEEK_END,{end:o,costTime:a,endType:i})}}},{key:"suspendWaitingStatus",value:function(i){if(this._waitTimer&&(oe.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(oe.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var o=zo(),a=o-this.waitingStart,s=o-this.fixedWaitingStart,l=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(Xc.WAIT_END,{fixedCostTime:s>l?l:s,costTime:a>l?l:a,type:i==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":i})}}},{key:"emitLog",value:function(i,o){var a=this.player;this.emit(Jj,Ni({t:zo(),host:oe.getHostFromUrl(a.currentSrc),vtype:a.vtype,eventType:i,currentTime:this.player.currentTime,readyState:a.video.readyState,networkState:a.video.networkState},o))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),n}($r);function hLe(){return new DOMParser().parseFromString(`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">
  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`,"image/svg+xml").firstChild}var fLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"registerIcons",value:function(){return{replay:hLe}}},{key:"afterCreate",value:function(){var i=this;$r.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){i.player.replay()},{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(kh,function(){if(i.playerConfig.loop||oe.addClass(i.player.root,"replay"),!i.config.disable){i.show();var o=i.root.querySelector("path");if(o){var a=window.getComputedStyle(o).getPropertyValue("transform");if(typeof a=="string"&&a.indexOf("none")>-1)return null;o.setAttribute("transform",a)}}}),this.on(Va,function(){i.hide()})}},{key:"handleReplay",value:function(i){i.preventDefault(),i.stopPropagation(),this.player.replay(),oe.removeClass(this.player.root,"replay")}},{key:"show",value:function(i){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),n}($r),pLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(i){this.config.isEndedShow=i}},{key:"hide",value:function(){oe.addClass(this.root,"hide")}},{key:"show",value:function(i){oe.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(i){typeof i.player.config.poster=="string"&&(i.config.poster=i.player.config.poster)}},{key:"afterCreate",value:function(){var i=this;this.on(kh,function(){i.isEndedShow&&oe.removeClass(i.root,"hide")}),this.config.hideCanplay?(this.once(Ba,function(){i.onTimeUpdate()}),this.on(Jx,function(){oe.removeClass(i.root,"hide"),oe.addClass(i.root,"xg-showplay"),i.once(Ba,function(){i.onTimeUpdate()})})):this.on(Va,function(){oe.addClass(i.root,"hide")})}},{key:"setConfig",value:function(i){var o=this;Object.keys(i).forEach(function(s){o.config[s]=i[s]});var a=this.config.poster;this.update(a)}},{key:"onTimeUpdate",value:function(){var i=this;this.player.currentTime?oe.removeClass(this.root,"xg-showplay"):this.once(Ba,function(){i.onTimeUpdate()})}},{key:"update",value:function(i){i&&(this.config.poster=i,this.root.style.backgroundImage="url(".concat(i,")"))}},{key:"getBgSize",value:function(i){var o="";switch(i){case"cover":o="cover";break;case"contain":o="contain";break;case"fixHeight":o="auto 100%";break;default:o=""}return o?"background-size: ".concat(o,";"):""}},{key:"render",value:function(){var i=this.config,o=i.poster,a=i.hideCanplay,s=i.fillMode,l=i.notHidden,c=this.getBgSize(s),u=o?"background-image:url(".concat(o,");").concat(c):c,d=l?"xg-not-hidden":a?"xg-showplay":"";return'<xg-poster class="xgplayer-poster '.concat(d,'" style="').concat(u,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),n}($r),nl={};function mLe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return nl[t]&&window.clearTimeout(nl[t].id),nl[t]={},n.start&&n.start(),nl[t].id=window.setTimeout(function(){n.end&&n.end(),window.clearTimeout(nl[t].id),delete nl[t]},e),nl[t].id}function RI(t){if(t){window.clearTimeout(t);return}Object.keys(nl).map(function(e){window.clearTimeout(nl[e].id),delete nl[e]})}var gLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"onPlayerReset",function(){i.autoPlayStart=!1;var o=i.config.mode==="auto"?"auto-hide":"hide";i.setAttr("data-state","play"),oe.removeClass(i.root,o),i.show()}),yt(ct(i),"onAutoplayStart",function(){if(!i.autoPlayStart){var o=i.config.mode==="auto"?"auto-hide":"hide";oe.addClass(i.root,o),i.autoPlayStart=!0,i.toggleTo("play")}}),i.autoPlayStart=!1,i}return Sn(n,[{key:"afterCreate",value:function(){var i=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),i.autoplay||this.show()}},{key:"listenEvents",value:function(){var i=this,o=this.player,a=this.playerConfig;this.once(S5,function(){a&&(a.lang&&a.lang==="en"?oe.addClass(o.root,"lang-is-en"):a.lang==="jp"&&oe.addClass(o.root,"lang-is-jp"))}),this.on(Jd,this.onAutoplayStart),this.on(k5,function(){var s=i.config.mode==="auto"?"auto-hide":"hide";i.setAttr("data-state","play"),oe.removeClass(i.root,s),i.show()}),this.on(Va,function(){i.toggleTo("play")}),this.on(Cp,function(){i.toggleTo("pause")}),this.on(ew,function(){i.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var i=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(a){a.cancelable&&a.preventDefault(),a.stopPropagation();var s=i.player.paused;i.emitUserAction(a,"switch_play_pause",{props:"paused",from:s,to:!s})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:_5,class:"xg-icon-play"},startPause:{icon:P5,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild("xg-start-inner",i.startPlay),this.appendChild("xg-start-inner",i.startPause)}},{key:"hide",value:function(){oe.addClass(this.root,"hide")}},{key:"show",value:function(i){oe.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){oe.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){oe.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(i){i?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(i){var o=this;this._animateId=mLe("pauseplay",400,{start:function(){oe.addClass(o.root,"interact"),o.show(),o.switchStatus(!0)},end:function(){oe.removeClass(o.root,"interact"),!i&&o.hide(),o._animateId=null}})}},{key:"endAnimate",value:function(){oe.removeClass(this.root,"interact"),RI(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(i){var o=this.player;if(i.cancelable&&i.preventDefault(),i.stopPropagation(),!(o.state<Er.READY)){var a=this.player.paused;!a&&o.state===Er.RUNNING?o.pause():o.play()}}},{key:"onPlayPause",value:function(i){this.toggleTo(i)}},{key:"toggleTo",value:function(i){var o=this.config,a=this.player;if(!(!a||a.state<Er.RUNNING||!this.autoPlayStart)){if(o.mode==="show"){this.switchStatus(),this.show();return}if(o.mode==="auto"){this.switchStatus();return}if(o.isShowPause&&a.paused&&!a.ended||o.isShowEnd&&a.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(o.disableAnimate){this.switchStatus(),this.hide();return}if(i==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||a.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),RI(this._animateId)}},{key:"render",value:function(){var i=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(i,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),n}($r),vLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"render",value:function(){var i=this.config.innerHtml,o=oe.createDom("xg-enter","",{},"xgplayer-enter");if(i&&i instanceof window.HTMLElement)o.appendChild(i);else if(i&&typeof i=="string")o.innerHTML=i;else{for(var a="",s=1;s<=12;s++)a+='<div class="xgplayer-enter-bar'.concat(s,'"></div>');o.innerHTML='<div class="xgplayer-enter-spinner">'.concat(a,"</div>")}return o}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),n}($r),_I=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var i="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[i],'">').concat(this.i18n[i],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:10}}}]),n}($r);function PI(t){var e=parseFloat(t),n=t.indexOf("%")===-1&&!Number.isNaN(e);return n&&e}var I5=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],mV=I5.length;function yLe(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<mV;e++){var n=I5[e];t[n]=0}return t}function bLe(t){var e=window.getComputedStyle(t);return e}function II(t){if(typeof t=="string"&&(t=document.querySelector(t)),!(!t||ta(t)!=="object"||!t.nodeType)){var e=bLe(t);if(e.display==="none")return yLe();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var r=n.isBorderBox=e.boxSizing==="border-box",i=0;i<mV;i++){var o=I5[i],a=e[o],s=parseFloat(a);n[o]=Number.isNaN(s)?0:s}var l=n.paddingLeft+n.paddingRight,c=n.paddingTop+n.paddingBottom,u=n.marginLeft+n.marginRight,d=n.marginTop+n.marginBottom,h=n.borderLeftWidth+n.borderRightWidth,f=n.borderTopWidth+n.borderBottomWidth,p=r,g=PI(e.width);g!==!1&&(n.width=g+(p?0:l+h));var m=PI(e.height);return m!==!1&&(n.height=m+(p?0:c+f)),n.innerWidth=n.width-(l+h),n.innerHeight=n.height-(c+f),n.outerWidth=n.width+u,n.outerHeight=n.height+d,n}}function RC(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.identifier===e)return r}}var _C={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},LI={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},xLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return An(this,n),i=e.call(this),i.isEnabled=!0,i.isDragging=!1,i.isDown=!1,i.position={},i.downPoint={},i.dragPoint={x:0,y:0},i.startPos={x:0,y:0},i._root=r instanceof Element?r:document.querySelector(r),i._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),!i._root||!i._handlerDom?x5(i):(i._bindStartEvent(),i)}return Sn(n,[{key:"_bindStartEvent",value:function(){var i=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),LI[this._startKey].map(function(o){i["on".concat(o)]=i["on".concat(o)].bind(i)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(i){var o=this;if(i){var a=LI[this._startKey];a.map(function(s){window.addEventListener(s,o["on".concat(s)])}),this._boundPointerEvents=a}}},{key:"_unbindPostStartEvents",value:function(){var i=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(o){window.removeEventListener(o,i["on".concat(o)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(i){this.onUp()}},{key:"animate",value:function(){var i=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){i.animate()}))}},{key:"positionDrag",value:function(){var i="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=i,this._root.style.webKitTransform=i}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(i){this.dragStart(i,i)}},{key:"onmousemove",value:function(i){this.dragMove(i,i)}},{key:"onmouseup",value:function(i){this.dragEnd(i,i)}},{key:"ontouchstart",value:function(i){var o=i.changedTouches[0];this.dragStart(i,o),this.touchIdentifier=o.pointerId!==void 0?o.pointerId:o.identifier,i.preventDefault()}},{key:"ontouchmove",value:function(i){var o=RC(i.changedTouches,this.touchIdentifier);o&&this.dragMove(i,o)}},{key:"ontouchend",value:function(i){var o=RC(i.changedTouches,this.touchIdentifier);o&&this.dragEnd(i,o),i.preventDefault()}},{key:"ontouchcancel",value:function(i){var o=RC(i.changedTouches,this.touchIdentifier);o&&this.dragCancel(i,o)}},{key:"dragStart",value:function(i,o){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=o,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var a=II(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-a.height,this.startPos.maxX=window.innerWidth-a.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(i)}}},{key:"dragRealStart",value:function(i,o){this.isDragging=!0,this.animate(),this.emit(_C.START,this.startPos)}},{key:"dragEnd",value:function(i,o){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(_C.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(i,o){var a={x:o.pageX-this.downPoint.pageX,y:o.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(a)&&this.dragRealStart(i,o),a}},{key:"dragMove",value:function(i,o){if(i=i||window.event,!!this.isDown){var a=this.startPos,s=a.x,l=a.y,c=this._dragPointerMove(i,o),u=c.x,d=c.y;u=this.checkContain("x",u,s),d=this.checkContain("y",d,l),this.position.x=s+u,this.position.y=l+d,this.dragPoint.x=u,this.dragPoint.y=d,this.emit(_C.MOVE,this.position)}}},{key:"dragCancel",value:function(i,o){this.dragEnd(i,o)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(i){return Math.abs(i.x)>3||Math.abs(i.y)>3}},{key:"checkContain",value:function(i,o,a){return o+a<0?0-a:i==="x"&&o+a>this.startPos.maxX?this.startPos.maxX-a:i==="y"&&o+a>this.startPos.maxY?this.startPos.maxY-a:o}},{key:"_getPosition",value:function(){var i=window.getComputedStyle(this._root),o=this._getPositionCoord(i.left,"width"),a=this._getPositionCoord(i.top,"height");this.position.x=Number.isNaN(o)?0:o,this.position.y=Number.isNaN(a)?0:a,this._addTransformPosition(i)}},{key:"_addTransformPosition",value:function(i){var o=i.transform;if(o.indexOf("matrix")===0){var a=o.split(","),s=o.indexOf("matrix3d")===0?12:4,l=parseInt(a[s],10),c=parseInt(a[s+1],10);this.position.x+=l,this.position.y+=c}}},{key:"_getPositionCoord",value:function(i,o){if(i.indexOf("%")!==-1){var a=II(this._root.parentNode);return a?parseFloat(i)/100*a[o]:0}return parseInt(i,10)}}]),n}(zj),wLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;An(this,n),i=e.call(this,r),yt(ct(i),"onCancelClick",function(s){i.exitMini(),i.isClose=!0}),yt(ct(i),"onCenterClick",function(s){var l=ct(i),c=l.player;c.paused?c.play():c.pause()}),yt(ct(i),"onScroll",function(s){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-i.pos.scrollY)<50)){var l=parseInt(oe.getCss(i.player.root,"height"));l+=i.config.scrollTop,i.pos.scrollY=window.scrollY,window.scrollY>l+5?!i.isMini&&!i.isClose&&i.getMini():window.scrollY<=l&&(i.isMini&&i.exitMini(),i.isClose=!1)}}),i.isMini=!1,i.isClose=!1;var o=ct(i),a=o.config;return i.pos={left:a.left<0?window.innerWidth-a.width-20:a.left,top:a.top<0?window.innerHeight-a.height-20:a.top,height:i.config.height,width:i.config.width,scrollY:window.scrollY||0},i.lastStyle=null,i}return Sn(n,[{key:"beforeCreate",value:function(i){typeof i.player.config.mini=="boolean"&&(i.config.isShowIcon=i.player.config.mini)}},{key:"afterCreate",value:function(){var i=this;this.initIcons(),this.on(Cp,function(){i.setAttr("data-state","pause")}),this.on(Va,function(){i.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var i=this,o=this.player,a=this.config;if(!a.disable){if(this.config.isShowIcon){var s={config:{onClick:function(){i.getMini()}}};o.controls.registerPlugin(_I,s,_I.pluginName)}var l=oe.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",l,this.onCancelClick),this.bind(".play-icon",l,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new xLe(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:_5,class:"xg-icon-play"},pause:{icon:P5,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(".play-icon",i.play),this.appendChild(".play-icon",i.pause)}},{key:"getMini",value:function(){var i=this;if(!this.isMini){var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;this.lastStyle={},oe.addClass(o.root,"xgplayer-mini"),["width","height","top","left"].map(function(l){i.lastStyle[l]=s.style[l],s.style[l]="".concat(i.pos[l],"px")}),a.fluid&&(s.style["padding-top"]=""),this.emit(P1,!0),o.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var i=this;if(!this.isMini)return!1;var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;oe.removeClass(o.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(l){s.style[l]=i.lastStyle[l]}),this.lastStyle=null,a.fluid&&(o.root.style.width="100%",o.root.style.height="0",o.root.style["padding-top"]="".concat(a.height*100/a.width,"%")),this.emit(P1,!1),this.isMini=o.isMini=!1}},{key:"updatePos",value:function(i){this.pos=Object.assign(this.pos,i),this.isMini&&(this.player.root.style.left="".concat(this.pos.left,"px"),this.player.root.style.top="".concat(this.pos.top,"px"),this.player.root.style.width="".concat(this.pos.width,"px"),this.player.root.style.height="".concat(this.pos.height,"px"))}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var i=oe.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",i,this.onCancelClick),this.unbind(".play-icon",i,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      `.concat(rd(this,"MINI_DRAG",this.playerConfig.isHideTips),`
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),n}($r),My={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},PC=["videoClick","videoDbClick"],IC=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onMouseMove",function(s){var l=ct(r),c=l.player,u=l.playerConfig;c.isActive||(c.focus({autoHide:!u.closeDelayBlur}),!u.closeFocusVideoFocus&&c.media.focus())}),yt(ct(r),"onMouseEnter",function(s){var l=ct(r),c=l.playerConfig,u=l.player;!c.closeFocusVideoFocus&&u.media.focus(),c.closeDelayBlur?u.focus({autoHide:!1}):u.focus(),r.emit(Gj)}),yt(ct(r),"onMouseLeave",function(s){var l=r.playerConfig,c=l.closePlayerBlur,u=l.leavePlayerTime,d=l.closeDelayBlur;!c&&!d&&(u?r.player.focus({autoHide:!0,delay:u}):r.player.blur({ignorePaused:!0})),r.emit(Kj)}),yt(ct(r),"onVideoClick",function(s){var l=ct(r),c=l.player,u=l.playerConfig;s.target&&u.closeVideoClick||(s.target===c.root||s.target===c.media||s.target===c.innerContainer||s.target===c.media.__canvas)&&(s.preventDefault(),u.closeVideoStopPropagation||s.stopPropagation(),r._clickCount++,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),r.clickTimer=setTimeout(function(){r._clickCount&&(r._clickCount--,hl(ct(r),PC[0],function(d,h){r.switchPlayPause(h.e)},{e:s,paused:c.paused}),clearTimeout(r.clickTimer),r.clickTimer=null)},300))}),yt(ct(r),"onVideoDblClick",function(s){var l=ct(r),c=l.player,u=l.playerConfig;if(!(u.closeVideoDblclick||!s.target||s.target!==c.media&&s.target!==c.media.__canvas)){if(!u.closeVideoClick&&r._clickCount<2){r._clickCount=0;return}r._clickCount=0,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),s.preventDefault(),s.stopPropagation(),hl(ct(r),PC[1],function(d,h){r.emitUserAction(h.e,"switch_fullscreen",{props:"fullscreen",from:c.fullscreen,to:!c.fullscreen}),c.fullscreen?c.exitFullscreen():c.getFullscreen()},{e:s,fullscreen:c.fullscreen})}}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this._clickCount=0,PC.map(function(a){i.__hooks[a]=null});var o=this.playerConfig.isMobileSimulateMode;o==="mobile"||lr.device==="mobile"&&!lr.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var i=this,o=this.player,a=o.media,s=o.root,l=this.playerConfig.enableContextmenu;s&&s.addEventListener("click",this.onVideoClick,!1),s&&s.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(My).map(function(c){s.addEventListener(c,i[My[c]],!1)}),!l&&a&&a.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(i){var o=this.player;this.emitUserAction(i,"switch_play_pause",{props:"paused",from:o.paused,to:!o.paused}),o.ended?o.duration!==1/0&&o.duration>0&&o.replay():o.paused?o.play():o.pause()}},{key:"onContextmenu",value:function(i){i=i||window.event,i.preventDefault&&i.preventDefault(),i.stopPropagation?i.stopPropagation():(i.returnValue=!1,i.cancelBubble=!0)}},{key:"destroy",value:function(){var i=this,o=this.player,a=o.video,s=o.root;this.clickTimer&&clearTimeout(this.clickTimer),s.removeEventListener("click",this.onVideoClick,!1),s.removeEventListener("dblclick",this.onVideoDblClick,!1),a.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(My).map(function(l){s.removeEventListener(l,i[My[l]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Gu),Qc={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},CLe={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},ALe={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function MI(t){return t&&t.length>0?t[t.length-1]:null}function SLe(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var kLe=function(){function t(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};An(this,t),yt(this,"onTouchStart",function(i){var o=n._pos,a=n.root,s=MI(i.touches);o.x=s?parseInt(s.pageX,10):i.pageX,o.y=s?parseInt(s.pageX,10):i.pageX,o.start=!0,n.__setPress(i),a.addEventListener(n.events.end,n.onTouchEnd),a.addEventListener(n.events.cancel,n.onTouchCancel),a.addEventListener(n.events.move,n.onTouchMove),n.trigger(Qc.TOUCH_START,i)}),yt(this,"onTouchCancel",function(i){n.onTouchEnd(i)}),yt(this,"onTouchEnd",function(i){var o=n._pos,a=n.root;n.__clearPress(),a.removeEventListener(n.events.cancel,n.onTouchCancel),a.removeEventListener(n.events.end,n.onTouchEnd),a.removeEventListener(n.events.move,n.onTouchMove),i.moving=o.moving,i.press=o.press,o.press&&n.trigger(Qc.PRESS_END,i),n.trigger(Qc.TOUCH_END,i),!o.press&&!o.moving&&n.__setDb(i),o.press=!1,o.start=!1,o.moving=!1}),yt(this,"onTouchMove",function(i){var o=n._pos,a=n.config,s=MI(i.touches),l=s?parseInt(s.pageX,10):i.pageX,c=s?parseInt(s.pageY,10):i.pageX,u=l-o.x,d=c-o.y;Math.abs(d)<a.miniStep&&Math.abs(u)<a.miniStep||(n.__clearPress(),o.press&&n.trigger(Qc.PRESS_END,i),o.press=!1,o.moving=!0,n.trigger(Qc.TOUCH_MOVE,i))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=SLe(),Object.keys(r).map(function(i){n.config[i]=r[i]}),this.root=e,this.events=r.eventType==="mouse"?ALe:CLe,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return Sn(t,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(n){var r=this,i=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){r.trigger(Qc.PRESS,n),r._pos.press=!0,r.__clearPress()},i.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(n){var r=this,i=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(Qc.DOUBlE_CLICK,n);return}this.dbIntrvalId=setTimeout(function(){r.__clearDb(),!r._pos.start&&!r._pos.press&&!r._pos.moving&&r.trigger(Qc.CLICK,n)},i.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(n,r){this.__handlers[n]||(this.__handlers[n]=[]),this.__handlers[n].push(r)}},{key:"off",value:function(n,r){if(this.__handlers[n]){for(var i=this.__handlers[n],o=-1,a=0;a<i.length;a++)if(i[a]===r){o=a;break}o>=0&&this.__handlers[n].splice(o,1)}}},{key:"trigger",value:function(n,r){this.__handlers[n]&&this.__handlers[n].map(function(i){try{i(r)}catch(o){console.error("trigger>>:".concat(n),o)}})}},{key:"destroy",value:function(){var n=this,r={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(r).forEach(function(i){n.root.removeEventListener(i,n[r[i]])})}}]),t}();function ELe(){return new DOMParser().parseFromString(`<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path opacity="0.54"
    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"
    fill="white" />
  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>
</svg>`,"image/svg+xml").firstChild}var rf={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate"},LC=["videoClick","videoDbClick"],TLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"onTouchStart",function(o){var a=ct(i),s=a.player,l=a.config,c=a.pos,u=a.playerConfig,d=i.getTouche(o);if(d&&!l.disableGesture&&i.duration>0&&!s.ended){c.isStart=!0,i.timer&&clearTimeout(i.timer),oe.checkIsFunction(u.disableSwipeHandler)&&u.disableSwipeHandler(),i.find(".xg-dur").innerHTML=oe.format(i.duration);var h=i.root.getBoundingClientRect();s.rotateDeg===90?(c.top=h.left,c.left=h.top,c.width=h.height,c.height=h.width):(c.top=h.top,c.left=h.left,c.width=h.width,c.height=h.height);var f=parseInt(d.pageX-c.left,10),p=parseInt(d.pageY-c.top,10);c.x=s.rotateDeg===90?p:f,c.y=s.rotateDeg===90?f:p,c.scopeL=l.scopeL*c.width,c.scopeR=(1-l.scopeR)*c.width,c.scopeM1=c.width*(1-l.scopeM)/2,c.scopeM2=c.width-c.scopeM1}}),yt(ct(i),"onTouchMove",function(o){var a=i.getTouche(o),s=ct(i),l=s.pos,c=s.config,u=s.player;if(!(!a||c.disableGesture||!i.duration||!l.isStart)){var d=c.miniMoveStep,h=c.hideControlsActive,f=parseInt(a.pageX-l.left,10),p=parseInt(a.pageY-l.top,10),g=u.rotateDeg===90?p:f,m=u.rotateDeg===90?f:p;if(Math.abs(g-l.x)>d||Math.abs(m-l.y)>d){var y=g-l.x,b=m-l.y,x=l.scope;if(x===-1&&(x=i.checkScope(g,m,y,b,l),x===0&&(h?u.blur():u.focus({autoHide:!1}),!l.time&&(l.time=parseInt(u.currentTime*1e3,10)+i.timeOffset*1e3)),l.scope=x),x===-1||x>0&&!c.gestureY||x===0&&!c.gestureX)return;i.executeMove(y,b,x,l.width,l.height),l.x=g,l.y=m}}}),yt(ct(i),"onTouchEnd",function(o){var a=ct(i),s=a.player,l=a.pos,c=a.playerConfig;if(setTimeout(function(){s.getPlugin("progress")&&s.getPlugin("progress").resetSeekState()},10),!!l.isStart){l.scope>-1&&o.cancelable&&o.preventDefault();var u=i.config,d=u.disableGesture,h=u.gestureX;!d&&h?i.endLastMove(l.scope):l.time=0,l.scope=-1,i.resetPos(),oe.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),i.changeAction(rf.AUTO)}}),yt(ct(i),"onRootTouchMove",function(o){i.config.disableGesture||!i.config.gestureX||i.checkIsRootTarget(o)&&(o.stopPropagation(),i.pos.isStart?i.onTouchMove(o):i.onTouchStart(o))}),yt(ct(i),"onRootTouchEnd",function(o){i.pos.scope>-1&&i.onTouchEnd(o)}),i.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},i.timer=null,i}return Sn(n,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:ELe,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var i=this;LC.map(function(h){i.__hooks[h]=null});var o=this.playerConfig,a=this.config,s=this.player;o.closeVideoDblclick===!0&&(a.closedbClick=!0),this.resetPos(),oe.isUndefined(o.disableGesture)||(a.disableGesture=!!o.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=oe.createDom("xg-mask","",{},"xgmask"),s.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var l=this.domEventType==="mouse"?"mouse":"touch";this.touch=new kLe(this.root,{eventType:l,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(h){h.preventDefault()}),s.root.addEventListener("touchmove",this.onRootTouchMove,!0),s.root.addEventListener("touchend",this.onRootTouchEnd,!0),s.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var c=this.player.controls;c&&c.center&&(c.center.addEventListener("touchmove",this.onRootTouchMove,!0),c.center.addEventListener("touchend",this.onRootTouchEnd,!0),c.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(Oc,function(){var h=i.player,f=i.config;h.duration>0&&h.duration*1e3<f.moveDuration&&(f.moveDuration=h.duration*1e3)}),this.on([ac,kh],function(){var h=i.pos,f=h.time,p=h.isStart;!p&&f>0&&(i.pos.time=0)});var u={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(u).map(function(h){i.touch.on(h,function(f){i[u[h]](f)})}),!a.disableActive){var d=s.plugins.progress;d&&(d.addCallBack("dragmove",function(h){i.activeSeekNote(h.currentTime,h.forward)}),["dragend","click"].forEach(function(h){d.addCallBack(h,function(){i.changeAction(rf.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var i=this.player,o=i.plugins.thumbnail;if(o&&o.usable){this.thumbnail=o.createThumbnail(null,"mobile-thumbnail");var a=this.find(".time-preview");a.insertBefore(this.thumbnail,a.children[0])}}},{key:"initCustomStyle",value:function(){var i=this.playerConfig||{},o=i.commonStyle,a=o.playedColor,s=o.progressColor,l=o.timePreviewStyle,c=o.curTimeColor,u=o.durationColor;if(a&&(this.find(".xg-curbar").style.backgroundColor=a),s&&(this.find(".xg-bar").style.backgroundColor=s),l){var d=this.find(".time-preview");Object.keys(l).forEach(function(p){d.style[p]=l[p]})}var h=c||a,f=u;h&&(this.find(".xg-cur").style.color=h),f&&(this.find(".xg-dur").style.color=f),this.config.disableTimeProgress&&oe.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var i=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(o){i.pos[o]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(i){var o=this.player,a=this.root;a.setAttribute("data-xg-action",i);var s=o.plugins.start;s&&s.recover()}},{key:"getTouche",value:function(i){var o=this.player.rotateDeg,a=i.touches&&i.touches.length>0?i.touches[i.touches.length-1]:i;return o===0?{pageX:a.pageX,pageY:a.pageY}:{pageX:a.pageX,pageY:a.pageY}}},{key:"checkScope",value:function(i,o,a,s,l){var c=l.width,u=-1;if(i<0||i>c)return u;var d=Math.abs(s===0?a:a/s);return Math.abs(a)>0&&d>=1.73&&i>l.scopeM1&&i<l.scopeM2?u=0:(Math.abs(a)===0||d<=.57)&&(u=i<l.scopeL?1:i>l.scopeR?2:3),u}},{key:"executeMove",value:function(i,o,a,s,l){switch(a){case 0:this.updateTime(i/s*this.config.scopeM);break;case 1:this.updateBrightness(o/l);break;case 2:lr.os.isIos||this.updateVolume(o/l);break}}},{key:"endLastMove",value:function(i){var o=this,a=this.pos,s=this.player,l=this.config,c=(a.time-this.timeOffset)/1e3;switch(i){case 0:s.seek(Number(c).toFixed(1)),l.hideControlsEnd?s.blur():s.focus(),this.timer=setTimeout(function(){o.pos.time=0},500);break}this.changeAction(rf.AUTO)}},{key:"checkIsRootTarget",value:function(i){var o=this.player.plugins||{};return o.progress&&o.progress.root.contains(i.target)?!1:o.start&&o.start.root.contains(i.target)||o.controls&&o.controls.root.contains(i.target)}},{key:"sendUseAction",value:function(i){var o=this.player.paused;this.emitUserAction(i,"switch_play_pause",{prop:"paused",from:o,to:!o})}},{key:"clickHandler",value:function(i){var o=this.player,a=this.config,s=this.playerConfig;if(o.state<Er.RUNNING){s.closeVideoClick||(this.sendUseAction(oe.createEvent("click")),o.play());return}!a.closedbClick||s.closeVideoClick?o.isActive?o.blur():o.focus():s.closeVideoClick||((o.isActive||a.focusVideoClick)&&(this.sendUseAction(oe.createEvent("click")),this.switchPlayPause()),o.focus())}},{key:"dbClickHandler",value:function(i){var o=this.config,a=this.player;!o.closedbClick&&a.state>=Er.RUNNING&&(this.sendUseAction(oe.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(i){var o=this,a=this.player;hl(this,LC[0],function(s,l){o.clickHandler(l.e)},{e:i,paused:a.paused})}},{key:"onDbClick",value:function(i){var o=this,a=this.player;hl(this,LC[1],function(s,l){o.dbClickHandler(l.e)},{e:i,paused:a.paused})}},{key:"onPress",value:function(i){var o=this.pos,a=this.config,s=this.player;a.disablePress||(o.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:s.playbackRate,to:a.pressRate}),s.playbackRate=a.pressRate,this.changeAction(rf.PLAYBACK))}},{key:"onPressEnd",value:function(i){var o=this.pos,a=this.config,s=this.player;a.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:s.playbackRate,to:o.rate}),s.playbackRate=o.rate,o.rate=1,this.changeAction(rf.AUTO))}},{key:"updateTime",value:function(i){var o=this.player,a=this.config,s=this.player.duration;i=Number(i.toFixed(4));var l=parseInt(i*a.moveDuration,10)+this.timeOffset;l+=this.pos.time,l=l<0?0:l>s*1e3?s*1e3-200:l,o.getPlugin("time")&&o.getPlugin("time").updateTime(l/1e3),o.getPlugin("progress")&&o.getPlugin("progress").updatePercent(l/1e3/this.duration,!0),this.activeSeekNote(l/1e3,i>0),a.isTouchingSeek&&o.seek(Number((l-this.timeOffset)/1e3).toFixed(1)),this.pos.time=l}},{key:"updateVolume",value:function(i){this.player.rotateDeg&&(i=-i);var o=this.player,a=this.pos;if(i=parseInt(i*100,10),a.volume+=i,!(Math.abs(a.volume)<10)){var s=parseInt(o.volume*10,10)-parseInt(a.volume/10,10);s=s>10?10:s<1?0:s,o.volume=s/10,a.volume=0}}},{key:"updateBrightness",value:function(i){var o=this.pos,a=this.config,s=this.xgMask;if(a.darkness){this.player.rotateDeg&&(i=-i);var l=o.light+.8*i;l=l>a.maxDarkness?a.maxDarkness:l<0?0:l,s&&(s.style.backgroundColor="rgba(0,0,0,".concat(l,")")),o.light=l}}},{key:"activeSeekNote",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.player,s=this.config,l=!(this.duration!==1/0&&this.duration>0);if(!(!i||typeof i!="number"||l||s.disableActive)){i<0?i=0:i>a.duration&&(i=a.duration-.2),this.changeAction(rf.SEEKING);var c=a.plugins.start;c&&c.focusHide(),this.find(".xg-dur").innerHTML=oe.format(this.duration),this.find(".xg-cur").innerHTML=oe.format(i),this.find(".xg-curbar").style.width="".concat(i/this.duration*100,"%"),o?oe.removeClass(this.find(".xg-seek-show"),"xg-back"):oe.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(i)}}},{key:"updateThumbnails",value:function(i){var o=this.player,a=o.plugins.thumbnail;a&&a.usable&&this.thumbnail&&a.update(this.thumbnail,i,160,90)}},{key:"switchPlayPause",value:function(){var i=this.player;if(i.state<Er.ATTACHED)return!1;i.ended||(i.paused?i.play():i.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var i=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,i.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,i.root.removeEventListener("touchmove",this.onRootTouchMove,!0),i.root.removeEventListener("touchend",this.onRootTouchEnd,!0),i.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var o=this.player.controls;o&&o.center&&(o.center.removeEventListener("touchmove",this.onRootTouchMove,!0),o.center.removeEventListener("touchend",this.onRootTouchEnd,!0),o.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var i=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(i,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span class="xg-separator">/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),n}($r);function RLe(t){t.preventDefault(),t.returnValue=!1}function OI(t){var e=t.tagName;return!!(e==="INPUT"||e==="TEXTAREA"||t.isContentEditable)}var DI=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onBodyKeyDown",function(s){if(r.player){var l=s||window.event,c=l.keyCode,u=ct(r),d=u._keyState,h=u.player,f=r.config,p=f.disable,g=f.disableBodyTrigger,m=f.isIgnoreUserActive;if(p||g||!(h.isUserActive||m)||OI(l.target)||!r.checkIsVisible()||l.metaKey||l.altKey||l.ctrlKey){d.isBodyKeyDown=!1;return}!s.repeat&&!d.isKeyDown&&((l.target===document.body||r.config.isGlobalTrigger&&!OI(l.target))&&r.checkCode(c,!0)&&(d.isBodyKeyDown=!0),document.addEventListener("keyup",r.onBodyKeyUp)),d.isBodyKeyDown&&r.handleKeyDown(l)}}),yt(ct(r),"onBodyKeyUp",function(s){r.player&&(document.removeEventListener("keyup",r.onBodyKeyUp),r.handleKeyUp(s))}),yt(ct(r),"onKeydown",function(s){if(r.player){var l=s||window.event,c=ct(r),u=c._keyState;if(!l.repeat){if(r.config.disable||r.config.disableRootTrigger||l.metaKey||l.altKey||l.ctrlKey)return;l&&(l.keyCode===37||r.checkCode(l.keyCode))&&(l.target===r.player.root||l.target===r.player.video||l.target===r.player.controls.el)&&(u.isKeyDown=!0),r.player.root.addEventListener("keyup",r.onKeyup)}u.isKeyDown&&r.handleKeyDown(l)}}),yt(ct(r),"onKeyup",function(s){r.player&&(r.player.root.removeEventListener("keyup",r.onKeyup),r.handleKeyUp(s))}),r}return Sn(n,[{key:"mergekeyCodeMap",value:function(){var i=this,o=this.config.keyCodeMap;o&&Object.keys(o).map(function(a){i.keyCodeMap[a]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(s){o[a][s]&&(i.keyCodeMap[a][s]=o[a][s])}):i.keyCodeMap[a]=o[a]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var i=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!i||typeof i!="number"||(this.seekStep=i),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(i){var o=this;Object.keys(i).forEach(function(a){o.config[a]=i[a]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var i=this.player.root.getBoundingClientRect(),o=i.height,a=i.top,s=i.bottom,l=window.innerHeight;return!(a<0&&a<0-o*.9||s>0&&s-l>o*.9)}},{key:"checkCode",value:function(i,o){var a=this,s=!1;return Object.keys(this.keyCodeMap).map(function(l){a.keyCodeMap[l]&&i===a.keyCodeMap[l].keyCode&&!a.keyCodeMap[l].disable&&(s=!o||o&&!a.keyCodeMap[l].noBodyTarget)}),s}},{key:"downVolume",value:function(i){var o=this.player;if(!(o.volume<=0)){var a=parseFloat((o.volume-.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(i,"change_volume",{props:s}),a>=0?o.volume=a:o.volume=0}}},{key:"upVolume",value:function(i){var o=this.player;if(!(o.volume>=1)){var a=parseFloat((o.volume+.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(i,"change_volume",{props:s}),a<=1?o.volume=a:o.volume=1}}},{key:"seek",value:function(i){var o=this.player,a=o.currentTime,s=o.offsetCurrentTime,l=o.duration,c=o.offsetDuration,u=o.timeSegments,d=s>-1?s:a,h=c||l,f=i.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;d+f<=h?d=d+f:d=h;var p=oe.getCurrentTimeByOffset(d,u),g={currentTime:{from:a,to:p}};this.emitUserAction(i,"seek",{props:g}),this.player.currentTime=p}},{key:"seekBack",value:function(i){var o=this.player,a=o.currentTime,s=o.offsetCurrentTime,l=o.timeSegments,c=i.repeat?parseInt(this.seekStep/2,10):this.seekStep,u=s>-1?s:a,d=u-c;d<0&&(d=0),d=oe.getCurrentTimeByOffset(d,l);var h={currentTime:{from:a,to:d}};this.emitUserAction(i,"seek",{props:h}),this.player.currentTime=d}},{key:"changePlaybackRate",value:function(i){var o=this._keyState,a=this.config,s=this.player;o.playbackRate===0&&(o.playbackRate=s.playbackRate,s.playbackRate=a.playbackRate)}},{key:"playPause",value:function(i){var o=this.player;o&&(this.emitUserAction(i,"switch_play_pause"),o.paused?o.play():o.pause())}},{key:"exitFullscreen",value:function(i){var o=this.player,a=o.fullscreen,s=o.cssfullscreen;a&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:a,to:!a}),o.exitFullscreen()),s&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:s,to:!s}),o.exitCssFullscreen())}},{key:"handleKeyDown",value:function(i){var o=this._keyState;if(i.repeat){o.isPress=!0;var a=Date.now();if(a-o.tt<200)return;o.tt=a}this.handleKeyCode(i.keyCode,i,o.isPress)}},{key:"handleKeyUp",value:function(i){var o=this._keyState;o.playbackRate>0&&(this.player.playbackRate=o.playbackRate,o.playbackRate=0),o.isKeyDown=!1,o.isPress=!1,o.tt=0}},{key:"handleKeyCode",value:function(i,o,a){for(var s=Object.keys(this.keyCodeMap),l=0;l<s.length;l++){var c=this.keyCodeMap[s[l]],u=c.action,d=c.keyCode,h=c.disable,f=c.pressAction,p=c.disablePress;if(d===i){if(!h&&!(a&&p)){var g=a&&f||u;typeof g=="function"?u(o,this.player,a):typeof g=="string"&&typeof this[g]=="function"&&this[g](o,this.player,a),this.emit(Zj,Ni({key:s[l],target:o.target,isPress:a},this.keyCodeMap[s[l]]))}RLe(o),o.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),n}(Gu);function _Le(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">
  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>
</svg>
`,"image/svg+xml").firstChild}var PLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"registerIcons",value:function(){return{loadingIcon:_Le}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:ni.ROOT}}}]),n}($r),ILe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"_onDurationChange",function(){r.updateSegments();var s=r.player,l=s.currentTime,c=s.timeSegments;if(r._checkIfEnabled(c)){var u=oe.getIndexByTime(l,c),d=oe.getOffsetCurrentTime(l,c,u);r.player.offsetCurrentTime=d,r.changeIndex(u,c)}}),yt(ct(r),"_onLoadedData",function(){var s=r.player.timeSegments;if(r._checkIfEnabled(s)){var l=oe.getOffsetCurrentTime(0,s);r.player.offsetCurrentTime=l,r.changeIndex(0,s),r.curPos.start>0&&(r.player.currentTime=r.curPos.start)}}),yt(ct(r),"_onTimeupdate",function(){var s=r.player,l=s.currentTime,c=s.timeSegments;if(r._checkIfEnabled(c)){var u=c.length;r.lastCurrentTime=l;var d=oe.getIndexByTime(l,c);d!==r.curIndex&&r.changeIndex(d,c);var h=oe.getOffsetCurrentTime(l,c,d);if(r.player.offsetCurrentTime=h,!!r.curPos){var f=r.curPos,p=f.start,g=f.end;l<p?r.player.currentTime=p:l>g&&d>=u-1&&r.player.pause()}}}),yt(ct(r),"_onSeeking",function(){var s=r.player,l=s.currentTime,c=s.timeSegments;if(r._checkIfEnabled(c))if(l<c[0].start)r.player.currentTime=c[0].start;else if(l>c[c.length-1].end)r.player.currentTime=c[c.length-1].end;else{var u=oe.getIndexByTime(l,c);if(u>=0){var d=r.getSeekTime(l,r.lastCurrentTime,u,c);d>=0&&(r.player.currentTime=d)}}}),yt(ct(r),"_onPlay",function(){var s=r.player,l=s.currentTime,c=s.timeSegments;r._checkIfEnabled(c)&&l>=c[c.length-1].end&&(r.player.currentTime=c[0].start)}),r}return Sn(n,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(Oc,this._onDurationChange),this.on(Sc,this._onLoadedData),this.on(Ba,this._onTimeupdate),this.on(Qx,this._onSeeking),this.on(Va,this._onPlay)}},{key:"setConfig",value:function(i){var o=this;if(i){var a=Object.keys(i);a.length<1||(a.forEach(function(s){o.config[s]=i[s]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var i=this.config,o=i.disable,a=i.segments,s=this.player;if(o||!a||a.length===0)s.timeSegments=[],s.offsetDuration=0,s.offsetCurrentTime=-1;else{var l=this.formatTimeSegments(a,s.duration);s.timeSegments=l,s.offsetDuration=l.length>0?l[l.length-1].duration:0}}},{key:"formatTimeSegments",value:function(i,o){var a=[];return i?(i.sort(function(s,l){return s.start-l.start}),i.forEach(function(s,l){var c={};if(c.start=s.start<0?0:s.start,c.end=o>0&&s.end>o?o:s.end,!(o>0&&c.start>o)){a.push(c);var u=c.end-c.start;if(l===0)c.offset=s.start,c.cTime=0,c.segDuration=u,c.duration=u;else{var d=a[l-1];c.offset=d.offset+(c.start-d.end),c.cTime=d.duration+d.cTime,c.segDuration=u,c.duration=d.duration+u}}}),a):[]}},{key:"getSeekTime",value:function(i,o,a,s){var l=-1,c=s[a],u=c.start,d=c.end;if(i>=u&&i<=d)return l;var h=i-o;if(h<0&&i<u){var f=o>u?o-u:0;return l=a-1>=0?s[a-1].end+h+f:0,l}return-1}},{key:"_checkIfEnabled",value:function(i){return!(!i||i.length<1)}},{key:"changeIndex",value:function(i,o){this.curIndex=i,i>=0&&o.length>0?this.curPos=o[i]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),n}(Gu);function LLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">
  <g>
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath>
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,"image/svg+xml").firstChild}var MLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),i.rotateDeg=i.config.rotateDeg||0,i}return Sn(n,[{key:"afterCreate",value:function(){var i=this;if(!this.config.disable){tr(Zn(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(Ku,function(){i.rotateDeg&&i.config.innerRotate&&oe.setTimeout(i,function(){i.updateRotateDeg(i.rotateDeg,i.config.innerRotate)},100)});var o=this.player.root;this.rootWidth=o.style.width||o.offsetWidth||o.clientWidth,this.rootHeight=o.style.height||o.offsetHeight||o.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(i){i.preventDefault(),i.stopPropagation(),this.emitUserAction(i,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(i,o){if(i||(i=0),o){this.player.videoRotateDeg=i;return}var a=this.player,s=this.rootWidth,l=this.rootHeight,c=a.root,u=a.innerContainer,d=a.media,h=c.offsetWidth,f=u&&o?u.offsetHeight:c.offsetHeight,p=s,g=l,m=0,y=0;(i===.75||i===.25)&&(p="".concat(f,"px"),g="".concat(h,"px"),m=-(f-h)/2,y=-(h-f)/2);var b="translate(".concat(m,"px,").concat(y,"px) rotate(").concat(i,"turn)"),x={transformOrigin:"center center",transform:b,webKitTransform:b,height:g,width:p},w=o?d:c,C=o?a.getPlugin("poster"):null;Object.keys(x).map(function(S){w.style[S]=x[S],C&&C.root&&(C.root.style[S]=x[S])})}},{key:"rotate",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=this.player;this.rotateDeg||(this.rotateDeg=0);var l=i?1:-1;this.rotateDeg=(this.rotateDeg+1+l*.25*a)%1,this.updateRotateDeg(this.rotateDeg,o),s.emit(Xj,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:LLe}}},{key:"render",value:function(){if(!this.config.disable)return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      `.concat(rd(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),n}(Th);function OLe(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}function DLe(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}var of={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},FLe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"switchPIP",function(s){if(!r.isPIPAvailable())return!1;s.stopPropagation&&s.stopPropagation(),r.isPip?(r.exitPIP(),r.emitUserAction(s,"change_pip",{props:"pip",from:!0,to:!1}),r.setAttr("data-state","normal")):r.player.media.readyState===4&&(r.requestPIP(),r.emitUserAction(s,"change_pip",{props:"pip",from:!1,to:!0}),r.setAttr("data-state","pip"))}),r}return Sn(n,[{key:"beforeCreate",value:function(i){typeof i.player.config.pip=="boolean"&&(i.config.showIcon=i.player.config.pip)}},{key:"afterCreate",value:function(){var i=this;this.isPIPAvailable()&&(tr(Zn(n.prototype),"afterCreate",this).call(this),this.pMode=of.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Zx,function(){i.config.showIcon&&(oe.removeClass(i.find(".xgplayer-icon"),"xg-icon-disable"),i.bind("click",i.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:OLe,class:"xg-get-pip"},pipIconExit:{icon:DLe,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var i=this.icons;this.appendChild(".xgplayer-icon",i.pipIcon),this.appendChild(".xgplayer-icon",i.pipIconExit)}},{key:"initPipEvents",value:function(){var i=this,o=this.player;this.leavePIPCallback=function(){var a=o.paused;oe.setTimeout(i,function(){!a&&o.mediaPlay()},0),!a&&o.mediaPlay(),i.setAttr("data-state","normal"),i.pipWindow=null,o.emit(sk,!1)},this.enterPIPCallback=function(a){o.emit(sk,!0),a!=null&&a.pictureInPictureWindow&&(i.pipWindow=a.pictureInPictureWindow),i.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(a){var s=o.media.webkitPresentationMode;i.pMode===of.FULLSCREEN&&s!==of.FULLSCREEN&&o.onFullscreenChange(null,!1),i.pMode=s,s===of.PIP?i.enterPIPCallback(a):s===of.INLINE&&i.leavePIPCallback(a)},o.media&&(o.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),o.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(o.media)&&o.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(i){var o=Ps(document.styleSheets).map(function(s){try{return Ps(s.cssRules).map(function(c){return c.cssText}).join("")}catch{var l=document.createElement("link");l.rel="stylesheet",l.type=s.type,l.media=s.media,l.href=s.href,i.document.head.appendChild(l)}return""}).filter(Boolean).join(`
`),a=document.createElement("style");a.textContent=o,i.document.head.appendChild(a)}},{key:"requestPIP",value:function(){var i=this,o=this.player,a=this.playerConfig,s=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var l=a.poster;if(l&&(o.media.poster=oe.typeOf(l)==="String"?l:l.poster),s.preferDocument&&this.isDocPIPAvailable()){var c={};if(s.width&&s.height)c.width=s.width,c.height=s.height;else{var u=o.root.getBoundingClientRect();c.width=u.width,c.height=u.height}documentPictureInPicture.requestWindow(c).then(function(d){var h=s.docPiPNode,f=s.docPiPStyle;i.enterPIPCallback();var p=h||o.root,g=p.parentElement,m=p.previousSibling,y=p.nextSibling;i.copyStyleIntoPiPWindow(d);var b=document.createElement("style");if(b.append("body{padding:0; margin:0;}"),f){var x="";typeof f=="string"?x=f:typeof f=="function"&&(x=f.call(s)),x&&b.append(x)}else p===o.root&&b.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);d.document.head.append(b),d.document.body.append(p),d.addEventListener("pagehide",function(w){g&&(y?g.insertBefore(p,y):m?g.insertBefore(p,m.nextSibling):g.appendChild(p)),i.leavePIPCallback()},{once:!0})})}else n.checkWebkitSetPresentationMode(o.media)?o.media.webkitSetPresentationMode("picture-in-picture"):o.media.requestPictureInPicture();return!0}catch(d){return console.error("requestPiP",d),!1}}},{key:"exitPIP",value:function(){var i=this.player;try{if(this.isPIPAvailable()&&this.isPip){var o;this.isDocPIPAvailable()&&(o=documentPictureInPicture)!==null&&o!==void 0&&o.window?documentPictureInPicture.window.close():n.checkWebkitSetPresentationMode(i.media)?i.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(a){return console.error("exitPIP",a),!1}}},{key:"isPip",get:function(){var i,o=this.player;return!!(this.isDocPIPAvailable()&&(i=documentPictureInPicture)!==null&&i!==void 0&&i.window)||document.pictureInPictureElement&&document.pictureInPictureElement===o.media||o.media.webkitPresentationMode===of.PIP}},{key:"isPIPAvailable",value:function(){var i=this.player.media,o=oe.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!1;return o&&(oe.typeOf(i.disablePictureInPicture)==="Boolean"&&!i.disablePictureInPicture||i.webkitSupportsPresentationMode&&oe.typeOf(i.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this);var i=this.player;i.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),i.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(i.media)&&i.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      `.concat(rd(this,"PIP",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(i){return typeof i.webkitSetPresentationMode=="function"}}]),n}(Th);function $Le(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`,"image/svg+xml").firstChild}var BLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"playNext",function(o){var a=ct(i),s=a.player;o.preventDefault(),o.stopPropagation(),i.idx+1<i.config.urlList.length?(i.idx++,i.nextHandler(i.config.urlList[i.idx],i.idx),s.emit(I1,i.idx+1)):(i.nextHandler(),s.emit(I1))}),i.idx=-1,i}return Sn(n,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:$Le}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var i=lr.device==="mobile"?"touchend":"click";this.bind(i,this.playNext),this.show()}},{key:"changeSrc",value:function(i){var o=this.player;i&&(o.pause(),o.currentTime=0,o.switchURL?o.switchURL(i):o.src=i,o.config.url=i,o.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      `.concat(rd(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),n}($r),gV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Dj,function(){return function n(r,i,o){var a=window,s="application/octet-stream",l=o||s,c=r,u=!i&&!o&&c,d=document.createElement("a"),h=function(A){return String(A)},f=a.Blob||a.MozBlob||a.WebKitBlob||h,p=i||"download",g,m;if(f=f.call?f.bind(a):Blob,String(this)==="true"&&(c=[c,l],l=c[0],c=c[1]),u&&u.length<2048&&(p=u.split("/").pop().split("?")[0],d.href=u,d.href.indexOf(u)!==-1)){var y=new XMLHttpRequest;return y.open("GET",u,!0),y.responseType="blob",y.onload=function(A){n(A.target.response,p,s)},setTimeout(function(){y.send()},0),y}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c))if(c.length>1024*1024*1.999&&f!==h)c=C(c),l=c.type||s;else return navigator.msSaveBlob?navigator.msSaveBlob(C(c),p):S(c);else if(/([\x80-\xff])/.test(c)){var b=0,x=new Uint8Array(c.length),w=x.length;for(b;b<w;++b)x[b]=c.charCodeAt(b);c=new f([x],{type:l})}g=c instanceof f?c:new f([c],{type:l});function C(A){var T=A.split(/[:;,]/),k=T[1],E=T[2]=="base64"?atob:decodeURIComponent,P=E(T.pop()),_=P.length,F=0,N=new Uint8Array(_);for(F;F<_;++F)N[F]=P.charCodeAt(F);return new f([N],{type:k})}function S(A,T){if("download"in d)return d.href=A,d.setAttribute("download",p),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),T===!0&&setTimeout(function(){a.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(A)&&(A="data:"+A.replace(/^data:([\w\/\-\+]+)/,s)),window.open(A)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=A),!0;var k=document.createElement("iframe");document.body.appendChild(k),!T&&/^data:/.test(A)&&(A="data:"+A.replace(/^data:([\w\/\-\+]+)/,s)),k.src=A,setTimeout(function(){document.body.removeChild(k)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(g,p);if(a.URL)S(a.URL.createObjectURL(g),!0);else{if(typeof g=="string"||g.constructor===h)try{return S("data:"+l+";base64,"+a.btoa(g))}catch{return S("data:"+l+","+encodeURIComponent(g))}m=new FileReader,m.onload=function(A){S(this.result)},m.readAsDataURL(g)}return!0}})})(gV);var NLe=gV.exports;const zLe=Xx(NLe);function HLe(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`,"image/svg+xml").firstChild}var ULe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"download",function(o){if(!i.isLock){i.emitUserAction(o,"download");var a=i.playerConfig.url,s="";oe.typeOf(a)==="String"?s=a:oe.typeOf(a)==="Array"&&a.length>0&&(s=a[0].src);var l=i.getAbsoluteURL(s);zLe(l),i.isLock=!0,i.timer=window.setTimeout(function(){i.isLock=!1,window.clearTimeout(i.timer),i.timer=null},300)}}),i.timer=null,i.isLock=!1,i}return Sn(n,[{key:"afterCreate",value:function(){tr(Zn(n.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(o){o.preventDefault(),o.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:HLe}}},{key:"getAbsoluteURL",value:function(i){if(!i.match(/^https?:\/\//)){var o=document.createElement("div");o.innerHTML='<a href="'.concat(i,'">x</a>'),i=o.firstChild.href}return i}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   `.concat(rd(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:3,disable:!0}}}]),n}(Th),jLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"beforeCreate",value:function(i){typeof i.player.config.screenShot=="boolean"&&(i.config.disable=!i.player.config.screenShot)}},{key:"afterCreate",value:function(){tr(Zn(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var i=this.config;this.initSize=function(o){i.fitVideo&&(i.width=o.vWidth,i.height=o.vHeight)},this.once(Ku,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(i,o){var a=document.createElement("a");a.href=i,a.download=o;var s;try{typeof MouseEvent<"u"?s=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null))}catch(l){console.error("MouseEvent unsupported",l)}s&&a.dispatchEvent(s)}},{key:"createCanvas",value:function(i,o){var a=document.createElement("canvas"),s=a.getContext("2d");this.canvasCtx=s,this.canvas=a,a.width=i||this.config.width,a.height=o||this.config.height,s.imageSmoothingEnabled=!0,s.imageSmoothingEnabled&&(s.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(i){var o=this;i.preventDefault(),i.stopPropagation(),this.emitUserAction(i,"shot");var a=this.config;this.shot(a.width,a.height).then(function(s){o.emit(Qj,s),a.saveImg&&o.saveScreenShot(s,a.name+a.format)})}},{key:"shot",value:function(i,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},l=this.config,c=this.player,u=s.quality||l.quality,d=s.type||l.type;return new Promise(function(h,f){var p=null,g;if(c.media.canvas)p=c.media.canvas;else{a.canvas?(a.canvas.width=i||l.width,a.canvas.height=o||l.height):a.createCanvas(i,o),p=a.canvas,g=a.canvasCtx;var m=c.media.videoWidth/c.media.videoHeight,y=p.width/p.height,b=0,x=0,w=c.media.videoWidth,C=c.media.videoHeight,S,A,T,k;m>y?(T=p.width,k=p.width/m,S=0,A=Math.round((p.height-k)/2)):m===y?(T=p.width,k=p.height,S=0,A=0):m<y&&(T=p.height*m,k=p.height,S=Math.round((p.width-T)/2),A=0),g.drawImage(c.media,b,x,w,C,S,A,T,k)}var E=p.toDataURL(d,u).replace(d,"image/octet-stream");E=E.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),h(E)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(Ku,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var i=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",o="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(i,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[o],'">').concat(this.i18n[o],"</span>"),`
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),n}(Th),VLe=function(){function t(e){An(this,t),this.config=e.config,this.parent=e.root,this.root=oe.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),e.root.appendChild(this.root);var n=this.config.maxHeight;n&&this.setStyle({maxHeight:n}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var r=this.config.domEventType==="touch"?"touchend":"click";this._delegates=$r.delegate.call(this,this.root,"li",r,this.onItemClick)}return Sn(t,[{key:"renderItemList",value:function(n){var r=this,i=this.config,o=this.root;n?i.data=n:n=i.data,i.style&&Object.keys(i.style).map(function(a){o.style[a]=i[a]}),n.length>0&&(this.attrKeys=Object.keys(n[0])),this.root.innerHTML="",n.map(function(a,s){var l=a.selected?"option-item selected":"option-item";a["data-index"]=s,r.root.appendChild(oe.createDom("li","<span>".concat(a.showText,"</span>"),a,l))})}},{key:"onItemClick",value:function(n){n.delegateTarget||(n.delegateTarget=n.target);var r=n.delegateTarget;if(r&&oe.hasClass(r,"selected"))return!1;var i=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,o=this.root.querySelector(".selected");oe.addClass(r,"selected"),o&&oe.removeClass(o,"selected"),i(n,{from:o?this.getAttrObj(o,this.attrKeys):null,to:this.getAttrObj(r,this.attrKeys)})}},{key:"getAttrObj",value:function(n,r){if(!n||!r)return{};var i={};r.map(function(a){i[a]=n.getAttribute(a)});var o=n.getAttribute("data-index");return o&&(i.index=Number(o)),i}},{key:"show",value:function(){oe.removeClass(this.root,"hide"),oe.addClass(this.root,"active")}},{key:"hide",value:function(){oe.removeClass(this.root,"active"),oe.addClass(this.root,"hide")}},{key:"setStyle",value:function(n){var r=this;Object.keys(n).forEach(function(i){r.root.style[i]=n[i]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(n){n.destroy&&n.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),t}(),Xs={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},af={CLICK:"click",HOVER:"hover"};function WLe(t,e){return t===Xs.SIDE?e===ni.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var Ad=lr.device==="mobile",F1=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"onEnter",function(o){o.stopPropagation(),i.emit("icon_mouseenter",{pluginName:i.pluginName}),i.switchActiveState(o)}),yt(ct(i),"switchActiveState",function(o){o.stopPropagation();var a=i.config.toggleMode;a===af.CLICK?i.toggle(!i.isActive):i.toggle(!0)}),yt(ct(i),"onLeave",function(o){o.stopPropagation(),i.emit("icon_mouseleave",{pluginName:i.pluginName}),i.config.listType!==Xs.SIDE&&i.isActive&&i.toggle(!1)}),yt(ct(i),"onListEnter",function(o){i.enterType=2}),yt(ct(i),"onListLeave",function(o){i.enterType=0,i.isActive&&i.toggle(!1)}),i.isIcons=!1,i.isActive=!1,i.curValue=null,i.curIndex=0,i}return Sn(n,[{key:"updateLang",value:function(i){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var i=this,o=this.config;this.initIcons(),Ad=Ad||this.domEventType==="touch",Ad&&lr.device==="mobile"&&o.listType===Xs.DEFAULT&&(o.listType=Xs.SIDE),o.hidePortrait&&oe.addClass(this.root,"portrait"),this.on([Ku,Jl],function(){i._resizeList()}),this.once(ac,function(){o.list&&o.list.length>0&&(i.renderItemList(o.list),i.show())}),Ad&&this.on(A5,function(){i.isActive&&(i.optionsList&&i.optionsList.hide(),i.isActive=!1)}),Ad?(o.toggleMode=af.CLICK,this.activeEvent="touchend"):this.activeEvent=o.toggleMode===af.CLICK?"click":"mouseenter",o.toggleMode===af.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var i=this,o=this.icons,a=Object.keys(o),s=!1;a.length>0&&(a.forEach(function(l){i.appendChild(".xgplayer-icon",o[l]),!s&&(s=o[l])}),this.isIcons=s),!s&&(this.appendChild(".xgplayer-icon",oe.createDom("span","",{},"icon-text")),oe.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(i){!this.config.list||this.config.list.length<2||oe.addClass(this.root,"show")}},{key:"hide",value:function(){oe.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(i,o,a){if(i===void 0)return"";var s=this.config.list;!a&&(a=this.player.lang),o=!o||oe.isUndefined(i[o])?"text":o,typeof i=="number"&&(i=s[i]);try{return ta(i[o])==="object"?i[o][a]||i[o].en:i[o]}catch(l){return console.warn(l),""}}},{key:"toggle",value:function(i){if(!(i===this.isActive||this.config.disable)){var o=this.player.controls,a=this.config.listType;i?(a===Xs.SIDE?o.blur():o.focus(),this.optionsList&&this.optionsList.show()):(a===Xs.SIDE?o.focus():o.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=i}}},{key:"onItemClick",value:function(i,o){i.stopPropagation();var a=this.config,s=a.listType,l=a.list;this.curIndex=o.to.index,this.curItem=l[this.curIndex],this.changeCurrentText();var c=this.config.isItemClickHide;(c||Ad||s===Xs.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(i){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var i=this.config.list,o=this.curIndex<i.length?this.curIndex:0,a=i[o];a&&(this.find(".icon-text").innerHTML=this.getTextByLang(a,"iconText"))}}},{key:"renderItemList",value:function(i,o){var a=this,s=this.config,l=this.optionsList,c=this.player;if(typeof o=="number"&&(this.curIndex=o,this.curItem=s.list[o]),l){l.renderItemList(i),this.changeCurrentText();return}var u={config:{data:i||[],className:WLe(s.listType,s.position),onItemClick:function(g,m){a.onItemClick(g,m)},domEventType:Ad?"touch":"mouse"},root:s.listType===Xs.SIDE?c.innerContainer||c.root:this.root};if(this.config.isShowIcon){var d=this.player.root.getBoundingClientRect(),h=d.height,f=s.listType===Xs.MIDDLE?h-50:h;f&&s.heightLimit&&(u.config.maxHeight="".concat(f,"px")),this.optionsList=new VLe(u),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var i=this.player.root.getBoundingClientRect(),o=i.height,a=this.config.listType===Xs.MIDDLE?o-50:o;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(a,"px")})}}},{key:"destroy",value:function(){var i=this.config;i.toggleMode===af.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:ni.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:af.HOVER,heightLimit:!0}}}]),n}($r),qLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),i.curTime=0,i.isPaused=!0,i}return Sn(n,[{key:"beforeCreate",value:function(i){var o=i.config.list;Array.isArray(o)&&o.length>0&&(i.config.list=o.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}))}},{key:"afterCreate",value:function(){var i=this;tr(Zn(n.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(o){i.changeDefinitionList(o)}),this.on(T5,function(o){i.renderItemList(i.config.list,o.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(i){!this.config.list||this.config.list.length<2||oe.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var i=this.config,o=i.list,a=i.defaultDefinition;if(o.length>0){var s=null;o.map(function(l){l.definition===a&&(s=l)}),s||(s=o[0]),this.changeDefinition(s)}}},{key:"renderItemList",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],a=arguments.length>1?arguments[1]:void 0,s=a&&a.definition?a.definition:this.config.defaultDefinition;a&&o.forEach(function(u){u.selected=!1});var l=0,c=o.map(function(u,d){var h=Ni(Ni({},u),{},{showText:i.getTextByLang(u)||u.definition,selected:!1});return(u.selected||u.definition&&u.definition==s)&&(h.selected=!0,l=d),h});tr(Zn(n.prototype),"renderItemList",this).call(this,c,l)}},{key:"changeDefinitionList",value:function(i){Array.isArray(i)&&(this.config.list=i.map(function(o){return!o.text&&o.name&&(o.text=o.name),o.text||(o.text=o.definition),o}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(i,o){this.player.changeDefinition(i,o)}},{key:"onItemClick",value:function(i,o){var a=this.player.definitionList;tr(Zn(n.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(i,"change_definition",{from:o.from,to:o.to});for(var s=0;s<a.length;s++)o.to&&a[s].definition===o.to.definition&&(o.to.url=a[s].url),o.from&&a[s].definition===o.from.definition&&(o.from.url=a[s].url);this.player.changeDefinition(o.to,o.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return Ni(Ni({},F1.defaultConfig),{},{position:ni.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),n}(F1),KLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),i.curRate=1,i}return Sn(n,[{key:"beforeCreate",value:function(i){var o=i.player.config.playbackRate,a=o?Array.isArray(o)?o:i.config.list:[];Array.isArray(a)&&(i.config.list=a.map(function(s){return typeof s=="number"?s={rate:s,text:"".concat(s,"x")}:!s.text&&s.rate&&(s.text="".concat(s.rate,"x")),s}))}},{key:"afterCreate",value:function(){var i=this;tr(Zn(n.prototype),"afterCreate",this).call(this),this.on(jj,function(){i.curValue!==i.player.playbackRate&&i.renderItemList()}),this.renderItemList()}},{key:"show",value:function(i){!this.config.list||this.config.list.length===0||tr(Zn(n.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(i,o){tr(Zn(n.prototype),"onItemClick",this).call(this,i,o);var a=i.delegateTarget,s=Number(a.getAttribute("rate"));if(!s||s===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:s}};this.emitUserAction(i,"change_rate",{props:l}),this.curValue=s,this.player.playbackRate=s}},{key:"renderItemList",value:function(){var i=this,o=this.player.playbackRate||1;this.curValue=o;var a=-1,s=this.config.list.map(function(l,c){var u={rate:l.rate};return u.rate===o&&(u.selected=!0,a=c),u.showText=i.getTextByLang(l),u});tr(Zn(n.prototype),"renderItemList",this).call(this,s,a)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var i=this.config.list,o=this.curIndex<i.length?this.curIndex:0,a=i[o],s="";!a||this.curIndex<0?s="".concat(this.player.playbackRate,"x"):s=this.getTextByLang(a,"iconText"),this.find(".icon-text").innerHTML=s}}},{key:"destroy",value:function(){tr(Zn(n.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return Ni(Ni({},F1.defaultConfig),{},{position:ni.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),n}(F1),GLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(hv,function(o){i.onError(o)})}},{key:"errorRetry",value:function(i){this.emitUserAction(i,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.player,a=i.errorType,s=o.errorNote?this.i18n[o.errorNote]:"";if(!s)switch(a){case"decoder":s=this.i18n.MEDIA_ERR_DECODE;break;case"network":s=this.i18n.MEDIA_ERR_NETWORK;break;default:s=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=s,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),n}($r),YLe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(o){(i.config.onClick||i.customOnClick)&&(o.preventDefault(),o.stopPropagation(),i.customOnClick?i.customOnClick(o):i.config.onClick(o))}),this.player.showPrompt=function(){i.showPrompt.apply(i,arguments)},this.player.hidePrompt=function(){i.hide()}}},{key:"setStyle",value:function(i){var o=this;Object.keys(i).map(function(a){o.root.style[a]=i[a]})}},{key:"showPrompt",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(i){this.customOnClick=s;var l=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),oe.addClass(this.root,"show"),a.mode==="arrow"&&oe.addClass(this.root,"arrow"),typeof i=="string"?this.find(".xgplayer-prompt-detail").innerHTML=i:this.find(".xgplayer-prompt-detail").innerHTML="".concat(i.text||"")+"".concat(i.highlight?'<i class="highlight">'.concat(i.highlight,"</i>"):""),a.style&&this.setStyle(a.style);var c=typeof a.autoHide=="boolean"?a.autoHide:this.config.autoHide;if(c){var u=a.interval||l;this.intervalId=setTimeout(function(){o.hide()},u)}}}},{key:"hide",value:function(){oe.removeClass(this.root,"show"),oe.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat($t.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),n}($r),FI={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function vV(t){Object.keys(FI).map(function(e){t[e]===void 0&&(t[e]=FI[e])})}var $I={_updateDotDom:function(e,n){if(n){var r=this.calcuPosition(e.time,e.duration),i=e.style||{};i.left="".concat(r.left,"%"),i.width="".concat(r.width,"%"),n.setAttribute("data-text",e.text),n.setAttribute("data-time",e.time),r.isMini?oe.addClass(n,"mini"):oe.removeClass(n,"mini"),Object.keys(i).map(function(o){n.style[o]=i[o]})}},initDots:function(){var e=this;this._ispots.map(function(n){e.createDot(n,!1)}),this.ispotsInit=!0},createDot:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this.player.plugins.progress;if(r&&(n&&(vV(e),this._ispots.push(e)),!(!this.ispotsInit&&n))){var i=this.calcuPosition(e.time,e.duration),o=e.style||{};o.left="".concat(i.left,"%"),o.width="".concat(i.width,"%");var a="xgspot_".concat(e.id," xgplayer-spot");i.isMini&&(a+=" mini");var s=e.template?'<div class="xgplayer-spot-pop">'.concat(e.template,"</div>"):"",l=oe.createDom("xg-spot",s,{"data-text":e.text,"data-time":e.time,"data-id":e.id},a);Object.keys(o).map(function(c){l.style[c]=o[c]}),r.outer&&r.outer.appendChild(l),this.positionDot(l,e.id)}},findDot:function(e){if(this.player.plugins.progress){var n=this._ispots.filter(function(r,i){return r.id===e});return n.length>0?n[0]:null}},updateDot:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.player.plugins.progress;if(r){var i=this.findDot(e.id);if(i&&Object.keys(e).map(function(a){i[a]=e[a]}),!!this.ispotsInit){var o=r.find('xg-spot[data-id="'.concat(e.id,'"]'));o&&(this._updateDotDom(e,o),n&&this.showDot(e.id))}}},deleteDot:function(e){var n=this._ispots,r=this.player.plugins.progress;if(r){for(var i=[],o=0;o<n.length;o++)n[o].id===e&&i.push(o);for(var a=i.length,s=a-1;s>=0;s--)if(n.splice(i[s],1),this.ispotsInit){var l=r.find('xg-spot[data-id="'.concat(e,'"]'));l&&l.parentElement.removeChild(l)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e){if(!this.ispotsInit){this._ispots=[];return}for(var n=e.root.getElementsByTagName("xg-spot"),r=n.length-1;r>=0;r--)e.outer.removeChild(n[r]);this._ispots=[]}},updateAllDots:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.player.plugins.progress;if(r){if(!this.ispotsInit){this._ispots=n;return}this._ispots=[];var i=r.root.getElementsByTagName("xg-spot"),o=i.length;if(o>n.length)for(var a=o-1;a>n.length-1;a--)r.outer.removeChild(i[a]);n.forEach(function(s,l){l<o?(i[l].setAttribute("data-id","".concat(s.id)),e._ispots.push(s),e.updateDot(s)):e.createDot(s)})}},positionDots:function(){var e=this,n=this._ispots,r=this.playerSize,i=this.player.sizeInfo,o=this.player.plugins.progress;!o||i.width===r.width||(r.width=i.width,r.left=i.left,n.forEach(function(a){var s=o.find('xg-spot[data-id="'.concat(a.id,'"]'));s&&e.positionDot(s,a.id)}))},positionDot:function(e,n){var r=oe.findDom(e,".xgplayer-spot-pop");if(r){var i=this.playerSize,o=e.getBoundingClientRect(),a=r.getBoundingClientRect(),s=o.left-i.left,l=i.width-s-o.width/2;if(s<a.width/2||i.width<a.width){var c=a.width/2-s;r.style.left="".concat(c,"px")}else if(l<a.width/2){var u=l-a.width/2+o.width/2;r.style.left="".concat(u,"px")}else r.style.left="50%"}},updateDuration:function(){var e=this,n=this.player.plugins.progress;if(n){var r=this._ispots;r.forEach(function(i){var o=n.find('xg-spot[data-id="'.concat(i.id,'"]'));e._updateDotDom(i,o)})}},getAllDotsDom:function(){var e=this.player.plugins.progress;if(!e)return[];var n=e.root.getElementsByTagName("xg-spot");return n},getDotDom:function(e){var n=this.player.plugins.progress;if(n)return n.find('xg-spot[data-id="'.concat(e,'"]'))}};function XLe(t){var e=t.config,n=t.player;Object.keys($I).map(function(i){t[i]=$I[i].bind(t)});var r=n.config.progressDot||e.ispots||[];t._ispots=r.map(function(i){return vV(i),i}),t.ispotsInit=!1,t.playerSize={left:n.sizeInfo.left,width:n.sizeInfo.width},t.on(Oc,function(){t.ispotsInit?t.updateDuration():t.initDots()}),t.on(Ku,function(){t.positionDots()})}var sf={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},QLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),yt(ct(i),"onMousemove",function(o){if(!i.config.disable){if(oe.hasClass(o.target,"xg-spot-content")&&i.config.isHideThumbnailHover){i.player.plugins.progress.onMouseLeave(o);return}(i._state.f||oe.hasClass(o.target,"xg-spot-content"))&&(oe.event(o),o.stopPropagation())}}),yt(ct(i),"onMousedown",function(o){i.config.disable||(i._state.f||oe.hasClass(o.target,"xg-spot-content"))&&(oe.event(o),o.stopPropagation())}),yt(ct(i),"onMouseup",function(o){if(i.isDrag){var a=i.player.plugins.progress;a&&a.pos&&(a.onMouseUp(o),!a.pos.isEnter&&a.onMouseLeave(o))}}),yt(ct(i),"onDotMouseLeave",function(o){if(!i.config.disable){i._curDot.removeEventListener("mouseleave",i.onDotMouseLeave),i.blurDot(o.target),i._curDot=null;var a=i.player.plugins.progress;a&&a.enableBlur(),i.show()}}),yt(ct(i),"onProgressMouseOver",function(o,a){if(!i.config.disable&&oe.hasClass(a.target,"xgplayer-spot")&&!i._curDot){i._curDot=a.target,i.focusDot(a.target),i._curDot.children.length>0&&i.hide();var s=i.player.plugins.progress;s&&s.disableBlur(),i._curDot.addEventListener("mouseleave",i.onDotMouseLeave)}}),i._ispots=[],i.videoPreview=null,i.videothumbnail=null,i.thumbnail=null,i.timeStr="",i._state={now:0,f:!1},i}return Sn(n,[{key:"beforeCreate",value:function(i){var o=i.player.plugins.progress;o&&(i.root=o.root)}},{key:"afterCreate",value:function(){var i=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(o,a){a.seekTime&&i.player.seek(a.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(o){i.setTimeContent(oe.format(o))}),XLe(this),this.on(Oc,function(){i.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(i){var o=this;i&&Object.keys(i).map(function(a){o.config[a]=i[a]})}},{key:"onPluginsReady",value:function(){var i=this.player;i.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var i=this,o=this.player.plugins.progress;if(o&&(Object.keys(sf).map(function(s){i[sf[s]]=i[sf[s]].bind(i),o.addCallBack(s,i[sf[s]])}),lr.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var a=this.hook("previewClick",function(){});this.handlerPreviewClick=function(s){s.stopPropagation(),a(parseInt(i._state.now*1e3,10)/1e3,s),o&&o.onMouseUp(s)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(i,o){this.config.disable||!this.player.duration||this.updatePosition(i.offset,i.width,i.currentTime,i.e)}},{key:"onProgressDragStart",value:function(i){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&oe.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(i){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&oe.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(i,o){this.config.disable||oe.hasClass(o.target,"xgplayer-spot")&&(o.stopPropagation(),o.preventDefault(),["time","id","text"].map(function(a){i[a]=o.target.getAttribute("data-".concat(a))}),i.time&&(i.time=Number(i.time)),this.handlerSpotClick(o,i))}},{key:"updateLinePos",value:function(i,o){var a=this.root,s=this.previewLine,l=this.player,c=this.config,u=l.controls.mode,d=u==="flex",h=a.getBoundingClientRect().width;if(!(!h&&this._hasThumnail)){h=this._hasThumnail&&h<c.width?c.width:h;var f=i-h/2,p;f<0&&!d?(f=0,p=i-h/2):f>o-h&&!d?(p=f-(o-h),f=o-h):p=0,p!==void 0&&(s.style.transform="translateX(".concat(p.toFixed(2),"px)")),a.style.transform="translateX(".concat(f.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(i){var o=this.timeText,a=this.timePoint;o.innerHTML=i,!this.thumbnail&&(a.innerHTML=i)}},{key:"updatePosition",value:function(i,o,a,s){var l=this.root,c=this.config,u=this._state;if(l){u.now=a,this.transformTimeHook(a);var d=this.timeStr;s&&s.target&&oe.hasClass(s.target,"xgplayer-spot")?(this.showTips(s.target.getAttribute("data-text"),!1,d),this.focusDot(s.target),u.f=!0,c.isFocusDots&&u.f&&(u.now=parseInt(s.target.getAttribute("data-time"),10))):c.defaultText?(u.f=!1,this.showTips(c.defaultText,!0,d)):(u.f=!1,this.hideTips("")),this.updateTimeText(d),this.updateThumbnails(u.now),this.updateLinePos(i,o)}}},{key:"setTimeContent",value:function(i){this.timeStr=i}},{key:"updateThumbnails",value:function(i){var o=this.player,a=this.videoPreview,s=this.config,l=o.plugins.thumbnail;if(l&&l.usable){this.thumbnail&&l.update(this.thumbnail,i,s.width,s.height);var c=a&&a.getBoundingClientRect();this.videothumbnail&&l.update(this.videothumbnail,i,c.width,c.height)}}},{key:"registerThumbnail",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(lr.device!=="mobile"){var o=this.player,a=this.config,s=o.getPlugin("thumbnail");if(s&&s.setConfig(i),!s||!s.usable||!a.isShowThumbnail){oe.addClass(this.root,"short-line no-thumbnail");return}else oe.removeClass(this.root,"short-line no-thumbnail");a.mode==="short"&&oe.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=s.createThumbnail(l,"progress-thumbnail"),a.isShowCoverPreview&&(this.videoPreview=oe.createDom("xg-video-preview","",{},"xgvideo-preview"),o.root.appendChild(this.videoPreview),this.videothumbnail=s.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(i,o){var a=this.player.plugins.progress,s=this.player,l=a.root.getBoundingClientRect().width,c=s.duration/l*6;return i+o>s.duration&&(o=s.duration-i),i/s.duration*100,o/s.duration,{left:i/s.duration*100,width:o/s.duration*100,isMini:o<c}}},{key:"showDot",value:function(i){var o=this.findDot(i);if(o){var a=this.root.getBoundingClientRect(),s=a.width,l=o.time/this.player.duration*s;this.updatePosition(l,s,o.time)}}},{key:"focusDot",value:function(i,o){i&&(o||(o=i.getAttribute("data-id")),oe.addClass(i,"active"),this._activeDotId=o)}},{key:"blurDot",value:function(i){if(!i){var o=this._activeDotId;i=this.getDotDom(o)}i&&(oe.removeClass(i,"active"),this._activeDotId=null)}},{key:"showTips",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";oe.addClass(this.root,"no-timepoint"),i&&(oe.addClass(this.find(".xg-spot-content"),"show-text"),o&&this.config.mode==="production"?(oe.addClass(this.root,"product"),this.tipText.textContent=i):(oe.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?i:"".concat(a," ").concat(i)))}},{key:"hideTips",value:function(){oe.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",oe.removeClass(this.find(".xg-spot-content"),"show-text"),oe.removeClass(this.root,"product")}},{key:"hide",value:function(){oe.addClass(this.root,"hide")}},{key:"show",value:function(i){oe.removeClass(this.root,"hide")}},{key:"enable",value:function(){var i=this.config,o=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&i.isShowThumbnail&&this.registerThumbnail(o.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var i=this,o=this.player.plugins.progress;o&&Object.keys(sf).map(function(a){o.removeCallBack(a,i[sf[a]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return lr.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),n}($r),ZLe=function(t){Kn(n,t);var e=Gn(n);function n(r){var i;return An(this,n),i=e.call(this,r),i.ratio=1,i.interval=null,i._preloadMark={},i}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this.usable&&this.initThumbnail(),this.on([Oc],function(){var o=i.config,a=o.pic_num,s=o.interval;i.usable&&(i.interval=s>0?s:Math.round(i.player.duration*1e3/a)/1e3)})}},{key:"setConfig",value:function(i){var o=this;if(i){var a=Object.keys(i);a.length<1||(a.forEach(function(s){o.config[s]=i[s]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var i=this.config,o=i.urls,a=i.pic_num;return o&&o.length>0&&a>0}},{key:"initThumbnail",value:function(){var i=this.config,o=i.width,a=i.height,s=i.pic_num,l=i.interval;this.ratio=o/a*100,this.interval=l||Math.round(this.player.duration/s),this._preloadMark={}}},{key:"getUrlByIndex",value:function(i){return i>=0&&i<this.config.urls.length?this.config.urls[i]:""}},{key:"preload",value:function(i){var o=this;if(!this._preloadMark[i]){var a=this.config.urls,s=a.length,l=[];i>0&&l.push(i-1),l.push(i),i>0&&i<s-1&&l.push(i+1),l.map(function(c){!o._preloadMark[c]&&c>=0&&c<s&&(o._preloadMark[c]=1,oe.preloadImg(a[c],function(){o._preloadMark[c]=2}))})}}},{key:"getPosition",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=this.config,l=s.pic_num,c=s.row,u=s.col,d=s.width,h=s.height;this.interval=Math.round(this.player.duration/l);var f=Math.ceil(i/this.interval);f=f>l?l:f;var p=f<c*u?0:Math.ceil(f/(c*u))-1,g=f-p*(u*c),m=g>0?Math.ceil(g/u)-1:0,y=g>0?g-m*u-1:0,b=0,x=0;if(o&&a){var w=o/a;w<d/h?(x=a,b=x*(d/h)):(b=o,x=b/(d/h))}else a?o||(x=a||h,b=x*(d/h)):(b=o||d,x=b/(d/h));var C=this.getUrlByIndex(p);return{urlIndex:p,rowIndex:m,colIndex:y,url:C,height:x,width:b,style:{backgroundImage:"url(".concat(C,")"),backgroundSize:"".concat(b*u,"px auto"),backgroundPosition:"-".concat(y*b,"px -").concat(m*x,"px"),width:"".concat(b,"px"),height:"".concat(x,"px")}}}},{key:"update",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",c=this.config,u=c.pic_num,d=c.urls;if(!(u<=0||!d||d.length===0)){var h=this.getPosition(o,a,s);this.preload(h.urlIndex),Object.keys(h.style).map(function(f){i.style[f]=h.style[f]}),Object.keys(l).map(function(f){i.style[f]=l[f]})}}},{key:"changeConfig",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(i)}},{key:"createThumbnail",value:function(i,o){var a=oe.createDom("xg-thumbnail","",{},"thumbnail ".concat(o));return i&&i.appendChild(a),a}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),n}($r);function MC(t){return t?"background:".concat(t,";"):""}var JLe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onTimeupdate",function(){var s=r.player.ended,l=ct(r),c=l.offsetDuration,u=r.currentTime;u=oe.adjustTimeByDuration(u,c,s),r.update({played:u},c)}),r}return Sn(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var i=this.player,o=i.offsetCurrentTime,a=i.currentTime;return o>=0?o:a}},{key:"afterCreate",value:function(){var i=this;this.root&&(this.on(Ba,this.onTimeupdate),this.on(Eh,function(){i.reset()}))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},o=arguments.length>1?arguments[1]:void 0;!o||!this.root||(i.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(i.cached/o*100,"%")),i.played&&(this.find("xg-mini-progress-played").style.width="".concat(i.played/o*100,"%")))}},{key:"render",value:function(){var i=this.playerConfig,o=i.commonStyle,a=i.miniprogress;if(a){var s=this.config,l=s.mode,c=s.height,u={cached:MC(o.cachedColor),played:MC(o.playedColor),progress:MC(o.progressColor),height:c>0&&c!==2?"height: ".concat(c,"px;"):""},d=l==="show"?"xg-mini-progress-show":"";return'<xg-mini-progress class="xg-mini-progress '.concat(d,'" style="').concat(u.progress," ").concat(u.height,`">
    <xg-mini-progress-cache class="xg-mini-progress-cache" style="`).concat(u.cached,`"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played" style="`).concat(u.played,`"></xg-mini-progress-played>
    </xg-mini-progress>`)}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),n}($r),lf={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",POSTER:"poster"};function eMe(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function tMe(){try{var t=document.createElement("canvas").getContext;return!!t}catch{return!1}}var Oy=null,nMe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onLoadedData",function(s){r.player&&(r._frameCount=r.config.startFrameCount,r.stop(),r.renderOnTimeupdate(s),r.off(Ba,r.renderOnTimeupdate),r.on(Ba,r.renderOnTimeupdate))}),yt(ct(r),"onVisibilitychange",function(s){document.visibilityState==="visible"?r._checkIfCanStart()&&r.start():document.visibilityState==="hidden"&&r.stop()}),yt(ct(r),"renderOnTimeupdate",function(s){if(r._frameCount>0)r.renderOnce(),r._frameCount--;else{r._isLoaded=!0,r.off(Ba,r.renderOnTimeupdate);var l=r.config.startInterval;!r.player.paused&&r._checkIfCanStart()&&r.start(0,l)}}),yt(ct(r),"start",function(s,l){var c=r.player.video,u=eMe(),d=r.checkVideoIsSupport(c);!d||!r.canvasCtx||(l||(l=r.interval),r.stop(),c.videoWidth&&c.videoHeight&&(r.videoPI=c.videoHeight>0?parseInt(c.videoWidth/c.videoHeight*100,10):0,(r.config.mode===lf.REAL_TIME||u-r.preTime>=l)&&(c&&c.videoWidth&&r.update(d,r.videoPI),r.preTime=u)),r.frameId=r._loopType==="timer"?oe.setTimeout(ct(r),r.start,l):oe.requestAnimationFrame(r.start))}),yt(ct(r),"stop",function(){r.frameId&&(r._loopType==="timer"?oe.clearTimeout(ct(r),r.frameId):oe.cancelAnimationFrame(r.frameId),r.frameId=null)}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),n.isSupport||(this.config.disable=!0);var o=this.config,a=o.disable,s=o.mode,l=o.frameRate;a||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/l,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==lf.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Zx,function(){i.player&&(i.init(),i.renderByPoster(),i.player.paused||i.start())}),s!==lf.POSTER&&(s!==lf.FIRST_FRAME&&(this.on(Eh,function(){i.stop()}),this.on(Va,function(){var c=i.config.startInterval;i._checkIfCanStart()&&i.start(0,c)}),this.on(Cp,function(){i.stop()})),this.on(Sc,this.onLoadedData),this.on(C5,function(){i._isLoaded=!1,i.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(i){var o=this;Object.keys(i).forEach(function(a){a==="root"&&i[a]!==o.config[a]?o.reRender(i[a]):a==="frameRate"?o.interval=parseInt(1e3/i[a],10):a==="disable"&&i[a]&&o.stop(),o.config[a]=i[a]})}},{key:"init",value:function(i){var o=this.player,a=this.config;this.canvasFilter=n.supportCanvasFilter();try{var s=i||a.root;s||(s=a.isInnerRender&&o.innerContainer||o.root),s.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(a.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=s.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=a.filter,this.canvas.style.webkitFilter=a.filter),this.mask=this.find("xgmask"),a.addMask&&(this.mask.style.background=a.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(l){yr.logError("plugin:DynamicBg",l)}}},{key:"reRender",value:function(i){var o=this.config.disable;if(!(!o&&!this.root)){this.stop();var a=this.root?this.root.parentElement:null;if(a!==i&&a.removeChild(this.root),!i){this.root=null;return}this.init(i),this.renderOnce();var s=this.config.startInterval;this._checkIfCanStart()&&this.start(0,s)}}},{key:"checkVideoIsSupport",value:function(i){if(!i)return null;var o=i&&i instanceof window.HTMLVideoElement?i:i.canvas?i.canvas:i.flyVideo?i.flyVideo:null;if(o&&!(lr.browser==="safari"&&oe.isMSE(o)))return o;var a=o?o.tagName.toLowerCase():"";return a==="canvas"||a==="img"?o:null}},{key:"renderByPoster",value:function(){var i=this.playerConfig.poster;if(i){var o=oe.typeOf(i)==="String"?i:oe.typeOf(i.poster)==="String"?i.poster:null;this.updateImg(o)}}},{key:"_checkIfCanStart",value:function(){var i=this.config.mode;return this._isLoaded&&!this.player.paused&&i!==lf.FIRST_FRAME&&i!==lf.POSTER}},{key:"renderOnce",value:function(){var i=this.player.video;if(!(!i.videoWidth||!i.videoHeight)){this.videoPI=parseInt(i.videoWidth/i.videoHeight*100,10);var o=this.checkVideoIsSupport(i);o&&this.update(o,this.videoPI)}}},{key:"updateImg",value:function(i){var o=this;if(i){var a=this.canvas.getBoundingClientRect(),s=a.width,l=a.height,c=new window.Image;c.onload=function(){if(!(!o.canvas||o.frameId||o.isStart)){o.canvas.height=l,o.canvas.width=s;var u=parseInt(s/l*100,10);o.update(c,u),c=null}},c.src=i}}},{key:"update",value:function(i,o){if(!(!this.canvas||!this.canvasCtx||!o))try{var a=this._pos,s=this.config,l=this.canvas.getBoundingClientRect(),c=l.width,u=l.height;if(c!==a.width||u!==a.height||a.pi!==o){var d=parseInt(c/u*100,10);a.pi=o,a.width!==c&&(a.width=this.canvas.width=c),a.height!==u&&(a.height=this.canvas.height=u);var h=u,f=c;d<o?f=parseInt(u*o/100,10):d>o&&(h=parseInt(c*100/o,10)),a.rwidth=f*s.multiple,a.rheight=h*s.multiple,a.x=(c-a.rwidth)/2,a.y=(u-a.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=s.filter),this.canvasCtx.drawImage(i,a.x,a.y,a.rwidth,a.rheight)}catch(p){yr.logError("plugin:DynamicBg",p)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Oy=="boolean"||(Oy=tMe()),Oy}},{key:"supportCanvasFilter",value:function(){return!(lr.browser==="safari"||lr.browser==="firefox")}}]),n}($r),rMe={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:""},mse:{code:2,msg:""},parse:{code:3,msg:""},format:{code:4,msg:""},decoder:{code:5,msg:""},runtime:{code:6,msg:""},timeout:{code:7,msg:""},other:{code:8,msg:""}},HAVE_NOTHING:"/",HAVE_METADATA:"/",HAVE_CURRENT_DATA:"/",HAVE_FUTURE_DATA:"",HAVE_ENOUGH_DATA:"",NETWORK_EMPTY:"/",NETWORK_IDLE:"/",NETWORK_LOADING:"",NETWORK_NO_SOURCE:"/",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"/",REPLAY:"",ERROR:"",PLAY_TIPS:"",PAUSE_TIPS:"",PLAYNEXT_TIPS:"",DOWNLOAD_TIPS:"",ROTATE_TIPS:"",RELOAD_TIPS:"",FULLSCREEN_TIPS:"",EXITFULLSCREEN_TIPS:"",CSSFULLSCREEN_TIPS:"",EXITCSSFULLSCREEN_TIPS:"",TEXTTRACK:"",PIP:"",SCREENSHOT:"",LIVE:"",OFF:"",OPEN:"",MINI_DRAG:"",MINISCREEN:"",REFRESH_TIPS:"",REFRESH:"",FORWARD:"",LIVE_TIP:""}},m0="info",OC=rV,iMe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"_recordUserActions",function(s){var l=r._getTime(),c=Object.assign({},s,{msg:s.msg||s.action});r._stats[m0].push(Ni(Ni({type:"userAction"},l),{},{payload:c}))}),yt(ct(r),"_onReset",function(){r.reset()}),yt(ct(r),"_recordInfo",function(s){r.info(s)}),yt(ct(r),"_downloadStats",function(){var s=r.getStats(),l=new Blob([JSON.stringify(s)],{type:"application/json"}),c=window.URL.createObjectURL(l),u=document.createElement("a");u.style.display="none",u.href=c,u.download="player.txt",u.disabled=!1,u.click()}),r}return Sn(n,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(L1,this._recordUserActions),this.on(OC.STATS_INFO,this._recordInfo),this.on(OC.STATS_DOWNLOAD,this._downloadStats),this.on(OC.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(i){i.profile?this._infoProfile(i):this._info(i)}},{key:"_info",value:function(i){var o=this._getTime();this._stats[m0].push(Ni(Ni({},o),{},{payload:i}))}},{key:"_infoProfile",value:function(i){if(i&&i.startMs){var o=Date.now(),a=o-i.startMs,s=Ni({cat:"function",dur:a,name:i.name||i.msg,ph:"X",pid:0,tid:0,ts:i.startMs,profile:!0},i);this._info(s)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var i;this._stats=(i={},yt(i,m0,[]),yt(i,"media",{}),i)}},{key:"getStats",value:function(){for(var i=this.player,o=i.media,a=[],s=0;s<o.buffered.length;s++)a.push({start:o.buffered.start(s),end:o.buffered.end(s)});var l={currentTime:o.currentTime,readyState:o.readyState,buffered:a,paused:o.paused,ended:o.ended};return this._stats.media=l,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var i=this._stats[m0],o=i.map(function(a){var s=a.payload.data,l="";try{s instanceof Error?l=s.msg:s!==void 0&&(l=JSON.stringify(s))}catch(c){console.log("err",c)}return"[".concat(a.timeFormat,"] : ").concat(a.payload.msg," ").concat(l," ")});return o}},{key:"_getProfile",value:function(){var i={traceEvents:[]},o=this._stats[m0];return o.forEach(function(a){a.payload.profile&&i.traceEvents.push(a.payload)}),i}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Gu),yV=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onGapJump",function(){var s=ct(r),l=s.player,c=s.config;if(l.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(l.media.seeking){if(!r.seekingEventReceived)return}else r.seekingEventReceived=!1;if(!(l.media.paused&&l.media.currentTime!==0&&r.hasPlayed)){var u=l.media.buffered,d=c.smallGapLimit||.5,h=c.gapDetectionThreshold||.3,f=l.media.currentTime,p=r._getIndex(u,f,h);if(!(p===null||p===0)){console.log("GapJump  bufferRange ",u.start(p),u.end(p));var g=u.start(p)+.1,m=l.media.duration;if(!(g>m)){var y=g-f,b=y<=d;y<n.BROWSER_GAP_TOLERANCE||b&&(c.useGapJump!==!1&&(l.media.currentTime=r.isSafari?g+.1:g),r.player&&r.player.emit("detectGap"),console.log("gapJump gapIndex",p," isGapSamll:",b," currentTime:",l.media.currentTime," jumpSize:",f-l.media.currentTime),g!==.08&&l&&l.emit("log",{type:"oneevent",end_type:"gap",vid:l.config.vid,ext:{video_postion:Math.floor(g*1e3)}}))}}}}}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this,o=this.config.useGapJump;o!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(fv,this.onGapJump),this.on(Va,function(){i.hasPlayed=!0}),this.on(Qx,function(){i.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(i,o,a){if(!i||!i.length||i.length===1&&i.end(0)-i.start(0)<1e-6)return null;for(var s=this._getBuffered(i),l=null,c=0;c<s.length;c++){var u=s[c];if(u.start>o&&(c===0||s[c-1].end-o<=a)){l=c;break}}return l}},{key:"_getBuffered",value:function(i){if(!i)return[];for(var o=[],a=0;a<i.length;a++)o.push({start:i.start(a),end:i.end(a)});return o}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),n}($r);yV.BROWSER_GAP_TOLERANCE=.001;var oMe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"onWaiting",function(){var s=ct(r),l=s.config;r.jumpCnt>l.jumpCntMax||r.timer||l.useWaitingTimeoutJump===!1||(r.timer=setTimeout(r.onJump,l.waitingTime*1e3))}),yt(ct(r),"onJump",function(){var s=ct(r),l=s.player,c=s.config;if(clearTimeout(r.timer),r.timer=null,!(r.jumpCnt>c.jumpCntMax||c.useWaitingTimeoutJump===!1)&&!(l.media.paused&&l.media.currentTime!==0&&r.hasPlayed)){r.jumpSize=c.jumpSize*(r.jumpCnt+1),r.jumpCnt===c.jumpSize&&r.jumpSize<6&&(r.jumpSize=6);var u=l.currentTime+r.jumpSize,d=l.media.duration;u>d||(r.jumpCnt++,l.currentTime=u)}}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this,o=this.config,a=o.useWaitingTimeoutJump,s=o.jumpSize;a!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=s,this.on(fv,this.onWaiting),this.on([w5,ac],function(){clearTimeout(i.timer),i.timer=null,i.jumpSize=i.config.jumpSize}),this.on(Va,function(){i.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),n}($r),cf="cdn",Dy=["cdn"],aMe=function(t){Kn(n,t);var e=Gn(n);function n(){var r;An(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),yt(ct(r),"getSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cf;if(!r.speedListCache||!r.speedListCache[s]||r.speedListCache[s].length<=0)return 0;var l=0;return r.speedListCache[s].map(function(c){l+=c}),Math.floor(l/r.speedListCache[s].length)}),yt(ct(r),"startTimer",function(){oe.isMSE(r.player.video)||(r.initSpeedList(),r.cnt=0,r.timer=setTimeout(r.testSpeed,r.config.testTimeStep))}),yt(ct(r),"initSpeedList",function(){r.speedListCache={},Dy.forEach(function(s){r.speedListCache[s]=[]})}),yt(ct(r),"_onRealSpeedChange",function(s){s.speed&&r.appendList(s.speed,s.type||cf)}),yt(ct(r),"testSpeed",function(){if(clearTimeout(r.timer),r.timer=null,!(!r.player||!r.config.openSpeed)){var s=r.config,l=s.url,c=s.loadSize,u=s.testCnt,d=s.testTimeStep,h=l+(l.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(r.cnt>=u)){r.cnt++;try{var f=new Date().getTime(),p=null,g=new XMLHttpRequest;r.xhr=g,g.open("GET",h);var m={},y=Math.floor(Math.random()*10);m.Range="bytes="+y+"-"+(c+y),m&&Object.keys(m).forEach(function(b){g.setRequestHeader(b,m[b])}),g.onreadystatechange=function(){if(g.readyState===4){r.xhr=null,p=new Date().getTime();var b=g.getResponseHeader("Content-Length")/1024*8,x=Math.round(b*1e3/(p-f));r.appendList(x),r.timer=setTimeout(r.testSpeed,d)}},g.send()}catch(b){console.error(b)}}}}),yt(ct(r),"appendList",function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cf;if(!(!r.speedListCache||!r.speedListCache[l])){var c=r.config.saveSpeedMax;r.speedListCache[l].length>=c&&r.speedListCache[l].shift(),r.speedListCache[l].push(s);var u=ct(r),d=u.player;d&&(l===cf?d.realTimeSpeed=s:d[r.getSpeedName("realTime",l)]=s),r.updateSpeed(l)}}),yt(ct(r),"updateSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cf,l=r.getSpeed(s),c=ct(r),u=c.player;if(u)if(s===cf)(!u.avgSpeed||l!==u.avgSpeed)&&(u.avgSpeed=l,u.emit(ok,{speed:l,realTimeSpeed:u.realTimeSpeed}));else{var d=r.getSpeedName("avg",s);(!u[d]||l!==u[d])&&(u[d]=l,u.emit(ok,{speed:l,realTimeSpeed:u.realTimeSpeed}))}}),r}return Sn(n,[{key:"afterCreate",value:function(){var i=this.config,o=i.openSpeed,a=i.addSpeedTypeList;(a==null?void 0:a.length)>0&&Dy.push.apply(Dy,Ps(a)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,o&&this.on([Sc,R1],this.startTimer)}},{key:"getSpeedName",value:function(i,o){return i+"Speed"+o.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(i){if(this.config.openSpeed=i,!i&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var i=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([Sc,R1],this.startTimer),Dy.forEach(function(o){i.speedListCache&&i.speedListCache[o]&&(i.speedListCache[o]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),n}($r),sMe=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n,[{key:"afterCreate",value:function(){var i=this,o=this.player,a=this.config,s=o.media||o.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!a.disabled){var l=s.getVideoPlaybackQuality;l&&(this.on(Va,function(){i._startTick()}),this.on(Cp,function(){i._stopTick()}),this.on(kh,function(){i._stopTick()}),this.on(Eh,function(){i._stopTick()}))}}},{key:"_startTick",value:function(){var i=this;this._stopTick(),this._timer=setTimeout(function(){i._checkDecodeFPS(),i._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(i,o){for(var a=!1,s=[],l=0;l<o.length;l++){var c=o.start(l),u=o.end(l);if(s.push({start:c,end:u}),c<=i&&i<=u-1){a=!0;break}}return{enoughBuffer:a,buffers:s}}},{key:"_checkStuck",value:function(i,o,a,s){var l=this.player.media||this.player.video,c=document.hidden,u=l.paused,d=l.readyState,h=l.currentTime,f=l.buffered;if(!(c||u||d<4)){var p=this._checkBuffer(h,f),g=p.enoughBuffer,m=p.buffers;g&&(i<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:h,buffers:m,curDecodedFrames:i,totalVideoFrames:o,droppedVideoFrames:a,checkInterval:s}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(iV,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var i=this.player.media||this.player.video;if(i){var o=i.getVideoPlaybackQuality(),a=o.totalVideoFrames,s=o.droppedVideoFrames,l=performance.now();if(a&&this._lastCheckPoint){var c=a-this._lastDecodedFrames,u=l-this._lastCheckPoint;this._checkStuck(c,a,s,u)}this._lastDecodedFrames=a,this._lastCheckPoint=l}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),n}($r);xf.use(rMe);var lMe=Sn(function t(e,n){var r,i,o;An(this,t);var a=n&&n.isMobileSimulateMode==="mobile",s=n.isLive,l=s?[]:[ILe,hV,JLe,QLe,fV],c=[].concat(l,[dV,uV,MLe,BLe,qLe,KLe,ULe,jLe,pV,FLe]),u=[fLe,pLe,gLe,PLe,vLe,GLe,YLe,ZLe,wLe];this.plugins=[iMe,dLe].concat(Ps(c),u,[yV,oMe]);var d=a?"mobile":lr.device;switch(d){case"pc":(r=this.plugins).push.apply(r,[DI,IC,lk,aMe,sMe]);break;case"mobile":(i=this.plugins).push.apply(i,[TLe]);break;default:(o=this.plugins).push.apply(o,[DI,IC,lk])}(lr.os.isIpad||d==="pc")&&this.plugins.push(nMe),lr.os.isIpad&&this.plugins.push(IC),this.ignores=[],this.i18n=[]}),ko=function(t){Kn(n,t);var e=Gn(n);function n(){return An(this,n),e.apply(this,arguments)}return Sn(n)}(tw);yt(ko,"defaultPreset",lMe);yt(ko,"Util",oe);yt(ko,"Sniffer",lr);yt(ko,"Errors",T1);yt(ko,"Events",R7e);yt(ko,"Plugin",$r);yt(ko,"BasePlugin",Gu);yt(ko,"I18N",xf);yt(ko,"STATE_CLASS",$t);yt(ko,"InstManager",cV);yt(ko,"PlayIcon",dV);yt(ko,"TimeIcon",fV);yt(ko,"Progress",hV);yt(ko,"FullscreenIcon",uV);yt(ko,"CssFullscreenIcon",lk);yt(ko,"VolumeIcon",pV);const cMe={class:"test-xg"},uMe=le({__name:"index",setup(t){const e=_x(),n=V(null);let r=null;jn(()=>{if(!n.value)return;const o=e.query.src;o&&i(o)}),qt(()=>e.query.src,o=>{o&&i(o)}),Rl(()=>{r&&(r.destroy(),r=null)});const i=o=>{n.value&&(r&&(r.destroy(),r=null),r=new ko({id:"test-xg",url:o,height:"100%",width:"100%",autoplay:!0}))};return(o,a)=>(gn(),Pn("div",cMe))}}),dMe=Object.freeze(Object.defineProperty({__proto__:null,default:uMe},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{--vt-c-white: #ffffff;--vt-c-white-soft: #f8f8f8;--vt-c-white-mute: #f2f2f2;--vt-c-black: #181818;--vt-c-black-soft: #222222;--vt-c-black-mute: #282828;--vt-c-indigo: #2c3e50;--vt-c-divider-light-1: rgba(60, 60, 60, .29);--vt-c-divider-light-2: rgba(60, 60, 60, .12);--vt-c-divider-dark-1: rgba(84, 84, 84, .65);--vt-c-divider-dark-2: rgba(84, 84, 84, .48);--vt-c-text-light-1: var(--vt-c-indigo);--vt-c-text-light-2: rgba(60, 60, 60, .66);--vt-c-text-dark-1: var(--vt-c-white);--vt-c-text-dark-2: rgba(235, 235, 235, .64)}:root{--color-background: var(--vt-c-white);--color-background-soft: var(--vt-c-white-soft);--color-background-mute: var(--vt-c-white-mute);--color-border: var(--vt-c-divider-light-2);--color-border-hover: var(--vt-c-divider-light-1);--color-heading: var(--vt-c-text-light-1);--color-text: var(--vt-c-text-light-1);--section-gap: 160px}@media (prefers-color-scheme: dark){:root{--color-background: var(--vt-c-black);--color-background-soft: var(--vt-c-black-soft);--color-background-mute: var(--vt-c-black-mute);--color-border: var(--vt-c-divider-dark-2);--color-border-hover: var(--vt-c-divider-dark-1);--color-heading: var(--vt-c-text-dark-1);--color-text: var(--vt-c-text-dark-2)}}*,*:before,*:after{box-sizing:border-box;margin:0;font-weight:400}body{min-height:100vh;color:var(--color-text);background:var(--color-background);transition:color .5s,background-color .5s;line-height:1.6;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:15px;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#app{margin:0 auto;font-weight:400}a,.green{text-decoration:none;color:#00bd7e;transition:.4s;padding:3px}@media (hover: hover){a:hover{background-color:#00bd7e33}}@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:4px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .1s ease-in-out}.plyr__control svg{display:block;fill:currentColor;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top-color:#ffffffe6;border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 - -2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor 0,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px))/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translate(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc(var(--plyr-range-track-height, 5px)/2*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;height:100%;top:0;right:0;bottom:0;left:0;margin:0;position:fixed;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;cursor:pointer;top:0;right:0;bottom:0;left:0;overflow:hidden;position:absolute;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius, 8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px #00000026;content:"";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius, 8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius, 8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{filter:blur(1px);height:100%;top:0;right:0;bottom:0;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}.el-vue-amap-container{height:100%;position:relative}.el-vue-amap-container .el-vue-amap{height:100%}.el-vue-search-box-container{position:absolute;left:16px;top:16px;z-index:10;width:360px;height:45px;background:#fff;box-shadow:0 2px 2px #00000026;border-radius:2px 3px 3px 2px}.el-vue-search-box-container input{height:100%;width:100%;line-height:45px;letter-spacing:.5px;font-size:14px;text-indent:10px;box-sizing:border-box;border:none;outline:none}.app[data-v-6f1d907b]{display:flex}.app .nav[data-v-6f1d907b]{padding:0;margin:0;display:flex;flex-direction:column}.app .line[data-v-6f1d907b]{width:1px;background-color:#eee;height:100vh}.app .router[data-v-6f1d907b]{flex:1;flex-direction:column;display:flex;overflow-y:hidden}.markdown-content{padding:0 12px;line-height:1.6;font-size:14px;word-wrap:break-word;overflow-wrap:break-word}.markdown-content h1,.markdown-content h2,.markdown-content h3,.markdown-content h4,.markdown-content h5,.markdown-content h6{margin-top:24px;margin-bottom:16px;font-weight:500;line-height:1.4}.markdown-content h1{font-size:22px;border-bottom:1px solid #e0e0e0;padding-bottom:12px}.markdown-content h2{font-size:18px}.markdown-content h3{font-size:16px}.markdown-content p{margin-bottom:16px;text-align:justify}.markdown-content ul,.markdown-content ol{margin-bottom:16px;padding-left:20px}.markdown-content li{margin-bottom:8px}.markdown-content a{color:#1890ff;text-decoration:none}.markdown-content code{background:#f5f5f5;padding:2px 6px;border-radius:4px;font-size:13px}.markdown-content pre{background:#f5f5f5;padding:12px;border-radius:8px;overflow-x:auto;margin-bottom:16px;font-size:13px}.markdown-content pre code{background:transparent;padding:0}.markdown-content img{max-width:100%;height:auto;display:block;margin:16px 0}.markdown-content table{width:100%;border-collapse:collapse;margin-bottom:16px;display:block;overflow-x:auto}.markdown-content th,.markdown-content td{border:1px solid #e0e0e0;padding:8px 12px;text-align:left}.markdown-content th{background:#fafafa;font-weight:500}.markdown-content blockquote{border-left:4px solid #1890ff;padding:8px 16px;margin:16px 0;background:#f0f7ff;color:#555}@media (max-width: 768px){.markdown-content{font-size:14px}.markdown-content h1{font-size:20px}.markdown-content h2{font-size:17px}.markdown-content h3{font-size:15px}.markdown-content pre{padding:10px;font-size:13px}.markdown-content code{font-size:13px}.markdown-content th,.markdown-content td{padding:6px 8px;font-size:13px}}.test-login[data-v-6b5487a9]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-card[data-v-6b5487a9]{width:100%;max-width:400px}.test-plyr{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh;background:#000;overflow:hidden}.test-plyr video{width:100%;height:100%;background:#000}.plyr__control[data-plyr=play]:hover{background:transparent!important;box-shadow:none!important}.test-dplayer{width:100vw;height:100vh;background:#000;display:flex;justify-content:center;align-items:center}.test-dplayer .dplayer-full,.test-dplayer .dplayer-full-in-icon,.test-dplayer .dplayer-volume-bar-wrap,.test-dplayer .dplayer-bar-time,.test-dplayer .dplayer-airplay,.test-dplayer .dplayer-cast,.test-dplayer .dplayer-menu.dplayer-menu-show,.test-dplayer .dplayer-notice{display:none!important}.test-dplayer .dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(0)!important}.xgplayer-fullscreen-parent{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999}.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-cssfullscreen,.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-fullscreen{z-index:10;position:absolute}.xgplayer-rotate-parent{position:fixed;top:0;left:100%;bottom:0;right:0;width:100vh;height:100vw;z-index:9999;transform-origin:top left;transform:rotate(90deg)}.xgplayer-rotate-parent .xgplayer.xgplayer-rotate-fullscreen{position:absolute;top:0;left:0;z-index:10;margin:0;padding:0;width:100%;height:100%;transform:rotate(0)}.xgplayer-rotate-parent .xgplayer-mobile video{z-index:-1}.xgplayer{position:relative;width:100%;height:100%;overflow:hidden;font-family:PingFang SC,Helvetica Neue,Helvetica,STHeiTi,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;font-size:14px;font-weight:400;background:#000;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.xgplayer *{margin:0;padding:0;border:0;vertical-align:baseline;white-space:normal;word-wrap:normal;overflow-wrap:normal}.xgplayer ul,.xgplayer li{list-style:none}.xgplayer .xgplayer-none{display:none}.xgplayer.xgplayer-is-fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;margin:0;padding:0;z-index:9999}.xgplayer.xgplayer-is-cssfullscreen{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999}.xgplayer.xgplayer-rotate-fullscreen{position:fixed;top:0;left:100%;bottom:0;right:0;width:100vh;height:100vw;transform-origin:top left;transform:rotate(90deg);z-index:9999}.xgplayer.xgplayer-rotate-fullscreen.xgplayer-mobile video{z-index:-1}.xgplayer xg-video-container.xg-video-container{position:absolute;top:0;bottom:48px;display:block;width:100%}.xgplayer video{position:absolute;top:0;left:0;width:100%;height:100%;outline:none}.xgplayer[data-xgfill=contain] video{-o-object-fit:contain;object-fit:contain}.xgplayer[data-xgfill=cover] video{-o-object-fit:cover;object-fit:cover}.xgplayer[data-xgfill=fill] video{-o-object-fit:fill;object-fit:fill}.xgplayer .xg-pos{left:10px;right:10px}.xgplayer .xg-margin{margin-left:16px;margin-right:16px}.xgplayer .xg-bottom{bottom:0}.xgplayer .btn-text{position:relative;top:50%;height:24px;font-size:13px;text-align:center}.xgplayer .btn-text span{display:inline-block;min-width:52px;height:24px;line-height:24px;background:#00000061;border-radius:12px}.xgplayer xg-icon{position:relative;box-sizing:border-box;height:40px;margin-left:16px;margin-right:16px;cursor:pointer;color:#fffc;fill:#fff}.xgplayer xg-icon.xg-icon-disable{cursor:not-allowed}.xgplayer xg-icon .xg-tips{top:-30px;left:50%;transform:translate(-50%)}.xgplayer xg-icon:active .xg-tips,.xgplayer xg-icon:hover .xg-tips{display:block}.xgplayer xg-icon:active .xg-tips.hide,.xgplayer xg-icon:hover .xg-tips.hide{display:none}.xgplayer xg-icon .xgplayer-icon{position:relative;top:50%;transform:translateY(-50%);cursor:pointer}.xgplayer xg-icon .xg-icon-disable{cursor:not-allowed}.xgplayer xg-icon .xg-img{width:100%}.xgplayer xg-icon svg,.xgplayer xg-icon img{height:100%;display:block}.xgplayer xg-bar{display:block}.xgplayer.xgplayer-inactive xg-bar,.xgplayer.xgplayer-mini xg-bar{display:none}.xgplayer.xgplayer-inactive .xg-top-bar{display:flex}.xgplayer.xgplayer-inactive .xg-top-bar.top-bar-autohide{display:none}.xgplayer .xg-top-bar{position:absolute;z-index:10;top:0;padding:0 16px;display:flex;height:50px}.xgplayer .xg-top-bar xg-icon{position:relative;top:10px;left:0;width:34px;margin-top:0}.xgplayer .xg-top-bar xg-icon:first-child{margin-left:0}.xgplayer .xg-left-bar,.xgplayer .xg-right-bar{position:absolute;z-index:9;top:50px;bottom:50px;width:50px}.xgplayer .xg-left-bar{left:0}.xgplayer .xg-right-bar{right:0}.xgplayer .xg-tips{display:none;position:absolute;padding:4px 6px;background:#0000008a;border-radius:4px;font-size:12px;color:#fff;text-align:center;white-space:nowrap;opacity:.85}.xgplayer .xg-margin{left:0;right:0}.xgplayer-mobile{-webkit-tap-highlight-color:rgba(0,0,0,0)}.xgplayer-mobile *{text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-pos{left:6%;right:6%}.xgplayer-mobile xg-icon:hover .xg-tips{display:none}.xg-list-slide-scroll::-webkit-scrollbar-track{background-color:transparent;display:none}.xg-list-slide-scroll:hover::-webkit-scrollbar-track{display:block}.xg-list-slide-scroll::-webkit-scrollbar{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#0000;height:4px;width:4px}.xg-list-slide-scroll::-webkit-scrollbar-corner{background:transparent;display:none}.xg-list-slide-scroll::-webkit-scrollbar-thumb{background:#ffffff80;border-radius:3px;display:none;width:4px}.xg-list-slide-scroll:hover::-webkit-scrollbar-thumb{display:block}@media only screen and (max-width: 480px){.xgplayer-mobile xg-icon{margin-right:10px;margin-left:10px}.xgplayer-mobile .xg-top-bar{left:10px;right:10px}}@media screen and (orientation: portrait){.xgplayer-mobile.xgplayer-is-fullscreen .xgplayer-controls,.xgplayer-mobile.xgplayer-is-cssfullscreen .xgplayer-controls{bottom:34px;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-is-cssfullscreen .xg-top-bar{top:34px;top:constant(safe-area-inset-top);top:env(safe-area-inset-top)}}@media only screen and (orientation: landscape){.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-is-fullscreen .xg-pos{left:6%;right:6%}.xgplayer-mobile.xgplayer-rotate-fullscreen{left:0;width:100vw;height:100vh;transform:rotate(0)}}.xgplayer .xgplayer-screen-container{display:block;width:100%}.xgplayer .xg-options-icon{display:none;cursor:pointer}.xgplayer .xg-options-icon.show{display:block}@keyframes xg_right_options_active{0%{transform:translate(50%)}to{transform:translate(-50%)}}@keyframes xg_right_options_hide{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_active{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_hide{0%{transform:translate(50%)}to{transform:translate(-50%)}}.xgplayer .xg-options-list{display:none;position:absolute;z-index:5;width:78px;right:50%;bottom:100%;background:#0000008a;border-radius:1px;transform:translate(50%);cursor:pointer;overflow:auto;height:0;opacity:.85;font-size:14px;color:#fffc}.xgplayer .xg-options-list li{height:20px;line-height:20px;position:relative;padding:4px 0;text-align:center;color:#fffc}.xgplayer .xg-options-list li:hover,.xgplayer .xg-options-list li.selected{color:red;opacity:1}.xgplayer .xg-options-list li:nth-child(1){position:relative;margin-top:12px}.xgplayer .xg-options-list li:last-child{position:relative;margin-bottom:12px}.xgplayer .xg-options-list:hover{opacity:1}.xgplayer .xg-options-list.active{display:block;height:auto}.xgplayer .xg-options-list.xg-side-list{width:20%;height:100%;bottom:0;background:#000000e6;display:flex;flex-direction:column;box-sizing:border-box}.xgplayer .xg-options-list.xg-side-list li{flex:1;width:100%;padding:0;position:relative}.xgplayer .xg-options-list.xg-side-list li span{display:block;position:relative;top:50%;transform:translateY(-50%);pointer-events:none}.xgplayer .xg-options-list.xg-side-list li:nth-child(1){margin-top:20px}.xgplayer .xg-options-list.xg-side-list li:last-child{margin-bottom:20px}.xgplayer .xg-options-list.xg-right-side{right:-10.5%}.xgplayer .xg-options-list.xg-right-side.active{height:100%;animation:xg_right_options_active .2s ease-out forwards}.xgplayer .xg-options-list.xg-right-side.hide{height:100%;animation:xg_right_options_hide .2s ease-in forwards}.xgplayer .xg-options-list.xg-left-side{left:-10.5%;transform:translate(-50%)}.xgplayer .xg-options-list.xg-left-side.active{height:100%;animation:xg_left_options_active .2s ease-out forwards}.xgplayer .xg-options-list.xg-left-side.hide{height:100%;animation:xg_left_options_hide .2s ease-in forwards}@media only screen and (max-width: 480px){.xgplayer-mobile .xg-options-icon.portrait{display:none}.xgplayer-mobile .xg-options-list li:hover{color:#fffc}.xgplayer-mobile .xg-options-list li.selected{color:red}}.xgplayer.not-allow-autoplay .xgplayer-controls,.xgplayer.xgplayer-nostart .xgplayer-controls,.xgplayer.xgplayer-inactive .controls-autohide{pointer-events:none;visibility:hidden;cursor:default;opacity:0}.xgplayer.not-allow-autoplay .xgplayer-controls-initshow,.xgplayer.xgplayer-nostart .xgplayer-controls-initshow{pointer-events:auto;visibility:visible;opacity:1}.xgplayer .xgplayer-controls{display:block;position:absolute;visibility:visible;height:48px;left:0;right:0;bottom:0;opacity:1;z-index:10;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));transition:opacity .5s ease,visibility .5s ease}.xgplayer .xgplayer-controls.show{display:block;opacity:1;visibility:visible;pointer-events:auto}.xgplayer .xg-inner-controls{position:absolute;height:40px;bottom:0;justify-content:space-between;display:flex}.xgplayer .xg-left-grid,.xgplayer .xg-right-grid{position:relative;display:flex;flex-wrap:wrap;flex-shrink:1;height:100%;z-index:1}.xgplayer .xg-right-grid{flex-direction:row-reverse}.xgplayer .xg-right-grid>:first-child{margin-right:0}.xgplayer .xg-right-grid xg-icon{margin-left:0}.xgplayer .xg-left-grid>:first-child{margin-left:0}.xgplayer .xg-left-grid xg-icon{margin-right:0}.xgplayer .xg-center-grid{display:block;position:absolute;left:0;right:0;outline:none;top:-20px;padding:5px 0;text-align:center}.xgplayer .flex-controls .xg-inner-controls{justify-content:space-around;display:flex;bottom:8px}.xgplayer .flex-controls .xg-center-grid{display:flex;flex:1;position:relative;top:0;height:100%;justify-content:space-between;align-items:center;left:0;right:0;padding:0 16px}.xgplayer.xgplayer-mobile .xg-center-grid{z-index:2}.xgplayer.xgplayer-mobile .flex-controls .xg-center-grid{padding:0 8px}.xgplayer .bottom-controls .xg-center-grid{top:20px;padding:0}.xgplayer .bottom-controls .xg-left-grid,.xgplayer .bottom-controls .xg-right-grid{bottom:10px}.xgplayer .mini-controls{background-image:none}.xgplayer .mini-controls .xg-inner-controls{bottom:0;left:0;right:0}.xgplayer .mini-controls .xg-center-grid{bottom:-28px;top:auto;padding:0}.xgplayer .mini-controls .xg-left-grid,.xgplayer .mini-controls .xg-right-grid{display:none}.xgplayer .controls-follow{bottom:70px;transition:bottom .3s ease}.xgplayer.flex-controls .controls-follow{bottom:45px}.xgplayer.xgplayer-inactive .controls-follow,.xgplayer.no-controls .controls-follow,.xgplayer.mini-controls .controls-follow{bottom:10px}.xgplayer .xgplayer-cssfullscreen .xg-get-cssfull{display:block}.xgplayer .xgplayer-cssfullscreen .xg-exit-cssfull,.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-get-cssfull{display:none}.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-exit-cssfull{display:block}.xgplayer .xgplayer-fullscreen .xg-exit-fullscreen{display:none}.xgplayer .xgplayer-fullscreen .xg-get-fullscreen,.xgplayer .xgplayer-fullscreen[data-state=full] .xg-exit-fullscreen{display:block}.xgplayer .xgplayer-fullscreen[data-state=full] .xg-get-fullscreen{display:none}.xgplayer .xg-top-bar .xgplayer-back{position:relative;left:0;top:16px;width:34px;height:40px;display:none}.xgplayer .xg-top-bar .xgplayer-back.show{display:block}.xgplayer .xgplayer-play .xg-icon-play{display:none}.xgplayer .xgplayer-play .xg-icon-pause,.xgplayer .xgplayer-play[data-state=pause] .xg-icon-play{display:block}.xgplayer .xgplayer-play[data-state=pause] .xg-icon-pause{display:none}.xgplayer .xgplayer-progress{display:flex;align-items:center;position:relative;min-width:10px;height:20px;left:0;right:0;top:0;outline:none;flex:1;cursor:pointer}.xgplayer .xgplayer-progress-outer{position:relative;width:100%;height:2px;border-radius:3px;cursor:pointer}.xgplayer .progress-list{display:flex;height:100%;width:100%;border-radius:inherit}.xgplayer .xgplayer-progress-inner{position:relative;flex:1;height:100%;background:#ffffff4d;transition:height .2s ease-in,opacity .2s ease-out;border-radius:inherit;margin-right:2px;pointer-events:none}.xgplayer .xgplayer-progress-inner:last-child,.xgplayer .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer .inner-focus-point{background:#fff;position:relative}.xgplayer .inner-focus-point:before,.xgplayer .inner-focus-point:after{position:absolute;content:" ";display:block;width:2px;height:300%;top:50%;z-index:1;transform:translateY(-50%);border-radius:3px;background:#fff}.xgplayer .inner-focus-point:before{left:0}.xgplayer .inner-focus-point:after{right:0}.xgplayer .xgplayer-progress-cache,.xgplayer .xgplayer-progress-played{display:block;height:100%;width:0;position:absolute;top:0;left:0;border-radius:inherit}.xgplayer .xgplayer-progress-played{background:linear-gradient(-90deg,#fa1f41,#e31106)}.xgplayer .xgplayer-progress-cache{background:#ffffff80}.xgplayer .xgplayer-progress-btn{display:block;background:#ff5e5e4e;border:.5px solid rgba(255,94,94,.056545);box-shadow:0 0 1px #ff000062;width:20px;height:20px;border-radius:30px;left:0;top:50%;position:absolute;z-index:1;transform:translate(-50%,-50%);box-sizing:border-box;pointer-events:none}.xgplayer .xgplayer-progress-btn:before{content:" ";display:block;position:relative;width:12px;height:12px;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:30px;background:#fff}.xgplayer .xgplayer-progress-btn.active{border:4px solid rgba(255,94,94,.064057)}.xgplayer .xgplayer-progress-btn.active:before{box-shadow:0 0 3px #f85959b0}.xgplayer .xgplayer-progress-dot{display:inline-block;position:absolute;height:100%;width:5px;top:0;background:#fff;border-radius:6px;z-index:16}.xgplayer .xgplayer-progress-dot .xgplayer-progress-tip{position:absolute;left:25%;top:-40px;height:auto;line-height:30px;width:auto;transform:scale(.8) translate(-50%);background:#0000004d;border-radius:6px;border:1px solid rgba(0,0,0,.8);cursor:default;white-space:nowrap;display:none}.xgplayer .xgplayer-progress-dot:hover .xgplayer-progress-tip{display:block}.xgplayer .flex-controls .xgplayer-progress{transform:translateY(0)}.xgplayer.xgplayer-pc .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(0)}.xgplayer.xgplayer-pc .xgplayer-progress-outer{height:3px}.xgplayer.xgplayer-pc .xgplayer-progress-inner{margin-right:4px}.xgplayer.xgplayer-pc .xgplayer-progress-inner:last-child,.xgplayer.xgplayer-pc .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer.xgplayer-pc .inner-focus-point:before,.xgplayer.xgplayer-pc .inner-focus-point:after{width:3px}.xgplayer.xgplayer-pc .inner-focus-highlight{background:#fffc}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-outer{height:6px;margin-bottom:3px;transition:height .3s ease,margin-bottom .3s ease}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(1)}.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:before,.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:after{width:6px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-outer{top:9px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-btn:before{height:6px;width:6px}.xgplayer.xgplayer-mobile .xgplayer-progress-bottom .xgplayer-progress-outer{height:4px}@media (prefers-color-scheme: dark){.xgplayer .xgplayer-progress .xgplayer-progress-inner{background-color:#ffffff4d}.xgplayer .xgplayer-progress .inner-focus-highlight{background:#fffc}.xgplayer .xgplayer-progress .xgplayer-progress-btn{background:#ff5e5e4e;border:.5px solid rgba(255,94,94,.056545);box-shadow:0 0 1px #ff000062}.xgplayer .xgplayer-progress .xgplayer-progress-btn:before{background-color:#fff}.xgplayer .xgplayer-progress .xgplayer-progress-played{background-color:linear-gradient(-90deg,#FA1F41 0%,#E31106 100%)}.xgplayer .xgplayer-progress .xgplayer-progress-cache{background-color:#ffffff80}}.xg-mini-progress{display:none;position:absolute;height:2px;left:0;right:0;bottom:0;pointer-events:none}.xg-mini-progress xg-mini-progress-played,.xg-mini-progress xg-mini-progress-cache{height:100%;width:0;position:absolute;top:0;left:0;border-radius:inherit}.xg-mini-progress xg-mini-progress-played{background:linear-gradient(-90deg,#fa1f41,#e31106)}.xg-mini-progress xg-mini-progress-cache{background:#ffffff80}.xg-mini-progress-show,.xgplayer-inactive .xg-mini-progress,.xgplayer-mini .xg-mini-progress{display:block}.xgplayer .xgplayer-time{pointer-events:none;min-width:40px;font-size:14px;font-family:PingFangSC-Semibold;color:#fff;text-align:center;display:inline-block;line-height:40px}.xgplayer .xgplayer-time span{display:inline-block;line-height:40px;height:40px}.xgplayer .xgplayer-time span .time-min-width{text-align:center;min-width:2ch}.xgplayer .xgplayer-time span .time-min-width:first-child{text-align:right}.xgplayer .xgplayer-time span .time-min-width:last-child{text-align:left}.xgplayer .xgplayer-time .time-duration{color:#ffffff80}.xgplayer .xgplayer-time .time-live-tag{display:none}.xgplayer .xgplayer-time.xg-time-left{margin-left:0}.xgplayer .xgplayer-time.xg-time-right{margin-right:0}.xgplayer.xgplayer-mobile .xgplayer-time{min-width:30px;font-size:12px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-left{margin-right:8px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-right{margin-left:8px}.xgplayer .xgplayer-volume.slide-show .xgplayer-slider{display:block}.xgplayer .xgplayer-slider{display:none;position:absolute;width:28px;height:92px;background:#0000008a;border-radius:1px;bottom:40px;outline:none}.xgplayer .xgplayer-slider:after{content:" ";display:block;height:15px;width:28px;position:absolute;bottom:-15px;left:0;z-index:20;cursor:initial}.xgplayer .xgplayer-value-label{position:absolute;left:0;right:0;bottom:100%;padding:5px 0 0;font-size:12px;background-color:#0000008a;color:#fff;text-align:center}.xgplayer .xgplayer-bar,.xgplayer .xgplayer-drag{display:block;position:absolute;bottom:6px;left:12px;background:#ffffff4d;border-radius:100px;width:4px;height:76px;outline:none;cursor:pointer}.xgplayer .xgplayer-drag{bottom:0;left:0;background:#fa1f41;max-height:76px}.xgplayer .xgplayer-drag:after{content:" ";display:inline-block;width:8px;height:8px;background:#fff;box-shadow:0 0 5px #00000042;position:absolute;border-radius:50%;left:-2px;top:-4px}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume{display:block}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=small] .xg-volume{display:none}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-small{display:block}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-small{display:none}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-mute{display:block}.xgplayer.xgplayer-mobile .xgplayer-volume .xgplayer-slider,.xgplayer-replay{display:none}.xgplayer .xgplayer-replay{display:none;position:absolute;left:50%;top:50%;width:100px;height:100px;justify-content:center;align-items:center;flex-direction:column;z-index:5;transform:translate(-50%,-50%);cursor:pointer}.xgplayer .xgplayer-replay .xgplayer-replay-txt{display:inline-block;font-size:14px;color:#fff;line-height:34px;text-align:center}.xgplayer.xgplayer-mobile .xgplayer-replay-svg{width:50px;height:50px}.xgplayer.xgplayer-mobile .xgplayer-replay-txt{line-height:24px;font-size:12px}.xgplayer .xgplayer-poster{display:block;opacity:1;visibility:visible;position:absolute;left:0;top:0;width:100%;height:100%;background-position:center center;background-size:100% auto;background-repeat:no-repeat;transition:opacity .3s ease,visibility .3s ease;pointer-events:none}.xgplayer .xgplayer-poster.hide,.xgplayer.xgplayer-playing .xgplayer-poster{opacity:0;visibility:hidden}.xgplayer.xgplayer-playing .xg-not-hidden,.xgplayer.xgplayer-is-enter .xgplayer-poster.xg-showplay,.xgplayer.xgplayer-playing .xgplayer-poster.xg-showplay,.xgplayer.xgplayer-nostart .xgplayer-poster,.xgplayer.xgplayer-ended .xgplayer-poster,.xgplayer.not-allow-autoplay .xgplayer-poster{opacity:1;visibility:visible}.xgplayer.xgplayer-nostart .xgplayer-poster.hide,.xgplayer.xgplayer-ended .xgplayer-poster.hide,.xgplayer.not-allow-autoplay .xgplayer-poster.hide{opacity:0;visibility:hidden}@keyframes playPause{0%{transform:scale(1);opacity:1}99%{transform:scale(1.3);opacity:0}to{transform:scale(1);opacity:0}}.xgplayer xg-start-inner{display:block;width:100%;height:100%;overflow:hidden;border-radius:50%;background:#00000061}.xgplayer .xgplayer-start{width:70px;height:70px;position:absolute;left:50%;top:50%;z-index:5;transform:translate(-50%,-50%);cursor:pointer}.xgplayer .xgplayer-start svg{width:100%;height:100%}.xgplayer .xgplayer-start.hide,.xgplayer .xgplayer-start.focus-hide{display:none;pointer-events:none}.xgplayer .xgplayer-start:hover{opacity:.85}.xgplayer .xgplayer-start .xg-icon-play{display:block}.xgplayer .xgplayer-start .xg-icon-pause,.xgplayer .xgplayer-start[data-state=pause] .xg-icon-play{display:none}.xgplayer .xgplayer-start[data-state=pause] .xg-icon-pause,.xgplayer .xgplayer-start.interact{display:block}.xgplayer .xgplayer-start.interact xg-start-inner{animation:playPause .4s .1s ease-out forwards}.xgplayer .xgplayer-start.show{display:block}.xgplayer.xgplayer-mobile xg-start-inner{background:initial;border-radius:0}.xgplayer.xgplayer-mobile .xgplayer-start{height:50px;width:50px}.xgplayer.xgplayer-mobile .xgplayer-start:hover{opacity:1}.xgplayer.xgplayer-inactive .xgplayer-start.auto-hide,.xgplayer.xgplayer-is-enter .xgplayer-start.auto-hide,.xgplayer.xgplayer-isloading.xgplayer-playing .xgplayer-start,.xgplayer.xgplayer-is-enter .xgplayer-start,.xgplayer.xgplayer-is-error .xgplayer-start,.xgplayer.xgplayer-is-enter .xgplayer-start.show,.xgplayer.xgplayer-is-error .xgplayer-start.show{display:none}.xgplayer-enter{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:#000c;z-index:5;pointer-events:none}.xgplayer-enter .show{display:block}.xgplayer-enter .xgplayer-enter-spinner{display:block;position:absolute;z-index:1;left:50%;top:50%;height:100px;width:100px;transform:translate(-50%,-50%)}.xgplayer-enter .xgplayer-enter-spinner div{width:6%;height:13%;background-color:#ffffffb3;position:absolute;left:45%;top:45%;opacity:0;border-radius:30px;animation:fade 1s linear infinite}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar1{transform:rotate(0) translateY(-140%);animation-delay:-0s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar2{transform:rotate(30deg) translateY(-140%);animation-delay:-.9163s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar3{transform:rotate(60deg) translateY(-140%);animation-delay:-.833s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar4{transform:rotate(90deg) translateY(-140%);animation-delay:-.7497s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar5{transform:rotate(120deg) translateY(-140%);animation-delay:-.6664s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar6{transform:rotate(150deg) translateY(-140%);animation-delay:-.5831s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar7{transform:rotate(180deg) translateY(-140%);animation-delay:-.4998s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar8{transform:rotate(210deg) translateY(-140%);animation-delay:-.4165s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar9{transform:rotate(240deg) translateY(-140%);animation-delay:-.3332s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar10{transform:rotate(270deg) translateY(-140%);animation-delay:-.2499s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar11{transform:rotate(300deg) translateY(-140%);animation-delay:-.1666s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar12{transform:rotate(330deg) translateY(-142%);animation-delay:-.0833s}@keyframes fade{0%{opacity:1}to{opacity:.25}}.xgplayer.xgplayer-is-enter .xgplayer-enter{display:block;opacity:1;transition:opacity .3s}.xgplayer.xgplayer-nostart .xgplayer-enter{display:none}.xgplayer.xgplayer-mobile .xgplayer-enter .xgplayer-enter-spinner{width:70px;height:70px}.xg-mini-layer{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:11;background:linear-gradient(180deg,#393939e6,#39393900 50.27%)}.xg-mini-layer .mask{pointer-events:none;position:absolute;top:0;left:0;height:100%;width:100%;background-color:#0006}.xg-mini-layer xg-mini-header{display:flex;top:0;left:0;right:40px;box-sizing:border-box;padding:10px 3px 0 8px;justify-content:space-between;color:#fff;font-size:14px;position:absolute;z-index:22}.xg-mini-layer xg-mini-header .xgplayer-pip-disableBtn{pointer-events:all}.xg-mini-layer xg-mini-header #disabledMini{display:none;position:relative}.xg-mini-layer xg-mini-header #disabledMini+label{cursor:pointer;position:relative;display:flex;align-items:center}.xg-mini-layer xg-mini-header #disabledMini+label:before{content:"";color:#ff142b;background-color:transparent;border-radius:2px;border:solid 1px #cdcdcd;width:16px;height:16px;display:inline-block;text-align:center;vertical-align:middle;line-height:16px;margin-right:7px}.xg-mini-layer xg-mini-header #disabledMini:checked+label{color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:after{content:"";position:absolute;width:4px;height:8px;border-color:#ff142b;border-style:solid;border-width:0px 2px 2px 0px;transform:rotate(45deg);left:6px;top:5px}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn xg-tips{position:absolute;padding:4px 6px;white-space:nowrap;bottom:-30px;right:15px;border-radius:4px;background-color:#0000008a;display:none}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label{color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover xg-tips{display:block}.xg-mini-layer .mini-cancel-btn{cursor:pointer;display:block;color:#fff;width:40px;height:38px;position:absolute;right:0;top:0;text-align:center;line-height:38px}.xg-mini-layer .play-icon{cursor:pointer;height:48px;width:48px;position:absolute;background:#0000008a;border-radius:24px;top:50%;left:50%;margin:-24px 0 0 -24px}.xg-mini-layer .play-icon svg,.xg-mini-layer .play-icon img{width:50px;height:50px;fill:#faf7f7}.xg-mini-layer .xg-icon-play{display:none}.xg-mini-layer .xg-icon-pause,.xg-mini-layer[data-state=pause] .xg-icon-play{display:block}.xg-mini-layer[data-state=pause] .xg-icon-pause{display:none}.xgplayer-miniicon{position:relative;outline:none;display:block}.xgplayer-miniicon .name{text-align:center;font-size:13px;line-height:20px;height:20px;color:#fffc;line-height:40px}.xgplayer-miniicon .name span{font-size:13px;width:60px;height:20px;line-height:20px;background:#00000061;border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-mini{position:fixed;width:320px;height:180px;z-index:91;box-shadow:0 4px 7px 2px #0003}.xgplayer-mini:hover{cursor:move}.xgplayer-mini:hover .xg-mini-layer{display:block}.xgplayer-mini.xgplayer-ended .xg-mini-layer{display:none}.xgplayer-mobile .xg-mini-layer .play-icon{background:none;border-radius:initial}.xgplayer.xgplayer-inactive{cursor:none}.xgplayer xg-thumbnail{display:block}.xgplayer xg-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;top:0;left:0;height:100%;width:100%}.xgplayer xg-trigger .time-preview{display:none;position:absolute;width:200px;margin:0 auto;padding:0 20px 30px;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;text-shadow:0 0 1px rgba(0,0,0,.54);font-size:18px;text-align:center;pointer-events:none}.xgplayer xg-trigger .time-preview span{line-height:24px}.xgplayer xg-trigger .time-preview .xg-cur{color:red}.xgplayer xg-trigger .time-preview .xg-separator{font-size:14px}.xgplayer xg-trigger .time-preview .xg-seek-show{transform:translate(-10px)}.xgplayer xg-trigger .time-preview .xg-seek-show.xg-back .xg-seek-pre{transform:rotate(180deg) translate(-5px)}.xgplayer xg-trigger .time-preview .xg-seek-show.hide-seek-icon .xg-seek-icon{display:none}.xgplayer xg-trigger .time-preview .xg-bar{width:96px;height:2px;margin:8px auto 0;border-radius:10px;box-sizing:content-box;background:#ffffff4d}.xgplayer xg-trigger .time-preview .xg-bar .xg-curbar{width:0;height:100%;background-color:red}.xgplayer xg-trigger .time-preview .xg-bar.hide{display:none}.xgplayer xg-trigger .mobile-thumbnail{position:relative;left:50%;transform:translate(-50%)}.xgplayer xg-trigger .xg-top-note{position:absolute;height:32px;width:135px;top:26px;left:50%;margin-left:-78px;background:#0000004d;border-radius:100px;color:#fff}.xgplayer xg-trigger .xg-top-note span{display:block;line-height:32px;height:32px;font-size:13px;text-align:center}.xgplayer xg-trigger .xg-top-note i{color:red;margin:0 5px}.xgplayer xg-trigger .xg-playbackrate{display:none}.xgplayer xg-trigger[data-xg-action=seeking] .time-preview{display:block}.xgplayer xg-trigger[data-xg-action=playbackrate] .xg-playbackrate{display:block}.xgplayer .gradient{display:none;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;background-image:linear-gradient(#0009,#0000005c 20%,#0000 36%,#0000 70%,#0000003d 77%,#0000005c 83%,#0009)}.xgplayer .gradient.top{background-image:linear-gradient(#0009,#0000005c 20%,#0000 36%,#0000 70%)}.xgplayer .gradient.bottom{background-image:linear-gradient(#0000 70%,#0000003d 77%,#0000005c 83%,#0009)}.xgplayer .gradient.none,.xgplayer-mobile .xgplayer-controls{background-image:initial}.xgplayer-mobile.xgplayer-playing .gradient{display:block}.xgplayer-mobile.xgplayer-inactive .gradient{background-image:initial}.xgplayer-mobile .xgmask{position:absolute;height:100%;z-index:10;top:0;left:0;width:100%;pointer-events:none;background-color:#0000}@media (prefers-color-scheme: dark){.xgplayer-mobile xg-trigger .time-preview{color:#fff}.xgplayer-mobile xg-trigger .time-preview span.xg-cur{color:red}.xgplayer-mobile xg-trigger .time-preview .xg-bar{background-color:#ffffff4d}.xgplayer-mobile xg-trigger .time-preview .xg-bar.xg-curbar{background-color:red}}@keyframes loadingRotate{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(360deg)}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}xg-loading-inner{display:block;height:100%;width:100%;transform-origin:center;animation:loadingRotate 1s .1s linear infinite}.xgplayer-loading{display:none;width:70px;height:70px;overflow:hidden;position:absolute;z-index:10;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}.xgplayer-loading svg,.xgplayer-loading img{width:100%;height:100%}.xgplayer-mobile .xgplayer-loading{width:50px;height:50px}.xgplayer-isloading .xgplayer-loading{display:block}.xgplayer-nostart .xgplayer-loading,.xgplayer-pause .xgplayer-loading,.xgplayer-is-enter .xgplayer-loading,.xgplayer-is-ended .xgplayer-loading,.xgplayer-is-error .xgplayer-loading,.xgplayer .xgplayer-pip .xg-exit-pip{display:none}.xgplayer .xgplayer-pip .xg-get-pip,.xgplayer .xgplayer-pip[data-state=pip] .xg-exit-pip{display:block}.xgplayer .xgplayer-pip[data-state=pip] .xg-get-pip{display:none}.xgplayer .xgplayer-playnext{position:relative;display:none;cursor:pointer}.xgplayer .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext{display:block}.xgplayer .xgplayer-playnext:hover{opacity:.85}.xgplayer .xgplayer-playnext:hover .xgplayer-tips{display:block}.lang-is-en .xgplayer-playnext .xgplayer-tips{margin-left:-25px}.lang-is-jp .xgplayer-playnext .xgplayer-tips{margin-left:-38px}.xgplayer .xgplayer-download{position:relative;display:block;cursor:pointer}.lang-is-en .xgplayer-download .xgplayer-tips{margin-left:-32px}.lang-is-jp .xgplayer-download .xgplayer-tips{margin-left:-40px}.xgplayer .xgplayer-shot{display:none}.xgplayer-definition{display:none;cursor:pointer}.xgplayer .xgplayer-playbackrate{display:none;cursor:default}.xgplayer-error{background:#000;display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:6;color:#fff;text-align:center;line-height:100%;justify-content:center;align-items:center}.xgplayer-error .xgplayer-error-refresh{color:#fa1f41;padding:0 3px;cursor:pointer}.xgplayer-error .xgplayer-error-text{line-height:18px;margin:auto 6px 20px;display:block}.xgplayer-is-error .xgplayer-error{display:flex}.xgplayer .xgplayer-prompt{display:block;pointer-events:none;position:absolute;z-index:1;padding:6px 12px 5px;opacity:0;left:10px;background:#00000080;border-radius:50px;font-size:12px;line-height:17px;text-align:center;color:#fff}.xgplayer .xgplayer-prompt.show{display:block;opacity:1;z-index:10;pointer-events:initial}.xgplayer .xgplayer-prompt.arrow{transform:translate(-50%)}.xgplayer .xgplayer-prompt.arrow:after{content:"";display:block;position:absolute;left:50%;bottom:0;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid rgba(0,0,0,.5);transform:translate(-50%,100%)}.xgplayer .xgplayer-prompt .highlight{display:inline-block;margin-left:6px;color:red;cursor:pointer}.xgplayer.xgplayer-is-error .xgplayer-prompt.show{display:none;opacity:1}.xgplayer .xgplayer-spot{position:absolute;top:0;left:0;height:100%;background:#fff;border-radius:12px}.xgplayer .xgplayer-spot.mini{min-width:6px;transform:translate(-50%)}.xgplayer .xgplayer-spot.active .xgplayer-spot-pop{display:block;opacity:1;pointer-events:initial}.xgplayer .xgplayer-spot-pop{display:block;opacity:0;pointer-events:none;position:absolute;left:50%;bottom:5px;padding-bottom:5px;transform:translate(-50%)}.xgplayer-mobile .xgplayer-spot{height:3px;min-width:3px;top:50%;opacity:1;transform:translateY(-50%)}.xgplayer-mobile .xgplayer-spot.mini{min-width:3px;transform:translate(-50%,-50%)}.xgplayer .xgplayer-progress.active .xgplayer-spot{opacity:1;transition:opacity .3s;visibility:visible}.xgplayer .xg-spot-info{position:absolute;left:0;bottom:100%;display:none}.xgplayer .xg-spot-info.short-line .xg-spot-line{height:6px}.xgplayer .xg-spot-info.short-line .xg-spot-content{bottom:-4px}.xgplayer .xg-spot-info.no-thumbnail .xg-spot-thumbnail{display:none}.xgplayer .xg-spot-info.no-thumbnail .xgplayer-progress-point{display:block}.xgplayer .xg-spot-info.no-timepoint .xgplayer-progress-point,.xgplayer .xg-spot-info.hide{display:none}.xgplayer .xgplayer-progress.active .xg-spot-info{display:block}.xgplayer .xgplayer-progress.active .xg-spot-info.hide{display:none}.xgplayer .xg-spot-line{position:relative;bottom:-7px;margin-left:50%;display:block;width:1px;height:41px;background-color:#fff;pointer-events:none}.xgplayer .xgplayer-progress-point{display:none;position:relative;bottom:-4px;left:50%;transform:translate(-50%);background:#0000008a;font-size:11px;color:#fff;padding:4px 6px;border-radius:4px;text-align:center;opacity:.85;white-space:nowrap}.xgplayer .xg-spot-content{position:relative;bottom:-7px;color:#fff;border-radius:2px 2px 0 0}.xgplayer .xg-spot-ext-text{position:relative;bottom:-7px}.xgplayer .xg-spot-thumbnail{position:relative;background-color:#111010;pointer-events:none;border-radius:2px 2px 0 0}.xgplayer .xg-spot-time{position:absolute;bottom:2px;font-size:12px;line-height:16.8px;left:50%;transform:translate(-50%);pointer-events:none}.xgplayer .progress-thumbnail{margin:0 auto;display:block}.xgplayer .xg-spot-text{display:none;padding:5px 8px;background:#000c;border-radius:0 0 2px 2px;pointer-events:none;box-sizing:border-box}.xgplayer .spot-inner-text{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:20px;font-size:12px;max-height:40px}.xgplayer .xg-spot-content.show-text .xg-spot-text{display:block}.xgplayer .product .xg-spot-text{background:#3370ff}.xgplayer .product .xg-spot-line{border-left:10px solid transparent;border-right:10px solid transparent;border-top:7px solid #3370FF;width:0;height:15px;left:-10px;background:none}.xgplayer .xgvideo-preview{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;visibility:hidden;transition:visibility .3s,opacity .3s;background-color:#000}.xgplayer .xgvideo-preview .xgvideo-thumbnail{position:relative;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:0}.xgplayer .xgvideo-preview.show{opacity:1;visibility:visible}.xgplayer-dynamic-bg,.xgplayer-dynamic-bg canvas,.xgplayer-dynamic-bg xgmask,.xgplayer-dynamic-bg xgfilter{display:block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}.xgplayer-dynamic-bg canvas{transform:translateZ(0)}.xgplayer-dynamic-bg xgmask{background:#000000b3}.test-xg{display:flex!important;justify-content:center;align-items:center;width:100vw;height:100vh;background:#000;overflow:hidden}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
